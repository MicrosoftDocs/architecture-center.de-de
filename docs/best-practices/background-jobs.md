---
title: "Anleitungen für Hintergrundaufträge"
description: "Anleitungen für Hintergrundaufgaben, die unabhängig von der Benutzeroberfläche ausgeführt werden."
author: dragon119
ms.date: 05/24/2017
pnp.series.title: Best Practices
ms.openlocfilehash: 62266b822a238ee53b62e74e91d753dc5da308b4
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/14/2017
---
# <a name="background-jobs"></a><span data-ttu-id="480e3-103">Hintergrundaufträge</span><span class="sxs-lookup"><span data-stu-id="480e3-103">Background jobs</span></span>
[!INCLUDE [header](../_includes/header.md)]

<span data-ttu-id="480e3-104">Viele Arten von Anwendungen erfordern Hintergrundaufgaben, die unabhängig von der Benutzeroberfläche (UI) ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-104">Many types of applications require background tasks that run independently of the user interface (UI).</span></span> <span data-ttu-id="480e3-105">Beispiele hierfür sind Batchaufträge, rechenintensive Aufgaben und langwierige Prozesse wie Workflows.</span><span class="sxs-lookup"><span data-stu-id="480e3-105">Examples include batch jobs, intensive processing tasks, and long-running processes such as workflows.</span></span> <span data-ttu-id="480e3-106">Hintergrundaufträge können ohne Benutzerinteraktion ausgeführt werden. Die Anwendung kann den Auftrag starten und dann mit der Verarbeitung interaktiver Benutzeranforderungen fortfahren.</span><span class="sxs-lookup"><span data-stu-id="480e3-106">Background jobs can be executed without requiring user interaction--the application can start the job and then continue to process interactive requests from users.</span></span> <span data-ttu-id="480e3-107">Damit kann die Arbeitsauslastung der Anwendungsbenutzeroberfläche minimiert werden, was zu einer höheren Verfügbarkeit und zu kürzeren interaktiven Antwortzeiten beitragen kann.</span><span class="sxs-lookup"><span data-stu-id="480e3-107">This can help to minimize the load on the application UI, which can improve availability and reduce interactive response times.</span></span>

<span data-ttu-id="480e3-108">Wenn eine Anwendung z. B. Miniaturansichten von Bildern, die von den Benutzern hochgeladen wurden, generieren muss, kann dies als Hintergrundauftrag ausgeführt werden. Die fertiggestellte Miniaturansicht kann dann im Speicher abgelegt werden, ohne dass der Benutzer auf den Abschluss des Prozesses warten muss.</span><span class="sxs-lookup"><span data-stu-id="480e3-108">For example, if an application is required to generate thumbnails of images that are uploaded by users, it can do this as a background job and save the thumbnail to storage when it is complete--without the user needing to wait for the process to be completed.</span></span> <span data-ttu-id="480e3-109">Auf die gleiche Weise kann ein Benutzer, der eine Bestellung aufgibt, einen Hintergrund-Workflow zur Verarbeitung der Bestellung initiieren, während die Benutzeroberfläche zulässt, dass der Benutzer die Web-App weiterhin durchsucht.</span><span class="sxs-lookup"><span data-stu-id="480e3-109">In the same way, a user placing an order can initiate a background workflow that processes the order, while the UI allows the user to continue browsing the web app.</span></span> <span data-ttu-id="480e3-110">Wenn der Hintergrundauftrag abgeschlossen ist, können die gespeicherten Bestelldaten aktualisiert werden, und eine E-Mail kann zur Bestätigung der Bestellung an den Benutzer gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-110">When the background job is complete, it can update the stored orders data and send an email to the user that confirms the order.</span></span>

<span data-ttu-id="480e3-111">Bei der Überlegung, ob eine Aufgabe als Hintergrundauftrag implementiert werden soll, ist das Hauptkriterium, ob die Aufgabe ohne Benutzerinteraktion ausgeführt werden kann und ohne dass die Benutzeroberfläche auf den Abschluss des Auftrags warten muss.</span><span class="sxs-lookup"><span data-stu-id="480e3-111">When you consider whether to implement a task as a background job, the main criteria is whether the task can run without user interaction and without the UI needing to wait for the job to be completed.</span></span> <span data-ttu-id="480e3-112">Aufgaben, bei denen der Benutzer oder die Benutzeroberfläche warten muss, bis sie abgeschlossen sind, eignen sich unter Umständen nicht als Hintergrundaufträge.</span><span class="sxs-lookup"><span data-stu-id="480e3-112">Tasks that require the user or the UI to wait while they are completed might not be appropriate as background jobs.</span></span>

## <a name="types-of-background-jobs"></a><span data-ttu-id="480e3-113">Typen von Hintergrundaufträgen</span><span class="sxs-lookup"><span data-stu-id="480e3-113">Types of background jobs</span></span>
<span data-ttu-id="480e3-114">Hintergrundaufträge besitzen in der Regel mindestens einen der folgenden Auftragstypen:</span><span class="sxs-lookup"><span data-stu-id="480e3-114">Background jobs typically include one or more of the following types of jobs:</span></span>

* <span data-ttu-id="480e3-115">CPU-intensive Aufträge, z. B. mathematische Berechnungen oder Strukturmodellanalysen.</span><span class="sxs-lookup"><span data-stu-id="480e3-115">CPU-intensive jobs, such as mathematical calculations or structural model analysis.</span></span>
* <span data-ttu-id="480e3-116">E/A-intensive Aufträge, z. B. die Ausführung einer Reihe von Speichertransaktionen oder die Indizierung von Dateien.</span><span class="sxs-lookup"><span data-stu-id="480e3-116">I/O-intensive jobs, such as executing a series of storage transactions or indexing files.</span></span>
* <span data-ttu-id="480e3-117">Batchaufträge, z. B. nächtliche Datenaktualisierungen oder eine geplante Verarbeitung.</span><span class="sxs-lookup"><span data-stu-id="480e3-117">Batch jobs, such as nightly data updates or scheduled processing.</span></span>
* <span data-ttu-id="480e3-118">Lang andauernde Workflows, z. B. Auftragserfüllung oder Bereitstellung von Diensten und Systemen.</span><span class="sxs-lookup"><span data-stu-id="480e3-118">Long-running workflows, such as order fulfillment, or provisioning services and systems.</span></span>
* <span data-ttu-id="480e3-119">Verarbeitung vertraulicher Daten, wobei die Aufgabe zur Verarbeitung an einen sichereren Ort übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-119">Sensitive-data processing where the task is handed off to a more secure location for processing.</span></span> <span data-ttu-id="480e3-120">Beispiel: Sie möchten vertrauliche Daten nicht in einer Web-App verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="480e3-120">For example, you might not want to process sensitive data within a web app.</span></span> <span data-ttu-id="480e3-121">Stattdessen könnten Sie ein Muster wie [Gatekeeper](http://msdn.microsoft.com/library/dn589793.aspx) verwenden, um die Daten an einen isolierten Hintergrundprozess zu übertragen, der auf geschützten Speicher zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="480e3-121">Instead, you might use a pattern such as [Gatekeeper](http://msdn.microsoft.com/library/dn589793.aspx) to transfer the data to an isolated background process that has access to protected storage.</span></span>

## <a name="triggers"></a><span data-ttu-id="480e3-122">Trigger</span><span class="sxs-lookup"><span data-stu-id="480e3-122">Triggers</span></span>
<span data-ttu-id="480e3-123">Hintergrundaufträge können auf verschiedene Weise initiiert werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-123">Background jobs can be initiated in several different ways.</span></span> <span data-ttu-id="480e3-124">Sie gehören zu einer der folgenden Kategorien:</span><span class="sxs-lookup"><span data-stu-id="480e3-124">They fall into one of the following categories:</span></span>

* <span data-ttu-id="480e3-125">[**Ereignisgesteuerte Trigger**](#event-driven-triggers).</span><span class="sxs-lookup"><span data-stu-id="480e3-125">[**Event-driven triggers**](#event-driven-triggers).</span></span> <span data-ttu-id="480e3-126">Die Aufgabe wird in Reaktion auf ein Ereignis, in der Regel eine Benutzeraktion oder ein Schritt in einem Workflow, gestartet.</span><span class="sxs-lookup"><span data-stu-id="480e3-126">The task is started in response to an event, typically an action taken by a user or a step in a workflow.</span></span>
* <span data-ttu-id="480e3-127">[**Zeitplangesteuerte Trigger**](#schedule-driven-triggers).</span><span class="sxs-lookup"><span data-stu-id="480e3-127">[**Schedule-driven triggers**](#schedule-driven-triggers).</span></span> <span data-ttu-id="480e3-128">Die Aufgabe wird nach einem Zeitplan basierend auf einem Timer aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="480e3-128">The task is invoked on a schedule based on a timer.</span></span> <span data-ttu-id="480e3-129">Es kann sich dabei um einen periodischen Zeitplan oder einen in der Zukunft geplanten einmaligen Aufruf handeln.</span><span class="sxs-lookup"><span data-stu-id="480e3-129">This might be a recurring schedule or a one-off invocation that is specified for a later time.</span></span>

### <a name="event-driven-triggers"></a><span data-ttu-id="480e3-130">Ereignisgesteuerte Trigger</span><span class="sxs-lookup"><span data-stu-id="480e3-130">Event-driven triggers</span></span>
<span data-ttu-id="480e3-131">Bei einem ereignisgesteuerten Aufruf wird die Hintergrundaufgabe über einen Trigger gestartet.</span><span class="sxs-lookup"><span data-stu-id="480e3-131">Event-driven invocation uses a trigger to start the background task.</span></span> <span data-ttu-id="480e3-132">Beispiele für die Verwendung ereignisgesteuerter Trigger:</span><span class="sxs-lookup"><span data-stu-id="480e3-132">Examples of using event-driven triggers include:</span></span>

* <span data-ttu-id="480e3-133">Die Benutzeroberfläche oder ein anderer Auftrag fügt eine Nachricht in eine Warteschlange ein.</span><span class="sxs-lookup"><span data-stu-id="480e3-133">The UI or another job places a message in a queue.</span></span> <span data-ttu-id="480e3-134">Die Nachricht enthält Daten über eine Aktion, die ausgeführt wurde, wie z. B. die Bestellung des Benutzers.</span><span class="sxs-lookup"><span data-stu-id="480e3-134">The message contains data about an action that has taken place, such as the user placing an order.</span></span> <span data-ttu-id="480e3-135">Die Hintergrundaufgabe überwacht diese Warteschlange und erkennt den Eingang einer neuen Nachricht.</span><span class="sxs-lookup"><span data-stu-id="480e3-135">The background task listens on this queue and detects the arrival of a new message.</span></span> <span data-ttu-id="480e3-136">Sie liest die Nachricht und verwendet die darin enthaltenen Daten als Eingabe für den Hintergrundauftrag.</span><span class="sxs-lookup"><span data-stu-id="480e3-136">It reads the message and uses the data in it as the input to the background job.</span></span>
* <span data-ttu-id="480e3-137">Die Benutzeroberfläche oder ein anderer Auftrag speichert oder aktualisiert einen Wert im Speicher.</span><span class="sxs-lookup"><span data-stu-id="480e3-137">The UI or another job saves or updates a value in storage.</span></span> <span data-ttu-id="480e3-138">Die Hintergrundaufgabe überwacht den Speicher und erkennt Änderungen.</span><span class="sxs-lookup"><span data-stu-id="480e3-138">The background task monitors the storage and detects changes.</span></span> <span data-ttu-id="480e3-139">Sie liest die Daten und verwendet sie als Eingabe für den Hintergrundauftrag.</span><span class="sxs-lookup"><span data-stu-id="480e3-139">It reads the data and uses it as the input to the background job.</span></span>
* <span data-ttu-id="480e3-140">Die Benutzeroberfläche oder ein anderer Auftrag sendet eine Anforderung an einen Endpunkt, z. B. einen HTTPS-URI oder eine API, die als Webdienst verfügbar gemacht wurde.</span><span class="sxs-lookup"><span data-stu-id="480e3-140">The UI or another job makes a request to an endpoint, such as an HTTPS URI, or an API that is exposed as a web service.</span></span> <span data-ttu-id="480e3-141">Anschließend werden die Daten, die zum Abschließen der Hintergrundaufgabe erforderlich sind, als Teil der Anforderung übergeben.</span><span class="sxs-lookup"><span data-stu-id="480e3-141">It passes the data that is required to complete the background task as part of the request.</span></span> <span data-ttu-id="480e3-142">Der Endpunkt oder Webdienst ruft die Hintergrundaufgabe auf, die die Daten als Eingabe verwendet.</span><span class="sxs-lookup"><span data-stu-id="480e3-142">The endpoint or web service invokes the background task, which uses the data as its input.</span></span>

<span data-ttu-id="480e3-143">Typische Beispiele für Aufgaben, die sich für einen ereignisgesteuerte Aufruf eignen, sind unter anderem Bildverarbeitung, Workflows, Senden von Informationen an Remotedienste, Senden von E-Mails, Bereitstellen neuer Benutzer in mehrinstanzenfähigen Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="480e3-143">Typical examples of tasks that are suited to event-driven invocation include image processing, workflows, sending information to remote services, sending email messages, and provisioning new users in multitenant applications.</span></span>

### <a name="schedule-driven-triggers"></a><span data-ttu-id="480e3-144">Zeitplangesteuerte Trigger</span><span class="sxs-lookup"><span data-stu-id="480e3-144">Schedule-driven triggers</span></span>
<span data-ttu-id="480e3-145">Bei einem zeitplangesteuerten Aufruf wird die Hintergrundaufgabe über einen Timer gestartet.</span><span class="sxs-lookup"><span data-stu-id="480e3-145">Schedule-driven invocation uses a timer to start the background task.</span></span> <span data-ttu-id="480e3-146">Beispiele für die Verwendung zeitplangesteuerter Trigger:</span><span class="sxs-lookup"><span data-stu-id="480e3-146">Examples of using schedule-driven triggers include:</span></span>

* <span data-ttu-id="480e3-147">Ein Timer, der in der Anwendung oder als Teil des Betriebssystems der Anwendung lokal ausgeführt wird, ruft in regelmäßigen Abständen eine Hintergrundaufgabe auf.</span><span class="sxs-lookup"><span data-stu-id="480e3-147">A timer that is running locally within the application or as part of the application’s operating system invokes a background task on a regular basis.</span></span>
* <span data-ttu-id="480e3-148">Ein Timer, der in einer anderen Anwendung ausgeführt wird, oder ein Timerdienst wie Azure Scheduler sendet in regelmäßigen Abständen eine Anforderung an eine API oder einen Webdienst.</span><span class="sxs-lookup"><span data-stu-id="480e3-148">A timer that is running in a different application, or a timer service such as Azure Scheduler, sends a request to an API or web service on a regular basis.</span></span> <span data-ttu-id="480e3-149">Die API oder der Webdienst ruft die Hintergrundaufgabe auf.</span><span class="sxs-lookup"><span data-stu-id="480e3-149">The API or web service invokes the background task.</span></span>
* <span data-ttu-id="480e3-150">Ein separater Prozess oder eine Anwendung startet einen Timer, der bewirkt, dass die Hintergrundaufgabe erst nach einer angegebenen Zeitverzögerung oder zu einem bestimmten Zeitpunkt aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-150">A separate process or application starts a timer that causes the background task to be invoked once after a specified time delay, or at a specific time.</span></span>

<span data-ttu-id="480e3-151">Typische Beispiele für Aufgaben, die sich für einen zeitplangesteuerten Aufruf eignen, sind unter anderem Batchverarbeitungsroutinen (z. B. das Aktualisieren von Listen relevanter Produkte für Benutzer basierend auf dem aktuellen Verhalten der Benutzer), routinemäßige Datenverarbeitungsaufgaben (wie das Aktualisieren von Indizes oder das Generieren kumulierter Ergebnisse), Datenanalysen für tägliche Berichte, Bereinigung der Datenaufbewahrung und Datenkonsistenzprüfungen.</span><span class="sxs-lookup"><span data-stu-id="480e3-151">Typical examples of tasks that are suited to schedule-driven invocation include batch-processing routines (such as updating related-products lists for users based on their recent behavior), routine data processing tasks (such as updating indexes or generating accumulated results), data analysis for daily reports, data retention cleanup, and data consistency checks.</span></span>

<span data-ttu-id="480e3-152">Bei Verwendung einer zeitplangesteuerten Aufgabe, die als einzelne Instanz ausgeführt werden muss, müssen Sie Folgendes beachten:</span><span class="sxs-lookup"><span data-stu-id="480e3-152">If you use a schedule-driven task that must run as a single instance, be aware of the following:</span></span>

* <span data-ttu-id="480e3-153">Wenn die Compute-Instanz, welche die Aufgabenplanung ausführt (z. B. virtuelle Computer mit Windows-Aufgabenplanung), skaliert wird, werden mehrere Instanzen der Aufgabenplanung ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="480e3-153">If the compute instance that is running the scheduler (such as a virtual machine using Windows scheduled tasks) is scaled, you will have multiple instances of the scheduler running.</span></span> <span data-ttu-id="480e3-154">Diese können mehrere Instanzen der Aufgabe starten.</span><span class="sxs-lookup"><span data-stu-id="480e3-154">These could start multiple instances of the task.</span></span>
* <span data-ttu-id="480e3-155">Falls die Ausführungszeit der Aufgaben länger als der Zeitraum zwischen geplanten Ereignissen ist, kann die Aufgabenplanung eine weitere Instanz der Aufgabe starten, während die vorherige Aufgabe noch ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-155">If tasks run for longer than the period between scheduler events, the scheduler may start another instance of the task while the previous one is still running.</span></span>

## <a name="returning-results"></a><span data-ttu-id="480e3-156">Rückgabe von Ergebnissen</span><span class="sxs-lookup"><span data-stu-id="480e3-156">Returning results</span></span>
<span data-ttu-id="480e3-157">Hintergrundaufträge werden asynchron in einem separaten Prozess oder sogar an einem anderen Ort als die Benutzeroberfläche oder der Prozess ausgeführt, die bzw. der die Hintergrundaufgabe aufgerufen hat.</span><span class="sxs-lookup"><span data-stu-id="480e3-157">Background jobs execute asynchronously in a separate process, or even in a separate location, from the UI or the process that invoked the background task.</span></span> <span data-ttu-id="480e3-158">Im Idealfall sind Hintergrundaufgaben Vorgänge, deren Ausführungsstatus keine Auswirkungen auf die Benutzeroberfläche oder den aufrufenden Prozess hat.</span><span class="sxs-lookup"><span data-stu-id="480e3-158">Ideally, background tasks are “fire and forget” operations, and their execution progress has no impact on the UI or the calling process.</span></span> <span data-ttu-id="480e3-159">Dies bedeutet, dass der aufrufende Prozess nicht auf den Abschluss der Aufgaben wartet.</span><span class="sxs-lookup"><span data-stu-id="480e3-159">This means that the calling process does not wait for completion of the tasks.</span></span> <span data-ttu-id="480e3-160">Daher kann er nicht automatisch erkennen, ob die Aufgabe beendet ist.</span><span class="sxs-lookup"><span data-stu-id="480e3-160">Therefore, it cannot automatically detect when the task ends.</span></span>

<span data-ttu-id="480e3-161">Wenn eine Hintergrundaufgabe mit der aufrufenden Aufgabe kommunizieren soll, um ihre Verarbeitung oder ihren Abschluss anzuzeigen, müssen Sie einen entsprechenden Mechanismus implementieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-161">If you require a background task to communicate with the calling task to indicate progress or completion, you must implement a mechanism for this.</span></span> <span data-ttu-id="480e3-162">Hier einige Beispiele:</span><span class="sxs-lookup"><span data-stu-id="480e3-162">Some examples are:</span></span>

* <span data-ttu-id="480e3-163">Schreiben Sie einen Statusindikatorwert in den Speicher, der für die Benutzeroberfläche oder die aufrufende Aufgabe zugänglich ist, um diesen Wert bei Bedarf überwachen oder überprüfen zu können.</span><span class="sxs-lookup"><span data-stu-id="480e3-163">Write a status indicator value to storage that is accessible to the UI or caller task, which can monitor or check this value when required.</span></span> <span data-ttu-id="480e3-164">Andere Daten, die die Hintergrundaufgabe an den Aufrufer zurückgeben muss, können in den gleichen Speicher eingefügt werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-164">Other data that the background task must return to the caller can be placed into the same storage.</span></span>
* <span data-ttu-id="480e3-165">Richten Sie eine Antwortwarteschlange ein, die von der Benutzeroberfläche oder dem Aufrufer überwacht werden kann.</span><span class="sxs-lookup"><span data-stu-id="480e3-165">Establish a reply queue that the UI or caller listens on.</span></span> <span data-ttu-id="480e3-166">Die Hintergrundaufgabe kann Nachrichten an die Warteschlange senden, die den Status und den Abschluss angeben.</span><span class="sxs-lookup"><span data-stu-id="480e3-166">The background task can send messages to the queue that indicate status and completion.</span></span> <span data-ttu-id="480e3-167">Daten, die die Hintergrundaufgabe an den Aufrufer zurückgeben muss, können in die Nachrichten eingefügt werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-167">Data that the background task must return to the caller can be placed into the messages.</span></span> <span data-ttu-id="480e3-168">Wenn Sie Azure Service Bus verwenden, können Sie die Eigenschaften **ReplyTo** und **CorrelationId** zur Implementierung dieser Funktion verwenden.</span><span class="sxs-lookup"><span data-stu-id="480e3-168">If you are using Azure Service Bus, you can use the **ReplyTo** and **CorrelationId** properties to implement this capability.</span></span> <span data-ttu-id="480e3-169">Weitere Informationen finden Sie unter [Korrelation in Service Bus-Brokermessaging](http://www.cloudcasts.net/devguide/Default.aspx?id=13029).</span><span class="sxs-lookup"><span data-stu-id="480e3-169">For more information, see [Correlation in Service Bus Brokered Messaging](http://www.cloudcasts.net/devguide/Default.aspx?id=13029).</span></span>
* <span data-ttu-id="480e3-170">Verfügbar machen Sie eine API oder einen Endpunkt der Hintergrundaufgabe verfügbar, auf die bzw. den die Benutzeroberfläche oder der Aufrufer zugreifen kann, um Statusinformationen abzurufen.</span><span class="sxs-lookup"><span data-stu-id="480e3-170">Expose an API or endpoint from the background task that the UI or caller can access to obtain status information.</span></span> <span data-ttu-id="480e3-171">Daten, die die Hintergrundaufgabe an den Aufrufer zurückgeben muss, können in die Antwort eingefügt werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-171">Data that the background task must return to the caller can be included in the response.</span></span>
* <span data-ttu-id="480e3-172">Lassen Sie die Hintergrundaufgabe über eine API die Benutzeroberfläche oder den Aufrufer zurückrufen, um an vordefinierten Punkten oder beim Abschluss den Status anzugeben.</span><span class="sxs-lookup"><span data-stu-id="480e3-172">Have the background task call back to the UI or caller through an API to indicate status at predefined points or on completion.</span></span> <span data-ttu-id="480e3-173">Dies kann durch lokal ausgelöste Ereignisse oder über einen Veröffentlichen-und-Abonnieren-Mechanismus geschehen.</span><span class="sxs-lookup"><span data-stu-id="480e3-173">This might be through events raised locally or through a publish-and-subscribe mechanism.</span></span> <span data-ttu-id="480e3-174">Die Daten, die die Hintergrundaufgabe an den Aufrufer zurückgeben muss, können in der Anforderungs- oder Ereignisnutzlast enthalten sein.</span><span class="sxs-lookup"><span data-stu-id="480e3-174">Data that the background task must return to the caller can be included in the request or event payload.</span></span>

## <a name="hosting-environment"></a><span data-ttu-id="480e3-175">Hosting-Umgebung</span><span class="sxs-lookup"><span data-stu-id="480e3-175">Hosting environment</span></span>
<span data-ttu-id="480e3-176">Hintergrundaufgaben können mithilfe einer Reihe von verschiedenen Azure Platform-Diensten gehostet werden:</span><span class="sxs-lookup"><span data-stu-id="480e3-176">You can host background tasks by using a range of different Azure platform services:</span></span>

* <span data-ttu-id="480e3-177">[**Azure-Web-Apps und WebJobs**](#azure-web-apps-and-webjobs).</span><span class="sxs-lookup"><span data-stu-id="480e3-177">[**Azure Web Apps and WebJobs**](#azure-web-apps-and-webjobs).</span></span> <span data-ttu-id="480e3-178">Mit WebJobs können benutzerdefinierte Aufträge basierend auf einer Reihe verschiedener Typen von Skripts oder ausführbaren Programmen im Kontext einer Web-App ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-178">You can use WebJobs to execute custom jobs based on a range of different types of scripts or executable programs within the context of a web app.</span></span>
* <span data-ttu-id="480e3-179">[**Azure Virtual Machines**](#azure-virtual-machines).</span><span class="sxs-lookup"><span data-stu-id="480e3-179">[**Azure Virtual Machines**](#azure-virtual-machines).</span></span> <span data-ttu-id="480e3-180">Wenn Sie einen Windows-Dienst haben oder die Windows-Aufgabenplanung verwenden möchten, ist es üblich, die Hintergrundaufgaben auf einem dedizierten virtuellen Computer zu hosten.</span><span class="sxs-lookup"><span data-stu-id="480e3-180">If you have a Windows service or want to use the Windows Task Scheduler, it is common to host your background tasks within a dedicated virtual machine.</span></span>
* <span data-ttu-id="480e3-181">[**Azure Batch**](#azure-batch).</span><span class="sxs-lookup"><span data-stu-id="480e3-181">[**Azure Batch**](#azure-batch).</span></span> <span data-ttu-id="480e3-182">Batch ist ein Plattformdienst, mit dem rechenintensive Arbeitsschritte auf einer verwalteten Sammlung virtueller Computer ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-182">Batch is a platform service that schedules compute-intensive work to run on a managed collection of virtual machines.</span></span> <span data-ttu-id="480e3-183">Sie ermöglicht das automatische Skalieren von Computeressourcen.</span><span class="sxs-lookup"><span data-stu-id="480e3-183">It can automatically scale compute resources.</span></span>
* <span data-ttu-id="480e3-184">[**Azure Container Service**](#azure-container-service).</span><span class="sxs-lookup"><span data-stu-id="480e3-184">[**Azure Container Service**](#azure-container-service).</span></span> <span data-ttu-id="480e3-185">Bei Azure Container Service wird in Azure eine Umgebung zum Hosten von Containern bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="480e3-185">Azure Container Service provides a container hosting environment on Azure.</span></span> 
* <span data-ttu-id="480e3-186">[**Azure Cloud Services**](#azure-cloud-services).</span><span class="sxs-lookup"><span data-stu-id="480e3-186">[**Azure Cloud Services**](#azure-cloud-services).</span></span> <span data-ttu-id="480e3-187">Sie können Code in einer Rolle schreiben, der als Hintergrundaufgabe ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-187">You can write code within a role that executes as a background task.</span></span>

<span data-ttu-id="480e3-188">In den folgenden Abschnitten werden diese einzelnen Optionen und zu berücksichtigende Aspekte ausführlich beschrieben, um Ihnen die Auswahl der geeigneten Option zu erleichtern.</span><span class="sxs-lookup"><span data-stu-id="480e3-188">The following sections describe each of these options in more detail, and include considerations to help you choose the appropriate option.</span></span>

### <a name="azure-web-apps-and-webjobs"></a><span data-ttu-id="480e3-189">Azure-Web-Apps und WebJobs</span><span class="sxs-lookup"><span data-stu-id="480e3-189">Azure Web Apps and WebJobs</span></span>

<span data-ttu-id="480e3-190">Mit Azure WebJobs können benutzerdefinierte Aufträge als Hintergrundaufgaben in einer Azure-Web-App ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-190">You can use Azure WebJobs to execute custom jobs as background tasks within an Azure Web App.</span></span> <span data-ttu-id="480e3-191">WebJobs werden im Kontext der Web-App als fortlaufender Prozess ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="480e3-191">WebJobs run within the context of your web app as a continuous process.</span></span> <span data-ttu-id="480e3-192">WebJobs können auch in Reaktion auf ein Triggerereignis von Azure Scheduler oder in Reaktion auf externe Faktoren ausgeführt werden, wie z. B. Änderungen an Speicherblobs und Nachrichtenwarteschlangen.</span><span class="sxs-lookup"><span data-stu-id="480e3-192">WebJobs also run in response to a trigger event from Azure Scheduler or external factors, such as changes to storage blobs and message queues.</span></span> <span data-ttu-id="480e3-193">Aufträge können bei Bedarf gestartet und angehalten und ordnungsgemäß heruntergefahren werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-193">Jobs can be started and stopped on demand, and shut down gracefully.</span></span> <span data-ttu-id="480e3-194">Wenn in einem fortlaufend ausgeführten WebJob ein Fehler auftritt, wird er automatisch neu gestartet.</span><span class="sxs-lookup"><span data-stu-id="480e3-194">If a continuously running WebJob fails, it is automatically restarted.</span></span> <span data-ttu-id="480e3-195">Wiederholungs- und Fehleraktionen sind konfigurierbar.</span><span class="sxs-lookup"><span data-stu-id="480e3-195">Retry and error actions are configurable.</span></span>

<span data-ttu-id="480e3-196">Wenn Sie einen WebJob konfigurieren:</span><span class="sxs-lookup"><span data-stu-id="480e3-196">When you configure a WebJob:</span></span>

* <span data-ttu-id="480e3-197">Wenn der Auftrag auf einen ereignisgesteuerten Trigger reagieren soll, sollten Sie ihn mit der Option **Dauerhaft ausführen**konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-197">If you want the job to respond to an event-driven trigger, you should configure it as **Run continuously**.</span></span> <span data-ttu-id="480e3-198">Das Skript oder Programm wird im Ordner "site/wwwroot/app_data/jobs/continuous" gespeichert.</span><span class="sxs-lookup"><span data-stu-id="480e3-198">The script or program is stored in the folder named site/wwwroot/app_data/jobs/continuous.</span></span>
* <span data-ttu-id="480e3-199">Wenn der Auftrag auf einen zeitplangesteuerten Trigger reagieren soll, sollten Sie ihn mit der Option **Gemäß einem Zeitplan ausführen**konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-199">If you want the job to respond to a schedule-driven trigger, you should configure it as **Run on a schedule**.</span></span> <span data-ttu-id="480e3-200">Das Skript oder Programm wird im Ordner "site/wwwroot/app_data/jobs/triggered" gespeichert.</span><span class="sxs-lookup"><span data-stu-id="480e3-200">The script or program is stored in the folder named site/wwwroot/app_data/jobs/triggered.</span></span>
* <span data-ttu-id="480e3-201">Wenn Sie zum Konfigurieren eines Auftrags die Option **Bedarfsgesteuert ausführen** wählen, wird beim Start des Auftrags der gleichen Code wie bei der Option **Gemäß einem Zeitplan ausführen** ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="480e3-201">If you choose the **Run on demand** option when you configure a job, it will execute the same code as the **Run on a schedule** option when you start it.</span></span>

<span data-ttu-id="480e3-202">Azure WebJobs werden in der Sandbox der Web-App ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="480e3-202">Azure WebJobs run within the sandbox of the web app.</span></span> <span data-ttu-id="480e3-203">Sie können also auf Umgebungsvariablen zugreifen und Informationen wie Verbindungszeichenfolgen mit der Web-App gemeinsam nutzen.</span><span class="sxs-lookup"><span data-stu-id="480e3-203">This means that they can access environment variables and share information, such as connection strings, with the web app.</span></span> <span data-ttu-id="480e3-204">Der Auftrag hat Zugriff auf den eindeutigen Bezeichner des Computers, auf dem der Auftrag ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-204">The job has access to the unique identifier of the machine that is running the job.</span></span> <span data-ttu-id="480e3-205">Die Verbindungszeichenfolge mit dem Namen **AzureWebJobsStorage** ermöglicht den Zugriff auf Azure-Speicherwarteschlangen, -Blobs und -Tabellen für Anwendungsdaten sowie auf Service Bus für Messaging und Kommunikation.</span><span class="sxs-lookup"><span data-stu-id="480e3-205">The connection string named **AzureWebJobsStorage** provides access to Azure storage queues, blobs, and tables for application data, and access to Service Bus for messaging and communication.</span></span> <span data-ttu-id="480e3-206">Die Verbindungszeichenfolge mit dem Namen **AzureWebJobsDashboard** ermöglicht den Zugriff auf die Protokolldateien zu den Auftragsaktionen.</span><span class="sxs-lookup"><span data-stu-id="480e3-206">The connection string named **AzureWebJobsDashboard** provides access to the job action log files.</span></span>

<span data-ttu-id="480e3-207">Azure WebJobs weisen folgende Merkmale auf:</span><span class="sxs-lookup"><span data-stu-id="480e3-207">Azure WebJobs have the following characteristics:</span></span>

* <span data-ttu-id="480e3-208">**Sicherheit**: WebJobs werden durch die Anmeldeinformationen für die Bereitstellung der Web-App geschützt.</span><span class="sxs-lookup"><span data-stu-id="480e3-208">**Security**: WebJobs are protected by the deployment credentials of the web app.</span></span>
* <span data-ttu-id="480e3-209">**Unterstützte Dateitypen**: Sie können WebJobs als Befehlsskripts (CMD), Batchdateien (BAT), PowerShell-Skripts (PS1), Bash-Shellskripts (SH), PHP-Skripts (PHP), Python-Skripts (PY), JavaScript-Code (JS) und ausführbare Programme (EXE, JAR usw.) definieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-209">**Supported file types**: You can define WebJobs by using command scripts (.cmd), batch files (.bat), PowerShell scripts (.ps1), bash shell scripts (.sh), PHP scripts (.php), Python scripts (.py), JavaScript code (.js), and executable programs (.exe, .jar, and more).</span></span>
* <span data-ttu-id="480e3-210">**Bereitstellung**: Sie können Skripts und ausführbare Dateien bereitstellen, indem Sie das [Azure-Portal](/azure/app-service-web/web-sites-create-web-jobs), [Visual Studio](/azure/app-service-web/websites-dotnet-deploy-webjobs) oder das [Azure WebJobs SDK](/azure/azure-webjobs-sdk) verwenden oder indem Sie diese direkt an die folgenden Speicherorte kopieren:</span><span class="sxs-lookup"><span data-stu-id="480e3-210">**Deployment**: You can deploy scripts and executables by using the [Azure portal](/azure/app-service-web/web-sites-create-web-jobs), by using [Visual Studio](/azure/app-service-web/websites-dotnet-deploy-webjobs), by using the [Azure WebJobs SDK](/azure/azure-webjobs-sdk), or by copying them directly to the following locations:</span></span>
  * <span data-ttu-id="480e3-211">Für die durch Trigger initiierte Ausführung: site/wwwroot/app_data/jobs/triggered/{Auftragsname}</span><span class="sxs-lookup"><span data-stu-id="480e3-211">For triggered execution: site/wwwroot/app_data/jobs/triggered/{job name}</span></span>
  * <span data-ttu-id="480e3-212">Für die fortwährende Ausführung: site/wwwroot/app_data/jobs/continuous/{Auftragsname}</span><span class="sxs-lookup"><span data-stu-id="480e3-212">For continuous execution: site/wwwroot/app_data/jobs/continuous/{job name}</span></span>
* <span data-ttu-id="480e3-213">**Protokollierung**: Console.Out wird als INFO behandelt (markiert).</span><span class="sxs-lookup"><span data-stu-id="480e3-213">**Logging**: Console.Out is treated (marked) as INFO.</span></span> <span data-ttu-id="480e3-214">Console.Error wird als ERROR behandelt.</span><span class="sxs-lookup"><span data-stu-id="480e3-214">Console.Error is treated as ERROR.</span></span> <span data-ttu-id="480e3-215">Sie können mit dem Azure-Portal auf Informationen zur Überwachung und Diagnose zugreifen.</span><span class="sxs-lookup"><span data-stu-id="480e3-215">You can access monitoring and diagnostics information by using the Azure portal.</span></span> <span data-ttu-id="480e3-216">Sie können Protokolldateien direkt von der Website herunterladen.</span><span class="sxs-lookup"><span data-stu-id="480e3-216">You can download log files directly from the site.</span></span> <span data-ttu-id="480e3-217">Sie werden an den folgenden Speicherorten gespeichert:</span><span class="sxs-lookup"><span data-stu-id="480e3-217">They are saved in the following locations:</span></span>
  * <span data-ttu-id="480e3-218">Für die ausgelöste Ausführung: Vfs/data/jobs/triggered/jobName</span><span class="sxs-lookup"><span data-stu-id="480e3-218">For triggered execution: Vfs/data/jobs/triggered/jobName</span></span>
  * <span data-ttu-id="480e3-219">Für die fortwährende Ausführung: Vfs/data/jobs/continuous/jobName</span><span class="sxs-lookup"><span data-stu-id="480e3-219">For continuous execution: Vfs/data/jobs/continuous/jobName</span></span>
* <span data-ttu-id="480e3-220">**Konfiguration**: Sie können WebJobs mit dem Portal, der REST-API und PowerShell konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-220">**Configuration**: You can configure WebJobs by using the portal, the REST API, and PowerShell.</span></span> <span data-ttu-id="480e3-221">Sie können Konfigurationsinformationen für einen Auftrag in einer Konfigurationsdatei namens „settings.job“, die sich im gleichen Stammverzeichnis wie das Auftragsskript befinden muss, bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="480e3-221">You can use a configuration file named settings.job in the same root directory as the job script to provide configuration information for a job.</span></span> <span data-ttu-id="480e3-222">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="480e3-222">For example:</span></span>
  * <span data-ttu-id="480e3-223">{ "stopping_wait_time": 60 }</span><span class="sxs-lookup"><span data-stu-id="480e3-223">{ "stopping_wait_time": 60 }</span></span>
  * <span data-ttu-id="480e3-224">{ "is_singleton": true }</span><span class="sxs-lookup"><span data-stu-id="480e3-224">{ "is_singleton": true }</span></span>

#### <a name="considerations"></a><span data-ttu-id="480e3-225">Überlegungen</span><span class="sxs-lookup"><span data-stu-id="480e3-225">Considerations</span></span>

* <span data-ttu-id="480e3-226">Standardmäßig werden WebJobs mit der Web-App skaliert.</span><span class="sxs-lookup"><span data-stu-id="480e3-226">By default, WebJobs scale with the web app.</span></span> <span data-ttu-id="480e3-227">Allerdings können Sie Aufträge für die Ausführung in einer einzelnen Instanz konfigurieren, indem Sie die Konfigurationseigenschaft **is_singleton** auf **true** festlegen.</span><span class="sxs-lookup"><span data-stu-id="480e3-227">However, you can configure jobs to run on single instance by setting the **is_singleton** configuration property to **true**.</span></span> <span data-ttu-id="480e3-228">Einzelinstanz-WebJobs sind für Aufgaben sinnvoll, die nicht skaliert oder gleichzeitig in mehreren Instanzen ausgeführt werden sollen, z. B. eine erneute Indizierung, Datenanalyse oder ähnliche Aufgaben.</span><span class="sxs-lookup"><span data-stu-id="480e3-228">Single instance WebJobs are useful for tasks that you do not want to scale or run as simultaneous multiple instances, such as reindexing, data analysis, and similar tasks.</span></span>
* <span data-ttu-id="480e3-229">Damit die Leistung der Web-App durch die Aufträge möglichst minimal beeinträchtigt wird, sollten Sie in Betracht ziehen, eine leere Azure-Web-App-Instanz in einem neuen App Service-Plan zum Hosten von WebJobs zu erstellen, die langwierig oder ressourcenintensiv sind.</span><span class="sxs-lookup"><span data-stu-id="480e3-229">To minimize the impact of jobs on the performance of the web app, consider creating an empty Azure Web App instance in a new App Service plan to host WebJobs that may be long running or resource intensive.</span></span>

### <a name="more-information"></a><span data-ttu-id="480e3-230">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="480e3-230">More information</span></span>
* <span data-ttu-id="480e3-231">[Dokumentationsressourcen zu Azure WebJobs](/azure/app-service-web/websites-webjobs-resources) enthält viele nützliche Ressourcen, Downloads und Beispiele für WebJobs.</span><span class="sxs-lookup"><span data-stu-id="480e3-231">[Azure WebJobs recommended resources](/azure/app-service-web/websites-webjobs-resources) lists the many useful resources, downloads, and samples for WebJobs.</span></span>

### <a name="azure-virtual-machines"></a><span data-ttu-id="480e3-232">Azure Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="480e3-232">Azure Virtual Machines</span></span>
<span data-ttu-id="480e3-233">Hintergrundaufgaben können so implementiert werden, dass sie nicht in Azure-Web-Apps oder Cloud Services bereitgestellt werden können oder sich dazu nicht eignen.</span><span class="sxs-lookup"><span data-stu-id="480e3-233">Background tasks might be implemented in a way that prevents them from being deployed to Azure Web Apps or Cloud Services, or these options might not be convenient.</span></span> <span data-ttu-id="480e3-234">Typische Beispiele sind Windows-Dienste sowie Hilfsprogramme und ausführbare Programme von Drittanbietern.</span><span class="sxs-lookup"><span data-stu-id="480e3-234">Typical examples are Windows services, and third-party utilities and executable programs.</span></span> <span data-ttu-id="480e3-235">Ein weiteres Beispiel sind Programme, die für eine Ausführungsumgebung geschrieben wurden, die sich von der Umgebung unterscheidet, in der die Anwendung gehostet wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-235">Another example might be programs written for an execution environment that is different than that hosting the application.</span></span> <span data-ttu-id="480e3-236">Beispielsweise kann dies ein UNIX- oder Linux-Programm sein, das von einer Windows- oder .NET-Anwendung ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="480e3-236">For example, it might be a Unix or Linux program that you want to execute from a Windows or .NET application.</span></span> <span data-ttu-id="480e3-237">Sie können eines von verschiedenen Betriebssystemen für einen virtuellen Azure-Computer auswählen und den Dienst oder die ausführbare Datei dann auf diesem virtuellen Computer ausführen.</span><span class="sxs-lookup"><span data-stu-id="480e3-237">You can choose from a range of operating systems for an Azure virtual machine, and run your service or executable on that virtual machine.</span></span>

<span data-ttu-id="480e3-238">Informationen dazu, wann sich die Verwendung von Virtual Machines anbietet, finden Sie unter [Azure App Service, Cloud Services und Virtual Machines im Vergleich](/azure/app-service-web/choose-web-site-cloud-service-vm/).</span><span class="sxs-lookup"><span data-stu-id="480e3-238">To help you choose when to use Virtual Machines, see [Azure App Services, Cloud Services and Virtual Machines comparison](/azure/app-service-web/choose-web-site-cloud-service-vm/).</span></span> <span data-ttu-id="480e3-239">Weitere Informationen zu den Optionen für virtuelle Computer finden Sie unter [Größen für virtuelle Computer und Clouddienste für Azure](http://msdn.microsoft.com/library/azure/dn197896.aspx).</span><span class="sxs-lookup"><span data-stu-id="480e3-239">For information about the options for Virtual Machines, see [Virtual Machine and Cloud Service sizes for Azure](http://msdn.microsoft.com/library/azure/dn197896.aspx).</span></span> <span data-ttu-id="480e3-240">Weitere Informationen zu den verfügbaren Betriebssystemen und vorgefertigten Images für virtuelle Computer finden Sie im [Marketplace für virtuelle Azure-Computer](https://azure.microsoft.com/gallery/virtual-machines/).</span><span class="sxs-lookup"><span data-stu-id="480e3-240">For more information about the operating systems and prebuilt images that are available for Virtual Machines, see [Azure Virtual Machines Marketplace](https://azure.microsoft.com/gallery/virtual-machines/).</span></span>

<span data-ttu-id="480e3-241">Zum Initiieren der Hintergrundaufgabe in einem separaten virtuellen Computer stehen verschiedene Optionen zur Auswahl:</span><span class="sxs-lookup"><span data-stu-id="480e3-241">To initiate the background task in a separate virtual machine, you have a range of options:</span></span>

* <span data-ttu-id="480e3-242">Sie können die Aufgabe bei Bedarf direkt über Ihre Anwendung ausführen, indem Sie eine Anforderung an einen Endpunkt senden, den die Aufgabe verfügbar macht.</span><span class="sxs-lookup"><span data-stu-id="480e3-242">You can execute the task on demand directly from your application by sending a request to an endpoint that the task exposes.</span></span> <span data-ttu-id="480e3-243">Dadurch werden alle für die Aufgabe erforderlichen Daten übergeben.</span><span class="sxs-lookup"><span data-stu-id="480e3-243">This passes in any data that the task requires.</span></span> <span data-ttu-id="480e3-244">Der Endpunkt ruft die Aufgabe auf.</span><span class="sxs-lookup"><span data-stu-id="480e3-244">This endpoint invokes the task.</span></span>
* <span data-ttu-id="480e3-245">Sie können die Aufgabe unter Verwendung eines im ausgewählten Betriebssystem verfügbaren Planungsmoduls oder Timers so konfigurieren, dass sie nach einem Zeitplan ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-245">You can configure the task to run on a schedule by using a scheduler or timer that is available in your chosen operating system.</span></span> <span data-ttu-id="480e3-246">Unter Windows können Sie beispielsweise die Windows-Aufgabenplanung zum Ausführen von Skripts und Aufgaben verwenden.</span><span class="sxs-lookup"><span data-stu-id="480e3-246">For example, on Windows you can use Windows Task Scheduler to execute scripts and tasks.</span></span> <span data-ttu-id="480e3-247">Wenn Sie SQL Server auf dem virtuellen Computer installiert haben, können Sie den SQL Server-Agent zum Ausführen von Skripts und Aufgaben verwenden.</span><span class="sxs-lookup"><span data-stu-id="480e3-247">Or, if you have SQL Server installed on the virtual machine, you can use the SQL Server Agent to execute scripts and tasks.</span></span>
* <span data-ttu-id="480e3-248">Mit Azure Scheduler können Sie die Aufgabe initiieren, indem Sie eine Nachricht in eine Warteschlange einfügen, die von der Aufgabe überwacht wird, oder indem Sie eine Anforderung an eine API senden, die von der Aufgabe verfügbar gemacht wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-248">You can use Azure Scheduler to initiate the task by adding a message to a queue that the task listens on, or by sending a request to an API that the task exposes.</span></span>

<span data-ttu-id="480e3-249">Weitere Informationen zum Initiieren von Hintergrundaufgaben finden Sie weiter oben im Abschnitt [Trigger](#triggers) .</span><span class="sxs-lookup"><span data-stu-id="480e3-249">See the earlier section [Triggers](#triggers) for more information about how you can initiate background tasks.</span></span>  

#### <a name="considerations"></a><span data-ttu-id="480e3-250">Überlegungen</span><span class="sxs-lookup"><span data-stu-id="480e3-250">Considerations</span></span>
<span data-ttu-id="480e3-251">Berücksichtigen Sie die folgenden Punkte, wenn Sie entscheiden, ob Hintergrundaufgaben auf einem virtuellen Azure-Computer bereitgestellt werden sollen:</span><span class="sxs-lookup"><span data-stu-id="480e3-251">Consider the following points when you are deciding whether to deploy background tasks in an Azure virtual machine:</span></span>

* <span data-ttu-id="480e3-252">Das Hosten von Hintergrundaufgaben in einem separaten virtuellen Azure-Computer ermöglicht Flexibilität und eine präzise Steuerung der Initiierung, Ausführung, Planung und Ressourcenzuweisung.</span><span class="sxs-lookup"><span data-stu-id="480e3-252">Hosting background tasks in a separate Azure virtual machine provides flexibility and allows precise control over initiation, execution, scheduling, and resource allocation.</span></span> <span data-ttu-id="480e3-253">Allerdings werden die Laufzeitkosten höher, wenn ein virtueller Computer eigens zur Ausführung von Hintergrundaufgaben bereitgestellt werden muss.</span><span class="sxs-lookup"><span data-stu-id="480e3-253">However, it will increase runtime cost if a virtual machine must be deployed just to run background tasks.</span></span>
* <span data-ttu-id="480e3-254">Es ist keine Funktion zum Überwachen der Aufgaben im Azure-Portal verfügbar, und es gibt auch keine Funktion zum automatischen Neustarten fehlgeschlagener Aufgaben. Sie können allerdings den grundlegenden Status des virtuellen Computers mithilfe der [Azure Resource Manager-Cmdlets](https://msdn.microsoft.com/en-us/library/mt125356.aspx) überwachen und verwalten.</span><span class="sxs-lookup"><span data-stu-id="480e3-254">There is no facility to monitor the tasks in the Azure portal and no automated restart capability for failed tasks--although you can monitor the basic status of the virtual machine and manage it by using the  [Azure Resource Manager Cmdlets](https://msdn.microsoft.com/en-us/library/mt125356.aspx).</span></span> <span data-ttu-id="480e3-255">Es gibt jedoch keine Möglichkeit, die Prozesse und Threads in Serverknoten zu steuern.</span><span class="sxs-lookup"><span data-stu-id="480e3-255">However, there are no facilities to control processes and threads in compute nodes.</span></span> <span data-ttu-id="480e3-256">In der Regel erfordert die Verwendung eines virtuellen Computers zusätzlichen Aufwand zur Implementierung eines Mechanismus, um Daten von der Instrumentierung der Aufgabe und vom Betriebssystem des virtuellen Computers zu sammeln.</span><span class="sxs-lookup"><span data-stu-id="480e3-256">Typically, using a virtual machine will require additional effort to implement a mechanism that collects data from instrumentation in the task, and from the operating system in the virtual machine.</span></span> <span data-ttu-id="480e3-257">Eine möglicherweise geeignete Lösung besteht darin, das [System Center Management Pack für Azure](https://www.microsoft.com/en-us/download/details.aspx?id=50013) zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="480e3-257">One solution that might be appropriate is to use the [System Center Management Pack for Azure](https://www.microsoft.com/en-us/download/details.aspx?id=50013).</span></span>
* <span data-ttu-id="480e3-258">Sie sollten die Erstellung von Überwachungsprüfmodulen, die über HTTP-Endpunkte verfügbar gemacht werden, in Betracht ziehen.</span><span class="sxs-lookup"><span data-stu-id="480e3-258">You might consider creating monitoring probes that are exposed through HTTP endpoints.</span></span> <span data-ttu-id="480e3-259">Der Code für diese Tests könnte Integritätsprüfungen durchführen, operative Informationen und Statistiken sammeln oder Fehlerinformationen sortieren und diese Daten an die Verwaltungsanwendung zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="480e3-259">The code for these probes could perform health checks, collect operational information and statistics--or collate error information and return it to a management application.</span></span> <span data-ttu-id="480e3-260">Weitere Informationen finden Sie unter [Überwachungsmuster für den Integritätsendpunkt](http://msdn.microsoft.com/library/dn589789.aspx).</span><span class="sxs-lookup"><span data-stu-id="480e3-260">For more information, see [Health Endpoint Monitoring Pattern](http://msdn.microsoft.com/library/dn589789.aspx).</span></span>

#### <a name="more-information"></a><span data-ttu-id="480e3-261">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="480e3-261">More information</span></span>
* <span data-ttu-id="480e3-262">[Virtuelle Computer in Azure](https://azure.microsoft.com/services/virtual-machines/)</span><span class="sxs-lookup"><span data-stu-id="480e3-262">[Virtual Machines](https://azure.microsoft.com/services/virtual-machines/) on Azure</span></span>
* [<span data-ttu-id="480e3-263">Virtuelle Computer in Azure – häufig gestellte Fragen</span><span class="sxs-lookup"><span data-stu-id="480e3-263">Azure Virtual Machines FAQ</span></span>](/azure/virtual-machines/virtual-machines-linux-classic-faq?toc=%2fazure%2fvirtual-machines%2flinux%2fclassic%2ftoc.json)

### <a name="azure-batch"></a><span data-ttu-id="480e3-264">Azure Batch</span><span class="sxs-lookup"><span data-stu-id="480e3-264">Azure Batch</span></span> 

<span data-ttu-id="480e3-265">Erwägen Sie die Nutzung von [Azure Batch](/azure/batch/), wenn Sie umfangreiche, parallele HPC-Workloads (High-Performance Computing) auf Dutzenden, Hunderten oder Tausenden von VMs ausführen müssen.</span><span class="sxs-lookup"><span data-stu-id="480e3-265">Consider [Azure Batch](/azure/batch/) if you need to run large, parallel high-performance computing (HPC) workloads across tens, hundreds, or thousands of VMs.</span></span>  

<span data-ttu-id="480e3-266">Der Batch-Dienst stellt die VMs bereit, weist den VMs Aufgaben zu, führt die Aufgaben aus und überwacht den Fortschritt.</span><span class="sxs-lookup"><span data-stu-id="480e3-266">The Batch service provisions the VMs, assign tasks to the VMs, runs the tasks, and monitors the progress.</span></span> <span data-ttu-id="480e3-267">Batch kann die VMs als Reaktion auf die Workload automatisch horizontal hochskalieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-267">Batch can automatically scale out the VMs in response to the workload.</span></span> <span data-ttu-id="480e3-268">Batch ermöglicht auch eine Auftragsplanung.</span><span class="sxs-lookup"><span data-stu-id="480e3-268">Batch also provides job scheduling.</span></span> <span data-ttu-id="480e3-269">Azure Batch unterstützt sowohl Linux- als auch Windows-VMs.</span><span class="sxs-lookup"><span data-stu-id="480e3-269">Azure Batch supports both Linux and Windows VMs.</span></span>

#### <a name="considerations"></a><span data-ttu-id="480e3-270">Überlegungen</span><span class="sxs-lookup"><span data-stu-id="480e3-270">Considerations</span></span> 

<span data-ttu-id="480e3-271">Batch funktioniert gut für intrinsisch parallele Workloads.</span><span class="sxs-lookup"><span data-stu-id="480e3-271">Batch works well with intrinsically parallel workloads.</span></span> <span data-ttu-id="480e3-272">Es können auch parallele Berechnungen mit einem Reduzierungsschritt am Ende durchgeführt werden, oder es können [MPI-Anwendungen (Message Passing Interface)](/azure/batch/batch-mpi) für parallele Aufgaben ausgeführt werden, für die das Übergeben von Nachrichten zwischen Knoten erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="480e3-272">It can also perform parallel calculations with a reduce step at the end, or run [Message Passing Interface (MPI) applications](/azure/batch/batch-mpi) for parallel tasks that require message passing between nodes.</span></span> 

<span data-ttu-id="480e3-273">Ein Azure Batch-Auftrag führt einen Pool mit Knoten (VMs) aus.</span><span class="sxs-lookup"><span data-stu-id="480e3-273">An Azure Batch job runs on a pool of nodes (VMs).</span></span> <span data-ttu-id="480e3-274">Ein Ansatz besteht darin, einen Pool nur bei Bedarf zuzuordnen und dann zu löschen, nachdem der Auftrag abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="480e3-274">One approach is to allocate a pool only when needed and then delete it after the job completes.</span></span> <span data-ttu-id="480e3-275">Hierdurch wird die Auslastung maximiert, da die Knoten nicht ungenutzt bleiben, aber für den Auftrag muss gewartet werden, bis die Knoten zugeordnet wurden.</span><span class="sxs-lookup"><span data-stu-id="480e3-275">This maximizes utilization, because nodes are not idle, but the job must wait for nodes to be allocated.</span></span> <span data-ttu-id="480e3-276">Alternativ hierzu können Sie schon vorher einen Pool erstellen.</span><span class="sxs-lookup"><span data-stu-id="480e3-276">Alternatively, you can create a pool ahead of time.</span></span> <span data-ttu-id="480e3-277">Bei diesem Ansatz wird die Zeit verringert, die zum Starten eines Auftrags benötigt wird, aber er kann auch dazu führen, dass Knoten nicht genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-277">That approach minimizes the time that it takes for a job to start, but can result in having nodes that sit idle.</span></span> <span data-ttu-id="480e3-278">Weitere Informationen finden Sie unter [Gültigkeitsdauer für Pools und Computeknoten](/azure/batch/batch-api-basics#pool-and-compute-node-lifetime).</span><span class="sxs-lookup"><span data-stu-id="480e3-278">For more information, see [Pool and compute node lifetime](/azure/batch/batch-api-basics#pool-and-compute-node-lifetime).</span></span>

#### <a name="more-information"></a><span data-ttu-id="480e3-279">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="480e3-279">More information</span></span> 

* [<span data-ttu-id="480e3-280">Ausführen intrinsisch paralleler Workloads mit Batch</span><span class="sxs-lookup"><span data-stu-id="480e3-280">Run intrinsically parallel workloads with Batch</span></span>](/azure/batch/batch-technical-overview) 
* [<span data-ttu-id="480e3-281">Entwickeln von parallelen Computelösungen in größerem Umfang mit Batch</span><span class="sxs-lookup"><span data-stu-id="480e3-281">Develop large-scale parallel compute solutions with Batch</span></span>](/azure/batch/batch-api-basics) 
* [<span data-ttu-id="480e3-282">HPC-, Batch- und Big Compute-Lösungen, mit Azure-VMs</span><span class="sxs-lookup"><span data-stu-id="480e3-282">Batch and HPC solutions for large-scale computing workloads</span></span>](/azure/batch/batch-hpc-solutions)

### <a name="azure-container-service"></a><span data-ttu-id="480e3-283">Azure Container Service</span><span class="sxs-lookup"><span data-stu-id="480e3-283">Azure Container Service</span></span> 

<span data-ttu-id="480e3-284">Mit Azure Container Service können Sie einen Cluster mit VMs in Azure konfigurieren und verwalten, um Anwendungen in Containern auszuführen.</span><span class="sxs-lookup"><span data-stu-id="480e3-284">Azure Container Service lets you configure and manage a cluster of VMs in Azure to run containerized applications.</span></span> <span data-ttu-id="480e3-285">Der Dienst ermöglicht die Auswahl von Docker Swarm, DC/OS oder Kubernetes zur Orchestrierung.</span><span class="sxs-lookup"><span data-stu-id="480e3-285">It provides a choice of Docker Swarm, DC/OS, or Kubernetes for orchestration.</span></span> 

<span data-ttu-id="480e3-286">Container können zum Ausführen von Hintergrundaufträgen nützlich sein.</span><span class="sxs-lookup"><span data-stu-id="480e3-286">Containers can be useful for running background jobs.</span></span> <span data-ttu-id="480e3-287">Es ergeben sich beispielsweise folgende Vorteile:</span><span class="sxs-lookup"><span data-stu-id="480e3-287">Some of the benefits include:</span></span> 

- <span data-ttu-id="480e3-288">Container unterstützen eine hohe Hostingdichte.</span><span class="sxs-lookup"><span data-stu-id="480e3-288">Containers support high-density hosting.</span></span> <span data-ttu-id="480e3-289">Sie können eine Hintergrundaufgabe in einem Container isolieren und mehrere Container in jeder VM anordnen.</span><span class="sxs-lookup"><span data-stu-id="480e3-289">You can isolate a background task in a container, while placing multiple containers in each VM.</span></span>
- <span data-ttu-id="480e3-290">Der Containerorchestrator führt den internen Lastenausgleich, die Konfiguration des internen Netzwerks und andere Konfigurationsaufgaben durch.</span><span class="sxs-lookup"><span data-stu-id="480e3-290">The container orchestrator handles internal load balancing, configuring the internal network, and other configuration tasks.</span></span>
- <span data-ttu-id="480e3-291">Container können je nach Bedarf gestartet und beendet werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-291">Containers can be started and stopped as needed.</span></span> 
- <span data-ttu-id="480e3-292">Mit der Azure Container Registry können Sie Ihre Container innerhalb von Azure-Grenzen registrieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-292">Azure Container Registry allows you to register your containers inside Azure boundaries.</span></span> <span data-ttu-id="480e3-293">Hieraus ergeben sich Vorteile in den Bereichen Sicherheit, Datenschutz und Entfernungsverringerung.</span><span class="sxs-lookup"><span data-stu-id="480e3-293">This comes with security, privacy, and proximity benefits.</span></span> 

#### <a name="considerations"></a><span data-ttu-id="480e3-294">Überlegungen</span><span class="sxs-lookup"><span data-stu-id="480e3-294">Considerations</span></span>

- <span data-ttu-id="480e3-295">Sie müssen mit der Nutzung eines Containerorchestrators vertraut sein.</span><span class="sxs-lookup"><span data-stu-id="480e3-295">Requires an understanding of how to use a container orchestrator.</span></span> <span data-ttu-id="480e3-296">Je nach den Fähigkeiten Ihres DevOps-Teams kann dies ein Problem sein.</span><span class="sxs-lookup"><span data-stu-id="480e3-296">Depending on the skillset of your DevOps team, this may or may not be an issue.</span></span>  
- <span data-ttu-id="480e3-297">Der Containerdienst wird in einer IaaS-Umgebung ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="480e3-297">Container Service runs in an IaaS environment.</span></span> <span data-ttu-id="480e3-298">Er stellt einen Cluster mit VMs in einem dedizierten VNet bereit.</span><span class="sxs-lookup"><span data-stu-id="480e3-298">It provisions a cluster of VMs inside a dedicated VNet.</span></span> 

#### <a name="more-information"></a><span data-ttu-id="480e3-299">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="480e3-299">More information</span></span> 

* [<span data-ttu-id="480e3-300">Einführung in Docker-Containerhostinglösungen mit Azure Container Service</span><span class="sxs-lookup"><span data-stu-id="480e3-300">Introduction to Docker container hosting solutions with Azure Container Service</span></span>](/azure/container-service/container-service-intro) 
* [<span data-ttu-id="480e3-301">Einführung in private Docker-Containerregistrierungen</span><span class="sxs-lookup"><span data-stu-id="480e3-301">Introduction to private Docker container registries</span></span>](/azure/container-registry/container-registry-intro) 

### <a name="azure-cloud-services"></a><span data-ttu-id="480e3-302">Azure Cloud Services</span><span class="sxs-lookup"><span data-stu-id="480e3-302">Azure Cloud Services</span></span> 
<span data-ttu-id="480e3-303">Sie können Hintergrundaufgaben in einer Webrolle oder in einer separaten Workerrolle ausführen.</span><span class="sxs-lookup"><span data-stu-id="480e3-303">You can execute background tasks within a web role or in a separate worker role.</span></span> <span data-ttu-id="480e3-304">Wenn Sie entscheiden, ob Sie eine Workerrolle verwenden möchten, sollten Sie die Anforderungen an Skalierbarkeit und Elastizität, die Lebensdauer der Aufgabe, Freigaberhythmus, Sicherheit, Fehlertoleranz, Konflikte, Komplexität und die logische Architektur berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="480e3-304">When you are deciding whether to use a worker role, consider scalability and elasticity requirements, task lifetime, release cadence, security, fault tolerance, contention, complexity, and the logical architecture.</span></span> <span data-ttu-id="480e3-305">Weitere Informationen finden Sie unter [Serverressourcen-Konsolidierungsmuster](http://msdn.microsoft.com/library/dn589778.aspx).</span><span class="sxs-lookup"><span data-stu-id="480e3-305">For more information, see [Compute Resource Consolidation Pattern](http://msdn.microsoft.com/library/dn589778.aspx).</span></span>

<span data-ttu-id="480e3-306">Hintergrundaufgaben können auf verschiedene Weise in einer Cloud Services-Rolle implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-306">There are several ways to implement background tasks within a Cloud Services role:</span></span>

* <span data-ttu-id="480e3-307">Erstellen Sie eine Implementierung der **RoleEntryPoint** -Klasse in der Rolle, und verwenden Sie deren Methoden zum Ausführen der Hintergrundaufgaben.</span><span class="sxs-lookup"><span data-stu-id="480e3-307">Create an implementation of the **RoleEntryPoint** class in the role and use its methods to execute background tasks.</span></span> <span data-ttu-id="480e3-308">Die Aufgaben werden im Kontext von „WaIISHost.exe“ ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="480e3-308">The tasks run in the context of WaIISHost.exe.</span></span> <span data-ttu-id="480e3-309">Sie können die **GetSetting**-Methode der **CloudConfigurationManager**-Klasse zum Laden der Konfigurationseinstellungen verwenden.</span><span class="sxs-lookup"><span data-stu-id="480e3-309">They can use the **GetSetting** method of the **CloudConfigurationManager** class to load configuration settings.</span></span> <span data-ttu-id="480e3-310">Weitere Informationen finden Sie unter [Lebenszyklus (Cloud Services)](#lifecycle-cloud-services).</span><span class="sxs-lookup"><span data-stu-id="480e3-310">For more information, see [Lifecycle (Cloud Services)](#lifecycle-cloud-services).</span></span>
* <span data-ttu-id="480e3-311">Verwenden Sie Startaufgaben, um Hintergrundaufgaben beim Starten der Anwendung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="480e3-311">Use startup tasks to execute background tasks when the application starts.</span></span> <span data-ttu-id="480e3-312">Um die weitere Ausführung der Aufgaben im Hintergrund zu erzwingen, legen Sie die **taskType**-Eigenschaft auf **background** fest (falls Sie dies nicht tun, wird der Startprozess der Anwendung angehalten und wartet, bis die Aufgabe abgeschlossen ist).</span><span class="sxs-lookup"><span data-stu-id="480e3-312">To force the tasks to continue to run in the background, set the **taskType** property to **background** (if you do not do this, the application startup process will halt and wait for the task to finish).</span></span> <span data-ttu-id="480e3-313">Weitere Informationen finden Sie unter [Ausführen von Startaufgaben in Azure](/azure/cloud-services/cloud-services-startup-tasks).</span><span class="sxs-lookup"><span data-stu-id="480e3-313">For more information, see [Run startup tasks in Azure](/azure/cloud-services/cloud-services-startup-tasks).</span></span>
* <span data-ttu-id="480e3-314">Verwenden Sie das WebJobs SDK, um Hintergrundaufgaben wie WebJobs zu implementieren, die als Startaufgabe initiiert werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-314">Use the WebJobs SDK to implement background tasks such as WebJobs that are initiated as a startup task.</span></span> <span data-ttu-id="480e3-315">Weitere Informationen finden Sie unter [Create a .NET WebJob in Azure App Service](/azure/app-service-web/websites-dotnet-webjobs-sdk-get-started) (Erstellen eines .NET-Webauftrags in Azure App Service).</span><span class="sxs-lookup"><span data-stu-id="480e3-315">For more information, see [Create a .NET WebJob in Azure App Service](/azure/app-service-web/websites-dotnet-webjobs-sdk-get-started).</span></span>
* <span data-ttu-id="480e3-316">Verwenden Sie eine Startaufgabe, um einen Windows-Dienst zu installieren, der eine oder mehrere Hintergrundaufgaben ausführt.</span><span class="sxs-lookup"><span data-stu-id="480e3-316">Use a startup task to install a Windows service that executes one or more background tasks.</span></span> <span data-ttu-id="480e3-317">Sie müssen die **taskType**-Eigenschaft auf **background** festlegen, damit der Dienst im Hintergrund ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-317">You must set the **taskType** property to **background** so that the service executes in the background.</span></span> <span data-ttu-id="480e3-318">Weitere Informationen finden Sie unter [Ausführen von Startaufgaben in Azure](/azure/cloud-services/cloud-services-startup-tasks).</span><span class="sxs-lookup"><span data-stu-id="480e3-318">For more information, see [Run startup tasks in Azure](/azure/cloud-services/cloud-services-startup-tasks).</span></span>

<span data-ttu-id="480e3-319">Der Hauptvorteil der Ausführung von Hintergrundaufgaben in der Webrolle besteht in der Einsparung von Hostingkosten, da keine weiteren Rollen bereitgestellt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="480e3-319">The main advantage of running background tasks in the web role is the saving in hosting costs because there is no requirement to deploy additional roles.</span></span>

<span data-ttu-id="480e3-320">Die Ausführung von Hintergrundaufgaben in einer Workerrolle bietet verschiedene Vorteile:</span><span class="sxs-lookup"><span data-stu-id="480e3-320">Running background tasks in a worker role has several advantages:</span></span>

* <span data-ttu-id="480e3-321">Sie ermöglicht es, die Skalierung für jeden Rollentyp getrennt zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="480e3-321">It allows you to manage scaling separately for each type of role.</span></span> <span data-ttu-id="480e3-322">Es kann beispielsweise möglich sein, dass Sie zusätzlich Instanzen einer Webrolle zur Unterstützung der aktuellen Last benötigen, jedoch weniger Instanzen der Workerrolle, die Hintergrundaufgaben ausführt.</span><span class="sxs-lookup"><span data-stu-id="480e3-322">For example, you might need more instances of a web role to support the current load, but fewer instances of the worker role that executes background tasks.</span></span> <span data-ttu-id="480e3-323">Durch die von den Rollen für die Benutzeroberfläche getrennte Skalierung der Compute-Instanzen für Hintergrundaufgaben können die Hostingkosten reduziert und gleichzeitig eine akzeptable Leistung aufrechterhalten werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-323">By scaling background task compute instances separately from the UI roles, you can reduce hosting costs, while maintaining acceptable performance.</span></span>
* <span data-ttu-id="480e3-324">Die Webrolle wird dadurch von dem mit Hintergrundaufgaben verbundenen Verarbeitungsaufwand entlastet.</span><span class="sxs-lookup"><span data-stu-id="480e3-324">It offloads the processing overhead for background tasks from the web role.</span></span> <span data-ttu-id="480e3-325">Die Webrolle, die die Benutzeroberfläche bereitstellt, kann reaktionsfähig bleiben, und es kann bedeuten, dass weniger Instanzen erforderlich sind, um ein bestimmtes Volumen an Benutzeranforderungen zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="480e3-325">The web role that provides the UI can remain responsive, and it may mean fewer instances are required to support a given volume of requests from users.</span></span>
* <span data-ttu-id="480e3-326">Sie ermöglicht Ihnen die Implementierung einer Trennung von Zuständigkeiten.</span><span class="sxs-lookup"><span data-stu-id="480e3-326">It allows you to implement separation of concerns.</span></span> <span data-ttu-id="480e3-327">Jeder Rollentyp kann einen bestimmten Satz von klar definierten und verwandten Aufgaben implementieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-327">Each role type can implement a specific set of clearly defined and related tasks.</span></span> <span data-ttu-id="480e3-328">Dies erleichtert das Entwerfen und Verwalten des Codes, da es zwischen den einzelnen Rollen weniger wechselseitige Abhängigkeiten bezüglich des Codes und der Funktionalität gibt.</span><span class="sxs-lookup"><span data-stu-id="480e3-328">This makes designing and maintaining the code easier because there is less interdependence of code and functionality between each role.</span></span>
* <span data-ttu-id="480e3-329">Vertrauliche Prozesse und Daten können leichter isoliert werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-329">It can help to isolate sensitive processes and data.</span></span> <span data-ttu-id="480e3-330">Beispielsweise müssen die Webrollen, die die Benutzeroberfläche implementieren, nicht auf Daten zugreifen, die von einer Workerrolle verwaltet und gesteuert werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-330">For example, web roles that implement the UI do not need to have access to data that is managed and controlled by a worker role.</span></span> <span data-ttu-id="480e3-331">Dies kann bei der Verstärkung der Sicherheit nützlich sein, insbesondere bei Verwendung eines Musters wie dem [Gatekeeper-Muster](http://msdn.microsoft.com/library/dn589793.aspx).</span><span class="sxs-lookup"><span data-stu-id="480e3-331">This can be useful in strengthening security, especially when you use a pattern such as the [Gatekeeper Pattern](http://msdn.microsoft.com/library/dn589793.aspx).</span></span>  

#### <a name="considerations"></a><span data-ttu-id="480e3-332">Überlegungen</span><span class="sxs-lookup"><span data-stu-id="480e3-332">Considerations</span></span>
<span data-ttu-id="480e3-333">Beachten Sie die folgenden Punkte bei der Entscheidung, wie und wo Hintergrundaufgaben bei Verwendung von Cloud Services-Web- und Workerrollen bereitgestellt werden sollen:</span><span class="sxs-lookup"><span data-stu-id="480e3-333">Consider the following points when choosing how and where to deploy background tasks when using Cloud Services web and worker roles:</span></span>

* <span data-ttu-id="480e3-334">Durch das Hosten von Hintergrundaufgaben in einer vorhandenen Webrolle können die Kosten der Ausführung einer separaten Workerrolle eigens für diese Aufgaben eingespart werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-334">Hosting background tasks in an existing web role can save the cost of running a separate worker role just for these tasks.</span></span> <span data-ttu-id="480e3-335">Allerdings wird dadurch wahrscheinlich die Leistung und die Verfügbarkeit der Anwendung beeinflusst, wenn Konflikte zwischen Verarbeitungsressourcen und anderen Ressourcen bestehen.</span><span class="sxs-lookup"><span data-stu-id="480e3-335">However, it is likely to affect the performance and availability of the application if there is contention for processing and other resources.</span></span> <span data-ttu-id="480e3-336">Durch die Verwendung einer separaten Workerrolle wird die Webrolle vor den Auswirkungen von langwierigen oder ressourcenintensiven Hintergrundaufgaben geschützt.</span><span class="sxs-lookup"><span data-stu-id="480e3-336">Using a separate worker role protects the web role from the impact of long-running or resource-intensive background tasks.</span></span>
* <span data-ttu-id="480e3-337">Wenn Sie Hintergrundaufgaben mithilfe der **RoleEntryPoint**-Klasse hosten, können Sie dies problemlos auf eine andere Rolle übertragen.</span><span class="sxs-lookup"><span data-stu-id="480e3-337">If you host background tasks by using the **RoleEntryPoint** class, you can easily move this to another role.</span></span> <span data-ttu-id="480e3-338">Wenn Sie z.B. die Klasse in einer Webrolle erstellen und später entscheiden, dass die Aufgaben in einer Workerrolle ausgeführt werden müssen, können Sie die **RoleEntryPoint**-Klassenimplementierung in die Workerrolle verschieben.</span><span class="sxs-lookup"><span data-stu-id="480e3-338">For example, if you create the class in a web role and later decide that you need to run the tasks in a worker role, you can move the **RoleEntryPoint** class implementation into the worker role.</span></span>
* <span data-ttu-id="480e3-339">Startaufgaben sind auf die Ausführung eines Programms oder Skripts ausgelegt.</span><span class="sxs-lookup"><span data-stu-id="480e3-339">Startup tasks are designed to execute a program or a script.</span></span> <span data-ttu-id="480e3-340">Die Bereitstellung eines Hintergrundauftrags als ausführbares Programm kann u. U. schwieriger sein, insbesondere dann, wenn dazu auch abhängige Assemblys bereitgestellt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="480e3-340">Deploying a background job as an executable program might be more difficult, especially if it also requires deployment of dependent assemblies.</span></span> <span data-ttu-id="480e3-341">Bei Verwendung von Startaufgaben ist es möglicherweise einfacher, ein Skript bereitzustellen und zu verwenden, um einen Hintergrundauftrag zu definieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-341">It might be easier to deploy and use a script to define a background job when you use startup tasks.</span></span>
* <span data-ttu-id="480e3-342">Ausnahmen, die zum Fehlschlagen einer Hintergrundaufgabe führen, haben unterschiedliche Auswirkungen, je nachdem, wie sie gehostet werden:</span><span class="sxs-lookup"><span data-stu-id="480e3-342">Exceptions that cause a background task to fail have a different impact, depending on the way that they are hosted:</span></span>
  * <span data-ttu-id="480e3-343">Bei Verwendung der **RoleEntryPoint** -Klasse führt eine fehlgeschlagene Aufgabe dazu, dass die Rolle neu gestartet wird, damit die Aufgabe automatisch neu gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-343">If you use the **RoleEntryPoint** class approach, a failed task will cause the role to restart so that the task automatically restarts.</span></span> <span data-ttu-id="480e3-344">Dies kann sich auf die Verfügbarkeit der Anwendung auswirken.</span><span class="sxs-lookup"><span data-stu-id="480e3-344">This can affect availability of the application.</span></span> <span data-ttu-id="480e3-345">Um dies zu verhindern, müssen Sie eine robuste Ausnahmebehandlung innerhalb der **RoleEntryPoint** -Klasse und in allen Hintergrundaufgaben sicherstellen.</span><span class="sxs-lookup"><span data-stu-id="480e3-345">To prevent this, ensure that you include robust exception handling within the **RoleEntryPoint** class and all the background tasks.</span></span> <span data-ttu-id="480e3-346">Verwenden Sie dort, wo es zweckmäßig ist, Code, um fehlgeschlagene Aufgaben neu zu starten, und lösen Sie nur dann eine Ausnahme aus, um die Rolle neu zu starten, wenn sich der Fehler nicht innerhalb des Codes ordnungsgemäß beheben lässt.</span><span class="sxs-lookup"><span data-stu-id="480e3-346">Use code to restart tasks that fail where this is appropriate, and throw the exception to restart the role only if you cannot gracefully recover from the failure within your code.</span></span>
  * <span data-ttu-id="480e3-347">Wenn Sie Startaufgaben verwenden, sind Sie für die Verwaltung der Aufgabenausführung und die Überprüfung auf Fehler verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="480e3-347">If you use startup tasks, you are responsible for managing the task execution and checking if it fails.</span></span>
* <span data-ttu-id="480e3-348">Das Verwalten und Überwachen von Startaufgaben ist schwieriger als die Verwendung der **RoleEntryPoint** -Klasse.</span><span class="sxs-lookup"><span data-stu-id="480e3-348">Managing and monitoring startup tasks is more difficult than using the **RoleEntryPoint** class approach.</span></span> <span data-ttu-id="480e3-349">Das Azure WebJobs SDK enthält jedoch ein Dashboard, das die Verwaltung von WebJobs, die über Startaufgaben gestartet werden, erleichtert.</span><span class="sxs-lookup"><span data-stu-id="480e3-349">However, the Azure WebJobs SDK includes a dashboard to make it easier to manage WebJobs that you initiate through startup tasks.</span></span>

#### <a name="lifecycle"></a><span data-ttu-id="480e3-350">Lebenszyklus</span><span class="sxs-lookup"><span data-stu-id="480e3-350">Lifecycle</span></span> 
 <span data-ttu-id="480e3-351">Wenn Sie sich dazu entscheiden, Hintergrundaufträge für Cloud Services-Anwendungen zu implementieren, die mithilfe der **RoleEntryPoint** -Klasse Web-und Workerrollen verwenden, müssen Sie den Lebenszyklus dieser Klasse kennen, um sie ordnungsgemäß verwenden zu können.</span><span class="sxs-lookup"><span data-stu-id="480e3-351">If you decide to implement background jobs for Cloud Services applications that use web and worker roles by using the **RoleEntryPoint** class, it is important to understand the lifecycle of this class in order to use it correctly.</span></span>

<span data-ttu-id="480e3-352">Web- und Workerrollen durchlaufen unterschiedliche Phasen, während sie gestartet, ausgeführt und beendet werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-352">Web and worker roles go through a set of distinct phases as they start, run, and stop.</span></span> <span data-ttu-id="480e3-353">Die **RoleEntryPoint** -Klasse stellt eine Reihe von Ereignissen zur Verfügung, die anzeigen, wann diese Phasen auftreten.</span><span class="sxs-lookup"><span data-stu-id="480e3-353">The **RoleEntryPoint** class exposes a series of events that indicate when these stages are occurring.</span></span> <span data-ttu-id="480e3-354">Sie können diese Ereignisse zum Initialisieren, Ausführen und Beenden von benutzerdefinierten Hintergrundaufgaben verwenden.</span><span class="sxs-lookup"><span data-stu-id="480e3-354">You use these to initialize, run, and stop your custom background tasks.</span></span> <span data-ttu-id="480e3-355">Der vollständige Zyklus sieht so aus:</span><span class="sxs-lookup"><span data-stu-id="480e3-355">The complete cycle is:</span></span>

* <span data-ttu-id="480e3-356">Azure lädt die Rollenassembly und sucht nach einer von **RoleEntryPoint**abgeleiteten Klasse.</span><span class="sxs-lookup"><span data-stu-id="480e3-356">Azure loads the role assembly and searches it for a class that derives from **RoleEntryPoint**.</span></span>
* <span data-ttu-id="480e3-357">Wenn diese Klasse gefunden wird, wird **RoleEntryPoint.OnStart()**aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="480e3-357">If it finds this class, it calls **RoleEntryPoint.OnStart()**.</span></span> <span data-ttu-id="480e3-358">Sie überschreiben diese Methode, um die Hintergrundaufgaben zu initialisieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-358">You override this method to initialize your background tasks.</span></span>
* <span data-ttu-id="480e3-359">Nach Abschluss der **OnStart**-Methode ruft Azure in der globalen Datei der Anwendung **Application_Start()** auf, sofern die Datei vorhanden ist (z.B. „Global.asax“ in einer Webrolle unter ASP.NET).</span><span class="sxs-lookup"><span data-stu-id="480e3-359">After the **OnStart** method has completed, Azure calls **Application_Start()** in the application’s Global file if this is present (for example, Global.asax in a web role running ASP.NET).</span></span>
* <span data-ttu-id="480e3-360">Azure ruft **RoleEntryPoint.Run()** in einem neuen Vordergrundthread auf, der parallel zu **OnStart()** ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-360">Azure calls **RoleEntryPoint.Run()** on a new foreground thread that executes in parallel with **OnStart()**.</span></span> <span data-ttu-id="480e3-361">Sie überschreiben diese Methode, um die Hintergrundaufgaben zu starten.</span><span class="sxs-lookup"><span data-stu-id="480e3-361">You override this method to start your background tasks.</span></span>
* <span data-ttu-id="480e3-362">Wenn die Run-Methode beendet wird, ruft Azure zuerst **Application_End()** in der globalen Datei der Anwendung, sofern diese vorhanden ist, und anschließend **RoleEntryPoint.OnStop()** auf.</span><span class="sxs-lookup"><span data-stu-id="480e3-362">When the Run method ends, Azure first calls **Application_End()** in the application’s Global file if this is present, and then calls **RoleEntryPoint.OnStop()**.</span></span> <span data-ttu-id="480e3-363">Sie überschreiben die **OnStop** -Methode, um die Hintergrundaufgaben zu beenden, Ressourcen zu bereinigen, Objekte zu löschen und die Verbindungen zu schließen, die von den Aufgaben möglicherweise verwendet wurden.</span><span class="sxs-lookup"><span data-stu-id="480e3-363">You override the **OnStop** method to stop your background tasks, clean up resources, dispose of objects, and close connections that the tasks may have used.</span></span>
* <span data-ttu-id="480e3-364">Der Hostprozess für die Azure-Workerrolle wird beendet.</span><span class="sxs-lookup"><span data-stu-id="480e3-364">The Azure worker role host process is stopped.</span></span> <span data-ttu-id="480e3-365">An diesem Punkt wird die Rolle wiederverwendet und neu gestartet.</span><span class="sxs-lookup"><span data-stu-id="480e3-365">At this point, the role will be recycled and will restart.</span></span>

<span data-ttu-id="480e3-366">Weitere Einzelheiten und ein Beispiel für die Verwendung der Methoden der **RoleEntryPoint** -Klasse finden Sie unter [Muster für die Konsolidierung von Compute-Ressourcen](http://msdn.microsoft.com/library/dn589778.aspx).</span><span class="sxs-lookup"><span data-stu-id="480e3-366">For more details and an example of using the methods of the **RoleEntryPoint** class, see [Compute Resource Consolidation Pattern](http://msdn.microsoft.com/library/dn589778.aspx).</span></span>

#### <a name="implementation-considerations"></a><span data-ttu-id="480e3-367">Überlegungen zur Implementierung</span><span class="sxs-lookup"><span data-stu-id="480e3-367">Implementation considerations</span></span>

<span data-ttu-id="480e3-368">Berücksichtigen Sie die folgenden Punkte, wenn Sie Hintergrundaufgaben in einer Web- oder Workerrolle implementieren:</span><span class="sxs-lookup"><span data-stu-id="480e3-368">Consider the following points if you are implementing background tasks in a web or worker role:</span></span>

* <span data-ttu-id="480e3-369">Die Standardimplementierung der **Run**-Methode in der **RoleEntryPoint**-Klasse enthält einen **Thread.Sleep(Timeout.Infinite)**-Aufruf, durch den die Rolle auf unbestimmte Zeit aktiv bleibt.</span><span class="sxs-lookup"><span data-stu-id="480e3-369">The default **Run** method implementation in the **RoleEntryPoint** class contains a call to **Thread.Sleep(Timeout.Infinite)** that keeps the role alive indefinitely.</span></span> <span data-ttu-id="480e3-370">Wenn Sie die **Run**-Methode überschreiben (die in der Regel zum Ausführen von Hintergrundaufgaben erforderlich ist), dürfen Sie dem Code nicht die Möglichkeit geben, die Methode zu beenden. Eine Ausnahme ist ein Fall, in dem Sie die Rolleninstanz wiederverwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="480e3-370">If you override the **Run** method (which is typically necessary to execute background tasks), you must not allow your code to exit from the method unless you want to recycle the role instance.</span></span>
* <span data-ttu-id="480e3-371">Eine typische Implementierung der **Run** -Methode enthält Code zum Starten der einzelnen Hintergrundaufgaben und ein Schleifenkonstrukt, mit dem regelmäßig der Status aller Hintergrundaufgaben überprüft wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-371">A typical implementation of the **Run** method includes code to start each of the background tasks and a loop construct that periodically checks the state of all the background tasks.</span></span> <span data-ttu-id="480e3-372">Aufgaben, die fehlschlagen, können neu gestartet werden, oder es kann Abbruchtoken überwacht werden, die darauf hinweisen, dass Aufträge abgeschlossen wurden.</span><span class="sxs-lookup"><span data-stu-id="480e3-372">It can restart any that fail or monitor for cancellation tokens that indicate that jobs have completed.</span></span>
* <span data-ttu-id="480e3-373">Wenn eine Hintergrundaufgabe eine nicht behandelte Ausnahme auslöst, sollte diese Aufgabe wiederverwendet werden, während andere Hintergrundaufgaben in der Rolle weiter ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="480e3-373">If a background task throws an unhandled exception, that task should be recycled while allowing any other background tasks in the role to continue running.</span></span> <span data-ttu-id="480e3-374">Wird die Ausnahme jedoch durch eine Beschädigung von Objekten außerhalb der Aufgabe, z.B. freigegebenen Speicher, verursacht, dann sollte die Ausnahme von der **RoleEntryPoint**-Klasse behandelt werden, alle Aufgaben sollten abgebrochen werden, und die **Run**-Methode sollte beendet werden können.</span><span class="sxs-lookup"><span data-stu-id="480e3-374">However, if the exception is caused by corruption of objects outside the task, such as shared storage, the exception should be handled by your **RoleEntryPoint** class, all tasks should be cancelled, and the **Run** method should be allowed to end.</span></span> <span data-ttu-id="480e3-375">Azure startet die Rolle dann neu.</span><span class="sxs-lookup"><span data-stu-id="480e3-375">Azure will then restart the role.</span></span>
* <span data-ttu-id="480e3-376">Verwenden Sie die **OnStop** -Methode zum Anhalten oder Beenden von Hintergrundaufgaben und zum Bereinigen von Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="480e3-376">Use the **OnStop** method to pause or kill background tasks and clean up resources.</span></span> <span data-ttu-id="480e3-377">Dazu kann auch das Beenden von lang andauernden oder aus mehreren Schritten bestehenden Aufgaben gehören.</span><span class="sxs-lookup"><span data-stu-id="480e3-377">This might involve stopping long-running or multistep tasks.</span></span> <span data-ttu-id="480e3-378">Sie müssen überlegen, wie dies umgesetzt werden kann, um Dateninkonsistenzen zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="480e3-378">It is vital to consider how this can be done to avoid data inconsistencies.</span></span> <span data-ttu-id="480e3-379">Wenn eine Rolleninstanz aus einem anderen Grund als dem vom Benutzer eingeleiteten Herunterfahren beendet wird, muss die Ausführung des Codes, der in der **OnStop** -Methode ausgeführt wird, innerhalb von fünf Minuten vor seiner erzwungenen Beendigung abgeschlossen sein.</span><span class="sxs-lookup"><span data-stu-id="480e3-379">If a role instance stops for any reason other than a user-initiated shutdown, the code running in the **OnStop** method must be completed within five minutes before it is forcibly terminated.</span></span> <span data-ttu-id="480e3-380">Stellen Sie sicher, dass Ihr Code in diesem Zeitraum vollständig ausgeführt werden kann oder gefahrlos vorzeitig beendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="480e3-380">Ensure that your code can be completed in that time or can tolerate not running to completion.</span></span>  
* <span data-ttu-id="480e3-381">Der Azure Load Balancer beginnt, Datenverkehr an die Rolleninstanz weiterzuleiten, wenn die **RoleEntryPoint.OnStart**-Methode den Wert **true** zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="480e3-381">The Azure load balancer starts directing traffic to the role instance when the **RoleEntryPoint.OnStart** method returns the value **true**.</span></span> <span data-ttu-id="480e3-382">Daher sollten Sie den gesamten Initialisierungscode in die **OnStart** -Methode einfügen, damit Rolleninstanzen, die nicht erfolgreich initialisiert werden, keinen Datenverkehr empfangen.</span><span class="sxs-lookup"><span data-stu-id="480e3-382">Therefore, consider putting all your initialization code in the **OnStart** method so that role instances that do not successfully initialize will not receive any traffic.</span></span>
* <span data-ttu-id="480e3-383">Sie können Startaufgaben zusätzlich zu den Methoden der **RoleEntryPoint** -Klasse verwenden.</span><span class="sxs-lookup"><span data-stu-id="480e3-383">You can use startup tasks in addition to the methods of the **RoleEntryPoint** class.</span></span> <span data-ttu-id="480e3-384">Sie sollten Startaufgaben verwenden, um Einstellungen zu initialisieren, die im Azure-Lastenausgleich geändert werden müssen, da diese Aufgaben ausgeführt werden, bevor die Rolle Anforderungen empfängt.</span><span class="sxs-lookup"><span data-stu-id="480e3-384">You should use startup tasks to initialize any settings that you need to change in the Azure load balancer because these tasks will execute before the role receives any requests.</span></span> <span data-ttu-id="480e3-385">Weitere Informationen finden Sie unter [Ausführen von Startaufgaben in Azure](/azure/cloud-services/cloud-services-startup-tasks/).</span><span class="sxs-lookup"><span data-stu-id="480e3-385">For more information, see [Run startup tasks in Azure](/azure/cloud-services/cloud-services-startup-tasks/).</span></span>
* <span data-ttu-id="480e3-386">Wenn in einer Startaufgabe ein Fehler auftritt, kann die Rolle dadurch zu fortwährenden Neustarts gezwungen werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-386">If there is an error in a startup task, it might force the role to continually restart.</span></span> <span data-ttu-id="480e3-387">Dies kann verhindern, dass ein Austausch der virtuellen IP-Adresse (VIP) auf eine zuvor bereitgestellte Version ausgeführt wird, da hierfür exklusiver Zugriff auf die Rolle erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="480e3-387">This can prevent you from performing a virtual IP (VIP) address swap back to a previously staged version because the swap requires exclusive access to the role.</span></span> <span data-ttu-id="480e3-388">Dieser kann nicht abgerufen werden, während die Rolle neu gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-388">This cannot be obtained while the role is restarting.</span></span> <span data-ttu-id="480e3-389">Problembehebung:</span><span class="sxs-lookup"><span data-stu-id="480e3-389">To resolve this:</span></span>
  
  * <span data-ttu-id="480e3-390">Fügen Sie den folgenden Code am Anfang der **OnStart**- und **Run**-Methoden in die Rolle ein:</span><span class="sxs-lookup"><span data-stu-id="480e3-390">Add the following code to the beginning of the **OnStart** and **Run** methods in your role:</span></span>
    
    ```C#
    var freeze = CloudConfigurationManager.GetSetting("Freeze");
    if (freeze != null)
    {
     if (Boolean.Parse(freeze))
       {
         Thread.Sleep(System.Threading.Timeout.Infinite);
     }
    }
    ```
    
    * <span data-ttu-id="480e3-391">Fügen Sie die Definition der **Freeze**-Einstellung den Dateien „ServiceDefinition.csdef“ und „ServiceConfiguration.*.cscfg“ für die Rolle als booleschen Wert hinzu, und legen Sie sie auf **false** fest.</span><span class="sxs-lookup"><span data-stu-id="480e3-391">Add the definition of the **Freeze** setting as a Boolean value to the ServiceDefinition.csdef and ServiceConfiguration.*.cscfg files for the role and set it to **false**.</span></span> <span data-ttu-id="480e3-392">Wenn die Rolle in einen wiederholten Neustartmodus wechselt, können Sie diese Einstellung in **true** ändern, um die Ausführung der Rolle anzuhalten und zuzulassen, dass sie gegen eine frühere Version ausgetauscht wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-392">If the role goes into a repeated restart mode, you can change the setting to **true** to freeze role execution and allow it to be swapped with a previous version.</span></span>

#### <a name="more-information"></a><span data-ttu-id="480e3-393">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="480e3-393">More information</span></span>
* [<span data-ttu-id="480e3-394">Serverressourcen-Konsolidierungsmuster</span><span class="sxs-lookup"><span data-stu-id="480e3-394">Compute Resource Consolidation Pattern</span></span>](http://msdn.microsoft.com/library/dn589778.aspx)
* [<span data-ttu-id="480e3-395">Erste Schritte mit dem Azure WebJobs SDK</span><span class="sxs-lookup"><span data-stu-id="480e3-395">Get started with the Azure WebJobs SDK</span></span>](/azure/app-service-web/websites-dotnet-webjobs-sdk-get-started/)


## <a name="partitioning"></a><span data-ttu-id="480e3-396">Partitionierung</span><span class="sxs-lookup"><span data-stu-id="480e3-396">Partitioning</span></span>
<span data-ttu-id="480e3-397">Wenn Sie Hintergrundaufgaben in eine vorhandene Compute-Instanz (z. B. eine Web-App, Webrolle, vorhandene Workerrolle oder einen virtuellen Computer) aufnehmen möchten, müssen Sie berücksichtigen, wie sich dies auf die Qualitätsattribute der Compute-Instanz und auf die Hintergrundaufgabe selbst auswirken wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-397">If you decide to include background tasks within an existing compute instance (such as a web app, web role, existing worker role, or virtual machine), you must consider how this will affect the quality attributes of the compute instance and the background task itself.</span></span> <span data-ttu-id="480e3-398">Anhand dieser Faktoren können Sie entscheiden, ob die Aufgaben in der vorhandenen Compute-Instanz oder in einer separaten Compute-Instanz ausgeführt werden sollen:</span><span class="sxs-lookup"><span data-stu-id="480e3-398">These factors will help you to decide whether to colocate the tasks with the existing compute instance or separate them out into a separate compute instance:</span></span>

* <span data-ttu-id="480e3-399">**Verfügbarkeit**: Für Hintergrundaufgaben ist möglicherweise nicht dasselbe Maß an Verfügbarkeit wie für andere Teile der Anwendung erforderlich, insbesondere die Benutzeroberfläche und andere Teile, die direkt an der Interaktion mit dem Benutzer beteiligt sind.</span><span class="sxs-lookup"><span data-stu-id="480e3-399">**Availability**: Background tasks might not need to have the same level of availability as other parts of the application, in particular the UI and other parts that are directly involved in user interaction.</span></span> <span data-ttu-id="480e3-400">Hintergrundaufgaben können toleranter gegenüber Latenz, wiederholten Verbindungsfehlern und anderen Faktoren sein, die sich auf die Verfügbarkeit auswirken, da die Vorgänge in eine Warteschlange eingefügt werden können.</span><span class="sxs-lookup"><span data-stu-id="480e3-400">Background tasks might be more tolerant of latency, retried connection failures, and other factors that affect availability because the operations can be queued.</span></span> <span data-ttu-id="480e3-401">Allerdings muss genügend Kapazität vorhanden sein, um die Sicherung von Anforderungen zu verhindern, wodurch Warteschlangen blockiert werden könnten und die Anwendung als Ganzes beeinträchtigt werden könnte.</span><span class="sxs-lookup"><span data-stu-id="480e3-401">However, there must be sufficient capacity to prevent the backup of requests that could block queues and affect the application as a whole.</span></span>
* <span data-ttu-id="480e3-402">**Skalierbarkeit**: Für Hintergrundaufgaben gelten häufig andere Anforderungen an die Skalierbarkeit als für die Benutzeroberfläche und die interaktiven Teile der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="480e3-402">**Scalability**: Background tasks are likely to have a different scalability requirement than the UI and the interactive parts of the application.</span></span> <span data-ttu-id="480e3-403">Eine Skalierung der Benutzeroberfläche kann erforderlich sein, um Nachfragespitzen zu bedienen, während ausstehende Hintergrundaufgaben in Zeiten mit weniger starker Auslastung von einer geringeren Anzahl von Compute-Instanzen abgeschlossen werden können.</span><span class="sxs-lookup"><span data-stu-id="480e3-403">Scaling the UI might be necessary to meet peaks in demand, while outstanding background tasks might be completed during less busy times by a fewer number of compute instances.</span></span>
* <span data-ttu-id="480e3-404">**Resilienz**: Der Ausfall einer Compute-Instanz, die nur Hintergrundaufgaben hostet, wirkt sich möglicherweise nicht schwerwiegend auf die gesamte Anwendung aus, wenn die Anforderungen für diese Aufgaben in eine Warteschlange eingefügt oder zurückgestellt werden können, bis die Aufgabe wieder verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="480e3-404">**Resiliency**: Failure of a compute instance that just hosts background tasks might not fatally affect the application as a whole if the requests for these tasks can be queued or postponed until the task is available again.</span></span> <span data-ttu-id="480e3-405">Wenn die Compute-Instanz und/oder die Aufgaben in einem angemessenen Zeitraum neu gestartet werden können, sind Benutzer der Anwendung möglicherweise nicht davon betroffen.</span><span class="sxs-lookup"><span data-stu-id="480e3-405">If the compute instance and/or tasks can be restarted within an appropriate interval, users of the application might not be affected.</span></span>
* <span data-ttu-id="480e3-406">**Sicherheit**: Für Hintergrundaufgaben gelten möglicherweise andere Sicherheitsanforderungen oder Einschränkungen als für die Benutzeroberfläche oder andere Teile der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="480e3-406">**Security**: Background tasks might have different security requirements or restrictions than the UI or other parts of the application.</span></span> <span data-ttu-id="480e3-407">Wenn Sie eine separate Serverinstanz verwenden, können Sie für diese Aufgaben eine andere Sicherheitsumgebung angeben.</span><span class="sxs-lookup"><span data-stu-id="480e3-407">By using a separate compute instance, you can specify a different security environment for the tasks.</span></span> <span data-ttu-id="480e3-408">Sie können auch Muster wie Gatekeeper verwenden, um die Serverinstanzen für Hintergrundaufgaben von der Benutzeroberfläche zu isolieren und Sicherheit und Trennung zu maximieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-408">You can also use patterns such as Gatekeeper to isolate the background compute instances from the UI in order to maximize security and separation.</span></span>
* <span data-ttu-id="480e3-409">**Leistung**: Sie können den Serverinstanztyp für Hintergrundaufgaben wählen, der speziell den Leistungsanforderungen der Aufgaben entspricht.</span><span class="sxs-lookup"><span data-stu-id="480e3-409">**Performance**: You can choose the type of compute instance for background tasks to specifically match the performance requirements of the tasks.</span></span> <span data-ttu-id="480e3-410">Dies kann bedeuten, dass eine kostengünstigere Compute-Option ausreicht, wenn für die Aufgaben nicht dieselben Verarbeitungsfunktionen wie für die Benutzeroberfläche erforderlich sind, oder dass eine größere Instanz verwendet werden muss, wenn sie zusätzliche Kapazität und Ressourcen erfordern.</span><span class="sxs-lookup"><span data-stu-id="480e3-410">This might mean using a less expensive compute option if the tasks do not require the same processing capabilities as the UI, or a larger instance if they require additional capacity and resources.</span></span>
* <span data-ttu-id="480e3-411">**Verwaltbarkeit**: Hintergrundaufgaben haben möglicherweise einen anderen Entwicklungs- und Bereitstellungsrhythmus als der Hauptanwendungscode oder die Benutzeroberfläche.</span><span class="sxs-lookup"><span data-stu-id="480e3-411">**Manageability**: Background tasks might have a different development and deployment rhythm from the main application code or the UI.</span></span> <span data-ttu-id="480e3-412">Durch ihre Bereitstellung in einer separaten Serverinstanz können Aktualisierungen und die Versionsverwaltung vereinfacht werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-412">Deploying them to a separate compute instance can simplify updates and versioning.</span></span>
* <span data-ttu-id="480e3-413">**Kosten**: Durch das Hinzufügen von Serverinstanzen zur Ausführung von Hintergrundaufgaben steigen die Hostingkosten.</span><span class="sxs-lookup"><span data-stu-id="480e3-413">**Cost**: Adding compute instances to execute background tasks increases hosting costs.</span></span> <span data-ttu-id="480e3-414">Sie sollten sorgfältig zwischen zusätzlicher Kapazität und zusätzlichen Kosten abwägen.</span><span class="sxs-lookup"><span data-stu-id="480e3-414">You should carefully consider the trade-off between additional capacity and these extra costs.</span></span>

<span data-ttu-id="480e3-415">Weitere Informationen finden Sie unter [Muster für die Auswahl einer übergeordneten Instanz](http://msdn.microsoft.com/library/dn568104.aspx) und [Muster für konkurrierende Consumer](http://msdn.microsoft.com/library/dn568101.aspx).</span><span class="sxs-lookup"><span data-stu-id="480e3-415">For more information, see [Leader Election Pattern](http://msdn.microsoft.com/library/dn568104.aspx) and [Competing Consumers Pattern](http://msdn.microsoft.com/library/dn568101.aspx).</span></span>

## <a name="conflicts"></a><span data-ttu-id="480e3-416">Konflikte</span><span class="sxs-lookup"><span data-stu-id="480e3-416">Conflicts</span></span>
<span data-ttu-id="480e3-417">Wenn mehrere Instanzen eines Hintergrundauftrags vorhanden sind, ist es möglich, dass sie um den Zugriff auf Ressourcen und Dienste wie Datenbanken und Speicher konkurrieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-417">If you have multiple instances of a background job, it is possible that they will compete for access to resources and services, such as databases and storage.</span></span> <span data-ttu-id="480e3-418">Dieser gleichzeitige Zugriff kann zu Ressourcenkonflikte führen, die Konflikte bei der Verfügbarkeit der Dienste und der Integrität der Daten im Speicher verursachen können.</span><span class="sxs-lookup"><span data-stu-id="480e3-418">This concurrent access can result in resource contention, which might cause conflicts in availability of the services and in the integrity of data in storage.</span></span> <span data-ttu-id="480e3-419">Sie können Ressourcenkonflikte lösen, indem Sie pessimistische Sperren verwenden.</span><span class="sxs-lookup"><span data-stu-id="480e3-419">You can resolve resource contention by using a pessimistic locking approach.</span></span> <span data-ttu-id="480e3-420">Dadurch wird verhindert, dass konkurrierende Instanzen einer Aufgabe gleichzeitig auf einen Dienst zugreifen oder Daten beschädigen.</span><span class="sxs-lookup"><span data-stu-id="480e3-420">This prevents competing instances of a task from concurrently accessing a service or corrupting data.</span></span>

<span data-ttu-id="480e3-421">Ein anderer Konfliktlösungsansatz ist die Definition der Hintergrundaufgaben als Singleton, sodass immer nur eine Instanz ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-421">Another approach to resolve conflicts is to define background tasks as a singleton, so that there is only ever one instance running.</span></span> <span data-ttu-id="480e3-422">Allerdings gehen dadurch die Vorteile hinsichtlich der Zuverlässigkeit und Leistung verloren, die eine Konfiguration mit mehreren Instanzen bieten kann.</span><span class="sxs-lookup"><span data-stu-id="480e3-422">However, this eliminates the reliability and performance benefits that a multiple-instance configuration can provide.</span></span> <span data-ttu-id="480e3-423">Dies gilt insbesondere dann, wenn die Benutzeroberfläche genügend Arbeit zur Auslastung mehrerer Hintergrundaufgaben liefert.</span><span class="sxs-lookup"><span data-stu-id="480e3-423">This is especially true if the UI can supply sufficient work to keep more than one background task busy.</span></span>

<span data-ttu-id="480e3-424">Es muss unbedingt sichergestellt werden, dass die Hintergrundaufgabe automatisch neu gestartet werden kann und dass ausreichend Kapazität zur Verarbeitung von Nachfragespitzen verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="480e3-424">It is vital to ensure that the background task can automatically restart and that it has sufficient capacity to cope with peaks in demand.</span></span> <span data-ttu-id="480e3-425">Sie können dies erreichen, indem Sie einer Compute-Instanz ausreichend Ressourcen zuordnen, einen Warteschlangenmechanismus implementieren, der Anforderungen für die spätere Ausführung in Zeiten geringerer Nachfrage speichern kann, oder eine Kombination dieser Techniken verwenden.</span><span class="sxs-lookup"><span data-stu-id="480e3-425">You can achieve this by allocating a compute instance with sufficient resources, by implementing a queueing mechanism that can store requests for later execution when demand decreases, or by using a combination of these techniques.</span></span>

## <a name="coordination"></a><span data-ttu-id="480e3-426">Koordination</span><span class="sxs-lookup"><span data-stu-id="480e3-426">Coordination</span></span>
<span data-ttu-id="480e3-427">Die Hintergrundaufgaben können komplex sein und die Ausführung von mehreren Einzelaufgaben erfordern, um ein Ergebnis zu erhalten oder alle Anforderungen zu erfüllen.</span><span class="sxs-lookup"><span data-stu-id="480e3-427">The background tasks might be complex and might require multiple individual tasks to execute to produce a result or to fulfil all the requirements.</span></span> <span data-ttu-id="480e3-428">In diesen Szenarien wird die Aufgabe häufig in kleinere Einzelschritte oder Unteraufgaben aufgeteilt, die von mehreren Consumern ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="480e3-428">It is common in these scenarios to divide the task into smaller discreet steps or subtasks that can be executed by multiple consumers.</span></span> <span data-ttu-id="480e3-429">Aus mehreren Schritten bestehende Aufträge können effizienter und flexibler sein, da einzelne Schritte möglicherweise in mehreren Aufträgen wiederverwendbar sind.</span><span class="sxs-lookup"><span data-stu-id="480e3-429">Multistep jobs can be more efficient and more flexible because individual steps might be reusable in multiple jobs.</span></span> <span data-ttu-id="480e3-430">Zudem können einzelne Schritte einfach hinzugefügt oder entfernt werden, oder die Reihenfolge der Schritte kann geändert werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-430">It is also easy to add, remove, or modify the order of the steps.</span></span>

<span data-ttu-id="480e3-431">Die Koordination mehrerer Aufgaben und Schritte kann schwierig sein, aber es gibt drei allgemeine Muster, an denen Sie sich bei der Implementierung einer Lösung orientieren können:</span><span class="sxs-lookup"><span data-stu-id="480e3-431">Coordinating multiple tasks and steps can be challenging, but there are three common patterns that you can use to guide your implementation of a solution:</span></span>

* <span data-ttu-id="480e3-432">**Zerlegen einer Aufgabe in mehrere wiederverwendbare Schritte**.</span><span class="sxs-lookup"><span data-stu-id="480e3-432">**Decomposing a task into multiple reusable steps**.</span></span> <span data-ttu-id="480e3-433">Es kann von einer Anwendung verlangt werden, dass sie verschiedene Aufgaben unterschiedlicher Komplexität mit den von ihr verarbeiteten Informationen ausführt.</span><span class="sxs-lookup"><span data-stu-id="480e3-433">An application might be required to perform a variety of tasks of varying complexity on the information that it processes.</span></span> <span data-ttu-id="480e3-434">Ein einfacher, aber unflexibler Ansatz zur Implementierung einer solchen Anwendung könnte darin bestehen, diese Verarbeitung in einem monolithischen Modul durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="480e3-434">A straightforward but inflexible approach to implementing this application might be to perform this processing as a monolithic module.</span></span> <span data-ttu-id="480e3-435">Dieser Ansatz würde jedoch die Möglichkeiten zur Umgestaltung des Codes, zu seiner Optimierung und Wiederverwendung einschränken, wenn an anderer Stelle in der Anwendung Teile des gleichen Verarbeitungsmechanismus erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="480e3-435">However, this approach is likely to reduce the opportunities for refactoring the code, optimizing it, or reusing it if parts of the same processing are required elsewhere within the application.</span></span> <span data-ttu-id="480e3-436">Weitere Informationen finden Sie unter [Muster für Pipes und Filter](http://msdn.microsoft.com/library/dn568100.aspx).</span><span class="sxs-lookup"><span data-stu-id="480e3-436">For more information, see [Pipes and Filters Pattern](http://msdn.microsoft.com/library/dn568100.aspx).</span></span>
* <span data-ttu-id="480e3-437">**Verwalten der Ausführung der Schritte einer Aufgabe**.</span><span class="sxs-lookup"><span data-stu-id="480e3-437">**Managing execution of the steps for a task**.</span></span> <span data-ttu-id="480e3-438">Eine Anwendung kann Aufgaben ausführen, die eine Reihe von Schritten umfassen (von denen einige möglicherweise Remotedienste aufrufen oder auf Remoteressourcen zugreifen).</span><span class="sxs-lookup"><span data-stu-id="480e3-438">An application might perform tasks that comprise a number of steps (some of which might invoke remote services or access remote resources).</span></span> <span data-ttu-id="480e3-439">Die einzelnen Schritte können voneinander unabhängig sein, aber sie werden von der Anwendungslogik orchestriert, die die Aufgabe implementiert.</span><span class="sxs-lookup"><span data-stu-id="480e3-439">The individual steps might be independent of each other, but they are orchestrated by the application logic that implements the task.</span></span> <span data-ttu-id="480e3-440">Weitere Informationen finden Sie unter [Muster für Scheduler-Agent-Supervisor](http://msdn.microsoft.com/library/dn589780.aspx).</span><span class="sxs-lookup"><span data-stu-id="480e3-440">For more information, see [Scheduler Agent Supervisor Pattern](http://msdn.microsoft.com/library/dn589780.aspx).</span></span>
* <span data-ttu-id="480e3-441">**Verwalten der Wiederherstellung von fehlgeschlagenen Aufgabenschritten**.</span><span class="sxs-lookup"><span data-stu-id="480e3-441">**Managing recovery for task steps that fail**.</span></span> <span data-ttu-id="480e3-442">Eine Anwendung muss möglicherweise die Vorgänge rückgängig machen, die für eine Reihe von Schritten ausgeführt wurden (die schlussendlich zusammen einen konsistenten Vorgang bilden), wenn mindestens einer dieser Schritte fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="480e3-442">An application might need to undo the work that is performed by a series of steps (which together define an eventually consistent operation) if one or more of the steps fail.</span></span> <span data-ttu-id="480e3-443">Weitere Informationen finden Sie unter [Muster für eine ausgleichende Transaktion](http://msdn.microsoft.com/library/dn589804.aspx).</span><span class="sxs-lookup"><span data-stu-id="480e3-443">For more information, see [Compensating Transaction Pattern](http://msdn.microsoft.com/library/dn589804.aspx).</span></span>


## <a name="resiliency-considerations"></a><span data-ttu-id="480e3-444">Überlegungen zur Resilienz</span><span class="sxs-lookup"><span data-stu-id="480e3-444">Resiliency considerations</span></span>
<span data-ttu-id="480e3-445">Hintergrundaufgaben müssen stabil sein, um der Anwendung zuverlässige Dienste zur Verfügung stellen zu können.</span><span class="sxs-lookup"><span data-stu-id="480e3-445">Background tasks must be resilient in order to provide reliable services to the application.</span></span> <span data-ttu-id="480e3-446">Berücksichtigen Sie beim Planen und Entwerfen von Hintergrundaufgaben die folgenden Punkte:</span><span class="sxs-lookup"><span data-stu-id="480e3-446">When you are planning and designing background tasks, consider the following points:</span></span>

* <span data-ttu-id="480e3-447">Hintergrundaufgaben müssen in der Lage sein, Neustarts der Rolle oder des Dienstes ordnungsgemäß zu verarbeiten, ohne Daten zu beschädigen oder Inkonsistenzen in die Anwendung einzuführen.</span><span class="sxs-lookup"><span data-stu-id="480e3-447">Background tasks must be able to gracefully handle role or service restarts without corrupting data or introducing inconsistency into the application.</span></span> <span data-ttu-id="480e3-448">Bei langwierigen oder aus mehreren Schritten bestehenden Aufgaben sollten Sie die Verwendung von *Prüfpunkten* in Betracht ziehen, um den Status von Aufträgen im beständigen Speicher oder als Nachrichten in einer Warteschlange zu speichern, wenn dies zweckmäßig ist.</span><span class="sxs-lookup"><span data-stu-id="480e3-448">For long-running or multistep tasks, consider using *check pointing* by saving the state of jobs in persistent storage, or as messages in a queue if this is appropriate.</span></span> <span data-ttu-id="480e3-449">Beispielsweise können Sie Statusinformationen in einer Nachricht in einer Warteschlange speichern und diese Statusinformationen inkrementell mit dem Aufgabenstatus aktualisieren, sodass die Aufgabe ab dem letzten bekannten fehlerfreien Prüfpunkt verarbeitet werden kann, statt sie ganz von vorn neu starten zu müssen.</span><span class="sxs-lookup"><span data-stu-id="480e3-449">For example, you can persist state information in a message in a queue and incrementally update this state information with the task progress so that the task can be processed from the last known good checkpoint--instead of restarting from the beginning.</span></span> <span data-ttu-id="480e3-450">Bei Verwendung von Azure Service Bus-Warteschlangen können Sie dieses Szenario mithilfe von Nachrichtensitzungen ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="480e3-450">When using Azure Service Bus queues, you can use message sessions to enable the same scenario.</span></span> <span data-ttu-id="480e3-451">Sitzungen ermöglichen Ihnen, den Anwendungsverarbeitungsstatus mithilfe der Methoden [SetState](https://docs.microsoft.com/dotnet/api/microsoft.servicebus.messaging.messagesession.setstate?view=azureservicebus-4.0.0) und [GetState](https://docs.microsoft.com/dotnet/api/microsoft.servicebus.messaging.messagesession.getstate?view=azureservicebus-4.0.0) zu speichern und abzurufen.</span><span class="sxs-lookup"><span data-stu-id="480e3-451">Sessions allow you to save and retrieve the application processing state by using the [SetState](https://docs.microsoft.com/dotnet/api/microsoft.servicebus.messaging.messagesession.setstate?view=azureservicebus-4.0.0) and [GetState](https://docs.microsoft.com/dotnet/api/microsoft.servicebus.messaging.messagesession.getstate?view=azureservicebus-4.0.0) methods.</span></span> <span data-ttu-id="480e3-452">Weitere Informationen zum Entwerfen von zuverlässigen mehrstufigen Prozessen und Workflows finden Sie unter [Muster für Scheduler-Agent-Supervisor](http://msdn.microsoft.com/library/dn589780.aspx).</span><span class="sxs-lookup"><span data-stu-id="480e3-452">For more information about designing reliable multistep processes and workflows, see [Scheduler Agent Supervisor Pattern](http://msdn.microsoft.com/library/dn589780.aspx).</span></span>
* <span data-ttu-id="480e3-453">Wenn Sie Web- oder Workerrollen zum Hosten mehrerer Hintergrundaufgaben verwenden, sollten Sie Ihre Überschreibung der **Run** -Methode so entwerfen, dass fehlgeschlagene oder angehaltene Aufgaben erkannt und neu gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-453">When you use web or worker roles to host multiple background tasks, design your override of the **Run** method to monitor for failed or stalled tasks, and restart them.</span></span> <span data-ttu-id="480e3-454">Falls dies nicht praktikabel ist und Sie eine Workerrolle verwenden, erzwingen Sie den Neustart der Workerrolle, indem Sie die **Run** -Methode beenden.</span><span class="sxs-lookup"><span data-stu-id="480e3-454">Where this is not practical, and you are using a worker role, force the worker role to restart by exiting from the **Run** method.</span></span>
* <span data-ttu-id="480e3-455">Wenn Sie Warteschlangen zur Kommunikation mit Hintergrundaufgaben verwenden, können die Warteschlangen in Zeiten, in denen die Auslastung der Anwendung höher als üblich ist, als Puffer zum Speichern von Anforderungen, die an die Aufgaben gesendet werden, fungieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-455">When you use queues to communicate with background tasks, the queues can act as a buffer to store requests that are sent to the tasks while the application is under higher than usual load.</span></span> <span data-ttu-id="480e3-456">Dadurch können die Aufgaben in Zeiträumen mit einer geringeren Auslastung mit der Benutzeroberfläche gleich ziehen.</span><span class="sxs-lookup"><span data-stu-id="480e3-456">This allows the tasks to catch up with the UI during less busy periods.</span></span> <span data-ttu-id="480e3-457">Es bedeutet auch, dass die Benutzeroberfläche nicht durch die Wiederverwendung der Rolle blockiert wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-457">It also means that recycling the role will not block the UI.</span></span> <span data-ttu-id="480e3-458">Weitere Informationen finden Sie unter [Warteschlangenbasiertes Lastenausgleichsmuster](http://msdn.microsoft.com/library/dn589783.aspx).</span><span class="sxs-lookup"><span data-stu-id="480e3-458">For more information, see [Queue-Based Load Leveling Pattern](http://msdn.microsoft.com/library/dn589783.aspx).</span></span> <span data-ttu-id="480e3-459">Wenn einige Aufgaben wichtiger als andere sind, ziehen Sie in Betracht, durch eine Implementierung des [Prioritätswarteschlangenmusters](http://msdn.microsoft.com/library/dn589794.aspx) sicherzustellen, dass diese Aufgaben vor den weniger wichtigen Aufgaben ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-459">If some tasks are more important than others, consider implementing the [Priority Queue Pattern](http://msdn.microsoft.com/library/dn589794.aspx) to ensure that these tasks run before less important ones.</span></span>
* <span data-ttu-id="480e3-460">Hintergrundaufgaben, die durch Nachrichten ausgelöst werden oder Nachrichten verarbeiten, müssen so entworfen werden, dass sie Inkonsistenzen behandeln können. Dies sind beispielsweise Nachrichten, die nicht in der richtigen Reihenfolge eintreffen, Nachrichten, die wiederholt einen Fehler verursachen (so genannte *nicht verarbeitbare Nachrichten*), und Nachrichten, die mehrmals übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-460">Background tasks that are initiated by messages or process messages must be designed to handle inconsistencies, such as messages arriving out of order, messages that repeatedly cause an error (often referred to as *poison messages*), and messages that are delivered more than once.</span></span> <span data-ttu-id="480e3-461">Beachten Sie Folgendes:</span><span class="sxs-lookup"><span data-stu-id="480e3-461">Consider the following:</span></span>
  * <span data-ttu-id="480e3-462">Nachrichten, die in einer bestimmten Reihenfolge verarbeitet werden müssen, z. B. Nachrichten, die Daten basierend auf dem vorhandenen Datenwert (z. B. durch Hinzufügen eines Werts zu einem vorhandenen Wert) ändern, treffen möglicherweise nicht in der ursprünglichen Reihenfolge ein, in der sie gesendet wurden.</span><span class="sxs-lookup"><span data-stu-id="480e3-462">Messages that must be processed in a specific order, such as those that change data based on the existing data value (for example, adding a value to an existing value), might not arrive in the original order in which they were sent.</span></span> <span data-ttu-id="480e3-463">Stattdessen können sie auch von anderen Instanzen einer Hintergrundaufgabe in einer anderen Reihenfolge je nach Auslastung der verschiedenen Instanzen behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-463">Alternatively, they might be handled by different instances of a background task in a different order due to varying loads on each instance.</span></span> <span data-ttu-id="480e3-464">Nachrichten, die in einer bestimmten Reihenfolge verarbeitet werden müssen, sollten eine Sequenznummer, einen Schlüssel oder einen anderen Indikator enthalten, damit in Hintergrundaufgaben sichergestellt werden kann, dass sie in der richtigen Reihenfolge verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-464">Messages that must be processed in a specific order should include a sequence number, key, or some other indicator that background tasks can use to ensure that they are processed in the correct order.</span></span> <span data-ttu-id="480e3-465">Bei Verwendung von Azure Service Bus können Sie mit Nachrichtensitzungen die Reihenfolge der Bereitstellung gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="480e3-465">If you are using Azure Service Bus, you can use message sessions to guarantee the order of delivery.</span></span> <span data-ttu-id="480e3-466">Es ist in der Regel jedoch effizienter, den Prozess möglichst so zu entwerfen, dass die Reihenfolge der Nachrichten nicht von Bedeutung ist.</span><span class="sxs-lookup"><span data-stu-id="480e3-466">However, it is usually more efficient, where possible, to design the process so that the message order is not important.</span></span>
  * <span data-ttu-id="480e3-467">In der Regel sieht eine Hintergrundaufgabe Nachrichten in der Warteschlange ein. Dadurch sind sie vorübergehend vor anderen Nachrichtenconsumern verborgen.</span><span class="sxs-lookup"><span data-stu-id="480e3-467">Typically, a background task will peek at messages in the queue, which temporarily hides them from other message consumers.</span></span> <span data-ttu-id="480e3-468">Dann löscht sie die Nachrichten, nachdem sie erfolgreich verarbeitet wurden.</span><span class="sxs-lookup"><span data-stu-id="480e3-468">Then it deletes the messages after they have been successfully processed.</span></span> <span data-ttu-id="480e3-469">Wenn eine Hintergrundaufgabe beim Verarbeiten einer Nachricht fehlschlägt, wird die Nachricht in der Warteschlange erneut angezeigt, sobald das Timeout für das Einsehen erreicht ist.</span><span class="sxs-lookup"><span data-stu-id="480e3-469">If a background task fails when processing a message, that message will reappear on the queue after the peek time-out expires.</span></span> <span data-ttu-id="480e3-470">Sie wird von einer anderen Instanz der Aufgabe oder während des nächsten Verarbeitungszyklus dieser Instanz verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="480e3-470">It will be processed by another instance of the task or during the next processing cycle of this instance.</span></span> <span data-ttu-id="480e3-471">Wenn die Nachricht beständig einen Fehler im Consumer verursacht, blockiert sie die Aufgabe, die Warteschlange und schließlich die Anwendung selbst, wenn die Warteschlange voll ist.</span><span class="sxs-lookup"><span data-stu-id="480e3-471">If the message consistently causes an error in the consumer, it will block the task, the queue, and eventually the application itself when the queue becomes full.</span></span> <span data-ttu-id="480e3-472">Daher ist es wichtig, dass nicht verarbeitbare Nachrichten erkannt und aus der Warteschlange entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-472">Therefore, it is vital to detect and remove poison messages from the queue.</span></span> <span data-ttu-id="480e3-473">Bei Verwendung von Azure Service Bus können Nachrichten, die einen Fehler verursachen, automatisch oder manuell an eine zugeordnete Warteschlange für unzustellbare Nachrichten verschoben werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-473">If you are using Azure Service Bus, messages that cause an error can be moved automatically or manually to an associated dead letter queue.</span></span>
  * <span data-ttu-id="480e3-474">Warteschlangen verfügen garantiert über Übermittlungsmechanismen für eine *mindestens einmalige* Zustellung, aber sie können die gleiche Nachricht mehrmals übermitteln.</span><span class="sxs-lookup"><span data-stu-id="480e3-474">Queues are guaranteed at *least once* delivery mechanisms, but they might deliver the same message more than once.</span></span> <span data-ttu-id="480e3-475">Wenn eine Hintergrundaufgabe ausfällt, nachdem eine Nachricht verarbeitet, aber bevor diese aus der Warteschlange gelöscht wurde, wird die Nachricht wieder zur Verarbeitung verfügbar.</span><span class="sxs-lookup"><span data-stu-id="480e3-475">In addition, if a background task fails after processing a message but before deleting it from the queue, the message will become available for processing again.</span></span> <span data-ttu-id="480e3-476">Hintergrundaufgaben sollte idempotent sein, d. h. dass die mehrmalige Verarbeitung derselben Nachricht keinen Fehler oder keine Inkonsistenzen in den Daten der Anwendung verursacht.</span><span class="sxs-lookup"><span data-stu-id="480e3-476">Background tasks should be idempotent, which means that processing the same message more than once does not cause an error or inconsistency in the application’s data.</span></span> <span data-ttu-id="480e3-477">Einige Vorgänge sind naturgemäß idempotent, z. B. das Festlegen einer gespeicherten Einstellung auf einen bestimmten neuen Wert.</span><span class="sxs-lookup"><span data-stu-id="480e3-477">Some operations are naturally idempotent, such as setting a stored value to a specific new value.</span></span> <span data-ttu-id="480e3-478">Jedoch führen andere Vorgänge zu Inkonsistenzen, z. B. das Hinzufügen eines Werts zu einem vorhandenen gespeicherten Wert, ohne zu überprüfen, ob der gespeicherte Wert dem Wert entspricht, der in der Nachricht ursprünglich gesendet wurde.</span><span class="sxs-lookup"><span data-stu-id="480e3-478">However, operations such as adding a value to an existing stored value without checking that the stored value is still the same as when the message was originally sent will cause inconsistencies.</span></span> <span data-ttu-id="480e3-479">Azure Service Bus-Warteschlangen können so konfiguriert werden, dass doppelte Nachrichten automatisch entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-479">Azure Service Bus queues can be configured to automatically remove duplicated messages.</span></span>
  * <span data-ttu-id="480e3-480">Einige Messagingsysteme, wie z. B. Azure-Speicherwarteschlangen und Azure Service Bus-Warteschlangen unterstützen eine Eigenschaft, die angibt, wie oft eine Nachricht aus der Warteschlange gelesen wurde.</span><span class="sxs-lookup"><span data-stu-id="480e3-480">Some messaging systems, such as Azure storage queues and Azure Service Bus queues, support a de-queue count property that indicates the number of times a message has been read from the queue.</span></span> <span data-ttu-id="480e3-481">Dies kann bei der Verarbeitung wiederholter und nicht verarbeitbarer Nachrichten hilfreich sein.</span><span class="sxs-lookup"><span data-stu-id="480e3-481">This can be useful in handling repeated and poison messages.</span></span> <span data-ttu-id="480e3-482">Weitere Informationen finden Sie unter [Einführung in asynchrone Nachrichten](http://msdn.microsoft.com/library/dn589781.aspx) und [Idempotenzmuster](http://blog.jonathanoliver.com/2010/04/idempotency-patterns/).</span><span class="sxs-lookup"><span data-stu-id="480e3-482">For more information, see [Asynchronous Messaging Primer](http://msdn.microsoft.com/library/dn589781.aspx) and [Idempotency Patterns](http://blog.jonathanoliver.com/2010/04/idempotency-patterns/).</span></span>

## <a name="scaling-and-performance-considerations"></a><span data-ttu-id="480e3-483">Überlegungen zur Skalierung und Leistung</span><span class="sxs-lookup"><span data-stu-id="480e3-483">Scaling and performance considerations</span></span>
<span data-ttu-id="480e3-484">Hintergrundaufgaben müssen ausreichend Leistung bieten, damit sichergestellt ist, dass sie nicht die Anwendung blockieren oder durch eine verzögerte Verarbeitung bei einem stark ausgelasteten System zu Inkonsistenzen führen.</span><span class="sxs-lookup"><span data-stu-id="480e3-484">Background tasks must offer sufficient performance to ensure they do not block the application, or cause inconsistencies due to delayed operation when the system is under load.</span></span> <span data-ttu-id="480e3-485">In der Regel wird die Leistung durch die Skalierung der Serverinstanzen, die die Hintergrundaufgaben hosten, verbessert.</span><span class="sxs-lookup"><span data-stu-id="480e3-485">Typically, performance is improved by scaling the compute instances that host the background tasks.</span></span> <span data-ttu-id="480e3-486">Berücksichtigen Sie beim Planen und Entwerfen von Hintergrundaufgaben die folgenden Punkte in Bezug auf Skalierbarkeit und Leistung:</span><span class="sxs-lookup"><span data-stu-id="480e3-486">When you are planning and designing background tasks, consider the following points around scalability and performance:</span></span>

* <span data-ttu-id="480e3-487">Azure unterstützt die automatische Skalierung (horizontales Hoch- und Herunterskalieren) basierend auf der aktuellen Nachfrage und Last oder nach einem vordefinierten Zeitplan für Web-Apps, Web- und Workerrollen von Cloud Services sowie Bereitstellungen, die auf virtuellen Computern gehostet werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-487">Azure supports autoscaling (both scaling out and scaling back in) based on current demand and load--or on a predefined schedule, for Web Apps, Cloud Services web and worker roles, and Virtual Machines hosted deployments.</span></span> <span data-ttu-id="480e3-488">Nutzen Sie diese Funktion, um sicherzustellen, dass die Anwendung als Ganzes über ausreichend Leistungsfähigkeit verfügt, und gleichzeitig die Laufzeitkosten zu minimieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-488">Use this feature to ensure that the application as a whole has sufficient performance capabilities while minimizing runtime costs.</span></span>
* <span data-ttu-id="480e3-489">Wenn Hintergrundaufgaben eine andere Leistungsfähigkeit als andere Teile einer Cloud Services-Anwendung haben (z. B. die Benutzeroberfläche oder Komponenten wie die Datenzugriffsschicht), kann durch das gemeinsame Hosten der Hintergrundaufgaben in einer separaten Workerrolle erreicht werden, dass die Benutzeroberfläche und die Hintergrundaufgabenrollen unabhängig voneinander skaliert werden, um die Last zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="480e3-489">Where background tasks have a different performance capability from the other parts of a Cloud Services application (for example, the UI or components such as the data access layer), hosting the background tasks together in a separate worker role allows the UI and background task roles to scale independently to manage the load.</span></span> <span data-ttu-id="480e3-490">Wenn sich die Leistungsfähigkeit verschiedener Hintergrundaufgaben deutlich voneinander unterscheidet, sollten Sie in Erwägung ziehen, diese in verschiedene Workerrollen aufzuteilen und die verschiedenen Rollentypen getrennt voneinander zu skalieren.</span><span class="sxs-lookup"><span data-stu-id="480e3-490">If multiple background tasks have significantly different performance capabilities from each other, consider dividing them into separate worker roles and scaling each role type independently.</span></span> <span data-ttu-id="480e3-491">Verglichen mit der Kombination aller Aufgaben in einer kleineren Anzahl von Rollen kann dies jedoch zu höheren Laufzeitkosten führen.</span><span class="sxs-lookup"><span data-stu-id="480e3-491">However, note that this might increase runtime costs compared to combining all the tasks into fewer roles.</span></span>
* <span data-ttu-id="480e3-492">Eine einfache Skalierung der Rollen ist u. U. nicht ausreichend, um Leistungsverluste unter Last zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="480e3-492">Simply scaling the roles might not be sufficient to prevent loss of performance under load.</span></span> <span data-ttu-id="480e3-493">Sie müssen möglicherweise auch Speicherwarteschlangen und andere Ressourcen skalieren, um zu vermeiden, dass ein einzelner Punkt in der gesamten Verarbeitungskette zum Engpass wird.</span><span class="sxs-lookup"><span data-stu-id="480e3-493">You might also need to scale storage queues and other resources to prevent a single point of the overall processing chain from becoming a bottleneck.</span></span> <span data-ttu-id="480e3-494">Berücksichtigen Sie auch andere Einschränkungen, z. B. den maximalen Durchsatz des Speichers sowie anderer Dienste, von denen die Anwendung und die Hintergrundaufgaben abhängen.</span><span class="sxs-lookup"><span data-stu-id="480e3-494">Also, consider other limitations, such as the maximum throughput of storage and other services that the application and the background tasks rely on.</span></span>
* <span data-ttu-id="480e3-495">Hintergrundaufgaben müssen für die Skalierung konzipiert werden.</span><span class="sxs-lookup"><span data-stu-id="480e3-495">Background tasks must be designed for scaling.</span></span> <span data-ttu-id="480e3-496">Beispielsweise müssen sie dynamisch die Anzahl der verwendeten Speicherwarteschlangen erkennen können, um Nachrichten überwachen oder an die entsprechende Warteschlange senden zu können.</span><span class="sxs-lookup"><span data-stu-id="480e3-496">For example, they must be able to dynamically detect the number of storage queues in use in order to listen on or send messages to the appropriate queue.</span></span>
* <span data-ttu-id="480e3-497">In der Standardeinstellung werden WebJobs zusammen mit ihrer zugehörigen Azure-Web-Apps-Instanz skaliert.</span><span class="sxs-lookup"><span data-stu-id="480e3-497">By default, WebJobs scale with their associated Azure Web Apps instance.</span></span> <span data-ttu-id="480e3-498">Wenn ein WebJob jedoch nur als einzelne Instanz ausgeführt werden soll, können Sie eine Datei namens „Settings.job“ erstellen, in der die JSON-Daten **{"Is_singleton": true}** enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="480e3-498">However, if you want a WebJob to run as only a single instance, you can create a Settings.job file that contains the JSON data **{ "is_singleton": true }**.</span></span> <span data-ttu-id="480e3-499">Dadurch wird Azure gezwungen, nur eine Instanz des WebJob auszuführen, auch wenn mehrere Instanzen der zugeordneten Web-App vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="480e3-499">This forces Azure to only run one instance of the WebJob, even if there are multiple instances of the associated web app.</span></span> <span data-ttu-id="480e3-500">Dies kann eine nützliche Technik für geplante Aufträge sein, die nur als einzelne Instanz ausgeführt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="480e3-500">This can be a useful technique for scheduled jobs that must run as only a single instance.</span></span>

## <a name="related-patterns"></a><span data-ttu-id="480e3-501">Verwandte Muster</span><span class="sxs-lookup"><span data-stu-id="480e3-501">Related patterns</span></span>
* [<span data-ttu-id="480e3-502">Einführung in asynchrone Nachrichten</span><span class="sxs-lookup"><span data-stu-id="480e3-502">Asynchronous Messaging Primer</span></span>](http://msdn.microsoft.com/library/dn589781.aspx)
* [<span data-ttu-id="480e3-503">Anleitungen für die automatische Skalierung</span><span class="sxs-lookup"><span data-stu-id="480e3-503">Autoscaling Guidance</span></span>](http://msdn.microsoft.com/library/dn589774.aspx)
* [<span data-ttu-id="480e3-504">Muster für eine ausgleichende Transaktion</span><span class="sxs-lookup"><span data-stu-id="480e3-504">Compensating Transaction Pattern</span></span>](http://msdn.microsoft.com/library/dn589804.aspx)
* [<span data-ttu-id="480e3-505">Muster für konkurrierende Consumer</span><span class="sxs-lookup"><span data-stu-id="480e3-505">Competing Consumers Pattern</span></span>](http://msdn.microsoft.com/library/dn568101.aspx)
* [<span data-ttu-id="480e3-506">Leitfaden zur Serverpartitionierung</span><span class="sxs-lookup"><span data-stu-id="480e3-506">Compute Partitioning Guidance</span></span>](http://msdn.microsoft.com/library/dn589773.aspx)
* [<span data-ttu-id="480e3-507">Serverressourcen-Konsolidierungsmuster</span><span class="sxs-lookup"><span data-stu-id="480e3-507">Compute Resource Consolidation Pattern</span></span>](http://msdn.microsoft.com/library/dn589778.aspx)
* [<span data-ttu-id="480e3-508">Gatekeeper-Muster</span><span class="sxs-lookup"><span data-stu-id="480e3-508">Gatekeeper Pattern</span></span>](http://msdn.microsoft.com/library/dn589793.aspx)
* [<span data-ttu-id="480e3-509">Muster für die Auswahl einer übergeordneten Instanz</span><span class="sxs-lookup"><span data-stu-id="480e3-509">Leader Election Pattern</span></span>](http://msdn.microsoft.com/library/dn568104.aspx)
* [<span data-ttu-id="480e3-510">Muster für Pipes und Filter</span><span class="sxs-lookup"><span data-stu-id="480e3-510">Pipes and Filters Pattern</span></span>](http://msdn.microsoft.com/library/dn568100.aspx)
* [<span data-ttu-id="480e3-511">Prioritätswarteschlangenmuster</span><span class="sxs-lookup"><span data-stu-id="480e3-511">Priority Queue Pattern</span></span>](http://msdn.microsoft.com/library/dn589794.aspx)
* [<span data-ttu-id="480e3-512">Warteschlangenbasiertes Lastenausgleichsmuster</span><span class="sxs-lookup"><span data-stu-id="480e3-512">Queue-based Load Leveling Pattern</span></span>](http://msdn.microsoft.com/library/dn589783.aspx)
* [<span data-ttu-id="480e3-513">Muster für Scheduler-Agent-Supervisor</span><span class="sxs-lookup"><span data-stu-id="480e3-513">Scheduler Agent Supervisor Pattern</span></span>](http://msdn.microsoft.com/library/dn589780.aspx)

## <a name="more-information"></a><span data-ttu-id="480e3-514">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="480e3-514">More information</span></span>
* [<span data-ttu-id="480e3-515">Skalieren von Azure-Anwendungen mit Workerrollen</span><span class="sxs-lookup"><span data-stu-id="480e3-515">Scaling Azure Applications with Worker Roles</span></span>](http://msdn.microsoft.com/library/hh534484.aspx#sec8)
* [<span data-ttu-id="480e3-516">Ausführen von Hintergrundaufgaben</span><span class="sxs-lookup"><span data-stu-id="480e3-516">Executing Background Tasks</span></span>](http://msdn.microsoft.com/library/ff803365.aspx)
* <span data-ttu-id="480e3-517">[Azure Role Startup Life Cycle](http://blog.syntaxc4.net/post/2011/04/13/windows-azure-role-startup-life-cycle.aspx) (Lebenszyklus eines Azure-Rollenstarts, Blogbeitrag)</span><span class="sxs-lookup"><span data-stu-id="480e3-517">[Azure Role Startup Life Cycle](http://blog.syntaxc4.net/post/2011/04/13/windows-azure-role-startup-life-cycle.aspx) (blog post)</span></span>
* <span data-ttu-id="480e3-518">[Lebenszyklus von Azure Cloud Services-Rollen](http://channel9.msdn.com/Series/Windows-Azure-Cloud-Services-Tutorials/Windows-Azure-Cloud-Services-Role-Lifecycle) (Video)</span><span class="sxs-lookup"><span data-stu-id="480e3-518">[Azure Cloud Services Role Lifecycle](http://channel9.msdn.com/Series/Windows-Azure-Cloud-Services-Tutorials/Windows-Azure-Cloud-Services-Role-Lifecycle) (video)</span></span>
* [<span data-ttu-id="480e3-519">Was ist das Azure WebJobs SDK?</span><span class="sxs-lookup"><span data-stu-id="480e3-519">What is the Azure WebJobs SDK</span></span>](https://docs.microsoft.com/en-us/azure/app-service-web/websites-dotnet-webjobs-sdk)
* [<span data-ttu-id="480e3-520">Erstellen eines .NET-WebJobs in Azure App Service</span><span class="sxs-lookup"><span data-stu-id="480e3-520">Create a .NET WebJob in Azure App Service</span></span>](https://docs.microsoft.com/en-us/azure/app-service-web/websites-dotnet-webjobs-sdk-get-started)
* [<span data-ttu-id="480e3-521">Ausführen von Hintergrundaufgaben mit WebJobs</span><span class="sxs-lookup"><span data-stu-id="480e3-521">Run Background tasks with WebJobs</span></span>](https://docs.microsoft.com/en-us/azure/app-service-web/web-sites-create-web-jobs)
* [<span data-ttu-id="480e3-522">Azure-Warteschlangen und Service Bus-Warteschlangen – Vergleich und Gegenüberstellung</span><span class="sxs-lookup"><span data-stu-id="480e3-522">Azure Queues and Service Bus Queues - Compared and Contrasted</span></span>](https://docs.microsoft.com/en-us/azure/service-bus-messaging/service-bus-azure-and-service-bus-queues-compared-contrasted)
* [<span data-ttu-id="480e3-523">Aktivieren der Diagnose in einem Clouddienst</span><span class="sxs-lookup"><span data-stu-id="480e3-523">How to Enable Diagnostics in a Cloud Service</span></span>](https://docs.microsoft.com/en-us/azure/cloud-services/cloud-services-dotnet-diagnostics)

