---
title: Anleitungen zum Content Delivery Network
description: "Anleitungen zum Content Delivery Network (CDN) für die Bereitstellung von in Azure gehosteten Inhalten mit hoher Bandbreite."
author: dragon119
ms.date: 09/30/2016
pnp.series.title: Best Practices
ms.openlocfilehash: fffe0b0523c0a9c817f4346744ff3b5e3f11dede
ms.sourcegitcommit: cf207fd10110f301f1e05f91eeb9f8dfca129164
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 01/29/2018
---
# <a name="content-delivery-network"></a><span data-ttu-id="5de25-103">Content Delivery Network</span><span class="sxs-lookup"><span data-stu-id="5de25-103">Content Delivery Network</span></span>
[!INCLUDE [header](../_includes/header.md)]

<span data-ttu-id="5de25-104">Das Microsoft Azure [Content Delivery Network (CDN)](/azure/cdn/cdn-overview) bietet Entwicklern eine globale Lösung für die Bereitstellung von Inhalten mit hoher Bandbreite, die in Azure oder an einem beliebigen anderen Ort gehostet werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-104">The Microsoft Azure [Content Delivery Network (CDN)](/azure/cdn/cdn-overview) offers developers a global solution for delivering high-bandwidth content that is hosted in Azure or any other location.</span></span> <span data-ttu-id="5de25-105">Mit einem CDN können Sie öffentlich verfügbare Objekte zwischenspeichern, die aus dem Azure-Blobspeicher, einer Webanwendung, einem virtuellen Computer, einem Anwendungsordner oder einem anderen HTTP-/HTTPS-Speicherort geladen werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-105">Using the CDN, you can cache publicly available objects loaded from Azure blob storage, a web application, virtual machine, application folder, or other HTTP/HTTPS location.</span></span> <span data-ttu-id="5de25-106">Der zum Zwischenspeichern verwendete CDN-Cache kann an strategischen Standorten angesiedelt werden, um beim Übermitteln des Inhalts an die Benutzer eine maximale Bandbreite zu gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="5de25-106">The CDN cache can be held at strategic locations to provide maximum bandwidth for delivering content to users.</span></span> <span data-ttu-id="5de25-107">Ein CDN wird normalerweise zum Bereitstellen statischer Inhalte wie Bilder, Stylesheets, Dokumente, Dateien, clientseitige Skripts und HTML-Seiten verwendet.</span><span class="sxs-lookup"><span data-stu-id="5de25-107">The CDN is typically used for delivering static content such as images, style sheets, documents, files, client-side scripts, and HTML pages.</span></span>

<span data-ttu-id="5de25-108">Sie können das CDN auch als Cache zum Ausliefern von dynamischem Inhalt verwenden, z. B. für einen PDF-Bericht oder ein Diagramm, das von spezifischen Eingaben abhängig ist. Wenn mehrere Benutzer die gleichen Eingabewerte eingeben, sollte das Ergebnis identisch sein.</span><span class="sxs-lookup"><span data-stu-id="5de25-108">You can also use the CDN as a cache for serving dynamic content, such as a PDF report or graph based on specified inputs; if the same input values are provided by different users the result should be the same.</span></span>

<span data-ttu-id="5de25-109">Die Hauptvorteile beim Verwenden des CDNs sind niedrigere Latenz und schnellere Bereitstellung des Inhalts für die Benutzer, und zwar unabhängig von der Entfernung des geografischen Standorts der Benutzer zu dem Datencenter, in dem die Anwendung gehostet wird.</span><span class="sxs-lookup"><span data-stu-id="5de25-109">The major advantages of using the CDN are lower latency and faster delivery of content to users irrespective of their geographical location in relation to the datacenter where the application is hosted.</span></span>  

![CDN-Diagramm](./images/cdn/CDN.png)

<span data-ttu-id="5de25-111">Mithilfe des CDN können Sie u.U. auch die Auslastung der Anwendung verringern, weil der Verarbeitungsaufwand für den Zugriff auf den Inhalt und die Inhaltsbereitstellung wegfällt.</span><span class="sxs-lookup"><span data-stu-id="5de25-111">Using the CDN should also help to reduce the load on application because it is relieved of the processing required to access and deliver the content.</span></span> <span data-ttu-id="5de25-112">Durch diese Reduzierung der Auslastung können Sie die Leistung und Skalierbarkeit der Anwendung erhöhen sowie die Hostingkosten senken, denn Sie benötigen weniger Verarbeitungsressourcen, um ein bestimmtes Leistungs- und Verfügbarkeitsniveau zu erreichen.</span><span class="sxs-lookup"><span data-stu-id="5de25-112">This reduction in load can help to increase the performance and scalability of the application, as well as minimizing hosting costs by reducing the processing resources required to achieve a specific level of performance and availability.</span></span>

## <a name="how-and-why-a-cdn-is-used"></a><span data-ttu-id="5de25-113">Wie und warum ein CDN verwendet wird</span><span class="sxs-lookup"><span data-stu-id="5de25-113">How and why a CDN is used</span></span>
<span data-ttu-id="5de25-114">Ein CDN wird häufig für Folgendes verwendet:</span><span class="sxs-lookup"><span data-stu-id="5de25-114">Typical uses for a CDN include:</span></span>  

* <span data-ttu-id="5de25-115">Bereitstellen statischer Ressourcen für Clientanwendungen, häufig von einer Website.</span><span class="sxs-lookup"><span data-stu-id="5de25-115">Delivering static resources for client applications, often from a website.</span></span> <span data-ttu-id="5de25-116">Bei diesen Ressourcen kann es sich um Bilder, Stylesheets, Dokumente, Dateien, clientseitige Skripts, HTML-Seiten, HTML-Fragmente oder andere Inhalte handeln, die der Server nicht für jede Anforderung ändern muss.</span><span class="sxs-lookup"><span data-stu-id="5de25-116">These resources can be images, style sheets, documents, files, client-side scripts, HTML pages, HTML fragments, or any other content that the server does not need to modify for each request.</span></span> <span data-ttu-id="5de25-117">Die Anwendung kann Elemente zur Laufzeit erstellen und dem CDN verfügbar machen (z. B. durch Erstellen einer Liste mit aktuellen Schlagzeilen), führt diese Aktion aber nicht für jede Anforderung aus.</span><span class="sxs-lookup"><span data-stu-id="5de25-117">The application can create items at runtime and make them available to the CDN (for example, by creating a list of current news headlines), but it does not do so for each request.</span></span>
* <span data-ttu-id="5de25-118">Bereitstellen von öffentlichen statischen und freigegebenen Inhalten auf Geräten wie Mobiltelefonen und Tablet-PCs.</span><span class="sxs-lookup"><span data-stu-id="5de25-118">Delivering public static and shared content to devices such as mobile phones and tablet computers.</span></span> <span data-ttu-id="5de25-119">Die Anwendung selbst ist ein Webdienst, der eine API für Clients bietet, die auf verschiedenen Geräten ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-119">The application itself is a web service that offers an API to clients running on the various devices.</span></span> <span data-ttu-id="5de25-120">Darüber hinaus kann das CDN statische Datasets (über den Webdienst) zur Verwendung durch die Clients bereitstellen, z. B. zum Generieren der Client-UI.</span><span class="sxs-lookup"><span data-stu-id="5de25-120">The CDN can also deliver static datasets (via the web service) for the clients to use, perhaps to generate the client UI.</span></span> <span data-ttu-id="5de25-121">Beispielsweise könnte das CDN zum Verteilen von JSON- oder XML-Dokumenten genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-121">For example, the CDN could be used to distribute JSON or XML documents.</span></span>
* <span data-ttu-id="5de25-122">Verwaltung vollständiger Websites, die nur aus öffentlichen statischen Inhalten für Clients bestehen, ohne dass dedizierte Compute-Ressourcen erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="5de25-122">Serving entire websites that consist of only public static content to clients, without requiring any dedicated compute resources.</span></span>
* <span data-ttu-id="5de25-123">Streaming von Videodateien an den Client bei Bedarf.</span><span class="sxs-lookup"><span data-stu-id="5de25-123">Streaming video files to the client on demand.</span></span> <span data-ttu-id="5de25-124">Videos profitieren von der niedrigen Latenz und der zuverlässigen Konnektivität aus den Rechenzentren auf der ganzen Welt, die CDN-Verbindungen anbieten.</span><span class="sxs-lookup"><span data-stu-id="5de25-124">Video benefits from the low latency and reliable connectivity available from the globally located datacenters that offer CDN connections.</span></span> <span data-ttu-id="5de25-125">Microsoft Azure Media Services (AMS) ist in Azure CDN integriert, damit Inhalte zur weiteren Verteilung direkt für das CDN bereitgestellt werden können.</span><span class="sxs-lookup"><span data-stu-id="5de25-125">Microsoft Azure Media Services (AMS) integrates with Azure CDN to deliver content directly to the CDN for further distribution.</span></span> <span data-ttu-id="5de25-126">Weitere Informationen finden Sie unter [Übersicht über Streamingendpunkte](/azure/media-services/media-services-streaming-endpoints-overview).</span><span class="sxs-lookup"><span data-stu-id="5de25-126">For more information, see [Streaming endpoints overview](/azure/media-services/media-services-streaming-endpoints-overview).</span></span>
* <span data-ttu-id="5de25-127">Allgemeines Verbessern der Benutzerfreundlichkeit insbesondere für Benutzer mit großer Entfernung zu dem Datencenter, auf dem die Anwendung gehostet ist.</span><span class="sxs-lookup"><span data-stu-id="5de25-127">Generally improving the experience for users, especially those located far from the datacenter hosting the application.</span></span> <span data-ttu-id="5de25-128">Diese Benutzer würden andernfalls u. U. unter einer hohen Latenz leiden.</span><span class="sxs-lookup"><span data-stu-id="5de25-128">These users might otherwise suffer higher latency.</span></span> <span data-ttu-id="5de25-129">Ein Großteil der Gesamtgröße des Inhalts in einer Webanwendung ist häufig statisch, und das Verwenden des CDN kann dazu beitragen, die Leistung und die allgemeine Benutzerfreundlichkeit aufrechtzuerhalten, während es gleichzeitig nicht erforderlich ist, die Anwendung in mehreren Rechenzentren bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="5de25-129">A large proportion of the total size of the content in a web application is often static, and using the CDN can help to maintain performance and overall user experience while eliminating the requirement to deploy the application to multiple data centers.</span></span>
* <span data-ttu-id="5de25-130">Verarbeiten der wachsenden Last bei Anwendungen, die Lösungen für das Internet der Dinge (IoT, Internet of Things) unterstützen.</span><span class="sxs-lookup"><span data-stu-id="5de25-130">Handling the growing load on applications that support IoT (Internet of Things) solutions.</span></span> <span data-ttu-id="5de25-131">Die große Anzahl solcher Geräte und Appliances kann eine Anwendung schnell überlasten, wenn sie  Broadcastmeldungen verarbeiten und die Firmwareupdateverteilung für jedes Gerät direkt verwalten müsste.</span><span class="sxs-lookup"><span data-stu-id="5de25-131">The huge numbers of such devices and appliances involved could easily overwhelm an application if it was required to process broadcast messages and manage firmware update distribution directly to each device.</span></span>
* <span data-ttu-id="5de25-132">Bewältigung von Spitzen und zunehmender Nachfrage, ohne die Anwendung zu skalieren und ohne die aus der Skalierung folgenden höheren Betriebskosten hinnehmen zu müssen.</span><span class="sxs-lookup"><span data-stu-id="5de25-132">Coping with peaks and surges in demand without requiring the application to scale, avoiding the consequent increased running costs.</span></span> <span data-ttu-id="5de25-133">Wenn zum Beispiel ein Update für ein Betriebssystem veröffentlicht wird, etwa für ein Hardwaregerät wie ein bestimmtes Routermodell, oder für ein Consumergerät, z. B. ein Smart-TV, steigt der Bedarf stark an, da dieses Update innerhalb kurzer Zeit von Millionen von Benutzern und Geräten heruntergeladen wird.</span><span class="sxs-lookup"><span data-stu-id="5de25-133">For example, when an update to an operating system is released for a hardware device such as a specific model of router, or for a consumer device such as a smart TV, there will be a huge peak in demand as it is downloaded by millions of users and devices over a short period.</span></span>

<span data-ttu-id="5de25-134">Die folgende Liste enthält Beispiele für die mittlere Zeit, die an verschiedenen geografischen Standorten bis zum ersten Byte benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="5de25-134">The following list shows examples of the median time to first byte from various geographic locations.</span></span> <span data-ttu-id="5de25-135">Die Zielwebrolle wird in der Azure-Region „USA, Westen“ bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="5de25-135">The target web role is deployed to Azure West US.</span></span> <span data-ttu-id="5de25-136">Es gibt eine starke Wechselbeziehung zwischen dem größeren Boost durch das CDN und der Entfernung zu einem CDN-Knoten.</span><span class="sxs-lookup"><span data-stu-id="5de25-136">There is a strong correlation between greater boost due to the CDN and proximity to a CDN node.</span></span> <span data-ttu-id="5de25-137">Eine vollständige Liste aller Azure CDN-Knotenstandorte finden Sie unter [POP-Standorte von Azure Content Delivery Network (CDN)](/azure/cdn/cdn-pop-locations/).</span><span class="sxs-lookup"><span data-stu-id="5de25-137">A complete list of Azure CDN node locations is available at [Azure Content Delivery Network (CDN) Node Locations](/azure/cdn/cdn-pop-locations/).</span></span>

|  | <span data-ttu-id="5de25-138">Zeit (ms) bis zum ersten Byte (Ursprung)</span><span class="sxs-lookup"><span data-stu-id="5de25-138">Time (ms) to First Byte (Origin)</span></span> | <span data-ttu-id="5de25-139">Zeit (ms) bis zum ersten Byte (CDN)</span><span class="sxs-lookup"><span data-stu-id="5de25-139">Time (ms) to First (CDN)</span></span> | <span data-ttu-id="5de25-140">% Beschleunigung durch CDN</span><span class="sxs-lookup"><span data-stu-id="5de25-140">%CDN time improvement</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="5de25-141">\*San Jose, Kalifornien, USA</span><span class="sxs-lookup"><span data-stu-id="5de25-141">\*San Jose, CA</span></span> |<span data-ttu-id="5de25-142">47,5</span><span class="sxs-lookup"><span data-stu-id="5de25-142">47.5</span></span> |<span data-ttu-id="5de25-143">46,5</span><span class="sxs-lookup"><span data-stu-id="5de25-143">46.5</span></span> |<span data-ttu-id="5de25-144">2%</span><span class="sxs-lookup"><span data-stu-id="5de25-144">2%</span></span> |
| <span data-ttu-id="5de25-145">\*\*Dulles, VA, USA</span><span class="sxs-lookup"><span data-stu-id="5de25-145">\*\*Dulles, VA</span></span> |<span data-ttu-id="5de25-146">109</span><span class="sxs-lookup"><span data-stu-id="5de25-146">109</span></span> |<span data-ttu-id="5de25-147">40,5</span><span class="sxs-lookup"><span data-stu-id="5de25-147">40.5</span></span> |<span data-ttu-id="5de25-148">169 %</span><span class="sxs-lookup"><span data-stu-id="5de25-148">169%</span></span> |
| <span data-ttu-id="5de25-149">Buenos Aires, AR</span><span class="sxs-lookup"><span data-stu-id="5de25-149">Buenos Aires, AR</span></span> |<span data-ttu-id="5de25-150">210</span><span class="sxs-lookup"><span data-stu-id="5de25-150">210</span></span> |<span data-ttu-id="5de25-151">151</span><span class="sxs-lookup"><span data-stu-id="5de25-151">151</span></span> |<span data-ttu-id="5de25-152">39 %</span><span class="sxs-lookup"><span data-stu-id="5de25-152">39%</span></span> |
| <span data-ttu-id="5de25-153">\*London, Großbritannien</span><span class="sxs-lookup"><span data-stu-id="5de25-153">\*London, UK</span></span> |<span data-ttu-id="5de25-154">195</span><span class="sxs-lookup"><span data-stu-id="5de25-154">195</span></span> |<span data-ttu-id="5de25-155">44</span><span class="sxs-lookup"><span data-stu-id="5de25-155">44</span></span> |<span data-ttu-id="5de25-156">343 %</span><span class="sxs-lookup"><span data-stu-id="5de25-156">343%</span></span> |
| <span data-ttu-id="5de25-157">Shanghai, CN</span><span class="sxs-lookup"><span data-stu-id="5de25-157">Shanghai, CN</span></span> |<span data-ttu-id="5de25-158">242</span><span class="sxs-lookup"><span data-stu-id="5de25-158">242</span></span> |<span data-ttu-id="5de25-159">206</span><span class="sxs-lookup"><span data-stu-id="5de25-159">206</span></span> |<span data-ttu-id="5de25-160">17 %</span><span class="sxs-lookup"><span data-stu-id="5de25-160">17%</span></span> |
| <span data-ttu-id="5de25-161">\*Singapur</span><span class="sxs-lookup"><span data-stu-id="5de25-161">\*Singapore</span></span> |<span data-ttu-id="5de25-162">214</span><span class="sxs-lookup"><span data-stu-id="5de25-162">214</span></span> |<span data-ttu-id="5de25-163">74</span><span class="sxs-lookup"><span data-stu-id="5de25-163">74</span></span> |<span data-ttu-id="5de25-164">189%</span><span class="sxs-lookup"><span data-stu-id="5de25-164">189%</span></span> |
| <span data-ttu-id="5de25-165">\*Tokio, JP</span><span class="sxs-lookup"><span data-stu-id="5de25-165">\*Tokyo, JP</span></span> |<span data-ttu-id="5de25-166">163</span><span class="sxs-lookup"><span data-stu-id="5de25-166">163</span></span> |<span data-ttu-id="5de25-167">48</span><span class="sxs-lookup"><span data-stu-id="5de25-167">48</span></span> |<span data-ttu-id="5de25-168">204%</span><span class="sxs-lookup"><span data-stu-id="5de25-168">204%</span></span> |
| <span data-ttu-id="5de25-169">Seoul, KR</span><span class="sxs-lookup"><span data-stu-id="5de25-169">Seoul, KR</span></span> |<span data-ttu-id="5de25-170">190</span><span class="sxs-lookup"><span data-stu-id="5de25-170">190</span></span> |<span data-ttu-id="5de25-171">190</span><span class="sxs-lookup"><span data-stu-id="5de25-171">190</span></span> |<span data-ttu-id="5de25-172">0 %</span><span class="sxs-lookup"><span data-stu-id="5de25-172">0%</span></span> |

<span data-ttu-id="5de25-173">\* Hat einen Azure CDN-Knoten in derselben Stadt.</span><span class="sxs-lookup"><span data-stu-id="5de25-173">\* Has an Azure CDN node in the same city.</span></span>  
<span data-ttu-id="5de25-174">\*\* Hat einen Azure CDN-Knoten in einer Nachbarstadt.</span><span class="sxs-lookup"><span data-stu-id="5de25-174">\*\* Has an Azure CDN node in a neighboring city.</span></span>  

## <a name="challenges"></a><span data-ttu-id="5de25-175">Herausforderungen</span><span class="sxs-lookup"><span data-stu-id="5de25-175">Challenges</span></span>
<span data-ttu-id="5de25-176">Es gibt verschiedene Herausforderungen, die beim Planen der CDN-Verwendung zu berücksichtigen sind:</span><span class="sxs-lookup"><span data-stu-id="5de25-176">There are several challenges to take into account when planning to use the CDN:</span></span>  

* <span data-ttu-id="5de25-177">**Bereitstellung**.</span><span class="sxs-lookup"><span data-stu-id="5de25-177">**Deployment**.</span></span> <span data-ttu-id="5de25-178">Entscheiden Sie, wo der Ursprung liegen soll, aus dem das CDN den Inhalt abruft, und ob Sie den Inhalt in mehreren Speichersystemen bereitstellen müssen (z.B. im CDN und an einem alternativen Speicherort).</span><span class="sxs-lookup"><span data-stu-id="5de25-178">Decide the origin from which the CDN fetches the content, and whether you need to deploy the content in more than one storage system (such as in the CDN and an alternative location).</span></span>

  <span data-ttu-id="5de25-179">Ihr Anwendungsbereitstellungsmechanismus muss den Prozess zum Bereitstellen statischer Inhalte und Ressourcen sowie das Bereitstellen der Anwendungsdateien, z.B. ASPX-Seiten, berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="5de25-179">Your application deployment mechanism must take into account the process for deploying static content and resources as well as deploying the application files, such as ASPX pages.</span></span> <span data-ttu-id="5de25-180">Möglicherweise müssen Sie z. B. einen separaten Schritt einführen, um den Inhalt in Azure Blob Storage zu laden.</span><span class="sxs-lookup"><span data-stu-id="5de25-180">For example, you may need to implement a separate step to load content into Azure blob storage.</span></span>
* <span data-ttu-id="5de25-181">**Versionierung und Cachesteuerung**.</span><span class="sxs-lookup"><span data-stu-id="5de25-181">**Versioning and cache-control**.</span></span> <span data-ttu-id="5de25-182">Berücksichtigen Sie, wie Sie statische Inhalte aktualisieren und neue Versionen bereitstellen möchten.</span><span class="sxs-lookup"><span data-stu-id="5de25-182">Consider how you will update static content and deploy new versions.</span></span> <span data-ttu-id="5de25-183">Der Inhalt des CDN wird beim Verwenden des Azure-Portals unter Umständen [bereinigt](/azure/cdn/cdn-purge-endpoint/), wenn neue Versionen Ihrer Inhalte verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="5de25-183">The CDN content may be [purged](/azure/cdn/cdn-purge-endpoint/) using the Azure portal when new versions of your assets are available.</span></span> <span data-ttu-id="5de25-184">Dies ist eine ähnliche Herausforderung wie das Verwalten der clientseitigen Zwischenspeicherung, wie sie z.B. in einem Webbrowser auftritt.</span><span class="sxs-lookup"><span data-stu-id="5de25-184">This is a similar challenge to managing client-side caching, such as that which occurs in a web browser.</span></span>
* <span data-ttu-id="5de25-185">**Testen**.</span><span class="sxs-lookup"><span data-stu-id="5de25-185">**Testing**.</span></span> <span data-ttu-id="5de25-186">Es kann schwierig sein, lokale Tests Ihrer CDN-Einstellungen durchzuführen, wenn Sie eine Anwendung lokal oder in einer Stagingumgebung entwickeln und testen.</span><span class="sxs-lookup"><span data-stu-id="5de25-186">It can be difficult to perform local testing of your CDN settings when developing and testing an application locally or in a staging environment.</span></span>
* <span data-ttu-id="5de25-187">**Suchmaschinenoptimierung (SEO)**.</span><span class="sxs-lookup"><span data-stu-id="5de25-187">**Search engine optimization (SEO)**.</span></span> <span data-ttu-id="5de25-188">Wenn Sie das CDN verwenden, wird der Inhalt, wie z. B. Bilder und Dokumente, von einer anderen Domäne aus ausgeliefert.</span><span class="sxs-lookup"><span data-stu-id="5de25-188">Content such as images and documents are served from a different domain when you use the CDN.</span></span> <span data-ttu-id="5de25-189">Dies kann Auswirkungen auf die Suchmaschinenoptimierung (SEO, Search Engine Optimization) für diesen Inhalt haben.</span><span class="sxs-lookup"><span data-stu-id="5de25-189">This can have an effect on SEO for this content.</span></span>
* <span data-ttu-id="5de25-190">**Sicherheit für den Inhalt**.</span><span class="sxs-lookup"><span data-stu-id="5de25-190">**Content security**.</span></span> <span data-ttu-id="5de25-191">Viele CDN-Dienste, wie z. B. Azure CDN, bieten derzeit keinerlei Zugriffssteuerung für den Inhalt an.</span><span class="sxs-lookup"><span data-stu-id="5de25-191">Many CDN services such as Azure CDN do not currently offer any type of access control for the content.</span></span>
* <span data-ttu-id="5de25-192">**Sicherheit für Clients**.</span><span class="sxs-lookup"><span data-stu-id="5de25-192">**Client security**.</span></span> <span data-ttu-id="5de25-193">Clients stellen möglicherweise eine Verbindung aus einer Umgebung heraus her, die keinen Zugriff auf Ressourcen im CDN zulässt.</span><span class="sxs-lookup"><span data-stu-id="5de25-193">Clients might connect from an environment that does not allow access to resources on the CDN.</span></span> <span data-ttu-id="5de25-194">Dies könnte eine Umgebung mit eingeschränkter Sicherheit sein, in der der Zugriff auf eine Gruppe bekannter Quellen beschränkt ist oder in der das Laden von Ressourcen nur vom Seitenursprung möglich ist.</span><span class="sxs-lookup"><span data-stu-id="5de25-194">This could be a security-constrained environment that limits access to only a set of known sources, or one that prevents loading of resources from anything other than the page origin.</span></span> <span data-ttu-id="5de25-195">Für solche Fälle ist eine Fallbackimplementierung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="5de25-195">A fallback implementation is required to handle these cases.</span></span>
* <span data-ttu-id="5de25-196">**Resilienz**.</span><span class="sxs-lookup"><span data-stu-id="5de25-196">**Resilience**.</span></span> <span data-ttu-id="5de25-197">Das CDN ist eine potenzielle einzelne Fehlerquelle („Single Point of Failure“) für eine Anwendung.</span><span class="sxs-lookup"><span data-stu-id="5de25-197">The CDN is a potential single point of failure for an application.</span></span> <span data-ttu-id="5de25-198">Es hat eine niedrigere Verfügbarkeits-SLA als Blob Storage (was zum direkten Bereitstellen von Inhalten verwendet werden kann), sodass Sie möglicherweise einen Fallbackmechanismus für kritische Inhalte implementieren müssen.</span><span class="sxs-lookup"><span data-stu-id="5de25-198">It has a lower availability SLA than blob storage (which can be used to deliver content directly) so you may need to consider implementing a fallback mechanism for critical content.</span></span>

  <span data-ttu-id="5de25-199">Im Azure-Portal können Sie die Verfügbarkeit des CDN-Inhalts, die Bandbreite, die übertragenen Daten, die Treffer, die Cachetrefferquote und die Cachemetriken in [Echtzeit](/azure/cdn/cdn-real-time-stats/) überwachen und [Berichte zusammenfassen](/azure/cdn/cdn-analyze-usage-patterns/).</span><span class="sxs-lookup"><span data-stu-id="5de25-199">You can monitor your CDN content availability, bandwidth, data transferred, hits, cache hit ratio, and cache metrics from the Azure portal in [real-time](/azure/cdn/cdn-real-time-stats/) and [aggregate reports](/azure/cdn/cdn-analyze-usage-patterns/).</span></span>

<span data-ttu-id="5de25-200">In folgenden Szenarien kann CDN weniger nützlich sein:</span><span class="sxs-lookup"><span data-stu-id="5de25-200">Scenarios where CDN may be less useful include:</span></span>  

* <span data-ttu-id="5de25-201">Wenn der Inhalt eine niedrige Trefferrate hat, wird unter Umständen innerhalb des Gültigkeitszeitraums nur wenige Male darauf zugegriffen (bestimmt durch die Einstellung für die Gültigkeitsdauer).</span><span class="sxs-lookup"><span data-stu-id="5de25-201">If the content has a low hit rate, it might be accessed only few times while it is valid (determined by its time-to-live setting).</span></span> <span data-ttu-id="5de25-202">Beim ersten Herunterladen eines Elements fallen zwei Transaktionsgebühren an (vom Ursprung in das CDN und dann aus dem CDN an den Kunden).</span><span class="sxs-lookup"><span data-stu-id="5de25-202">The first time an item is downloaded you incur two transaction charges from the origin to the CDN, and then from the CDN to the customer.</span></span>
* <span data-ttu-id="5de25-203">Wenn die Daten privat sind, z. B. bei großen Unternehmen oder Lieferketten-Ökosystemen.</span><span class="sxs-lookup"><span data-stu-id="5de25-203">If the data is private, such as for large enterprises or supply chain ecosystems.</span></span>

## <a name="general-guidelines-and-good-practices"></a><span data-ttu-id="5de25-204">Allgemeine Richtlinien und bewährte Verfahren</span><span class="sxs-lookup"><span data-stu-id="5de25-204">General guidelines and good practices</span></span>
<span data-ttu-id="5de25-205">Das Verwenden des CDN ist eine gute Möglichkeit, um die Belastung Ihrer Anwendung zu minimieren und Verfügbarkeit sowie Leistung zu maximieren.</span><span class="sxs-lookup"><span data-stu-id="5de25-205">Using the CDN is a good way to minimize the load on your application, and maximize availability and performance.</span></span> <span data-ttu-id="5de25-206">Erwägen Sie den Einsatz dieser Strategie für alle von Ihrer Anwendung genutzten Inhalte und Ressourcen, sofern sie dafür geeignet sind.</span><span class="sxs-lookup"><span data-stu-id="5de25-206">Consider adopting this strategy for all of the appropriate content and resources your application uses.</span></span> <span data-ttu-id="5de25-207">Berücksichtigen Sie beim Entwerfen Ihrer Strategie zur CDN-Nutzung folgende Punkte:</span><span class="sxs-lookup"><span data-stu-id="5de25-207">Consider the points in the following sections when designing your strategy to use the CDN:</span></span>  

### <a name="origin"></a><span data-ttu-id="5de25-208">Origin</span><span class="sxs-lookup"><span data-stu-id="5de25-208">Origin</span></span>
<span data-ttu-id="5de25-209">Zum Bereitstellen von Inhalten über das CDN müssen Sie einfach einen HTTP- und/oder HTTPS-[Endpunkt](/azure/cdn/cdn-create-new-endpoint) angeben, den der CDN-Dienst für den Zugriff auf den Inhalt und für die Zwischenspeicherung verwendet.</span><span class="sxs-lookup"><span data-stu-id="5de25-209">Deploying content through the CDN simply requires you to specify an HTTP and/or HTTPS [endpoint](/azure/cdn/cdn-create-new-endpoint) that the CDN service will use to access and cache the content.</span></span>

<span data-ttu-id="5de25-210">Der Endpunkt kann einen Azure Blob Storage-Container angeben, der den statischen Inhalt enthält, den Sie über das CDN bereitstellen möchten.</span><span class="sxs-lookup"><span data-stu-id="5de25-210">The endpoint can specify an Azure blob storage container that holds the static content you want to deliver through the CDN.</span></span> <span data-ttu-id="5de25-211">Der Container muss als öffentlich markiert sein.</span><span class="sxs-lookup"><span data-stu-id="5de25-211">The container must be marked as public.</span></span> <span data-ttu-id="5de25-212">Nur Blobs in einem öffentlichen Container, die öffentlichen Lesezugriff haben, sind über das CDN verfügbar.</span><span class="sxs-lookup"><span data-stu-id="5de25-212">Only blobs in a public container that have public read access are available through the CDN.</span></span>

<span data-ttu-id="5de25-213">Der Endpunkt kann einen Ordner namens **cdn** im Stammverzeichnis einer Compute-Ebene der Anwendung (z.B. eine Webrolle oder ein virtueller Computer) angeben.</span><span class="sxs-lookup"><span data-stu-id="5de25-213">The endpoint can specify a folder named **cdn** in the root of one of application’s compute layers (such as a web role or a virtual machine).</span></span> <span data-ttu-id="5de25-214">Die Ergebnisse aus Anforderungen für Ressourcen, einschließlich dynamischer Ressourcen wie z. B. ASPX-Seiten, werden im CDN zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="5de25-214">The results from requests for resources, including dynamic resources such as ASPX pages, will be cached on the CDN.</span></span> <span data-ttu-id="5de25-215">Der minimale Zeitraum zum Zwischenspeichern beträgt 300 Sekunden.</span><span class="sxs-lookup"><span data-stu-id="5de25-215">The minimum cache period is 300 seconds.</span></span> <span data-ttu-id="5de25-216">Kürzere Zeiträume verhindern, dass der Inhalt im CDN bereitgestellt wird. (Weitere Informationen finden Sie unten im Abschnitt *Cachesteuerung*.)</span><span class="sxs-lookup"><span data-stu-id="5de25-216">Any shorter period prevents the content from being deployed to the CDN (for more information, see the following heading *Cache control* below).</span></span>

<span data-ttu-id="5de25-217">Bei der Verwendung von Azure Web-Apps wird der Endpunkt durch Auswählen des Standorts beim Erstellen der CDN-Instanz auf den Stammordner der Website festgelegt.</span><span class="sxs-lookup"><span data-stu-id="5de25-217">If you are using Azure Web Apps, the endpoint is set to the root folder of the site by selecting the site when creating the CDN instance.</span></span> <span data-ttu-id="5de25-218">Der gesamte Inhalt der Website ist über das CDN verfügbar.</span><span class="sxs-lookup"><span data-stu-id="5de25-218">All of the content for the site will be available through the CDN.</span></span>

<span data-ttu-id="5de25-219">In den meisten Fällen wird die Flexibilität und Kontrolle erhöht, wenn Ihr CDN-Endpunkt auf einen Ordner innerhalb einer Compute-Ebene der Anwendung verweist.</span><span class="sxs-lookup"><span data-stu-id="5de25-219">In most cases, pointing your CDN endpoint at a folder within one of the compute layers of your application offers more flexibility and control.</span></span> <span data-ttu-id="5de25-220">Auf diese Weise wird zum Beispiel das Verwalten von aktuellen und zukünftigen Routinganforderungen und das dynamische Generieren statischer Inhalte, wie etwa Miniaturansichten, vereinfacht.</span><span class="sxs-lookup"><span data-stu-id="5de25-220">For instance, it makes it easier to manage current and future routing requirements, and dynamically generate static content such as image thumbnails.</span></span>

<span data-ttu-id="5de25-221">Sie können [Abfragezeichenfolgen](/azure/cdn/cdn-query-string/) verwenden, um Objekte im Cache zu unterscheiden, wenn Inhalte von dynamischen Quellen, z.B. ASPX-Seiten, bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-221">You can use [query strings](/azure/cdn/cdn-query-string/) to differentiate objects in the cache when content is delivered from dynamic sources, such as ASPX pages.</span></span> <span data-ttu-id="5de25-222">Allerdings kann dieses Verhalten durch eine Einstellung im Azure-Portal bei der Angabe des CDN-Endpunkts deaktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-222">However, this behavior can be disabled by a setting in the Azure portal when you specify the CDN endpoint.</span></span> <span data-ttu-id="5de25-223">Bei der Bereitstellung von Inhalten aus Blob Storage werden Abfragezeichenfolgen als Zeichenfolgenliterale behandelt, sodass zwei Elemente mit dem gleichen Namen und unterschiedlichen Abfragezeichenfolgen als separate Elemente im CDN gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-223">When delivering content from blob storage, query strings are treated as string literals so two items that have the same name but different query strings are stored as separate items on the CDN.</span></span>

<span data-ttu-id="5de25-224">Sie können die URL-Umschreibung für Ressourcen wie Skripts und für andere Inhalte nutzen, um zu vermeiden, dass die Dateien in den CDN-Ursprungsordner verschoben werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-224">You can utilize URL rewriting for resources, such as scripts and other content, to avoid moving your files to the CDN origin folder.</span></span>

<span data-ttu-id="5de25-225">Wenn Sie Azure Storage Blobs zum Speichern von Inhalten für das CDN verwenden, wird bei der URL der Ressourcen in Blobs für den Container- und den Blob-Namen die Groß- und Kleinschreibung beachtet.</span><span class="sxs-lookup"><span data-stu-id="5de25-225">When using Azure storage blobs to hold content for the CDN, the URL of the resources in blobs is case-sensitive for the container and blob name.</span></span>

<span data-ttu-id="5de25-226">Wenn Sie benutzerdefinierte Ursprünge oder Azure Web-Apps verwenden, geben Sie den Pfad zur CDN-Instanz in den Links zu Ressourcen an.</span><span class="sxs-lookup"><span data-stu-id="5de25-226">When using custom origins or Azure Web Apps, you specify the path to the CDN instance in the links to resources.</span></span> <span data-ttu-id="5de25-227">Das Folgenden gibt beispielsweise eine Bilddatei im Ordner **images** der Website an, die über das CDN bereitgestellt wird:</span><span class="sxs-lookup"><span data-stu-id="5de25-227">For example, the following specifies an image file in the **Images** folder of the site that will be delivered through the CDN:</span></span>

```XML
<img src="http://[your-cdn-endpoint].azureedge.net/Images/image.jpg" />
```

### <a name="deployment"></a><span data-ttu-id="5de25-228">Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="5de25-228">Deployment</span></span>
<span data-ttu-id="5de25-229">Statische Inhalte müssen möglicherweise unabhängig von der Anwendung bereitgestellt werden, wenn Sie sie nicht in das Anwendungsbereitstellungspaket oder den Anwendungsbereitstellungsprozess einschließen.</span><span class="sxs-lookup"><span data-stu-id="5de25-229">Static content may need to be provisioned and deployed independently from the application if you do not include it in the application deployment package or process.</span></span> <span data-ttu-id="5de25-230">Berücksichtigen Sie, wie sich dies auf den Versionierungsansatz auswirkt, den Sie zum Verwalten der Anwendungskomponenten und des statischen Ressourceninhalts verwenden.</span><span class="sxs-lookup"><span data-stu-id="5de25-230">Consider how this will affect the versioning approach you use to manage both the application components and the static resource content.</span></span>

<span data-ttu-id="5de25-231">Berücksichtigen Sie, wie die Bündelung (Kombinieren mehrerer Dateien in einer Datei) und die Minimierung (Entfernen unnötiger Zeichen wie Leerzeichen, Zeilenumbrüche, Kommentare und andere Zeichen) für Skript- und CSS-Dateien verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-231">Consider how bundling (combining several files into one file) and minification (removing unnecessary characters such as white space, new line characters, comments, and other characters) for script and CSS files will be handled.</span></span> <span data-ttu-id="5de25-232">Diese häufig verwendeten Techniken können Ladezeiten für Clients reduzieren und sind mit der Bereitstellung von Inhalten über das CDN kompatibel.</span><span class="sxs-lookup"><span data-stu-id="5de25-232">These are commonly used techniques that can reduce load times for clients, and are compatible with delivering content through the CDN.</span></span> <span data-ttu-id="5de25-233">Weitere Informationen finden Sie unter [Bündelung und Minimierung](http://www.asp.net/mvc/tutorials/mvc-4/bundling-and-minification).</span><span class="sxs-lookup"><span data-stu-id="5de25-233">For more information, see [Bundling and Minification](http://www.asp.net/mvc/tutorials/mvc-4/bundling-and-minification).</span></span>

<span data-ttu-id="5de25-234">Wenn Sie den Inhalt an einem zusätzlichen Speicherort bereitstellen müssen, wird dafür ein zusätzlicher Schritt im Bereitstellungsprozess benötigt.</span><span class="sxs-lookup"><span data-stu-id="5de25-234">If you need to deploy the content to an additional location, this will be an extra step in the deployment process.</span></span> <span data-ttu-id="5de25-235">Wenn die Anwendung den Inhalt für das CDN aktualisiert, vielleicht in regelmäßigen Abständen oder als Reaktion auf ein Ereignis, muss sie den aktualisierten Inhalt an allen zusätzlichen Speicherorten sowie auf dem Endpunkt des CDN speichern.</span><span class="sxs-lookup"><span data-stu-id="5de25-235">If the application updates the content for the CDN, perhaps at regular intervals or in response to an event, it must store the updated content in any additional locations as well as the endpoint for the CDN.</span></span>

<span data-ttu-id="5de25-236">Sie können keinen CDN-Endpunkt für eine Anwendung im lokalen Azure-Emulator in Visual Studio einrichten.</span><span class="sxs-lookup"><span data-stu-id="5de25-236">You cannot set up a CDN endpoint for an application in the local Azure emulator in Visual Studio.</span></span> <span data-ttu-id="5de25-237">Diese Einschränkung betrifft Komponententests, Funktionstests und abschließende Tests vor der Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="5de25-237">This restriction will affect unit testing, functional testing, and final pre-deployment testing.</span></span> <span data-ttu-id="5de25-238">Um Ihre Ziele trotzdem zu erreichen, müssen Sie einen alternativen Mechanismus implementieren.</span><span class="sxs-lookup"><span data-stu-id="5de25-238">You must allow for this by implementing an alternative mechanism.</span></span> <span data-ttu-id="5de25-239">Sie könnten beispielsweise vorab den Inhalt mit einer benutzerdefinierten Anwendung oder einem entsprechenden Programm im CDN bereitstellen und die Tests während des Cachezeitraums durchführen.</span><span class="sxs-lookup"><span data-stu-id="5de25-239">For example, you could pre-deploy the content to the CDN using a custom application or utility, and perform testing during the period in which it is cached.</span></span> <span data-ttu-id="5de25-240">Alternativ können Sie auch Kompilierungsdirektiven oder globale Konstanten verwenden, um zu steuern, von wo die Anwendung die Ressourcen lädt.</span><span class="sxs-lookup"><span data-stu-id="5de25-240">Alternatively, use compile directives or global constants to control from where the application loads the resources.</span></span> <span data-ttu-id="5de25-241">Bei der Ausführung im Debugmodus können z. B. Ressourcen wie clientseitige Skriptpakete und andere Inhalte aus einem lokalen Ordner geladen werden, und CDN wird bei der Ausführung im Releasemodus verwendet.</span><span class="sxs-lookup"><span data-stu-id="5de25-241">For example, when running in debug mode it could load resources such as client-side script bundles and other content from a local folder, and use the CDN when running in release mode.</span></span>

<span data-ttu-id="5de25-242">Bedenken Sie, welchen Ansatz für die Komprimierung das CDN unterstützen soll:</span><span class="sxs-lookup"><span data-stu-id="5de25-242">Consider which compression approach you want your CDN to support:</span></span>

* <span data-ttu-id="5de25-243">Sie können auf Ihrem Ursprungsserver die [Komprimierung aktivieren](/azure/cdn/cdn-improve-performance/). In diesem Fall unterstützt das CDN die Komprimierung standardmäßig und sendet komprimierten Inhalt in einem Format wie ZIP oder GZIP an die Clients.</span><span class="sxs-lookup"><span data-stu-id="5de25-243">You can [enable compression](/azure/cdn/cdn-improve-performance/) on your origin server, in which case the CDN will support compression by default and deliver compressed content to clients in a format such as zip or gzip.</span></span> <span data-ttu-id="5de25-244">Wenn Sie einen Anwendungsordner als CDN-Endpunkt verwenden, kann der Server einen Teil des Inhalts automatisch auf die gleiche Weise komprimieren wie beim direkten Bereitstellen für einen Webbrowser oder einen anderen Clienttyp.</span><span class="sxs-lookup"><span data-stu-id="5de25-244">When using an application folder as the CDN endpoint, the server may compress some content automatically in the same way as when delivering it directly to a web browser or other type of client.</span></span> <span data-ttu-id="5de25-245">Das Format hängt vom Wert des **Accept-Encoding**-Headers in der vom Client gesendeten Anforderung ab.</span><span class="sxs-lookup"><span data-stu-id="5de25-245">The format depends on the value of the **Accept-Encoding** header in the request sent by the client.</span></span> <span data-ttu-id="5de25-246">Als Standardverfahren wird der Inhalt in Azure automatisch komprimiert, wenn die CPU-Auslastung unter 50 % liegt.</span><span class="sxs-lookup"><span data-stu-id="5de25-246">In Azure the default mechanism is to automatically compress content when CPU utilization is below 50%.</span></span> <span data-ttu-id="5de25-247">Wenn Sie einen Clouddienst zum Hosten der Anwendung verwenden, kann das Ändern der Einstellungen die Verwendung eines Starttasks erfordern, um die Komprimierung der dynamischen Ausgabe in IIS zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="5de25-247">If you are using a cloud service to host the application, changing the settings may require using a startup task to turn on compression of dynamic output in IIS.</span></span> <span data-ttu-id="5de25-248">Weitere Informationen finden Sie unter [Enabling gzip compression with Microsoft Azure CDN through a Web Role](http://blogs.msdn.com/b/avkashchauhan/archive/2012/03/05/enableing-gzip-compression-with-windows-azure-cdn-through-web-role.aspx) (Aktivieren der GZIP-Komprimierung mit Azure CDN über eine Webrolle).</span><span class="sxs-lookup"><span data-stu-id="5de25-248">See [Enabling gzip compression with Microsoft Azure CDN through a Web Role](http://blogs.msdn.com/b/avkashchauhan/archive/2012/03/05/enableing-gzip-compression-with-windows-azure-cdn-through-web-role.aspx) for more information.</span></span>
* <span data-ttu-id="5de25-249">Sie können die Komprimierung direkt auf CDN-Edgeservern aktivieren. In diesem Fall komprimiert CDN die Dateien und sendet sie an die Endbenutzer.</span><span class="sxs-lookup"><span data-stu-id="5de25-249">You can enable compression directly on CDN edge servers, in which case the CDN will compress the files and serve it to end users.</span></span> <span data-ttu-id="5de25-250">Weitere Informationen finden Sie unter [Azure CDN-Komprimierung](/azure/cdn/cdn-improve-performance/).</span><span class="sxs-lookup"><span data-stu-id="5de25-250">For more information, see [Azure CDN Compression](/azure/cdn/cdn-improve-performance/).</span></span>

### <a name="routing-and-versioning"></a><span data-ttu-id="5de25-251">Routing und Versionierung</span><span class="sxs-lookup"><span data-stu-id="5de25-251">Routing and versioning</span></span>
<span data-ttu-id="5de25-252">Möglicherweise müssen Sie zu verschiedenen Zeitpunkten unterschiedliche CDN-Instanzen verwenden.</span><span class="sxs-lookup"><span data-stu-id="5de25-252">You may need to use different CDN instances at various times.</span></span> <span data-ttu-id="5de25-253">Beispielsweise empfiehlt es sich u. U. beim Bereitstellen der neuen Version einer Anwendung, ein neues CDN zu verwenden und das alte CDN (mit Inhalt in einem älteren Format) für die vorherigen Versionen beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="5de25-253">For example, when you deploy a new version of the application you may want to use a new CDN and retain the old CDN (holding content in an older format) for previous versions.</span></span> <span data-ttu-id="5de25-254">Wenn Sie Azure Blob Storage als Inhaltsursprung verwenden, können Sie ein separates Speicherkonto oder einen separaten Container erstellen und mit dem CDN-Endpunkt darauf verweisen.</span><span class="sxs-lookup"><span data-stu-id="5de25-254">If you use Azure blob storage as the content origin, you can create a separate storage account or a separate container and point the CDN endpoint to it.</span></span> <span data-ttu-id="5de25-255">Bei Verwendung des cdn-Stammordners innerhalb der Anwendung als CDN-Endpunkt können Sie URL-Umschreibungstechniken für die Umleitung von Anforderungen in einen anderen Ordner verwenden.</span><span class="sxs-lookup"><span data-stu-id="5de25-255">If you use the cdn root folder within the application as the CDN endpoint, you can use URL rewriting techniques to direct requests to a different folder.</span></span>

<span data-ttu-id="5de25-256">Verwenden Sie nicht die Abfragezeichenfolge, um unterschiedliche Versionen der Anwendung in Links zu Ressourcen im CDN zu kennzeichnen, denn die Abfragezeichenfolge ist ein Teil des Ressourcennamens (der Blob-Name), wenn Inhalte aus Azure Blob Storage abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-256">Do not use the query string to denote different versions of the application in links to resources on the CDN because, when retrieving content from Azure blob storage, the query string is part of the resource name (the blob name).</span></span> <span data-ttu-id="5de25-257">Diese Herangehensweise kann sich auch darauf auswirken, wie der Client Ressourcen zwischenspeichert.</span><span class="sxs-lookup"><span data-stu-id="5de25-257">This approach can also affect how the client caches resources.</span></span>

<span data-ttu-id="5de25-258">Das Bereitstellen neuer Versionen von statischen Inhalten beim Aktualisieren einer Anwendung kann eine Herausforderung darstellen, wenn die vorherigen Ressourcen im CDN zwischengespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="5de25-258">Deploying new versions of static content when you update an application can be a challenge if the previous resources are cached on the CDN.</span></span> <span data-ttu-id="5de25-259">Weitere Informationen finden Sie im Abschnitt *Cachesteuerung*.</span><span class="sxs-lookup"><span data-stu-id="5de25-259">For more information, see the section *Cache control*).</span></span>

<span data-ttu-id="5de25-260">Erwägen Sie, den Zugriff auf den CDN-Inhalt nach Land zu beschränken.</span><span class="sxs-lookup"><span data-stu-id="5de25-260">Consider restricting the CDN content access by country.</span></span> <span data-ttu-id="5de25-261">Mit Azure CDN können Sie Anforderungen auf Basis des Ursprungslands filtern und den bereitgestellten Inhalt einschränken.</span><span class="sxs-lookup"><span data-stu-id="5de25-261">Azure CDN allows you to filter requests based on the country of origin and restrict the content delivered.</span></span> <span data-ttu-id="5de25-262">Weitere Informationen finden Sie unter [Einschränken des Zugriffs auf Inhalte nach Ländern](/azure/cdn/cdn-restrict-access-by-country/).</span><span class="sxs-lookup"><span data-stu-id="5de25-262">For more information, see [Restrict access to your content by country](/azure/cdn/cdn-restrict-access-by-country/).</span></span>

### <a name="cache-control"></a><span data-ttu-id="5de25-263">Cachesteuerung</span><span class="sxs-lookup"><span data-stu-id="5de25-263">Cache control</span></span>
<span data-ttu-id="5de25-264">Bedenken Sie, wie das Zwischenspeichern innerhalb des Systems verwaltet werden soll.</span><span class="sxs-lookup"><span data-stu-id="5de25-264">Consider how to manage caching within the system.</span></span> <span data-ttu-id="5de25-265">Wenn Sie beispielsweise einen Ordner als CDN-Ursprung verwenden, können Sie die Cachefähigkeit von Seiten, die den Inhalt generieren, sowie die Inhaltsablaufzeit für alle Ressourcen in einem bestimmten Ordner angeben.</span><span class="sxs-lookup"><span data-stu-id="5de25-265">For example, when using a folder as the CDN origin you can specify the cacheability of pages that generate the content, and the content expiry time for all the resources in a specific folder.</span></span> <span data-ttu-id="5de25-266">Sie können auch Cacheeigenschaften für das CDN und für den Client mithilfe von standardmäßigen HTTP-Headern angeben.</span><span class="sxs-lookup"><span data-stu-id="5de25-266">You can also specify cache properties for the CDN, and for the client using standard HTTP headers.</span></span> <span data-ttu-id="5de25-267">Obwohl Sie das Zwischenspeichern wahrscheinlich bereits auf dem Server und dem Client verwalten, kann das CDN Sie darauf aufmerksam machen, wie Ihre Inhalte wo zwischengespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-267">Although you should already be managing caching on the server and client, using the CDN will help to make you more aware of how your content is cached, and where.</span></span>

<span data-ttu-id="5de25-268">Um zu verhindern, dass Objekte im CDN verfügbar sind, können Sie sie aus dem Ursprung (Blobcontainer oder *cdn*-Stammordner der Anwendung) entfernen oder den CDN-Endpunkt löschen. Bei Verwendung des Blobspeichers können Sie den Container oder das Blob aber auch als privat kennzeichnen.</span><span class="sxs-lookup"><span data-stu-id="5de25-268">To prevent objects from being available on the CDN you can delete them from the origin (blob container or application *cdn* root folder), remove or delete the CDN endpoint, or, in the case of blob storage, make the container or blob private.</span></span> <span data-ttu-id="5de25-269">Allerdings werden Elemente nur aus dem CDN entfernt, wenn ihre Gültigkeitsdauer (Time-To-Live, TTL) abläuft.</span><span class="sxs-lookup"><span data-stu-id="5de25-269">However, items will be removed from the CDN only when their time-to-live expires.</span></span> <span data-ttu-id="5de25-270">Wenn keine Cachegültigkeitsdauer angegeben wird (z.B. wenn der Inhalt aus Blob Storage geladen wird), wird er bis zu sieben Tage lang im CDN zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="5de25-270">If no cache expiry period is specified (such as when content is loaded from blob storage), it is cached on the CDN for up to seven days.</span></span>  <span data-ttu-id="5de25-271">Sie können auch manuell [einen CDN-Endpunkt bereinigen](/azure/cdn/cdn-purge-endpoint/).</span><span class="sxs-lookup"><span data-stu-id="5de25-271">You can also manually [purge a CDN endpoint](/azure/cdn/cdn-purge-endpoint/).</span></span>

<span data-ttu-id="5de25-272">In einer Webanwendung können Sie die Zwischenspeicherung und die Gültigkeitsdauer für den gesamten Inhalt mit dem *clientCache*-Element im Abschnitt *system.webServer/staticContent* der web.config-Datei festlegen.</span><span class="sxs-lookup"><span data-stu-id="5de25-272">In a web application, you can set the caching and expiry for all content by using the *clientCache* element in the *system.webServer/staticContent* section of the web.config file.</span></span> <span data-ttu-id="5de25-273">Beachten Sie: Wenn Sie eine web.config-Datei in einem Ordner ablegen, wirkt sich dies auf alle Dateien in diesem Ordner und in allen Unterordnern aus.</span><span class="sxs-lookup"><span data-stu-id="5de25-273">Remember that when you place a web.config file in a folder it affects the files in that folder and all subfolders.</span></span>

<span data-ttu-id="5de25-274">Wenn Sie den Inhalt für das CDN dynamisch erstellen (z.B. in Ihrem Anwendungscode), sollten Sie sicherstellen, dass Sie die *Cache.SetExpires*-Eigenschaft auf jeder Seite angeben.</span><span class="sxs-lookup"><span data-stu-id="5de25-274">If you create the content for the CDN dynamically (in your application code for example), ensure that you specify the *Cache.SetExpires* property on each page.</span></span> <span data-ttu-id="5de25-275">Die Ausgabe von Seiten, die die standardmäßige Cachefähigkeitseinstellung *public* verwenden, wird vom CDN nicht zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="5de25-275">The CDN will not cache the output from pages that use the default cacheability setting of *public*.</span></span>  <span data-ttu-id="5de25-276">Legen Sie die Cachegültigkeitsdauer auf einen passenden Wert fest, um sicherzustellen, dass der Inhalt nicht verworfen, sondern in sehr kurzen Intervallen aus der Anwendung neu geladen wird.</span><span class="sxs-lookup"><span data-stu-id="5de25-276">Set the cache expiry period to a suitable value to ensure that the content is not discarded and reloaded from the application at very short intervals.</span></span>  

### <a name="security"></a><span data-ttu-id="5de25-277">Sicherheit</span><span class="sxs-lookup"><span data-stu-id="5de25-277">Security</span></span>
<span data-ttu-id="5de25-278">Das CDN kann Inhalte per HTTPS (SSL) bereitstellen, indem das vom CDN bereitgestellte Zertifikat verwendet wird, sowie auch per Standard-HTTP.</span><span class="sxs-lookup"><span data-stu-id="5de25-278">The CDN can deliver content over HTTPS (SSL), by using the certificate provided by the CDN, as well as over standard HTTP.</span></span> <span data-ttu-id="5de25-279">Zur Vermeidung von Browserwarnungen zu gemischten Inhalten müssen Sie unter Umständen HTTPS verwenden, um statische Inhalte anzufordern, die auf per HTTPS geladenen Seiten angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-279">To avoid browser warnings about mixed content, you might need to use HTTPS to request static content that is displayed in pages loaded through HTTPS.</span></span>

<span data-ttu-id="5de25-280">Wenn Sie statische Objekte, z.B. Schriftdateien, mit dem CDN bereitstellen, können ggf. Probleme aufgrund einer Richtlinie desselben Ursprungs auftreten, falls Sie einen *XMLHttpRequest*-Aufruf zum Anfordern dieser Ressourcen aus einer anderen Domäne verwenden.</span><span class="sxs-lookup"><span data-stu-id="5de25-280">If you deliver static assets such as font files by using the CDN, you might encounter same-origin policy issues if you use an *XMLHttpRequest* call to request these resources from a different domain.</span></span> <span data-ttu-id="5de25-281">Viele Webbrowser verhindern CORS (Cross-Origin Resource Sharing, ursprungsübergreifende Ressourcenfreigabe), sofern der Webserver nicht so konfiguriert wurde, dass die entsprechenden Antwortheader festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-281">Many web browsers prevent cross-origin resource sharing (CORS) unless the web server is configured to set the appropriate response headers.</span></span> <span data-ttu-id="5de25-282">Sie können das CDN konfigurieren, um CORS zu unterstützen, indem Sie eine der folgenden Methoden verwenden:</span><span class="sxs-lookup"><span data-stu-id="5de25-282">You can configure the CDN to support CORS by using one of the following methods:</span></span>

* <span data-ttu-id="5de25-283">Nutzen Sie die CDN-Regel-Engine, um den Antworten CORS-Header hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="5de25-283">Use the CDN rules engine to add CORS headers to the responses.</span></span> <span data-ttu-id="5de25-284">Diese Methode ist normalerweise am besten geeignet, da sowohl Platzhalter als auch mehrere spezifisch zulässige Ursprünge unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-284">This method is usually the best one to use because both wildcard and multiple specific-allowed origins are supported.</span></span> <span data-ttu-id="5de25-285">Weitere Informationen finden Sie unter [Verwendung von Azure CDN mit CORS](https://docs.microsoft.com/en-us/azure/cdn/cdn-cors).</span><span class="sxs-lookup"><span data-stu-id="5de25-285">For more information, see [Using Azure CDN with CORS](https://docs.microsoft.com/en-us/azure/cdn/cdn-cors).</span></span> 
* <span data-ttu-id="5de25-286">Fügen Sie den Diensteigenschaften eine *CorsRule* hinzu.</span><span class="sxs-lookup"><span data-stu-id="5de25-286">Add a *CorsRule* to the service properties.</span></span> <span data-ttu-id="5de25-287">Sie können diese Methode nutzen, wenn der Ursprung, von dem aus Sie Inhalte bereitstellen, Azure Blob Storage ist.</span><span class="sxs-lookup"><span data-stu-id="5de25-287">You can use this method if the origin from which you are delivering content is Azure blob storage.</span></span> <span data-ttu-id="5de25-288">Die Regel kann die zulässigen Ursprünge für CORS-Anforderungen, die zulässigen Methoden wie z. B. GET und das maximale Alter in Sekunden für die Regel angeben (der Zeitraum, in dem der Client die verknüpften Ressourcen nach dem Laden des ursprünglichen Inhalts anfordern muss).</span><span class="sxs-lookup"><span data-stu-id="5de25-288">The rule can specify the allowed origins for CORS requests, the allowed methods such as GET, and the maximum age in seconds for the rule (the period within which the client must request the linked resources after loading the original content).</span></span> <span data-ttu-id="5de25-289">Wenn Sie CORS für Storage zur Verwendung mit dem CDN festlegen, wird nur der Platzhalter „\*“ für die Liste mit den zulässigen Ursprüngen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="5de25-289">When you set CORS on Storage to use with CDN, only the ‘\*’ wildcard is supported for the allowed origins list.</span></span> <span data-ttu-id="5de25-290">Weitere Informationen finden Sie unter [Cross-Origin Resource Sharing (CORS)-Support für die Azure Storage-Dienste](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span><span class="sxs-lookup"><span data-stu-id="5de25-290">For more information, see [Cross-Origin Resource Sharing (CORS) Support for the Azure Storage Services](http://msdn.microsoft.com/library/azure/dn535601.aspx).</span></span>
* <span data-ttu-id="5de25-291">Konfigurieren Sie Regeln für die ausgehende Richtung in der Anwendungskonfigurationsdatei, um einen *Access-Control-Allow-Origin*-Header für alle Antworten festzulegen.</span><span class="sxs-lookup"><span data-stu-id="5de25-291">Configure outbound rules in the application configuration file to set an *Access-Control-Allow-Origin* header on all responses.</span></span> <span data-ttu-id="5de25-292">Sie können diese Methode verwenden, wenn auf dem Ursprungsserver IIS ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="5de25-292">You can use this method if the origin server is running IIS.</span></span> <span data-ttu-id="5de25-293">Wenn Sie diese Methode mit CDN nutzen, wird nur der Platzhalter „\*“ für die Liste mit den zulässigen Ursprüngen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="5de25-293">When you use this method with CDN, only the ‘\*’ wildcard is supported for the allowed origins list.</span></span> <span data-ttu-id="5de25-294">Weitere Informationen zum Verwenden der Regeln für das Umschreiben finden Sie im Thema zum [URL-Umschreibemodul](http://www.iis.net/learn/extensions/url-rewrite-module).</span><span class="sxs-lookup"><span data-stu-id="5de25-294">For more information about using rewrite rules, see [URL Rewrite Module](http://www.iis.net/learn/extensions/url-rewrite-module).</span></span>

### <a name="custom-domains"></a><span data-ttu-id="5de25-295">Benutzerdefinierte Domänen</span><span class="sxs-lookup"><span data-stu-id="5de25-295">Custom domains</span></span>
<span data-ttu-id="5de25-296">Das Azure CDN ermöglicht Ihnen das Angeben eines [benutzerdefinierten Domänennamens](/azure/cdn/cdn-map-content-to-custom-domain/) und die Verwendung des Namens zum Zugriff auf Ressourcen über das CDN.</span><span class="sxs-lookup"><span data-stu-id="5de25-296">The Azure CDN allows you to specify a [custom domain name](/azure/cdn/cdn-map-content-to-custom-domain/) and use it to access resources through the CDN.</span></span> <span data-ttu-id="5de25-297">Sie können einen benutzerdefinierten Unterdomänennamen auch mit dem *CNAME* -Eintrag in DNS einrichten.</span><span class="sxs-lookup"><span data-stu-id="5de25-297">You can also set up a custom subdomain name using a *CNAME* record in your DNS.</span></span> <span data-ttu-id="5de25-298">Mit diesem Ansatz erhalten Sie eine zusätzliche Abstraktions- und Kontrollebene.</span><span class="sxs-lookup"><span data-stu-id="5de25-298">Using this approach can provide an additional layer of abstraction and control.</span></span>

<span data-ttu-id="5de25-299">Wenn Sie einen *CNAME*verwenden, können Sie nicht gleichzeitig SSL verwenden, weil das CDN ein eigenes einzelnes SSL-Zertifikat verwendet, und dieses Zertifikat passt nicht zu Ihren benutzerdefinierten Domänen-/Unterdomänennamen.</span><span class="sxs-lookup"><span data-stu-id="5de25-299">If you use a *CNAME*, you cannot use SSL because the CDN uses its own single SSL certificate, and this certificate will not match your custom domain/subdomain names.</span></span>

### <a name="cdn-fallback"></a><span data-ttu-id="5de25-300">CDN-Fallback</span><span class="sxs-lookup"><span data-stu-id="5de25-300">CDN fallback</span></span>
<span data-ttu-id="5de25-301">Berücksichtigen Sie, wie Ihre Anwendung einen Fehler oder einen vorübergehenden Ausfall des CDN verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="5de25-301">Consider how your application will cope with a failure or temporary unavailability of the CDN.</span></span> <span data-ttu-id="5de25-302">Clientanwendungen können möglicherweise Kopien der Ressourcen verwenden, die bei früheren Anforderungen lokal (auf dem Client) zwischengespeichert wurden, oder Sie können Code einbauen, der einen Ausfall erkennt und bei Nichtverfügbarkeit des CDNs die Ressourcen vom Ursprung anfordert (aus dem Anwendungsordner oder Azure-Blob-Container, der die Ressourcen enthält).</span><span class="sxs-lookup"><span data-stu-id="5de25-302">Client applications may be able to use copies of the resources that were cached locally (on the client) during previous requests, or you can include code that detects failure and instead requests resources from the origin (the application folder or Azure blob container that holds the resources) if the CDN is unavailable.</span></span>

<span data-ttu-id="5de25-303">Im Beispiel unten werden die Fallbackmechanismen mit [Tag-Hilfsprogrammen](https://docs.microsoft.com/en-us/aspnet/core/mvc/views/tag-helpers/intro) in einer Razor-Ansicht veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="5de25-303">The example below shows the fallback mechanisms using [Tag Helpers](https://docs.microsoft.com/en-us/aspnet/core/mvc/views/tag-helpers/intro) in a Razor view.</span></span>

```HTML
...
<link rel="stylesheet" href="https://[your-cdn-endpoint].azureedge.net/lib/bootstrap/dist/css/bootstrap.min.css"
      asp-fallback-href="~/lib/bootstrap/dist/css/bootstrap.min.css"
      asp-fallback-test-class="sr-only" asp-fallback-test-property="position" asp-fallback-test-value="absolute"/>
<link rel="stylesheet" href="~/css/site.min.css" asp-append-version="true"/>
...
<script src="https://[your-cdn-endpoint].azureedge.net/lib/jquery/dist/jquery-2.2.0.min.js"
        asp-fallback-src="~/lib/jquery/dist/jquery.min.js"
        asp-fallback-test="window.jQuery">
</script>
<script src="https://[your-cdn-endpoint].azureedge.net/lib/bootstrap/dist/js/bootstrap.min.js"
        asp-fallback-src="~/lib/bootstrap/dist/js/bootstrap.min.js"
        asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal">
</script>
...
```

### <a name="search-engine-optimization"></a><span data-ttu-id="5de25-304">Suchmaschinenoptimierung</span><span class="sxs-lookup"><span data-stu-id="5de25-304">Search engine optimization</span></span>
<span data-ttu-id="5de25-305">Wenn die Suchmaschinenoptimierung (SEO) bei Ihrer Anwendung ein wichtiger Aspekt ist, führen Sie die folgenden Aufgaben aus:</span><span class="sxs-lookup"><span data-stu-id="5de25-305">If SEO is an important consideration in your application, perform the following tasks:</span></span>

* <span data-ttu-id="5de25-306">Nehmen Sie in jede Seite oder Ressource einen kanonischen *Rel* -Header auf.</span><span class="sxs-lookup"><span data-stu-id="5de25-306">Include a *Rel* canonical header in each page or resource.</span></span>
* <span data-ttu-id="5de25-307">Verwenden Sie einen *CNAME* -Unterdomäneneintrag, und greifen Sie auf die Ressourcen mit diesem Namen zu.</span><span class="sxs-lookup"><span data-stu-id="5de25-307">Use a *CNAME* subdomain record and access the resources using this name.</span></span>
* <span data-ttu-id="5de25-308">Berücksichtigen Sie die Auswirkungen der Tatsache, dass die IP-Adresse des CDN möglicherweise ein Land oder eine Region darstellt, das bzw. die sich von der Anwendung unterscheidet.</span><span class="sxs-lookup"><span data-stu-id="5de25-308">Consider the impact of the fact that the IP address of the CDN may be a country or region that differs from that of the application itself.</span></span>
* <span data-ttu-id="5de25-309">Wenn Sie Azure Blob Storage als Ursprung verwenden, behalten Sie die gleiche Dateistruktur für Ressourcen im CDN wie in den Anwendungsordnern bei.</span><span class="sxs-lookup"><span data-stu-id="5de25-309">When using Azure blob storage as the origin, maintain the same file structure for resources on the CDN as in the application folders.</span></span>

### <a name="monitoring-and-logging"></a><span data-ttu-id="5de25-310">Überwachung und Protokollierung</span><span class="sxs-lookup"><span data-stu-id="5de25-310">Monitoring and logging</span></span>
<span data-ttu-id="5de25-311">Nehmen Sie CDN in Ihre Anwendungsüberwachungsstrategie auf, um Ausfälle oder längere hohe Latenzzeiten zu erkennen und zu messen.</span><span class="sxs-lookup"><span data-stu-id="5de25-311">Include the CDN as part of your application monitoring strategy to detect and measure failures or extended latency occurrences.</span></span>  <span data-ttu-id="5de25-312">Für die Überwachung können Sie den CDN-Profil-Manager auf der Azure-Portalwebsite verwenden.</span><span class="sxs-lookup"><span data-stu-id="5de25-312">Monitoring is available from the CDN profile manager located on the Azure portal site.</span></span>

<span data-ttu-id="5de25-313">Aktivieren Sie die Protokollierung für das CDN, und überwachen Sie dieses Protokoll als Teil Ihrer täglichen Aufgaben.</span><span class="sxs-lookup"><span data-stu-id="5de25-313">Enable logging for the CDN and monitor this log as part of your daily operations.</span></span>

<span data-ttu-id="5de25-314">Erwägen Sie, den CDN-Datenverkehr im Hinblick auf Verwendungsmuster zu analysieren.</span><span class="sxs-lookup"><span data-stu-id="5de25-314">Consider analyzing the CDN traffic for usage patterns.</span></span> <span data-ttu-id="5de25-315">Das Azure-Portal bietet Tools, mithilfe derer Sie Folgendes überwachen können:</span><span class="sxs-lookup"><span data-stu-id="5de25-315">The Azure portal provides tools that enable you to monitor:</span></span>

* <span data-ttu-id="5de25-316">Bandbreite,</span><span class="sxs-lookup"><span data-stu-id="5de25-316">Bandwidth,</span></span>
* <span data-ttu-id="5de25-317">übertragene Daten,</span><span class="sxs-lookup"><span data-stu-id="5de25-317">Data Transferred,</span></span>
* <span data-ttu-id="5de25-318">Treffer (Statuscodes),</span><span class="sxs-lookup"><span data-stu-id="5de25-318">Hits (status codes),</span></span>
* <span data-ttu-id="5de25-319">Cachestatus,</span><span class="sxs-lookup"><span data-stu-id="5de25-319">Cache Status,</span></span>
* <span data-ttu-id="5de25-320">Cachetrefferquote und</span><span class="sxs-lookup"><span data-stu-id="5de25-320">Cache HIT Ratio, and</span></span>
* <span data-ttu-id="5de25-321">das Verhältnis von IPV4/IPV6-Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="5de25-321">Ratio of IPV4/IPV6 requests.</span></span>

<span data-ttu-id="5de25-322">Weitere Informationen finden Sie unter [Analysieren von Azure CDN-Verwendungsmustern](/azure/cdn/cdn-analyze-usage-patterns/).</span><span class="sxs-lookup"><span data-stu-id="5de25-322">For more information, see [Analyze CDN usage patterns](/azure/cdn/cdn-analyze-usage-patterns/).</span></span>

### <a name="cost-implications"></a><span data-ttu-id="5de25-323">Kostenauswirkungen</span><span class="sxs-lookup"><span data-stu-id="5de25-323">Cost implications</span></span>
<span data-ttu-id="5de25-324">Sie bezahlen für ausgehende Datenübertragungen aus dem CDN.</span><span class="sxs-lookup"><span data-stu-id="5de25-324">You are charged for outbound data transfers from the CDN.</span></span>  <span data-ttu-id="5de25-325">Falls Sie Blobspeicher zum Hosten Ihrer Inhalte verwenden, zahlen Sie darüber hinaus für Speichertransaktionen, wenn das CDN Daten aus Ihrer Anwendung lädt.</span><span class="sxs-lookup"><span data-stu-id="5de25-325">Additionally, if you're using blob storage to host your assets, you are charged for storage transactions when the CDN loads data from your application.</span></span> <span data-ttu-id="5de25-326">Legen Sie eine realistische Cachegültigkeitsdauer für Inhalte fest, um deren Aktualität sicherzustellen, aber keine so kurzen Zeiträume, dass Inhalte wiederholt aus der Anwendung oder aus Blob Storage in das CDN geladen werden müssen.</span><span class="sxs-lookup"><span data-stu-id="5de25-326">Set realistic cache expiry periods for content to ensure freshness, but not so short as to cause repeated reloading of content from the application or blob storage to the CDN.</span></span>

<span data-ttu-id="5de25-327">Auch Elemente, die nur selten heruntergeladen werden, erhöhen die Transaktionsgebühren, ohne dass die Serverauslastung deutlich reduziert wird.</span><span class="sxs-lookup"><span data-stu-id="5de25-327">Items that are rarely downloaded will incur the two transaction charges without providing any significant reduction in server load.</span></span>

### <a name="bundling-and-minification"></a><span data-ttu-id="5de25-328">Bündelung und Minimierung</span><span class="sxs-lookup"><span data-stu-id="5de25-328">Bundling and minification</span></span>
<span data-ttu-id="5de25-329">Verwenden Sie die Bündelung und Minimierung, um die Größe von Ressourcen zu verringern, die im CDN gespeichert werden, wie z. B. JavaScript-Code und HTML-Seiten.</span><span class="sxs-lookup"><span data-stu-id="5de25-329">Use bundling and minification to reduce the size of resources such as JavaScript code and HTML pages stored in the CDN.</span></span> <span data-ttu-id="5de25-330">Mit dieser Strategie können Sie die Zeit verkürzen, die zum Herunterladen dieser Elemente auf den Client benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="5de25-330">This strategy can help to reduce the time taken to download these items to the client.</span></span>

<span data-ttu-id="5de25-331">Bündelung und Minimierung können von ASP.NET verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-331">Bundling and minification can be handled by ASP.NET.</span></span> <span data-ttu-id="5de25-332">In einem MVC-Projekt definieren Sie Ihre Pakete in *BundleConfig.cs*.</span><span class="sxs-lookup"><span data-stu-id="5de25-332">In an MVC project, you define your bundles in *BundleConfig.cs*.</span></span> <span data-ttu-id="5de25-333">Ein Verweis auf das minimierte Skriptbündel wird durch den Aufruf der *Script.Render* -Methode, normalerweise im Code in der Ansichtsklasse, erstellt.</span><span class="sxs-lookup"><span data-stu-id="5de25-333">A reference to the minified script bundle is created by calling the *Script.Render* method, typically in code in the view class.</span></span> <span data-ttu-id="5de25-334">Diese Referenz enthält eine Abfragezeichenfolge mit einem Hash, der auf dem Inhalt des Bündels basiert.</span><span class="sxs-lookup"><span data-stu-id="5de25-334">This reference contains a query string that includes a hash, which is based on the content of the bundle.</span></span> <span data-ttu-id="5de25-335">Wenn sich der Bündelinhalt ändert, wird auch der generierte Hash geändert.</span><span class="sxs-lookup"><span data-stu-id="5de25-335">If the bundle contents change, the generated hash will also change.</span></span>  

<span data-ttu-id="5de25-336">Standardmäßig ist für Azure CDN-Instanzen die Einstellung für den *Status der Abfragezeichenfolge* deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="5de25-336">By default, Azure CDN instances have the *Query String Status* setting disabled.</span></span> <span data-ttu-id="5de25-337">Damit aktualisierte Skriptbündel ordnungsgemäß vom CDN verarbeitet werden, müssen Sie die Einstellung für den *Status der Abfragezeichenfolge* für die CDN-Instanz aktivieren.</span><span class="sxs-lookup"><span data-stu-id="5de25-337">In order for updated script bundles to be handled properly by the CDN, you must enable the *Query String Status* setting for the CDN instance.</span></span> <span data-ttu-id="5de25-338">Beachten Sie, dass es eine Stunde oder länger dauern kann, bevor die Einstellung wirksam wird.</span><span class="sxs-lookup"><span data-stu-id="5de25-338">Note that it may take an hour or more before the setting takes effect.</span></span>

### <a name="features"></a><span data-ttu-id="5de25-339">Features</span><span class="sxs-lookup"><span data-stu-id="5de25-339">Features</span></span>

<span data-ttu-id="5de25-340">Azure umfasst verschiedene CDN-Produkte.</span><span class="sxs-lookup"><span data-stu-id="5de25-340">Azure has several CDN products.</span></span> <span data-ttu-id="5de25-341">Sehen Sie sich bei der Wahl eines CDN die Features an, die von den einzelnen Produkten unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="5de25-341">When selecting a CDN, consider the features that each product supports.</span></span> <span data-ttu-id="5de25-342">Ausführliche Informationen finden Sie unter [Azure CDN-Features][cdn-features].</span><span class="sxs-lookup"><span data-stu-id="5de25-342">See [Azure CDN Features][cdn-features] for details.</span></span> <span data-ttu-id="5de25-343">Verfügbare Premium-Features sind:</span><span class="sxs-lookup"><span data-stu-id="5de25-343">Premium features that you may wish to consider include:</span></span>

- <span data-ttu-id="5de25-344">**[Regelmodul](/azure/cdn/cdn-rules-engine)**:</span><span class="sxs-lookup"><span data-stu-id="5de25-344">**[Rules engine](/azure/cdn/cdn-rules-engine)**.</span></span> <span data-ttu-id="5de25-345">Mit der Regel-Engine können Sie anpassen, wie HTTP-Anforderungen behandelt werden, z.B. Sperren der Übermittlung bestimmter Inhaltstypen, Definieren einer Zwischenspeicherungsrichtlinie oder Ändern von HTTP-Headern.</span><span class="sxs-lookup"><span data-stu-id="5de25-345">The rules engine allows you to customize how HTTP requests are handled, such as blocking the delivery of certain types of content, defining a caching policy, and modifying HTTP headers.</span></span> 

- <span data-ttu-id="5de25-346">**[Echtzeitstatistiken](/azure/cdn/cdn-real-time-stats)**:</span><span class="sxs-lookup"><span data-stu-id="5de25-346">**[Real-time statistics](/azure/cdn/cdn-real-time-stats)**.</span></span> <span data-ttu-id="5de25-347">Sie können Echtzeitdaten überwachen, z.B. Bandbreite, Cachestatus und gleichzeitige Verbindungen mit Ihrem CDN-Profil, und [Echtzeitwarnungen](/azure/cdn/cdn-real-time-alerts) erhalten.</span><span class="sxs-lookup"><span data-stu-id="5de25-347">Monitor real-time data, such as bandwidth, cache statuses, and concurrent connections to your CDN profile, and receive [real-time alerts](/azure/cdn/cdn-real-time-alerts).</span></span> 


## <a name="rules-engine-url-rewriting-example"></a><span data-ttu-id="5de25-348">Beispiel für URL-Umschreibung mit der Regel-Engine</span><span class="sxs-lookup"><span data-stu-id="5de25-348">Rules engine URL rewriting example</span></span>

<span data-ttu-id="5de25-349">Im folgenden Diagramm wird veranschaulicht, wie Sie die [URL-Umschreibung](https://technet.microsoft.com/library/ee215194.aspx) bei Verwendung des CDN durchführen.</span><span class="sxs-lookup"><span data-stu-id="5de25-349">The following diagram demonstrates how to perform [URL rewriting](https://technet.microsoft.com/library/ee215194.aspx) when using the CDN.</span></span> <span data-ttu-id="5de25-350">Anforderungen vom CDN für zwischengespeicherte Inhalte werden basierend auf dem Ressourcentyp (z. B. Skripts und Bilder) an bestimmte Ordner innerhalb des Anwendungsstammverzeichnisses umgeleitet.</span><span class="sxs-lookup"><span data-stu-id="5de25-350">Requests from the CDN for content that is cached are redirected to specific folders within the application root based on the type of the resource (such as scripts and images).</span></span>  

![Regel-Engine-Diagramm](./images/cdn/rules-engine.png)

<span data-ttu-id="5de25-352">Durch diese Umschreiberegeln werden folgende Umleitungen ausgeführt:</span><span class="sxs-lookup"><span data-stu-id="5de25-352">These rewrite rules perform the following redirections:</span></span>

* <span data-ttu-id="5de25-353">Die erste Regel ermöglicht Ihnen das Einbetten einer Version in den Dateinamen einer Ressource, die dann ignoriert wird.</span><span class="sxs-lookup"><span data-stu-id="5de25-353">The first rule allows you to embed a version in the file name of a resource, which is then ignored.</span></span> <span data-ttu-id="5de25-354">*Dateiname_v123.jpg* wird zum Beispiel in *Dateiname.jpg* umgeschrieben.</span><span class="sxs-lookup"><span data-stu-id="5de25-354">For example, *Filename_v123.jpg* is rewritten as *Filename.jpg*.</span></span>
* <span data-ttu-id="5de25-355">Die nächsten vier Regeln zeigen das Umleiten von Anforderungen, wenn Sie die Ressourcen nicht in einem Ordner mit dem Namen *cdn*\* im Stammverzeichnis der Webrolle speichern möchten.</span><span class="sxs-lookup"><span data-stu-id="5de25-355">The next four rules show how to redirect requests if you do not want to store the resources in a folder named *cdn*\* in the root of the web role.</span></span> <span data-ttu-id="5de25-356">Die Regeln ordnen die URLs *cdn/Images*, *cdn/Content*, *cdn/Scripts* und *cdn/bundles* ihren jeweiligen Stammordnern in der Webrolle zu.</span><span class="sxs-lookup"><span data-stu-id="5de25-356">The rules map the *cdn/Images*, *cdn/Content*, *cdn/Scripts*, and *cdn/bundles* URLs to their respective root folders in the web role.</span></span>

<span data-ttu-id="5de25-357">Beachten Sie, dass Sie zum Verwenden der URL-Umschreibung einige Änderungen an der Bündelung von Ressourcen vornehmen müssen.</span><span class="sxs-lookup"><span data-stu-id="5de25-357">Note that using URL rewriting requires you to make some changes to the bundling of resources.</span></span>     

## <a name="more-information"></a><span data-ttu-id="5de25-358">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="5de25-358">More information</span></span>
* [<span data-ttu-id="5de25-359">Azure CDN</span><span class="sxs-lookup"><span data-stu-id="5de25-359">Azure CDN</span></span>](https://azure.microsoft.com/services/cdn/)
* [<span data-ttu-id="5de25-360">Dokumentation zu Azure Content Delivery Network (CDN)</span><span class="sxs-lookup"><span data-stu-id="5de25-360">Azure Content Delivery Network (CDN) Documentation</span></span>](https://azure.microsoft.com/documentation/services/cdn/)
* [<span data-ttu-id="5de25-361">Verwenden von Azure CDN</span><span class="sxs-lookup"><span data-stu-id="5de25-361">Using Azure CDN</span></span>](/azure/cdn/cdn-create-new-endpoint/)
* <span data-ttu-id="5de25-362">[Integrieren eines Clouddiensts in Azure CDN](/azure/cdn/cdn-cloud-service-with-cdn/)(https://azure.microsoft.com/blog/2011/03/18/best-practices-for-the-windows-azure-content-delivery-network/)</span><span class="sxs-lookup"><span data-stu-id="5de25-362">[Integrate a cloud service with Azure CDN](/azure/cdn/cdn-cloud-service-with-cdn/)(https://azure.microsoft.com/blog/2011/03/18/best-practices-for-the-windows-azure-content-delivery-network/)</span></span>


<!-- links -->

[cdn-features]: /azure/cdn/cdn-overview#azure-cdn-features
