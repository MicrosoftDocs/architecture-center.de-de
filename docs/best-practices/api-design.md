---
title: Leitfaden zum API-Design
description: Leitfaden zum Erstellen einer gut konzipierten API
author: dragon119
ms.date: 07/13/2016
pnp.series.title: Best Practices
ms.openlocfilehash: 3ffadce1b0c4a4da808e52d61cff0b7f0b27de11
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/14/2017
---
# <a name="api-design"></a><span data-ttu-id="1ac47-103">API-Design</span><span class="sxs-lookup"><span data-stu-id="1ac47-103">API design</span></span>
[!INCLUDE [header](../_includes/header.md)]

<span data-ttu-id="1ac47-104">Zahlreiche moderne webbasierte Lösungen nutzen auf Webservern gehostete Webdienste, um Funktionen für Remoteclientanwendungen bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-104">Many modern web-based solutions make the use of web services, hosted by web servers, to provide functionality for remote client applications.</span></span> <span data-ttu-id="1ac47-105">Die von einem Webdienst verfügbar gemachten Vorgänge bilden eine Web-API.</span><span class="sxs-lookup"><span data-stu-id="1ac47-105">The operations that a web service exposes constitute a web API.</span></span> <span data-ttu-id="1ac47-106">Eine gut entworfene Web-API sollte Folgendes unterstützen:</span><span class="sxs-lookup"><span data-stu-id="1ac47-106">A well-designed web API should aim to support:</span></span>

* <span data-ttu-id="1ac47-107">**Unabhängigkeit von der Plattform**.</span><span class="sxs-lookup"><span data-stu-id="1ac47-107">**Platform independence**.</span></span> <span data-ttu-id="1ac47-108">Clientanwendungen sollten die vom Webdienst bereitgestellte API nutzen können, ohne Anforderungen an die physische Implementierung der von der API bereitgestellten Daten oder Vorgänge zu stellen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-108">Client applications should be able to utilize the API that the web service provides without requiring how the data or operations that API exposes are physically implemented.</span></span> <span data-ttu-id="1ac47-109">Dazu muss die API allgemeine Standards einhalten, die es einer Clientanwendung und einem Webdienst ermöglichen, sich bezüglich der zu verwendenden Datenformate und der zwischen den Clientanwendungen und dem Webdienst ausgetauschten Datenstrukturen zu verständigen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-109">This requires that the API abides by common standards that enable a client application and web service to agree on which data formats to use, and the structure of the data that is exchanged between client applications and the web service.</span></span>
* <span data-ttu-id="1ac47-110">**Serviceentwicklung**.</span><span class="sxs-lookup"><span data-stu-id="1ac47-110">**Service evolution**.</span></span> <span data-ttu-id="1ac47-111">Der Webdienst sollte weiterentwickelt werden können, und Funktionen sollten sich unabhängig von Client-Anwendungen hinzufügen (oder entfernen) lassen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-111">The web service should be able to evolve and add (or remove) functionality independently from client applications.</span></span> <span data-ttu-id="1ac47-112">Wenn sich die vom Webdienst bereitgestellten Funktionen ändern, sollten vorhandene Clientanwendungen weiterhin unverändert ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="1ac47-112">Existing client applications should be able to continue to operate unmodified as the features provided by the web service change.</span></span> <span data-ttu-id="1ac47-113">Außerdem sollten alle Funktionen auffindbar sein, damit Clientanwendungen sie vollständig nutzen können.</span><span class="sxs-lookup"><span data-stu-id="1ac47-113">All functionality should also be discoverable, so that client applications can fully utilize it.</span></span>

<span data-ttu-id="1ac47-114">Dieser Leitfaden enthält Informationen zu den Problemen, die beim Entwerfen einer Web-API zu berücksichtigen sind.</span><span class="sxs-lookup"><span data-stu-id="1ac47-114">The purpose of this guidance is to describe the issues that you should consider when designing a web API.</span></span>

## <a name="introduction-to-representational-state-transfer-rest"></a><span data-ttu-id="1ac47-115">Einführung in Representational State Transfer (REST)</span><span class="sxs-lookup"><span data-stu-id="1ac47-115">Introduction to Representational State Transfer (REST)</span></span>
<span data-ttu-id="1ac47-116">Roy Fielding schlug in seiner Dissertation im Jahr 2000 als Alternative zur Strukturierung der von Webdiensten verfügbar gemachten Vorgänge einen weiteren Architekturansatz vor: REST.</span><span class="sxs-lookup"><span data-stu-id="1ac47-116">In his dissertation in 2000, Roy Fielding proposed an alternative architectural approach to structuring the operations exposed by web services; REST.</span></span> <span data-ttu-id="1ac47-117">REST ist ein Architekturstil zum Erstellen verteilter Systeme, die auf Hypermedia basieren.</span><span class="sxs-lookup"><span data-stu-id="1ac47-117">REST is an architectural style for building distributed systems based on hypermedia.</span></span> <span data-ttu-id="1ac47-118">Ein wichtiger Vorteil des REST-Modells besteht darin, dass es auf offenen Standards basiert und die Implementierung des Modells oder der Clientanwendungen, die darauf zugreifen, nicht an eine bestimmte Implementierung bindet.</span><span class="sxs-lookup"><span data-stu-id="1ac47-118">A primary advantage of the REST model is that it is based on open standards and does not bind the implementation of the model or the client applications that access it to any specific implementation.</span></span> <span data-ttu-id="1ac47-119">Beispielsweise könnte ein REST-Webdienst mithilfe der Microsoft ASP.NET-Web-API implementiert werden, und Clientanwendungen könnten mit allen Sprachen und Toolsets entwickelt werden, die HTTP-Anforderungen generieren und HTTP-Antworten analysieren können.</span><span class="sxs-lookup"><span data-stu-id="1ac47-119">For example, a REST web service could be implemented by using the Microsoft ASP.NET Web API, and client applications could be developed by using any language and toolset that can generate HTTP requests and parse HTTP responses.</span></span>

> [!NOTE]
> <span data-ttu-id="1ac47-120">REST ist tatsächlich unabhängig von zugrundeliegenden Protokollen und nicht unbedingt an HTTP gebunden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-120">REST is actually independent of any underlying protocol and is not necessarily tied to HTTP.</span></span> <span data-ttu-id="1ac47-121">Dennoch verwenden die meisten gängigen Implementierungen von Systemen, die auf REST basieren, HTTP als Anwendungsprotokoll für das Senden und Empfangen von Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-121">However, most common implementations of systems that are based on REST utilize HTTP as the application protocol for sending and receiving requests.</span></span> <span data-ttu-id="1ac47-122">Dieses Dokument behandelt insbesondere die Zuordnung von REST-Prinzipien an Systeme, die mit HTTP betrieben werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-122">This document focuses on mapping REST principles to systems designed to operate using HTTP.</span></span>
>
>

<span data-ttu-id="1ac47-123">Das REST-Modell verwendet ein Navigationsschema zur Darstellung von Objekten und Diensten über ein Netzwerk (als *Ressourcen* bezeichnet).</span><span class="sxs-lookup"><span data-stu-id="1ac47-123">The REST model uses a navigational scheme to represent objects and services over a network (referred to as *resources*).</span></span> <span data-ttu-id="1ac47-124">Viele Systeme, die REST implementieren, verwenden in der Regel das HTTP-Protokoll zum Übertragen von Anforderungen für den Zugriff auf diese Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-124">Many systems that implement REST typically use the HTTP protocol to transmit requests to access these resources.</span></span> <span data-ttu-id="1ac47-125">In diesen Systemen sendet eine Clientanwendung eine Anforderung in Form eines URI, der eine Ressource kennzeichnet, und einer HTTP-Methode (meist GET, POST, PUT oder DELETE), die angibt, welcher Vorgang für die Ressource ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="1ac47-125">In these systems, a client application submits a request in the form of a URI that identifies a resource, and an HTTP method (the most common being GET, POST, PUT, or DELETE) that indicates the operation to be performed on that resource.</span></span>  <span data-ttu-id="1ac47-126">Der Hauptteil der HTTP-Anforderung enthält die zum Ausführen des Vorgangs erforderlichen Daten.</span><span class="sxs-lookup"><span data-stu-id="1ac47-126">The body of the HTTP request contains the data required to perform the operation.</span></span> <span data-ttu-id="1ac47-127">Wichtig zu verstehen ist, dass REST ein zustandsloses Anforderungsmodell definiert.</span><span class="sxs-lookup"><span data-stu-id="1ac47-127">The important point to understand is that REST defines a stateless request model.</span></span> <span data-ttu-id="1ac47-128">HTTP-Anforderungen sollten unabhängig sein und können in beliebiger Reihenfolge erfolgen, sodass der Versuch, Übergangsstatusinformationen zwischen Anforderungen beizubehalten, nicht möglich ist.</span><span class="sxs-lookup"><span data-stu-id="1ac47-128">HTTP requests should be independent and may occur in any order, so attempting to retain transient state information between requests is not feasible.</span></span>  <span data-ttu-id="1ac47-129">Informationen werden ausschließlich in den Ressourcen selbst gespeichert, und jede Anforderung sollte eine atomare Operation sein.</span><span class="sxs-lookup"><span data-stu-id="1ac47-129">The only place where information is stored is in the resources themselves, and each request should be an atomic operation.</span></span> <span data-ttu-id="1ac47-130">Ein REST-Modell implementiert im Grunde einen finiten Statuscomputer, wobei eine Anforderung eine Ressource von einem klar definierten, nicht flüchtigen Zustand in einen anderen Zustand versetzt.</span><span class="sxs-lookup"><span data-stu-id="1ac47-130">Effectively, a REST model implements a finite state machine where a request transitions a resource from one well-defined non-transient state to another.</span></span>

> [!NOTE]
> <span data-ttu-id="1ac47-131">Die Zustandslosigkeit einzelner Anforderungen im REST-Modell sorgt dafür, dass ein anhand dieser Prinzipien erstelltes System hochgradig skalierbar ist.</span><span class="sxs-lookup"><span data-stu-id="1ac47-131">The stateless nature of individual requests in the REST model enables a system constructed by following these principles to be highly scalable.</span></span> <span data-ttu-id="1ac47-132">Zwischen einer Clientanwendung, die eine Reihe von Anforderungen erstellt, und den bestimmten Webservern, die diese behandeln, muss keine Affinität beibehalten werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-132">There is no need to retain any affinity between a client application making a series of requests and the specific web servers handling those requests.</span></span>
>
>

<span data-ttu-id="1ac47-133">Ein weiterer wichtiger Aspekt beim Implementieren eines effektiven REST-Modells ist das Verstehen der Beziehungen zwischen den verschiedenen Ressourcen, auf welche das Modell Zugriff bietet.</span><span class="sxs-lookup"><span data-stu-id="1ac47-133">Another crucial point in implementing an effective REST model is to understand the relationships between the various resources to which the model provides access.</span></span> <span data-ttu-id="1ac47-134">Diese Ressourcen sind in der Regel als Auflistungen und Beziehungen organisiert.</span><span class="sxs-lookup"><span data-stu-id="1ac47-134">These resources are typically organized as collections and relationships.</span></span> <span data-ttu-id="1ac47-135">Angenommen, die schnelle Analyse eines e-Commerce-Systems zeigt, dass zwei Auflistungen vorhanden sind, an denen Clientanwendungen wahrscheinlich interessiert sind: Bestellungen und Kunden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-135">For example, suppose that a quick analysis of an ecommerce system shows that there are two collections in which client applications are likely to be interested: orders and customers.</span></span> <span data-ttu-id="1ac47-136">Für alle Bestellungen und Kunden sollten eigene eindeutige Schlüssel zu Identifikationszwecken vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="1ac47-136">Each order and customer should have its own unique key for identification purposes.</span></span> <span data-ttu-id="1ac47-137">Der URI für den Zugriff auf die Auflistung der Bestellungen kann einfach sein, z.B. */Bestellungen*, und der URI für den Abruf aller Kunden könnte entsprechend */Kunden* lauten.</span><span class="sxs-lookup"><span data-stu-id="1ac47-137">The URI to access the collection of orders could be something as simple as */orders*, and similarly the URI for retrieving all customers could be */customers*.</span></span> <span data-ttu-id="1ac47-138">Mit dem Ausgeben einer HTTP GET-Anforderung an den URI */Bestellungen* sollte eine Liste zurückgegeben werden, die alle als HTTP-Antwort codierten Bestellungen in der Auflistung enthält:</span><span class="sxs-lookup"><span data-stu-id="1ac47-138">Issuing an HTTP GET request to the */orders* URI should return a list representing all orders in the collection encoded as an HTTP response:</span></span>

```HTTP
GET http://adventure-works.com/orders HTTP/1.1
...
```

<span data-ttu-id="1ac47-139">Die unten gezeigte Antwort codiert die Bestellungen als JSON-Listenstruktur:</span><span class="sxs-lookup"><span data-stu-id="1ac47-139">The response shown below encodes the orders as a JSON list structure:</span></span>

```HTTP
HTTP/1.1 200 OK
...
Date: Fri, 22 Aug 2014 08:49:02 GMT
Content-Length: ...
[{"orderId":1,"orderValue":99.90,"productId":1,"quantity":1},{"orderId":2,"orderValue":10.00,"productId":4,"quantity":2},{"orderId":3,"orderValue":16.60,"productId":2,"quantity":4},{"orderId":4,"orderValue":25.90,"productId":3,"quantity":1},{"orderId":5,"orderValue":99.90,"productId":1,"quantity":1}]
```
<span data-ttu-id="1ac47-140">Zum Abrufen einer einzelnen Bestellung muss der Bezeichner für die Bestellung aus der Ressource *Bestellungen* angegeben werden, z.B. */Bestellungen/2*:</span><span class="sxs-lookup"><span data-stu-id="1ac47-140">To fetch an individual order requires specifying the identifier for the order from the *orders* resource, such as */orders/2*:</span></span>

```HTTP
GET http://adventure-works.com/orders/2 HTTP/1.1
...
```

```HTTP
HTTP/1.1 200 OK
...
Date: Fri, 22 Aug 2014 08:49:02 GMT
Content-Length: ...
{"orderId":2,"orderValue":10.00,"productId":4,"quantity":2}
```

> [!NOTE]
> <span data-ttu-id="1ac47-141">Der Einfachheit halber werden in diesen Beispielen die Informationen in zurückgegebenen Antworten als JSON-Textdaten angezeigt.</span><span class="sxs-lookup"><span data-stu-id="1ac47-141">For simplicity, these examples show the information in responses being returned as JSON text data.</span></span> <span data-ttu-id="1ac47-142">Es gibt jedoch kein Grund, warum Ressourcen keinen anderen von HTTP unterstützten Datentyp enthalten sollten, z. B. binäre oder verschlüsselte Informationen; der Inhaltstyp in der HTTP-Antwort sollte den Typ angeben.</span><span class="sxs-lookup"><span data-stu-id="1ac47-142">However, there is no reason why resources should not contain any other type of data supported by HTTP, such as binary or encrypted information; the content-type in the HTTP response should specify the type.</span></span> <span data-ttu-id="1ac47-143">Zudem kann ein REST-Modell u. U. dieselben Daten in verschiedenen Formaten wie XML oder JSON zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="1ac47-143">Also, a REST model may be able to return the same data in different formats, such as XML or JSON.</span></span> <span data-ttu-id="1ac47-144">In diesem Fall sollte der Webdienst zur Inhaltsaushandlung mit dem Client, der die Anforderung stellt, in der Lage sein.</span><span class="sxs-lookup"><span data-stu-id="1ac47-144">In this case, the web service should be able to perform content negotiation with the client making the request.</span></span> <span data-ttu-id="1ac47-145">Die Anforderung kann einen *Accept*-Header enthalten, der das bevorzugte Format des Clients angibt, und der Webdienst sollte versuchen, dieses Format nach Möglichkeit zu berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-145">The request can include an *Accept* header which specifies the preferred format that the client would like to receive and the web service should attempt to honor this format if at all possible.</span></span>
>
>

<span data-ttu-id="1ac47-146">Beachten Sie, dass die Antwort von einer REST-Anforderung die standardmäßigen HTTP-Statuscodes verwendet.</span><span class="sxs-lookup"><span data-stu-id="1ac47-146">Notice that the response from a REST request makes use of the standard HTTP status codes.</span></span> <span data-ttu-id="1ac47-147">Beispielsweise sollte eine Anforderung, die gültige Daten zurückgibt, den HTTP-Antwortcode 200 (OK) enthalten, während eine Anforderung, die eine bestimmte Ressource nicht finden oder löschen kann, eine Antwort zurückgeben sollte, die den HTTP-Statuscode 404 (Nicht gefunden) enthält.</span><span class="sxs-lookup"><span data-stu-id="1ac47-147">For example, a request that returns valid data should include the HTTP response code 200 (OK), while a request that fails to find or delete a specified resource should return a response that includes the HTTP status code 404 (Not Found).</span></span>

## <a name="design-and-structure-of-a-restful-web-api"></a><span data-ttu-id="1ac47-148">Design und Struktur einer RESTful-Web-API</span><span class="sxs-lookup"><span data-stu-id="1ac47-148">Design and structure of a RESTful web API</span></span>
<span data-ttu-id="1ac47-149">Einfachheit und Konsistenz sind entscheidend für das Entwerfen einer erfolgreichen Web-API.</span><span class="sxs-lookup"><span data-stu-id="1ac47-149">The keys to designing a successful web API are simplicity and consistency.</span></span> <span data-ttu-id="1ac47-150">Eine Web-API, bei der diese beiden Faktoren berücksichtigt wurden, erleichtert das Erstellen von Clientanwendungen, die die API verwenden müssen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-150">A Web API that exhibits these two factors makes it easier to build client applications that need to consume the API.</span></span>

<span data-ttu-id="1ac47-151">Eine RESTful-Web-API dient der Bereitstellung einer Reihe von verbundenen Ressourcen sowie der Kernvorgänge, die einer Anwendung das Bearbeiten und das problemlose Wechseln zwischen diesen Ressourcen ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="1ac47-151">A RESTful web API is focused on exposing a set of connected resources, and providing the core operations that enable an application to manipulate these resources and easily navigate between them.</span></span> <span data-ttu-id="1ac47-152">Daher sollten die URIs, die eine typische RESTful-Web-API bilden, auf die bereitgestellten Daten ausgerichtet sein und die von HTTP bereitgestellten Funktionen auf diese Daten anwenden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-152">For this reason, the URIs that constitute a typical RESTful web API should be oriented towards the data that it exposes, and use the facilities provided by HTTP to operate on this data.</span></span> <span data-ttu-id="1ac47-153">Dieser Ansatz erfordert eine andere Einstellung als die übliche beim Entwerfen einer Reihe von Klassen in einer objektorientierten API, die in der Regel stärker vom Verhalten von Objekten und Klassen motiviert wird.</span><span class="sxs-lookup"><span data-stu-id="1ac47-153">This approach requires a different mindset from that typically employed when designing a set of classes in an object-oriented API which tends to be more motivated by the behavior of objects and classes.</span></span> <span data-ttu-id="1ac47-154">Zudem sollte eine RESTful-Web-API zustandslos sein und nicht von Vorgängen abhängen, die in einer bestimmten Reihenfolge aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-154">Additionally, a RESTful web API should be stateless and not depend on operations being invoked in a particular sequence.</span></span> <span data-ttu-id="1ac47-155">In den folgenden Abschnitten sind die Punkte zusammengefasst, die beim Entwerfen einer RESTful-Web-API zu berücksichtigen sind.</span><span class="sxs-lookup"><span data-stu-id="1ac47-155">The following sections summarize the points you should consider when designing a RESTful web API.</span></span>

### <a name="organizing-the-web-api-around-resources"></a><span data-ttu-id="1ac47-156">Organisieren der Web-API unter Berücksichtigung von Ressourcen</span><span class="sxs-lookup"><span data-stu-id="1ac47-156">Organizing the web API around resources</span></span>
> [!TIP]
> <span data-ttu-id="1ac47-157">Die von einem REST-Webdienst verfügbar gemachten URIs sollten auf Nomen basieren (die Daten, auf die die Web-API den Zugriff ermöglicht) und nicht auf Verben (wie eine Anwendung die Daten verwenden kann).</span><span class="sxs-lookup"><span data-stu-id="1ac47-157">The URIs exposed by a REST web service should be based on nouns (the data to which the web API provides access) and not verbs (what an application can do with the data).</span></span>
>
>

<span data-ttu-id="1ac47-158">Konzentrieren sich auf die Geschäftseinheiten, die die Web-API verfügbar macht.</span><span class="sxs-lookup"><span data-stu-id="1ac47-158">Focus on the business entities that the web API exposes.</span></span> <span data-ttu-id="1ac47-159">Beispielsweise sind die primären Entitäten in einer Web-API zur Unterstützung des zuvor beschriebenen e-Commerce-Systems Kunden und Bestellungen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-159">For example, in a web API designed to support the ecommerce system described earlier, the primary entities are customers and orders.</span></span> <span data-ttu-id="1ac47-160">Prozesse wie das Aufgeben einer Bestellung können durch das Bereitstellen eines HTTP POST-Vorgangs durchgeführt werden, der die Bestellinformationen der Liste mit Bestellungen für den Kunden hinzufügt.</span><span class="sxs-lookup"><span data-stu-id="1ac47-160">Processes such as the act of placing an order can be achieved by providing an HTTP POST operation that takes the order information and adds it to the list of orders for the customer.</span></span> <span data-ttu-id="1ac47-161">Intern kann dieser POST-Vorgang z. B. Aufgaben wie das Überprüfen der Lagerbestände und die Rechnungsstellung übernehmen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-161">Internally, this POST operation can perform tasks such as checking stock levels, and billing the customer.</span></span> <span data-ttu-id="1ac47-162">Die HTTP-Antwort kann angeben, ob die Bestellung erfolgreich aufgegeben wurde oder nicht.</span><span class="sxs-lookup"><span data-stu-id="1ac47-162">The HTTP response can indicate whether the order was placed successfully or not.</span></span> <span data-ttu-id="1ac47-163">Beachten Sie außerdem, dass eine Ressource nicht auf einem einzelnen physischen Datenelement basieren muss.</span><span class="sxs-lookup"><span data-stu-id="1ac47-163">Also note that a resource does not have to be based on a single physical data item.</span></span> <span data-ttu-id="1ac47-164">Beispielsweise kann eine Bestellressource intern implementiert werden, indem zusammengefasste Informationen aus mehreren Zeilen über mehrere Tabellen in einer relationalen Datenbank verteilt, auf dem Client jedoch als einzelne Entität angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-164">As an example, an order resource might be implemented internally by using information aggregated from many rows spread across several tables in a relational database but presented to the client as a single entity.</span></span>

> [!TIP]
> <span data-ttu-id="1ac47-165">Vermeiden Sie das Entwerfen einer REST-Schnittstelle, die die interne Struktur der Daten, die sie verfügbar macht, spiegelt oder von ihr abhängig ist.</span><span class="sxs-lookup"><span data-stu-id="1ac47-165">Avoid designing a REST interface that mirrors or depends on the internal structure of the data that it exposes.</span></span> <span data-ttu-id="1ac47-166">REST dient nicht nur zum Implementieren von einfachen CRUD (Create, Retrieve, Update, Delete)-Vorgänge über separate Tabellen in einer relationalen Datenbank hinweg.</span><span class="sxs-lookup"><span data-stu-id="1ac47-166">REST is about more than implementing simple CRUD (Create, Retrieve, Update, Delete) operations over separate tables in a relational database.</span></span> <span data-ttu-id="1ac47-167">REST dient der Zuordnung der Geschäftsentitäten und Vorgänge, die eine Anwendung für diese Entitäten ausführen kann, an die physische Implementierung dieser Entitäten, ein Client sollte jedoch nicht für diese physischen Entitäten verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-167">The purpose of REST is to map business entities and the operations that an application can perform on these entities to the physical implementation of these entities, but a client should not be exposed to these physical details.</span></span>
>
>

<span data-ttu-id="1ac47-168">Einzelne Geschäftseinheiten sind selten isoliert vorhanden,(obwohl einige einzelne Objekte vorhanden sein können), sondern in der Regel in Auflistungen gruppiert.</span><span class="sxs-lookup"><span data-stu-id="1ac47-168">Individual business entities rarely exist in isolation (although some singleton objects may exist), but instead tend to be grouped together into collections.</span></span> <span data-ttu-id="1ac47-169">Für REST sind alle Entitäten und Auflistungen Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-169">In REST terms, each entity and each collection are resources.</span></span> <span data-ttu-id="1ac47-170">In einer RESTful-Web-API verfügt jede Auflistung über einen eigenen URI innerhalb des Webdiensts, und das Ausführen einer HTTP GET-Anforderung über einen URI für eine Auflistung ruft eine Liste der Elemente in dieser Auflistung ab.</span><span class="sxs-lookup"><span data-stu-id="1ac47-170">In a RESTful web API, each collection has its own URI within the web service, and performing an HTTP GET request over a URI for a collection retrieves a list of items in that collection.</span></span> <span data-ttu-id="1ac47-171">Jedes einzelne Element verfügt auch über einen eigenen URI, und eine Anwendung kann eine weitere HTTP GET-Anforderung mit diesen URI zum Abrufen der Details des jeweiligen Elements senden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-171">Each individual item also has its own URI, and an application can submit another HTTP GET request using that URI to retrieve the details of that item.</span></span> <span data-ttu-id="1ac47-172">Sie sollten die URIs für Auflistungen und Elemente hierarchisch organisieren.</span><span class="sxs-lookup"><span data-stu-id="1ac47-172">You should organize the URIs for collections and items in a hierarchical manner.</span></span> <span data-ttu-id="1ac47-173">Im E-Commerce-System kennzeichnet der URI */Kunden* die Auflistung des Kunden, und */Kunden/5* ruft die Details für den einzelnen Kunden mit der ID 5 aus dieser Auflistung ab.</span><span class="sxs-lookup"><span data-stu-id="1ac47-173">In the ecommerce system, the URI */customers* denotes the customer’s collection, and */customers/5* retrieves the details for the single customer with the ID 5 from this collection.</span></span> <span data-ttu-id="1ac47-174">Dieser Ansatz trägt dazu bei, dass die Web-API intuitiv bleibt.</span><span class="sxs-lookup"><span data-stu-id="1ac47-174">This approach helps to keep the web API intuitive.</span></span>

> [!TIP]
> <span data-ttu-id="1ac47-175">Übernehmen Sie eine konsistente Namenskonvention in URIs; im Allgemeinen ist es hilfreich, Nomen in Pluralform für URIs zu verwenden, die auf Auflistungen verweisen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-175">Adopt a consistent naming convention in URIs; in general it helps to use plural nouns for URIs that reference collections.</span></span>
>
>

<span data-ttu-id="1ac47-176">Sie müssen auch die Beziehungen zwischen verschiedenen Ressourcentypen und wie Sie diese Zuordnungen verfügbar machen können berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-176">You also need to consider the relationships between different types of resources and how you might expose these associations.</span></span> <span data-ttu-id="1ac47-177">Kunden können z. B. null oder mehrere Bestellungen aufgeben.</span><span class="sxs-lookup"><span data-stu-id="1ac47-177">For example, customers may place zero or more orders.</span></span> <span data-ttu-id="1ac47-178">Eine natürliche Methode zur Darstellung dieser Beziehung ist die Verwendung eines URI wie */Kunden/5/Bestellungen*, um nach allen Bestellungen für Kunde 5 zu suchen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-178">A natural way to represent this relationship would be through a URI such as */customers/5/orders* to find all the orders for customer 5.</span></span> <span data-ttu-id="1ac47-179">Sie können eine Zuordnung auch von einer Bestellung zurück zu einem bestimmten Kunden mit einem URI wie */Bestellungen/99/Kunde* darstellen, um den Kunden für Bestellung 99 zu finden. Eine zu starke Erweiterung dieses Modells kann aber zu umständlichen Implementierungen führen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-179">You might also consider representing the association from an order back to a specific customer through a URI such as */orders/99/customer* to find the customer for order 99, but extending this model too far can become cumbersome to implement.</span></span> <span data-ttu-id="1ac47-180">Eine bessere Lösung ist das Bereitstellen navigierbarer Links zu zugeordneten Ressourcen wie z. B. zum Kunden im Hauptteil der HTTP-Antwortnachricht, die zurückgegeben wird, wenn die Bestellung abgefragt wird.</span><span class="sxs-lookup"><span data-stu-id="1ac47-180">A better solution is to provide navigable links to associated resources, such as the customer, in the body of the HTTP response message returned when the order is queried.</span></span> <span data-ttu-id="1ac47-181">Dieser Mechanismus wird im Abschnitt „Verwenden des HATEOAS-Ansatzes, um die Navigation zu verwandten Ressourcen zu ermöglichen“ weiter unten in diesem Handbuch ausführlicher beschrieben.</span><span class="sxs-lookup"><span data-stu-id="1ac47-181">This mechanism is described in more detail in the section Using the HATEOAS Approach to Enable Navigation To Related Resources later in this guidance.</span></span>

<span data-ttu-id="1ac47-182">In komplexeren Systemen sind unter Umständen zahlreiche weitere Entitätstypen vorhanden, und das Bereitstellen von URIs, die für eine Clientanwendung das Navigieren über mehrere Ebenen von Beziehungen hinweg ermöglichen – z.B. */Kunden/1/Bestellungen/99/Produkte*, um die Produktliste von Kunde 1 in Bestellung 99 abzurufen –, kann verlockend sein.</span><span class="sxs-lookup"><span data-stu-id="1ac47-182">In more complex systems there may be many more types of entity, and it can be tempting to provide URIs that enable a client application to navigate through several levels of relationships, such as */customers/1/orders/99/products* to obtain the list of products in order 99 placed by customer 1.</span></span> <span data-ttu-id="1ac47-183">Dieses Maß an Komplexität kann jedoch schwierig zu verwalten sein und ist unflexibel, wenn sich die Beziehungen zwischen Ressourcen in der Zukunft ändern.</span><span class="sxs-lookup"><span data-stu-id="1ac47-183">However, this level of complexity can be difficult to maintain and is inflexible if the relationships between resources change in the future.</span></span> <span data-ttu-id="1ac47-184">Vielmehr sollten Sie sich bemühen, URIs relativ einfach zu halten.</span><span class="sxs-lookup"><span data-stu-id="1ac47-184">Rather, you should seek to keep URIs relatively simple.</span></span> <span data-ttu-id="1ac47-185">Beachten Sie, dass sobald eine Anwendung über einen Verweis auf eine Ressource verfügt, dieser Verweis zum Suchen von Elementen im Zusammenhang mit dieser Ressource verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="1ac47-185">Bear in mind that once an application has a reference to a resource, it should be possible to use this reference to find items related to that resource.</span></span> <span data-ttu-id="1ac47-186">Die vorhergehende Abfrage kann durch den URI */Kunden/1/Bestellungen* ersetzt werden, um alle Bestellungen für Kunde 1 zu finden. Anschließend wird der URI */Bestellungen/99/Produkte* zum Ermitteln der Produkte in dieser Bestellung abgefragt (vorausgesetzt, Bestellung 99 wurde von Kunde 1 aufgegeben).</span><span class="sxs-lookup"><span data-stu-id="1ac47-186">The preceding query can be replaced with the URI */customers/1/orders* to find all the orders for customer 1, and then query the URI */orders/99/products* to find the products in this order (assuming order 99 was placed by customer 1).</span></span>

> [!TIP]
> <span data-ttu-id="1ac47-187">Vermeiden Sie, dass komplexere Ressourcen-URIs als *Auflistung/Element/Auflistung* erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="1ac47-187">Avoid requiring resource URIs more complex than *collection/item/collection*.</span></span>
>
>

<span data-ttu-id="1ac47-188">Außerdem ist es wichtig zu berücksichtigen, dass alle Webanforderungen den Webserver belasten, und je höher die Anzahl der Anforderungen, desto höher die Last.</span><span class="sxs-lookup"><span data-stu-id="1ac47-188">Another point to consider is that all web requests impose a load on the web server, and the greater the number of requests the bigger the load.</span></span> <span data-ttu-id="1ac47-189">Sie sollten versuchen, Ihre Ressourcen zu definieren, um „geschwätzige“ Web-APIs vermeiden, die eine große Anzahl von kleinen Ressourcen verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-189">You should attempt to define your resources to avoid “chatty” web APIs that expose a large number of small resources.</span></span> <span data-ttu-id="1ac47-190">Eine solche API erfordert möglicherweise, dass eine Clientanwendung mehrere Anforderungen sendet, um alle erforderlichen Daten zu finden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-190">Such an API may require a client application to submit multiple requests to find all the data that it requires.</span></span> <span data-ttu-id="1ac47-191">Es kann vorteilhaft sein, Daten zu denormalisieren und Informationen zu größeren Ressourcen zusammenzufassen, die mit einer einzelnen Anforderung abgerufen werden können.</span><span class="sxs-lookup"><span data-stu-id="1ac47-191">It may be beneficial to denormalize data and combine related information together into bigger resources that can be retrieved by issuing a single request.</span></span> <span data-ttu-id="1ac47-192">Jedoch müssen Sie diesen Ansatz gegen den Aufwand für das Abrufen von Daten abwägen, die für den Client möglicherweise oft nicht erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="1ac47-192">However, you need to balance this approach against the overhead of fetching data that might not be frequently required by the client.</span></span> <span data-ttu-id="1ac47-193">Das Abrufen von großen Objekten kann die Latenz einer Anforderung erhöhen und zusätzliche Bandbreitenkosten für geringe Vorteile verursachen, wenn die zusätzlichen Daten nicht häufig verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-193">Retrieving large objects can increase the latency of a request and incur additional bandwidth costs for little advantage if the additional data is not often used.</span></span>

<span data-ttu-id="1ac47-194">Vermeiden Sie das Einführen von Abhängigkeiten zwischen der Web-API und der Struktur, dem Typ oder dem Speicherort der zugrundeliegenden Datenquellen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-194">Avoid introducing dependencies between the web API to the structure, type, or location of the underlying data sources.</span></span> <span data-ttu-id="1ac47-195">Befinden sich Ihre Daten beispielsweise in einer relationalen Datenbank, muss die Web-API nicht jede Tabelle als Auflistung von Ressourcen verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-195">For example, if your data is located in a relational database, the web API does not need to expose each table as a collection of resources.</span></span> <span data-ttu-id="1ac47-196">Betrachten Sie die Web-API als eine Abstraktion der Datenbank, und erstellen Sie bei Bedarf eine Zuordnungsebene zwischen der Datenbank und der Web-API.</span><span class="sxs-lookup"><span data-stu-id="1ac47-196">Think of the web API as an abstraction of the database, and if necessary introduce a mapping layer between the database and the web API.</span></span> <span data-ttu-id="1ac47-197">Sollte sich das Design oder die Implementierung der Datenbank dann ändern (z. B. wenn Sie von einer relationalen Datenbank mit einer Auflistung von normalisierten Tabellen zu einem denormalisierten NoSQL-Speichersystem wie z. B. einer Dokumentendatenbank wechseln), sind Clientanwendungen von diesen Änderungen isoliert.</span><span class="sxs-lookup"><span data-stu-id="1ac47-197">In this way, if the design or implementation of the database changes (for example, you move from a relational database containing a collection of normalized tables to a denormalized NoSQL storage system such as a document database) client applications are insulated from these changes.</span></span>

> [!TIP]
> <span data-ttu-id="1ac47-198">Die Quelle der Daten, die eine Web-API unterstützen, muss kein Datenspeicher sein; es kann sich auch um eine andere Branchenanwendung oder sogar eine ältere Anwendung handeln, die lokal innerhalb einer Organisation ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="1ac47-198">The source of the data that underpins a web API does not have to be a data store; it could be another service or line-of-business application or even a legacy application running on-premises within an organization.</span></span>
>
>

<span data-ttu-id="1ac47-199">Schließlich ist es auch möglich, dass nicht jeder von einer Web-API für eine bestimmte Ressource implementierte Vorgang zugeordnet werden kann.</span><span class="sxs-lookup"><span data-stu-id="1ac47-199">Finally, it might not be possible to map every operation implemented by a web API to a specific resource.</span></span> <span data-ttu-id="1ac47-200">Sie können solche Szenarien *ohne Ressourcen* z.B. über HTTP GET-Anforderungen behandeln, die einen Teil der Funktionalität aufrufen und die Ergebnisse als HTTP-Antwortnachricht zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="1ac47-200">You can handle such *non-resource* scenarios through HTTP GET requests that invoke a piece of functionality and return the results as an HTTP response message.</span></span> <span data-ttu-id="1ac47-201">Eine Web-API, die einfache Rechenvorgänge  wie z. B. Addition und Subtraktion implementiert, könnte URIs bereitstellen, die diese Vorgänge als Pseudoressourcen verfügbar machen und die Abfragezeichenfolge zum Angeben der erforderlichen Parameter verwenden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-201">A web API that implements simple calculator-style operations such as add and subtract could provide URIs that expose these operations as pseudo resources and utilize the query string to specify the parameters required.</span></span> <span data-ttu-id="1ac47-202">Eine GET-Anforderung an den URI */add?operand1=99&operand2=1* könnte eine Antwortnachricht mit einem Text zurückgeben, der den Wert 100 enthält, und eine GET-Anforderung an den URI */subtract?operand1=50&operand2=20* könnte eine Antwortnachricht mit einem Text zurückgeben, der den Wert 30 enthält.</span><span class="sxs-lookup"><span data-stu-id="1ac47-202">For example a GET request to the URI */add?operand1=99&operand2=1* could return a response message with the body containing the value 100, and GET request to the URI */subtract?operand1=50&operand2=20* could return a response message with the body containing the value 30.</span></span> <span data-ttu-id="1ac47-203">Verwenden Sie diese URI-Formen jedoch nur sparsam.</span><span class="sxs-lookup"><span data-stu-id="1ac47-203">However, only use these forms of URIs sparingly.</span></span>

### <a name="defining-operations-in-terms-of-http-methods"></a><span data-ttu-id="1ac47-204">Definieren von Vorgängen im Hinblick auf HTTP-Methoden</span><span class="sxs-lookup"><span data-stu-id="1ac47-204">Defining operations in terms of HTTP methods</span></span>
<span data-ttu-id="1ac47-205">Das HTTP-Protokoll definiert eine Reihe von Methoden, die einer Anforderung semantische Bedeutung zuweisen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-205">The HTTP protocol defines a number of methods that assign semantic meaning to a request.</span></span> <span data-ttu-id="1ac47-206">Diese allgemeinen HTTP-Methoden werden von den meisten RESTful-Web-APIs verwendet:</span><span class="sxs-lookup"><span data-stu-id="1ac47-206">The common HTTP methods used by most RESTful web APIs are:</span></span>

* <span data-ttu-id="1ac47-207">**GET**, um eine Kopie der Ressource am angegebenen URI abzurufen</span><span class="sxs-lookup"><span data-stu-id="1ac47-207">**GET**, to retrieve a copy of the resource at the specified URI.</span></span> <span data-ttu-id="1ac47-208">Der Text der Antwortnachricht enthält die Details der angeforderten Ressource.</span><span class="sxs-lookup"><span data-stu-id="1ac47-208">The body of the response message contains the details of the requested resource.</span></span>
* <span data-ttu-id="1ac47-209">**POST**, um eine neue Ressource am angegebenen URI zu erstellen</span><span class="sxs-lookup"><span data-stu-id="1ac47-209">**POST**, to create a new resource at the specified URI.</span></span> <span data-ttu-id="1ac47-210">Der Text der Anforderungsnachricht enthält die Details der neuen Ressource.</span><span class="sxs-lookup"><span data-stu-id="1ac47-210">The body of the request message provides the details of the new resource.</span></span> <span data-ttu-id="1ac47-211">Beachten Sie, dass POST auch zum Auslösen von Vorgängen verwendet werden kann, die nicht tatsächlich Ressourcen erstellen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-211">Note that POST can also be used to trigger operations that don't actually create resources.</span></span>
* <span data-ttu-id="1ac47-212">**PUT**, um die Ressource am angegebenen URI zu ersetzen oder zu aktualisieren</span><span class="sxs-lookup"><span data-stu-id="1ac47-212">**PUT**, to replace or update the resource at the specified URI.</span></span> <span data-ttu-id="1ac47-213">Der Text der Anforderungsnachricht gibt die zu ändernde Ressource und die anzuwendenden Werte an.</span><span class="sxs-lookup"><span data-stu-id="1ac47-213">The body of the request message specifies the resource to be modified and the values to be applied.</span></span>
* <span data-ttu-id="1ac47-214">**DELETE**, um die Ressource am angegebenen URI zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-214">**DELETE**, to remove the resource at the specified URI.</span></span>

> [!NOTE]
> <span data-ttu-id="1ac47-215">Das HTTP-Protokoll definiert auch andere weniger häufig verwendete Methoden, z. B. die PATCH-Methode, mit der selektive Updates einer Ressource angefordert werden, die HEAD-Methode, die Beschreibung einer Ressource angefordert wird, die OPTIONS-Methode, die einer Clientinformation das Abrufen von Informationen zu den vom Server unterstützten Kommunikationsoptionen ermöglicht, und die TRACE-Methode, die einem Client das Anfordern von Informationen zu Test- und Diagnosezwecken ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="1ac47-215">The HTTP protocol also defines other less commonly-used methods, such as PATCH which is used to request selective updates to a resource, HEAD which is used to request a description of a resource, OPTIONS which enables a client information to obtain information about the communication options supported by the server, and TRACE which allows a client to request information that it can use for testing and diagnostics purposes.</span></span>
>
>

<span data-ttu-id="1ac47-216">Die Auswirkungen einer bestimmten Anforderung sollten davon abhängen, ob die Ressource, auf die sie angewendet wird, eine Auflistung oder ein einzelnes Element ist.</span><span class="sxs-lookup"><span data-stu-id="1ac47-216">The effect of a specific request should depend on whether the resource to which it is applied is a collection or an individual item.</span></span> <span data-ttu-id="1ac47-217">In der folgende Tabelle sind anhand des e-Commerce-Beispiels die allgemeinen Konventionen zusammengefasst, die bei den meisten RESTful-Implementierungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-217">The following table summarizes the common conventions adopted by most RESTful implementations using the ecommerce example.</span></span> <span data-ttu-id="1ac47-218">Beachten Sie, dass u. U. nicht alle diese Anforderungen implementiert werden; dies hängt vom jeweiligen Szenario ab.</span><span class="sxs-lookup"><span data-stu-id="1ac47-218">Note that not all of these requests might be implemented; it depends on the specific scenario.</span></span>

| <span data-ttu-id="1ac47-219">**Ressource**</span><span class="sxs-lookup"><span data-stu-id="1ac47-219">**Resource**</span></span> | <span data-ttu-id="1ac47-220">**POST**</span><span class="sxs-lookup"><span data-stu-id="1ac47-220">**POST**</span></span> | <span data-ttu-id="1ac47-221">**GET**</span><span class="sxs-lookup"><span data-stu-id="1ac47-221">**GET**</span></span> | <span data-ttu-id="1ac47-222">**PUT**</span><span class="sxs-lookup"><span data-stu-id="1ac47-222">**PUT**</span></span> | <span data-ttu-id="1ac47-223">**DELETE**</span><span class="sxs-lookup"><span data-stu-id="1ac47-223">**DELETE**</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="1ac47-224">/Kunden</span><span class="sxs-lookup"><span data-stu-id="1ac47-224">/customers</span></span> |<span data-ttu-id="1ac47-225">Neuen Kunden erstellen</span><span class="sxs-lookup"><span data-stu-id="1ac47-225">Create a new customer</span></span> |<span data-ttu-id="1ac47-226">Alle Kunden abrufen</span><span class="sxs-lookup"><span data-stu-id="1ac47-226">Retrieve all customers</span></span> |<span data-ttu-id="1ac47-227">Massenaktualisierung von Kunden (*falls implementiert*)</span><span class="sxs-lookup"><span data-stu-id="1ac47-227">Bulk update of customers (*if implemented*)</span></span> |<span data-ttu-id="1ac47-228">Alle Kunden entfernen</span><span class="sxs-lookup"><span data-stu-id="1ac47-228">Remove all customers</span></span> |
| <span data-ttu-id="1ac47-229">/Kunden/1</span><span class="sxs-lookup"><span data-stu-id="1ac47-229">/customers/1</span></span> |<span data-ttu-id="1ac47-230">Fehler</span><span class="sxs-lookup"><span data-stu-id="1ac47-230">Error</span></span> |<span data-ttu-id="1ac47-231">Details für Kunden 1 abrufen</span><span class="sxs-lookup"><span data-stu-id="1ac47-231">Retrieve the details for customer 1</span></span> |<span data-ttu-id="1ac47-232">Details von Kunde 1 aktualisieren, falls vorhanden; andernfalls Fehler zurückgeben</span><span class="sxs-lookup"><span data-stu-id="1ac47-232">Update the details of customer 1 if it exists, otherwise return an error</span></span> |<span data-ttu-id="1ac47-233">Kunde 1 entfernen</span><span class="sxs-lookup"><span data-stu-id="1ac47-233">Remove customer 1</span></span> |
| <span data-ttu-id="1ac47-234">/Kunden/1/Bestellungen</span><span class="sxs-lookup"><span data-stu-id="1ac47-234">/customers/1/orders</span></span> |<span data-ttu-id="1ac47-235">Neue Bestellung für Kunden 1 erstellen</span><span class="sxs-lookup"><span data-stu-id="1ac47-235">Create a new order for customer 1</span></span> |<span data-ttu-id="1ac47-236">Alle Bestellungen für Kunde 1 abrufen</span><span class="sxs-lookup"><span data-stu-id="1ac47-236">Retrieve all orders for customer 1</span></span> |<span data-ttu-id="1ac47-237">Massenaktualisierung von Bestellungen für Kunde 1 (*falls implementiert*)</span><span class="sxs-lookup"><span data-stu-id="1ac47-237">Bulk update of orders for customer 1 (*if implemented*)</span></span> |<span data-ttu-id="1ac47-238">Alle Bestellungen für Kunde 1 entfernen (*falls implementiert*)</span><span class="sxs-lookup"><span data-stu-id="1ac47-238">Remove all orders for customer 1(*if implemented*)</span></span> |

<span data-ttu-id="1ac47-239">Der Zweck der GET und DELETE-Anforderungen ist relativ einfach, der Zweck und die Auswirkungen der POST- und PUT-Anforderungen sind jedoch u. U. weniger eindeutig.</span><span class="sxs-lookup"><span data-stu-id="1ac47-239">The purpose of GET and DELETE requests are relatively straightforward, but there is scope for confusion concerning the purpose and effects of POST and PUT requests.</span></span>

<span data-ttu-id="1ac47-240">Eine POST-Anforderung sollte eine neue Ressource mit Daten im Hauptteil der Anforderung erstellen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-240">A POST request should create a new resource with data provided in the body of the request.</span></span> <span data-ttu-id="1ac47-241">Im REST-Modell wenden Sie häufig POST-Anforderungen auf Ressourcen an, die Auflistungen sind; die neue Ressource wird der Auflistung hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="1ac47-241">In the REST model, you frequently apply POST requests to resources that are collections; the new resource is added to the collection.</span></span>

> [!NOTE]
> <span data-ttu-id="1ac47-242">Sie können auch POST-Anforderungen definieren, die einige Funktionen auslösen (und nicht unbedingt zurückgeben); diese Art von Anforderung kann auf Auflistungen angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-242">You can also define POST requests that trigger some functionality (and that don't necessarily return data), and these types of request can be applied to collections.</span></span> <span data-ttu-id="1ac47-243">Beispielsweise können Sie eine POST-Anforderung verwenden, um einen Arbeitszeitnachweis an einen Dienst für die Gehaltsabrechnung übergeben und die berechneten Steuern als Antwort zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="1ac47-243">For example you could use a POST request to pass a timesheet to a payroll processing service and get the calculated taxes back as a response.</span></span>
>
>

<span data-ttu-id="1ac47-244">Eine PUT-Anforderung dient zum Ändern einer vorhandenen Ressource.</span><span class="sxs-lookup"><span data-stu-id="1ac47-244">A PUT request is intended to modify an existing resource.</span></span> <span data-ttu-id="1ac47-245">Ist die angegebene Ressource nicht vorhanden, kann die PUT-Anforderung einen Fehler zurückgegeben (in einigen Fällen wird die Ressource auch erstellt).</span><span class="sxs-lookup"><span data-stu-id="1ac47-245">If the specified resource does not exist, the PUT request could return an error (in some cases, it might actually create the resource).</span></span> <span data-ttu-id="1ac47-246">PUT-Anforderungen werden am häufigsten auf Ressourcen angewendet, die einzelne Elemente (z. B. einen bestimmter Kunden oder eine Bestellung) sind; sie können auch auf Auflistungen angewendet werden, dies wird jedoch weniger häufig implementiert.</span><span class="sxs-lookup"><span data-stu-id="1ac47-246">PUT requests are most frequently applied to resources that are individual items (such as a specific customer or order), although they can be applied to collections, although this is less-commonly implemented.</span></span> <span data-ttu-id="1ac47-247">Beachten Sie, dass PUT-Anforderungen im Gegensatz zu POST-Anforderungen idempotent sind. Wenn eine Anwendung die gleiche PUT-Anforderung mehrmals sendet, sollten die Ergebnisse immer gleich sein (die gleiche Ressource wird mit den gleichen Werten geändert); wenn eine Anwendung die gleiche POST-Anforderung wiederholt, ist das Ergebnis jedoch die Erstellung mehrerer Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-247">Note that PUT requests are idempotent whereas POST requests are not; if an application submits the same PUT request multiple times the results should always be the same (the same resource will be modified with the same values), but if an application repeats the same POST request the result will be the creation of multiple resources.</span></span>

> [!NOTE]
> <span data-ttu-id="1ac47-248">Genau genommen ersetzt eine HTTP PUT-Anforderung eine vorhandene Ressource durch die im Text der Anforderung angegebenen Ressource.</span><span class="sxs-lookup"><span data-stu-id="1ac47-248">Strictly speaking, an HTTP PUT request replaces an existing resource with the resource specified in the body of the request.</span></span> <span data-ttu-id="1ac47-249">Wenn eine Auswahl von Eigenschaften in einer Ressource geändert werden, andere Eigenschaften jedoch unverändert bleiben sollen, sollte dies per HTTP PATCH-Anforderung implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-249">If the intention is to modify a selection of properties in a resource but leave other properties unchanged, then this should be implemented by using an HTTP PATCH request.</span></span> <span data-ttu-id="1ac47-250">Allerdings lockern viele RESTful-Implementierungen diese Regel verwenden in beiden Situationen PUT.</span><span class="sxs-lookup"><span data-stu-id="1ac47-250">However, many RESTful implementations relax this rule and use PUT for both situations.</span></span>
>
>

### <a name="processing-http-requests"></a><span data-ttu-id="1ac47-251">Verarbeiten von HTTP-Anforderungen</span><span class="sxs-lookup"><span data-stu-id="1ac47-251">Processing HTTP requests</span></span>
<span data-ttu-id="1ac47-252">Die bei vielen HTTP-Anforderungen in der Clientanwendung enthaltenen Daten und die entsprechenden Antwortnachrichten vom Webserver können in einer Vielzahl von Formaten (oder Medientypen) angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-252">The data included by a client application in many HTTP requests, and the corresponding response messages from the web server, could be presented in a variety of formats (or media types).</span></span> <span data-ttu-id="1ac47-253">Beispielsweise könnten die Daten, die die Details für einen Kunden oder eine Bestellung angeben, im XML-, JSON- oder einem anderen codierten und komprimierten Format bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-253">For example, the data that specifies the details for a customer or order could be provided as XML, JSON, or some other encoded and compressed format.</span></span> <span data-ttu-id="1ac47-254">Eine RESTful-Web-API sollte verschiedene Medientypen unterstützen, je nach den Anforderungen der Clientanwendung, die eine Anforderung sendet.</span><span class="sxs-lookup"><span data-stu-id="1ac47-254">A RESTful web API should support different media types as requested by the client application that submits a request.</span></span>

<span data-ttu-id="1ac47-255">Wenn eine Clientanwendung eine Anforderung sendet, die Daten im Hauptteil einer Nachricht zurückgibt, kann sie die Medientypen angeben, die sie im Accept-Header der Anforderung behandeln kann.</span><span class="sxs-lookup"><span data-stu-id="1ac47-255">When a client application sends a request that returns data in the body of a message, it can specify the media types it can handle in the Accept header of the request.</span></span> <span data-ttu-id="1ac47-256">Der folgende Code veranschaulicht eine HTTP GET-Anforderung, die die Details von Bestellung 2 abruft und anfordert, dass das Ergebnis im JSON-Format zurückgegeben wird (der Client sollte dennoch den Medientyp der Daten in der Antwort überprüfen, um das Format der zurückgegebenen Daten zu bestätigen):</span><span class="sxs-lookup"><span data-stu-id="1ac47-256">The following code illustrates an HTTP GET request that retrieves the details of order 2 and requests the result to be returned as JSON (the client should still examine the media type of the data in the response to verify the format of the data returned):</span></span>

```HTTP
GET http://adventure-works.com/orders/2 HTTP/1.1
...
Accept: application/json
...
```

<span data-ttu-id="1ac47-257">Wenn der Webserver diesen Medientyp unterstützt, kann er eine Antwort zurückgeben, die einen Content-Type-Header enthält, der das Format der Daten im Text der Nachricht angibt:</span><span class="sxs-lookup"><span data-stu-id="1ac47-257">If the web server supports this media type, it can reply with a response that includes Content-Type header that specifies the format of the data in the body of the message:</span></span>

> [!NOTE]
> <span data-ttu-id="1ac47-258">Für eine optimale Interoperabilität sollten die Medientypen, auf die in den Accept- und Content-Type-Headern verwiesen wird, als MIME-Typen anstatt eines benutzerdefinierten Medientyps erkannt werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-258">For maximum interoperability, the media types referenced in the Accept and Content-Type headers should be recognized MIME types rather than some custom media type.</span></span>
>
>

```HTTP
HTTP/1.1 200 OK
...
Content-Type: application/json; charset=utf-8
...
Date: Fri, 22 Aug 2014 09:18:37 GMT
Content-Length: ...
{"orderID":2,"productID":4,"quantity":2,"orderValue":10.00}
```

<span data-ttu-id="1ac47-259">Wenn der Webserver den angeforderten Medientyp nicht unterstützt, kann er diese Daten in einem anderen Format senden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-259">If the web server does not support the requested media type, it can send the data in a different format.</span></span> <span data-ttu-id="1ac47-260">In allen Fällen muss der Medientyp (z.B. *application/json)* im Content-Type-Header angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-260">IN all cases it must specify the media type (such as *application/json*) in the Content-Type header.</span></span> <span data-ttu-id="1ac47-261">Die Clientanwendung ist dafür verantwortlich, die Antwortnachricht zu analysieren und die Ergebnisse im Nachrichtentext richtig zu interpretieren.</span><span class="sxs-lookup"><span data-stu-id="1ac47-261">It is the responsibility of the client application to parse the response message and interpret the results in the message body appropriately.</span></span>

<span data-ttu-id="1ac47-262">Beachten Sie, dass der Webserver in diesem Beispiel die angeforderten Daten erfolgreich abruft und im Antwortheader den Statuscode für die erfolgreiche Ausführung zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="1ac47-262">Note that in this example, the web server successfully retrieves the requested data and indicates success by passing back a status code of 200 in the response header.</span></span> <span data-ttu-id="1ac47-263">Werden keine übereinstimmenden Daten gefunden, sollte stattdessen der Statuscode 404 (Nicht gefunden) zurückgegeben werden, und der Text der Antwortnachricht kann zusätzliche Informationen enthalten.</span><span class="sxs-lookup"><span data-stu-id="1ac47-263">If no matching data is found, it should instead return a status code of 404 (not found) and the body of the response message can contain additional information.</span></span> <span data-ttu-id="1ac47-264">Das Format dieser Informationen wird wie im folgenden Beispiel gezeigt durch den Content-Type-Header angegeben:</span><span class="sxs-lookup"><span data-stu-id="1ac47-264">The format of this information is specified by the Content-Type header, as shown in the following example:</span></span>

```HTTP
GET http://adventure-works.com/orders/222 HTTP/1.1
...
Accept: application/json
...
```

<span data-ttu-id="1ac47-265">Bestellung 222 ist nicht vorhanden, daher sieht die Antwortnachricht wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="1ac47-265">Order 222 does not exist, so the response message looks like this:</span></span>

```HTTP
HTTP/1.1 404 Not Found
...
Content-Type: application/json; charset=utf-8
...
Date: Fri, 22 Aug 2014 09:18:37 GMT
Content-Length: ...
{"message":"No such order"}
```

<span data-ttu-id="1ac47-266">Wenn eine Anwendung eine HTTP PUT-Anforderung zum Aktualisieren einer Ressource sendet, gibt sie den URI der Ressource an und stellt die zu ändernden Daten im Text der Anforderungsnachricht bereit.</span><span class="sxs-lookup"><span data-stu-id="1ac47-266">When an application sends an HTTP PUT request to update a resource, it specifies the URI of the resource and provides the data to be modified in the body of the request message.</span></span> <span data-ttu-id="1ac47-267">Außerdem sollte auch das Format dieser Daten mithilfe des Content-Type-Headers angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-267">It should also specify the format of this data by using the Content-Type header.</span></span> <span data-ttu-id="1ac47-268">Ein gängiges Format für textbasierte Informationen ist *application/x-www-form-urlencoded*, das einen Satz von Name-Wert-Paaren umfasst, die mit dem &-Zeichen getrennt sind.</span><span class="sxs-lookup"><span data-stu-id="1ac47-268">A common format used for text-based information is *application/x-www-form-urlencoded*, which comprises a set of name/value pairs separated by the & character.</span></span> <span data-ttu-id="1ac47-269">Das nächste Beispiel zeigt eine HTTP PUT-Anforderung, die die Informationen in Bestellung 1 ändert:</span><span class="sxs-lookup"><span data-stu-id="1ac47-269">The next example shows an HTTP PUT request that modifies the information in order 1:</span></span>

```HTTP
PUT http://adventure-works.com/orders/1 HTTP/1.1
...
Content-Type: application/x-www-form-urlencoded
...
Date: Fri, 22 Aug 2014 09:18:37 GMT
Content-Length: ...
ProductID=3&Quantity=5&OrderValue=250
```

<span data-ttu-id="1ac47-270">Wenn die Änderung erfolgreich ist, sollte sie idealerweise mit den Statuscode „HTTP 204“ reagieren, der angibt, dass der Prozess erfolgreich verarbeitet wurde, der Antworttext jedoch keine weiteren Informationen enthält.</span><span class="sxs-lookup"><span data-stu-id="1ac47-270">If the modification is successful, it should ideally respond with an HTTP 204 status code, indicating that the process has been successfully handled, but that the response body contains no further information.</span></span> <span data-ttu-id="1ac47-271">Der Location-Header in der Antwort enthält den URI der neu aktualisierten Ressource:</span><span class="sxs-lookup"><span data-stu-id="1ac47-271">The Location header in the response contains the URI of the newly updated resource:</span></span>

```HTTP
HTTP/1.1 204 No Content
...
Location: http://adventure-works.com/orders/1
...
Date: Fri, 22 Aug 2014 09:18:37 GMT
```

> [!TIP]
> <span data-ttu-id="1ac47-272">Wenn die Daten in einer HTTP PUT-Anforderungsnachricht Datums-und Uhrzeitinformationen enthalten, stellen Sie sicher, dass Ihr Webdienst Daten und Uhrzeiten akzeptiert, die nach dem ISO 8601-Standard formatiert sind.</span><span class="sxs-lookup"><span data-stu-id="1ac47-272">If the data in an HTTP PUT request message includes date and time information, make sure that your web service accepts dates and times formatted following the ISO 8601 standard.</span></span>
>
>

<span data-ttu-id="1ac47-273">Wenn die zu aktualisierende Ressource nicht vorhanden ist, kann der Webserver wie oben beschrieben mit einer „Nicht gefunden“-Antwort reagieren.</span><span class="sxs-lookup"><span data-stu-id="1ac47-273">If the resource to be updated does not exist, the web server can respond with a Not Found response as described earlier.</span></span> <span data-ttu-id="1ac47-274">Wenn der Server tatsächlich das Objekt selbst erstellt, kann er auch den Statuscodes „HTTP 200“ (OK) oder „HTTP 201“ (erstellt) zurückgeben, und der Antworttext kann die Daten für die neue Ressource enthalten.</span><span class="sxs-lookup"><span data-stu-id="1ac47-274">Alternatively, if the server actually creates the object itself it could return the status codes HTTP 200 (OK) or HTTP 201 (Created) and the response body could contain the data for the new resource.</span></span> <span data-ttu-id="1ac47-275">Wenn der Content-Type-Header der Anforderung ein Datenformat angibt, das der Webserver nicht verarbeiten kann, sollte er mit dem Statuscode „HTTP 415“ (Nicht unterstützter Medientyp) reagieren.</span><span class="sxs-lookup"><span data-stu-id="1ac47-275">If the Content-Type header of the request specifies a data format that the web server cannot handle, it should respond with HTTP status code 415 (Unsupported Media Type).</span></span>

> [!TIP]
> <span data-ttu-id="1ac47-276">Erwägen Sie das Implementieren von HTTP PUT-Massenvorgängen, die Stapelaktualisierungen für mehrere Ressourcen in einer Auflistung durchführen können.</span><span class="sxs-lookup"><span data-stu-id="1ac47-276">Consider implementing bulk HTTP PUT operations that can batch updates to multiple resources in a collection.</span></span> <span data-ttu-id="1ac47-277">Die PUT-Anforderung sollte den URI der Auflistung angeben, und Anforderungstext sollte die Details der zu ändernden Ressourcen angeben.</span><span class="sxs-lookup"><span data-stu-id="1ac47-277">The PUT request should specify the URI of the collection, and the request body should specify the details of the resources to be modified.</span></span> <span data-ttu-id="1ac47-278">Dieser Ansatz trägt zum Reduzieren von „Geschwätzigkeit“ und zur Leistungssteigerung bei.</span><span class="sxs-lookup"><span data-stu-id="1ac47-278">This approach can help to reduce chattiness and improve performance.</span></span>
>
>

<span data-ttu-id="1ac47-279">Das Format einer HTTP POST-Anforderung, die neue Ressourcen erstellt, ähnelt dem von PUT-Anforderungen; der Nachrichtentext enthält die Details der neuen Ressource, die hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="1ac47-279">The format of an HTTP POST requests that create new resources are similar to those of PUT requests; the message body contains the details of the new resource to be added.</span></span> <span data-ttu-id="1ac47-280">Der URI gibt jedoch in der Regel die Auflistung an, der die Ressource hinzugefügt werden soll.</span><span class="sxs-lookup"><span data-stu-id="1ac47-280">However, the URI typically specifies the collection to which the resource should be added.</span></span> <span data-ttu-id="1ac47-281">Das folgende Beispiel erstellt eine neue Bestellung und fügt sie der Bestellungsauflistung hinzu:</span><span class="sxs-lookup"><span data-stu-id="1ac47-281">The following example creates a new order and adds it to the orders collection:</span></span>

```HTTP
POST http://adventure-works.com/orders HTTP/1.1
...
Content-Type: application/x-www-form-urlencoded
...
Date: Fri, 22 Aug 2014 09:18:37 GMT
Content-Length: ...
productID=5&quantity=15&orderValue=400
```

<span data-ttu-id="1ac47-282">Wenn die Anforderung erfolgreich ist, sollte der Webserver mit einer Nachricht mit dem Statuscode „HTTP 201“ (erstellt) reagieren.</span><span class="sxs-lookup"><span data-stu-id="1ac47-282">If the request is successful, the web server should respond with a message code with HTTP status code 201 (Created).</span></span> <span data-ttu-id="1ac47-283">Der Location-Header sollte den URI der neu erstellten Ressource enthalten, und der Text der Antwort sollte eine Kopie der neuen Ressource enthalten; der Content-Type-Header gibt das Format dieser Daten an:</span><span class="sxs-lookup"><span data-stu-id="1ac47-283">The Location header should contain the URI of the newly created resource, and the body of the response should contain a copy of the new resource; the Content-Type header specifies the format of this data:</span></span>

```HTTP
HTTP/1.1 201 Created
...
Content-Type: application/json; charset=utf-8
Location: http://adventure-works.com/orders/99
...
Date: Fri, 22 Aug 2014 09:18:37 GMT
Content-Length: ...
{"orderID":99,"productID":5,"quantity":15,"orderValue":400}
```

> [!TIP]
> <span data-ttu-id="1ac47-284">Wenn die von einer PUT- oder POST-Anforderung bereitgestellten Daten ungültig sind, sollte der Webserver mit eine Nachricht mit dem Statuscode „HTTP 400“ (Ungültige Anforderung) reagieren.</span><span class="sxs-lookup"><span data-stu-id="1ac47-284">If the data provided by a PUT or POST request is invalid, the web server should respond with a message with HTTP status code 400 (Bad Request).</span></span> <span data-ttu-id="1ac47-285">Der Text dieser Nachricht kann zusätzliche Informationen über das Problem mit der Anforderung und den erwarteten Formaten oder einen Link zu einer URL enthalten, die weitere Details bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="1ac47-285">The body of this message can contain additional information about the problem with the request and the formats expected, or it can contain a link to a URL that provides more details.</span></span>
>
>

<span data-ttu-id="1ac47-286">Zum Entfernen einer Ressource stellt eine HTTP DELETE-Anforderung einfach den URI der zu löschenden Ressource bereit.</span><span class="sxs-lookup"><span data-stu-id="1ac47-286">To remove a resource, an HTTP DELETE request simply provides the URI of the resource to be deleted.</span></span> <span data-ttu-id="1ac47-287">Im folgenden Beispiel wird versucht, Bestellung 99 zu entfernen:</span><span class="sxs-lookup"><span data-stu-id="1ac47-287">The following example attempts to remove order 99:</span></span>

```HTTP
DELETE http://adventure-works.com/orders/99 HTTP/1.1
...
```

<span data-ttu-id="1ac47-288">Wenn der Löschvorgang erfolgreich ist, sollte der Webserver mit dem Statuscode „HTTP 204“ reagieren, der angibt, dass der Prozess erfolgreich verarbeitet wurde, der Antworttext aber keine weiteren Informationen enthält (die gleiche Antwort wird auch von einem erfolgreichen PUT-Vorgang zurückgegeben, jedoch ohne einen Location-Header, da die Ressource nicht mehr vorhanden ist). Eine DELETE-Anforderung kann auch den Statuscode „HTTP 200“ (OK) oder 202 (akzeptiert) zurückgeben, wenn der Löschvorgang asynchron ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="1ac47-288">If the delete operation is successful, the web server should respond with HTTP status code 204, indicating that the process has been successfully handled, but that the response body contains no further information (this is the same response returned by a successful PUT operation, but without a Location header as the resource no longer exists.) It is also possible for a DELETE request to return HTTP status code 200 (OK) or 202 (Accepted) if the deletion is performed asynchronously.</span></span>

```HTTP
HTTP/1.1 204 No Content
...
Date: Fri, 22 Aug 2014 09:18:37 GMT
```

<span data-ttu-id="1ac47-289">Wenn die Ressource nicht gefunden wird, sollte der Webserver stattdessen die Nachricht 404 (Nicht gefunden) zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="1ac47-289">If the resource is not found, the web server should return a 404 (Not Found) message instead.</span></span>

> [!TIP]
> <span data-ttu-id="1ac47-290">Wenn alle Ressourcen in einer Auflistung gelöscht werden müssen, aktivieren Sie eine HTTP DELETE-Anforderung, die für den URI der Auflistung angegeben wird, anstatt das Entfernen aller Ressourcen aus Auflistung nacheinander zu erzwingen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-290">If all the resources in a collection need to be deleted, enable an HTTP DELETE request to be specified for the URI of the collection rather than forcing an application to remove each resource in turn from the collection.</span></span>
>
>

### <a name="filtering-and-paginating-data"></a><span data-ttu-id="1ac47-291">Filtern und Paginieren von Daten</span><span class="sxs-lookup"><span data-stu-id="1ac47-291">Filtering and paginating data</span></span>
<span data-ttu-id="1ac47-292">Sie sollten sich bemühen, die URIs einfach und intuitiv zu halten.</span><span class="sxs-lookup"><span data-stu-id="1ac47-292">You should endeavor to keep the URIs simple and intuitive.</span></span> <span data-ttu-id="1ac47-293">Das Verfügbarmachen einer Auflistung von Ressourcen durch einen einzigen URI ist in dieser Hinsicht hilfreich, kann jedoch dazu führen, dass Anwendungen große Datenmengen abrufen, auch wenn nur eine Teilmenge der Informationen erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="1ac47-293">Exposing a collection of resources through a single URI assists in this respect, but it can lead to applications fetching large amounts of data when only a subset of the information is required.</span></span> <span data-ttu-id="1ac47-294">Das Generieren einer großen Menge von Datenverkehr wirkt sich nicht nur auf die Leistung und die Skalierbarkeit des Webservers aus, sondern beeinträchtigt auch die Reaktionsfähigkeit von Clientanwendungen, die die Daten anfordern.</span><span class="sxs-lookup"><span data-stu-id="1ac47-294">Generating a large volume of traffic impacts not only the performance and scalability of the web server but also adversely affect the responsiveness of client applications requesting the data.</span></span>

<span data-ttu-id="1ac47-295">Wenn Bestellungen beispielsweise den für die Bestellung bezahlten Preis enthalten, muss eine Clientanwendung, die alle Bestellungen mit Kosten über einen bestimmten Wert abrufen soll, unter Umständen alle Bestellungen aus dem URI */Bestellungen* abrufen und diese dann lokal filtern.</span><span class="sxs-lookup"><span data-stu-id="1ac47-295">For example, if orders contain the price paid for the order, a client application that needs to retrieve all orders that have a cost over a specific value might need to retrieve all orders from the */orders* URI and then filter these orders locally.</span></span> <span data-ttu-id="1ac47-296">Dieser Prozess ist eindeutig sehr ineffizient; er verschwendet Netzwerkbandbreite und Verarbeitungsleistung auf dem Server, der die Web-API hostet.</span><span class="sxs-lookup"><span data-stu-id="1ac47-296">Clearly this process is highly inefficient; it wastes network bandwidth and processing power on the server hosting the web API.</span></span>

<span data-ttu-id="1ac47-297">Eine Lösung ist beispielsweise die Bereitstellung eines URI-Schemas wie */Bestellungen/Bestellwert_größer_als_n*, wobei *n* der Preis der Bestellung ist. Dieser Ansatz ist aber nur für eine begrenzte Anzahl von Preisen geeignet.</span><span class="sxs-lookup"><span data-stu-id="1ac47-297">One solution may be to provide a URI scheme such as */orders/ordervalue_greater_than_n* where *n* is the order price, but for all but a limited number of prices such an approach is impractical.</span></span> <span data-ttu-id="1ac47-298">Wenn Sie Bestellungen auf Grundlage anderer Kriterien abfragen müssen, wird Ihnen möglicherweise eine lange Liste mit URIs bereitgestellt, die nicht intuitive Namen enthalten kann.</span><span class="sxs-lookup"><span data-stu-id="1ac47-298">Additionally, if you need to query orders based on other criteria, you can end up being faced with providing with a long list of URIs with possibly non-intuitive names.</span></span>

<span data-ttu-id="1ac47-299">Eine bessere Strategie zum Filtern von Daten ist das Bereitstellen der Filterkriterien in der Abfragezeichenfolge, die an die Web-API übergeben wird, z.B. */Bestellungen?Bestellwertgrenze=n*.</span><span class="sxs-lookup"><span data-stu-id="1ac47-299">A better strategy to filtering data is to provide the filter criteria in the query string that is passed to the web API, such as */orders?ordervaluethreshold=n*.</span></span> <span data-ttu-id="1ac47-300">In diesem Beispiel ist der entsprechende Vorgang in der Web-API für die Analyse und Behandlung der `ordervaluethreshold`-Parameter in der Abfragezeichenfolge und das Zurückgeben der gefilterten Ergebnisse in der HTTP-Antwort verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="1ac47-300">In this example, the corresponding operation in the web API is responsible for parsing and handling the `ordervaluethreshold` parameter in the query string and returning the filtered results in the HTTP response.</span></span>

<span data-ttu-id="1ac47-301">Einige einfache HTTP GET-Anforderungen über Auflistungsressourcen geben u. U. eine große Anzahl von Elementen zurück.</span><span class="sxs-lookup"><span data-stu-id="1ac47-301">Some simple HTTP GET requests over collection resources could potentially return a large number of items.</span></span> <span data-ttu-id="1ac47-302">Um dies zu vermeiden, sollten Sie die Web-API so entwerfen, dass die von jeder einzelnen Anforderung zurückgegebene Datenmenge begrenzt ist.</span><span class="sxs-lookup"><span data-stu-id="1ac47-302">To combat the possibility of this occurring you should design the web API to limit the amount of data returned by any single request.</span></span> <span data-ttu-id="1ac47-303">Dazu unterstützen Sie Abfragezeichenfolgen, die es dem Benutzer ermöglichen, die maximale Anzahl von abzurufenden Elementen anzugeben (diese kann wiederum von einer Obergrenze abhängen, um Denial-of-Service-Angriff zu verhindern), und ein Startoffset in der Auflistung.</span><span class="sxs-lookup"><span data-stu-id="1ac47-303">You can achieve this by supporting query strings that enable the user to specify the maximum number of items to be retrieved (which could itself be subject to an upperbound limit to help prevent Denial of Service attacks), and a starting offset into the collection.</span></span> <span data-ttu-id="1ac47-304">Beispielsweise sollte die Abfragezeichenfolge im URI */Bestellungen?Grenze=25&Offset=50* 25 Bestellungen beginnend bei der 50. Bestellung in der Auflistung abrufen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-304">For example, the query string in the URI */orders?limit=25&offset=50* should retrieve 25 orders starting with the 50th order found in the orders collection.</span></span> <span data-ttu-id="1ac47-305">Wie beim Filtern von Daten ist der Vorgang, der die GET-Anforderung in die Web-API implementiert, für die Analyse und Behandlung der `limit`- und `offset`-Parameter in der Abfragezeichenfolge verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="1ac47-305">As with filtering data, the operation that implements the GET request in the web API is responsible for parsing and handling the `limit` and `offset` parameters in the query string.</span></span> <span data-ttu-id="1ac47-306">Zur Unterstützung von Clientanwendungen sollten GET-Anforderungen, die paginierte Daten zurückgeben, auch Metadaten enthalten, die die Gesamtanzahl der in der Auflistung verfügbaren Ressourcen angeben.</span><span class="sxs-lookup"><span data-stu-id="1ac47-306">To assist client applications, GET requests that return paginated data should also include some form of metadata that indicate the total number of resources available in the collection.</span></span> <span data-ttu-id="1ac47-307">Ziehen Sie auch andere intelligente Pagingstrategien in Betracht. Weitere Informationen hierzu finden Sie unter [API-Designhinweise: Smart Paging](http://bizcoder.com/api-design-notes-smart-paging).</span><span class="sxs-lookup"><span data-stu-id="1ac47-307">You might also consider other intelligent paging strategies; for more information, see [API Design Notes: Smart Paging](http://bizcoder.com/api-design-notes-smart-paging)</span></span>

<span data-ttu-id="1ac47-308">Sie können eine ähnliche Strategie zum Sortieren von Daten während des Abrufvorgangs nutzen. Sie können einen Sortierparameter bereitstellen, der einen Feldnamen als Wert verwendet, z.B. */Bestellungen?sortieren=ProductID*.</span><span class="sxs-lookup"><span data-stu-id="1ac47-308">You can follow a similar strategy for sorting data as it is fetched; you could provide a sort parameter that takes a field name as the value, such as */orders?sort=ProductID*.</span></span> <span data-ttu-id="1ac47-309">Beachten Sie jedoch, dass dieser Ansatz die Zwischenspeicherung beeinträchtigen kann (Abfragezeichenfolgen-Parameter stellen einen Teil des Ressourcenbezeichners dar, der von zahlreichen Cacheimplementierungen als Schlüssel für zwischengespeicherte Daten verwendet wird).</span><span class="sxs-lookup"><span data-stu-id="1ac47-309">However, note that this approach can have a deleterious effect on caching (query string parameters form part of the resource identifier used by many cache implementations as the key to cached data).</span></span>

<span data-ttu-id="1ac47-310">Sie können diesen Ansatz erweitern, um die zurückgegebenen Felder zu begrenzen (projizieren), wenn ein einzelnes Ressourcenelement eine große Datenmenge enthält.</span><span class="sxs-lookup"><span data-stu-id="1ac47-310">You can extend this approach to limit (project) the fields returned if a single resource item contains a large amount of data.</span></span> <span data-ttu-id="1ac47-311">Sie können beispielsweise einen Abfragezeichenfolgen-Parameter verwenden, der eine durch Trennzeichen getrennte Liste der Felder akzeptiert, z.B. */Bestellungen?Felder=ProductID,Menge*.</span><span class="sxs-lookup"><span data-stu-id="1ac47-311">For example, you could use a query string parameter that accepts a comma-delimited list of fields, such as */orders?fields=ProductID,Quantity*.</span></span>

> [!TIP]
> <span data-ttu-id="1ac47-312">Geben Sie für alle optionalen Parameter in Abfragezeichenfolgen aussagekräftige Standardwerte an.</span><span class="sxs-lookup"><span data-stu-id="1ac47-312">Give all optional parameters in query strings meaningful defaults.</span></span> <span data-ttu-id="1ac47-313">Legen Sie z. B. den `limit`-Parameter auf 10 und den `offset`-Parameter auf 0 fest, wenn Sie die Paginierung implementieren; legen Sie den Sortierungsparameter auf den Schlüssel der Ressource fest, wenn Sie Bestellungen implementieren, und legen Sie den `fields`-Parameter auf alle Felder in der Ressource fest, wenn Sie Projektionen unterstützen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-313">For example, set the `limit` parameter to 10 and the `offset` parameter to 0 if you implement pagination, set the sort parameter to the key of the resource if you implement ordering, and set the `fields` parameter to all fields in the resource if you support projections.</span></span>
>
>

### <a name="handling-large-binary-resources"></a><span data-ttu-id="1ac47-314">Behandeln von großen binären Ressourcen</span><span class="sxs-lookup"><span data-stu-id="1ac47-314">Handling large binary resources</span></span>
<span data-ttu-id="1ac47-315">Eine einzelne Ressource kann große binäre Felder wie z. B. Dateien oder Bilder enthalten.</span><span class="sxs-lookup"><span data-stu-id="1ac47-315">A single resource may contain large binary fields, such as files or images.</span></span> <span data-ttu-id="1ac47-316">Zum Beheben der Übertragungsprobleme, die durch unzuverlässige und unterbrochene Verbindungen verursacht werden, und zur Verbesserung der Antwortzeiten erwägen Sie das Bereitstellen von Vorgängen, die der Clientanwendung das Abrufen solcher Ressourcen in Segmenten ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="1ac47-316">To overcome the transmission problems caused by unreliable and intermittent connections and to improve response times, consider providing operations that enable such resources to be retrieved in chunks by the client application.</span></span> <span data-ttu-id="1ac47-317">Dazu sollte die Web-API den Accept-Ranges-Header für GET-Anforderungen für große Ressourcen unterstützen und im Idealfall HTTP HEAD-Anforderungen für diese Ressourcen implementieren.</span><span class="sxs-lookup"><span data-stu-id="1ac47-317">To do this, the web API should support the Accept-Ranges header for GET requests for large resources, and ideally implement HTTP HEAD requests for these resources.</span></span> <span data-ttu-id="1ac47-318">Der Accept-Ranges-Header gibt an, dass der GET-Vorgang Teilergebnisse unterstützt, und dass eine Clientanwendung GET-Anforderungen senden kann, die eine Teilmenge einer Ressource als Folge von Bytes zurückgeben kann.</span><span class="sxs-lookup"><span data-stu-id="1ac47-318">The Accept-Ranges header indicates that the GET operation supports partial results, and that a client application can submit GET requests that return a subset of a resource specified as a range of bytes.</span></span> <span data-ttu-id="1ac47-319">Eine HEAD-Anforderung ähnelt einer GET-Anforderung, gibt jedoch nur einen Header zurück, der die Ressource beschreibt, sowie einen leeren Nachrichtentext.</span><span class="sxs-lookup"><span data-stu-id="1ac47-319">A HEAD request is similar to a GET request except that it only returns a header that describes the resource and an empty message body.</span></span> <span data-ttu-id="1ac47-320">Eine Clientanwendung kann eine HEAD-Anforderung ausgeben, um zu bestimmen, ob eine Ressource mithilfe von partiellen GET-Anforderungen abgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="1ac47-320">A client application can issue a HEAD request to determine whether to fetch a resource by using partial GET requests.</span></span> <span data-ttu-id="1ac47-321">Das folgende Beispiel zeigt eine HEAD-Anforderung, die Informationen zu einem Produktabbild abruft:</span><span class="sxs-lookup"><span data-stu-id="1ac47-321">The following example shows a HEAD request that obtains information about a product image:</span></span>

```HTTP
HEAD http://adventure-works.com/products/10?fields=productImage HTTP/1.1
...
```

<span data-ttu-id="1ac47-322">Die Antwortnachricht enthält einen Header, der die Größe der Ressource (4580 Bytes) enthält, und den Accept-Ranges-Header, der angibt, dass der entsprechende GET-Vorgang Teilergebnisse unterstützt:</span><span class="sxs-lookup"><span data-stu-id="1ac47-322">The response message contains a header that includes the size of the resource (4580 bytes), and the Accept-Ranges header that the corresponding GET operation supports partial results:</span></span>

```HTTP
HTTP/1.1 200 OK
...
Accept-Ranges: bytes
Content-Type: image/jpeg
Content-Length: 4580
...
```

<span data-ttu-id="1ac47-323">Die Clientanwendung kann diese Informationen verwenden, um eine Reihe von GET-Vorgängen zu erstellen, mit denen das Bild in kleineren Segmenten abgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="1ac47-323">The client application can use this information to construct a series of GET operations to retrieve the image in smaller chunks.</span></span> <span data-ttu-id="1ac47-324">Die erste Anforderung Ruft die ersten 2500 Bytes mithilfe des Range-Headers ab:</span><span class="sxs-lookup"><span data-stu-id="1ac47-324">The first request fetches the first 2500 bytes by using the Range header:</span></span>

```HTTP
GET http://adventure-works.com/products/10?fields=productImage HTTP/1.1
Range: bytes=0-2499
...
```

<span data-ttu-id="1ac47-325">Die Antwortnachricht gibt an, dass dies eine partielle Antwort ist, in dem der Statuscode „HTTP 206“ zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="1ac47-325">The response message indicates that this is a partial response by returning HTTP status code 206.</span></span> <span data-ttu-id="1ac47-326">Der Content-Length-Header gibt die tatsächliche Anzahl der im Nachrichtentext (nicht die Größe der Ressource) zurückgegebenen Bytes an, und der Content-Range-Header gibt an, um welchen Teil der Ressource es sich handelt (0 – 2499 von 4580 Bytes):</span><span class="sxs-lookup"><span data-stu-id="1ac47-326">The Content-Length header specifies the actual number of bytes returned in the message body (not the size of the resource), and the Content-Range header indicates which part of the resource this is (bytes 0-2499 out of 4580):</span></span>

```HTTP
HTTP/1.1 206 Partial Content
...
Accept-Ranges: bytes
Content-Type: image/jpeg
Content-Length: 2500
Content-Range: bytes 0-2499/4580
...
_{binary data not shown}_
```

<span data-ttu-id="1ac47-327">Eine nachfolgende Anforderung von der Clientanwendung kann mithilfe eines entsprechenden Range-Headers den Rest der Ressource abrufen:</span><span class="sxs-lookup"><span data-stu-id="1ac47-327">A subsequent request from the client application can retrieve the remainder of the resource by using an appropriate Range header:</span></span>

```HTTP
GET http://adventure-works.com/products/10?fields=productImage HTTP/1.1
Range: bytes=2500-
...
```

<span data-ttu-id="1ac47-328">Die entsprechende Ergebnisnachricht sollte wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="1ac47-328">The corresponding result message should look like this:</span></span>

```HTTP
HTTP/1.1 206 Partial Content
...
Accept-Ranges: bytes
Content-Type: image/jpeg
Content-Length: 2080
Content-Range: bytes 2500-4580/4580
...
```

## <a name="using-the-hateoas-approach-to-enable-navigation-to-related-resources"></a><span data-ttu-id="1ac47-329">Verwenden des HATEOAS-Ansatzes, um die Navigation zu verwandten Ressourcen zu ermöglichen</span><span class="sxs-lookup"><span data-stu-id="1ac47-329">Using the HATEOAS approach to enable navigation to related resources</span></span>
<span data-ttu-id="1ac47-330">Eine Hauptmotivation hinter REST besteht darin, dass der gesamte Ressourcensatz navigiert werden kann, ohne dass zuvor Kenntnisse des URI-Schemas erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="1ac47-330">One of the primary motivations behind REST is that it should be possible to navigate the entire set of resources without requiring prior knowledge of the URI scheme.</span></span> <span data-ttu-id="1ac47-331">Jede HTTP GET-Anforderung sollte über Hyperlinks in der Antwort die erforderlichen Informationen zum Finden der direkt auf das angeforderte Objekt bezogenen Ressourcen enthalten; außerdem sollten Informationen bereitgestellt werden, die die für jede dieser Ressourcen verfügbaren Vorgänge beschreiben.</span><span class="sxs-lookup"><span data-stu-id="1ac47-331">Each HTTP GET request should return the information necessary to find the resources related directly to the requested object through hyperlinks included in the response, and it should also be provided with information that describes the operations available on each of these resources.</span></span> <span data-ttu-id="1ac47-332">Dieses Prinzip wird als Hypertext als das Modul des Anwendungszustands (HATEOAS, Hypertext as the Engine of Application State) bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="1ac47-332">This principle is known as HATEOAS, or Hypertext as the Engine of Application State.</span></span> <span data-ttu-id="1ac47-333">Beim System handelt es sich im Grunde um einen finiten Statuscomputer, und die Antwort auf jede Anforderung enthält die notwendigen Informationen für den Wechseln von einem Zustand in einen anderen; weitere Informationen sollten nicht erforderlich sein.</span><span class="sxs-lookup"><span data-stu-id="1ac47-333">The system is effectively a finite state machine, and the response to each request contains the information necessary to move from one state to another; no other information should be necessary.</span></span>

> [!NOTE]
> <span data-ttu-id="1ac47-334">Derzeit sind keine Standards oder Spezifikationen vorhanden, die die Modellierung des HATEOAS-Prinzips definieren.</span><span class="sxs-lookup"><span data-stu-id="1ac47-334">Currently there are no standards or specifications that define how to model the HATEOAS principle.</span></span> <span data-ttu-id="1ac47-335">Die Beispiele in diesem Abschnitt veranschaulichen eine mögliche Lösung.</span><span class="sxs-lookup"><span data-stu-id="1ac47-335">The examples shown in this section illustrate one possible solution.</span></span>
>
>

<span data-ttu-id="1ac47-336">Beispielsweise sollten die in der Antwort für eine bestimmte Bestellung zurückgegebenen Daten zur Verarbeitung der Beziehung zwischen Kunden und Bestellungen URIs in Form eines Hyperlinks enthalten, die den Kunden identifizieren, der die Bestellung aufgegeben hat, und die Vorgänge, die für diesen Kunden ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="1ac47-336">As an example, to handle the relationship between customers and orders, the data returned in the response for a specific order should contain URIs in the form of a hyperlink identifying the customer that placed the order, and the operations that can be performed on that customer.</span></span>

```HTTP
GET http://adventure-works.com/orders/3 HTTP/1.1
Accept: application/json
...
```

<span data-ttu-id="1ac47-337">Der Text der Antwortnachricht enthält ein `links`-Array (im Codebeispiel hervorgehoben), das die Art der Beziehung (*Kunde*), den URI des Kunden (*http://adventure-works.com/customers/3*), die Methode zum Abrufen der Details dieses Kunden (*GET*) und die MIME-Typen angibt, die der Webserver für das Abrufen dieser Informationen unterstützt (*text/xml* und *application/json*).</span><span class="sxs-lookup"><span data-stu-id="1ac47-337">The body of the response message contains a `links` array (highlighted in the code example) that specifies the nature of the relationship (*Customer*), the URI of the customer (*http://adventure-works.com/customers/3*), how to retrieve the details of this customer (*GET*), and the MIME types that the web server supports for retrieving this information (*text/xml* and *application/json*).</span></span> <span data-ttu-id="1ac47-338">Dies sind alle Informationen, die eine Clientanwendung zum Abrufen der Details des Kunden benötigt.</span><span class="sxs-lookup"><span data-stu-id="1ac47-338">This is all the information that a client application needs to be able to fetch the details of the customer.</span></span> <span data-ttu-id="1ac47-339">Das Links-Array enthält außerdem Links für andere Vorgänge, die ausgeführt werden können, z. B. PUT (zum Ändern des Kunden zusammen mit dem Format, das der Webserver vom Client erwartet) und DELETE.</span><span class="sxs-lookup"><span data-stu-id="1ac47-339">Additionally, the Links array also includes links for the other operations that can be performed, such as PUT (to modify the customer, together with the format that the web server expects the client to provide), and DELETE.</span></span>

```HTTP
HTTP/1.1 200 OK
...
Content-Type: application/json; charset=utf-8
...
Content-Length: ...
{"orderID":3,"productID":2,"quantity":4,"orderValue":16.60,"links":[(some links omitted){"rel":"customer","href":" http://adventure-works.com/customers/3", "action":"GET","types":["text/xml","application/json"]},{"rel":"
customer","href":" http://adventure-works.com /customers/3", "action":"PUT","types":["application/x-www-form-urlencoded"]},{"rel":"customer","href":" http://adventure-works.com /customers/3","action":"DELETE","types":[]}]}
```

<span data-ttu-id="1ac47-340">Der Vollständigkeit halber sollte das Links-Array Links auch auf sich selbst verweisende Informationen enthalten, die sich auf die abgerufene Ressource beziehen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-340">For completeness, the Links array should also include self-referencing information pertaining to the resource that has been retrieved.</span></span> <span data-ttu-id="1ac47-341">Diese Links wurden im vorherigen Beispiel weggelassen, sind jedoch im folgenden Code hervorgehoben.</span><span class="sxs-lookup"><span data-stu-id="1ac47-341">These links have been omitted from the previous example, but are highlighted in the following code.</span></span> <span data-ttu-id="1ac47-342">Beachten Sie, dass in diesen Links die Beziehung *self* (selbst) verwendet wurde, um anzugeben, dass es sich um einen Verweis auf die vom Vorgang zurückgegebene Ressource handelt:</span><span class="sxs-lookup"><span data-stu-id="1ac47-342">Notice that in these links, the relationship *self* has been used to indicate that this is a reference to the resource being returned by the operation:</span></span>

```HTTP
HTTP/1.1 200 OK
...
Content-Type: application/json; charset=utf-8
...
Content-Length: ...
{"orderID":3,"productID":2,"quantity":4,"orderValue":16.60,"links":[{"rel":"self","href":" http://adventure-works.com/orders/3", "action":"GET","types":["text/xml","application/json"]},{"rel":" self","href":" http://adventure-works.com /orders/3", "action":"PUT","types":["application/x-www-form-urlencoded"]},{"rel":"self","href":" http://adventure-works.com /orders/3", "action":"DELETE","types":[]},{"rel":"customer",
"href":" http://adventure-works.com /customers/3", "action":"GET","types":["text/xml","application/json"]},{"rel":" customer" (customer links omitted)}]}
```

<span data-ttu-id="1ac47-343">Damit dieser Ansatz effektiv ist, müssen Clientanwendungen zum Abrufen und Analysieren dieser zusätzlichen Informationen bereit sein.</span><span class="sxs-lookup"><span data-stu-id="1ac47-343">For this approach to be effective, client applications must be prepared to retrieve and parse this additional information.</span></span>

## <a name="versioning-a-restful-web-api"></a><span data-ttu-id="1ac47-344">Versionsverwaltung einer RESTful-Web-API</span><span class="sxs-lookup"><span data-stu-id="1ac47-344">Versioning a RESTful web API</span></span>
<span data-ttu-id="1ac47-345">Außer in den einfachsten Fällen ist es sehr unwahrscheinlich, dass eine Web-API statisch bleibt.</span><span class="sxs-lookup"><span data-stu-id="1ac47-345">It is highly unlikely that in all but the simplest of situations that a web API will remain static.</span></span> <span data-ttu-id="1ac47-346">Aufgrund von veränderten Unternehmensanforderungen werden u. U. neue Auflistungen von Ressourcen hinzugefügt, die Beziehungen zwischen Ressourcen können sich ändern, und die Struktur der Daten in Ressourcen wird möglicherweise geändert.</span><span class="sxs-lookup"><span data-stu-id="1ac47-346">As business requirements change new collections of resources may be added, the relationships between resources might change, and the structure of the data in resources might be amended.</span></span> <span data-ttu-id="1ac47-347">Das Aktualisieren einer Web-API, um neue oder unterschiedliche Anforderungen zu behandeln, ist ein relativ unkomplizierter Prozess. Sie müssen jedoch die Auswirkungen solcher Änderungen auf Client-Anwendungen berücksichtigen, die die Web-API nutzen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-347">While updating a web API to handle new or differing requirements is a relatively straightforward process, you must consider the effects that such changes will have on client applications consuming the web API.</span></span> <span data-ttu-id="1ac47-348">Das Problem ist, dass der Entwickler, der eine Web-API entwirft und implementiert, zwar die vollständige Kontrolle über diese API hat, jedoch nicht das gleiche Maß an Kontrolle über Clientanwendungen hat, die u. U. von remote agierenden Drittanbietern erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-348">The issue is that although the developer designing and implementing a web API has full control over that API, the developer does not have the same degree of control over client applications which may be built by third party organizations operating remotely.</span></span> <span data-ttu-id="1ac47-349">Es kommt primär darauf an, dass vorhandene Clientanwendungen unverändert weiter ausgeführt werden können, und dass neue Clientanwendungen neue Features und Ressourcen nutzen können.</span><span class="sxs-lookup"><span data-stu-id="1ac47-349">The primary imperative is to enable existing client applications to continue functioning unchanged while allowing new client applications to take advantage of new features and resources.</span></span>

<span data-ttu-id="1ac47-350">Die Versionsverwaltung ermöglicht einer Web-API das Angeben der Funktionen und Ressourcen, die sie verfügbar macht, und eine Clientanwendung kann Anforderungen an eine bestimmte Version einer Funktion oder einer Ressource senden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-350">Versioning enables a web API to indicate the features and resources that it exposes, and a client application can submit requests that are directed to a specific version of a feature or resource.</span></span> <span data-ttu-id="1ac47-351">In den folgenden Abschnitten sind verschiedene Ansätze mit ihren jeweiligen Vor- und Nachteilen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="1ac47-351">The following sections describe several different approaches, each of which has its own benefits and trade-offs.</span></span>

### <a name="no-versioning"></a><span data-ttu-id="1ac47-352">Keine Versionsverwaltung</span><span class="sxs-lookup"><span data-stu-id="1ac47-352">No versioning</span></span>
<span data-ttu-id="1ac47-353">Dies ist der einfachste Ansatz und ist möglicherweise für einige interne APIs akzeptabel.</span><span class="sxs-lookup"><span data-stu-id="1ac47-353">This is the simplest approach, and may be acceptable for some internal APIs.</span></span> <span data-ttu-id="1ac47-354">Umfassende Änderungen können als neue Ressourcen oder neue Links dargestellt werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-354">Big changes could be represented as new resources or new links.</span></span>  <span data-ttu-id="1ac47-355">Das Hinzufügen von Inhalt zu vorhandenen Ressourcen stellt möglicherweise keine fehlerhafte Änderung dar, da Clientanwendungen, die diesen Inhalt nicht erwarten, ihn einfach ignorieren.</span><span class="sxs-lookup"><span data-stu-id="1ac47-355">Adding content to existing resources might not present a breaking change as client applications that are not expecting to see this content will simply ignore it.</span></span>

<span data-ttu-id="1ac47-356">Beispielsweise sollte eine Anforderung an den URI *http://adventure-works.com/customers/3* die Details eines einzelnen Kunden mit den von der Clientanwendung erwarteten Feldern `id`, `name` und `address` zurückgeben:</span><span class="sxs-lookup"><span data-stu-id="1ac47-356">For example, a request to the URI *http://adventure-works.com/customers/3* should return the details of a single customer containing `id`, `name`, and `address` fields expected by the client application:</span></span>

```HTTP
HTTP/1.1 200 OK
...
Content-Type: application/json; charset=utf-8
...
Content-Length: ...
{"id":3,"name":"Contoso LLC","address":"1 Microsoft Way Redmond WA 98053"}
```

> [!NOTE]
> <span data-ttu-id="1ac47-357">Der Einfachheit und Verständlichkeit halber enthalten die in diesem Abschnitt gezeigten Beispielantworten keine HATEOAS-Links.</span><span class="sxs-lookup"><span data-stu-id="1ac47-357">For the purposes of simplicity and clarity, the example responses shown in this section do not include HATEOAS links.</span></span>
>
>

<span data-ttu-id="1ac47-358">Wenn dem Schema der Kundenressource das `DateCreated` Feld hinzugefügt wird, sieht die Antwort wie folgt aus:</span><span class="sxs-lookup"><span data-stu-id="1ac47-358">If the `DateCreated` field is added to the schema of the customer resource, then the response would look like this:</span></span>

```HTTP
HTTP/1.1 200 OK
...
Content-Type: application/json; charset=utf-8
...
Content-Length: ...
{"id":3,"name":"Contoso LLC","dateCreated":"2014-09-04T12:11:38.0376089Z","address":"1 Microsoft Way Redmond WA 98053"}
```

<span data-ttu-id="1ac47-359">Vorhandene Clientanwendungen werden möglicherweise weiterhin ordnungsgemäß ausgeführt, wenn sie in der Lage sind, unbekannte Felder zu ignorieren. Neue Clientanwendungen können für die Behandlung dieses neuen Felds konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-359">Existing client applications might continue functioning correctly if they are capable of ignoring unrecognized fields, while new client applications can be designed to handle this new field.</span></span> <span data-ttu-id="1ac47-360">Allerdings können radikalere Änderungen am Schema von Ressourcen (z. B. das Entfernen oder Umbenennen von Feldern) oder Änderungen an den Beziehungen zwischen Ressourcen fehlerhafte Änderungen darstellen, die verhindern, dass vorhandene Clientanwendungen nicht ordnungsgemäß funktioniert.</span><span class="sxs-lookup"><span data-stu-id="1ac47-360">However, if more radical changes to the schema of resources occur (such as removing or renaming fields) or the relationships between resources change then these may constitute breaking changes that prevent existing client applications from functioning correctly.</span></span> <span data-ttu-id="1ac47-361">In diesen Fällen sollten Sie einen der folgenden Ansätze in Betracht ziehen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-361">In these situations you should consider one of the following approaches.</span></span>

### <a name="uri-versioning"></a><span data-ttu-id="1ac47-362">URI-Versionsverwaltung</span><span class="sxs-lookup"><span data-stu-id="1ac47-362">URI versioning</span></span>
<span data-ttu-id="1ac47-363">Bei jeder Änderung der Web-API oder des Ressourcenschemas fügen Sie eine für jede Ressource eine Versionsnummer für den URI hinzu.</span><span class="sxs-lookup"><span data-stu-id="1ac47-363">Each time you modify the web API or change the schema of resources, you add a version number to the URI for each resource.</span></span> <span data-ttu-id="1ac47-364">Die bereits vorhandenen URIs sollten weiterhin Ressourcen zurückgeben, die ihrem ursprünglichen Schema entsprechen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-364">The previously existing URIs should continue to operate as before, returning resources that conform to their original schema.</span></span>

<span data-ttu-id="1ac47-365">Erweiterung des vorherigen Beispiels: Wenn das Feld `address` in untergeordnete Felder umstrukturiert wird, die jeden einzelnen Teil der Adresse enthalten (z.B. `streetAddress`, `city`, `state` und `zipCode`), kann diese Version der Ressource über einen URI verfügbar gemacht werden, der eine Versionsnummer enthält, z.B. „http://adventure-works.com/v2/customers/3“:</span><span class="sxs-lookup"><span data-stu-id="1ac47-365">Extending the previous example, if the `address` field is restructured into sub-fields containing each constituent part of the address (such as `streetAddress`, `city`, `state`, and `zipCode`), this version of the resource could be exposed through a URI containing a version number, such as http://adventure-works.com/v2/customers/3:</span></span>

```HTTP
HTTP/1.1 200 OK
...
Content-Type: application/json; charset=utf-8
...
Content-Length: ...
{"id":3,"name":"Contoso LLC","dateCreated":"2014-09-04T12:11:38.0376089Z","address":{"streetAddress":"1 Microsoft Way","city":"Redmond","state":"WA","zipCode":98053}}
```

<span data-ttu-id="1ac47-366">Dieser Versionsverwaltungsmechanismus ist sehr einfach, hängt jedoch vom Server ab, der die Anforderung an das entsprechende Endgerät weiterleitet.</span><span class="sxs-lookup"><span data-stu-id="1ac47-366">This versioning mechanism is very simple but depends on the server routing the request to the appropriate endpoint.</span></span> <span data-ttu-id="1ac47-367">Dieser Mechanismus kann jedoch schwerfällig werden, wenn die API mehrere Iterationen durchläuft und der Server eine Reihe von verschiedenen Versionen unterstützen muss.</span><span class="sxs-lookup"><span data-stu-id="1ac47-367">However, it can become unwieldy as the web API matures through several iterations and the server has to support a number of different versions.</span></span> <span data-ttu-id="1ac47-368">Aus der Sicht einer Puristen rufen die Clientanwendungen außerdem in allen Fällen dieselben Daten (Kunde 3) ab; daher sollte sich der URI im Grunde nicht abhängig von der Version unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-368">Also, from a purist’s point of view, in all cases the client applications are fetching the same data (customer 3), so the URI should not really be different depending on the version.</span></span> <span data-ttu-id="1ac47-369">Dieses Schema erschwert zudem die Implementierung von HATEOAS, da alle Links die Versionsnummer in den URIs enthalten müssen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-369">This scheme also complicates implementation of HATEOAS as all links will need to include the version number in their URIs.</span></span>

### <a name="query-string-versioning"></a><span data-ttu-id="1ac47-370">Versionsverwaltung der Abfragezeichenfolge</span><span class="sxs-lookup"><span data-stu-id="1ac47-370">Query string versioning</span></span>
<span data-ttu-id="1ac47-371">Anstatt mehrere URIs bereitzustellen, können Sie auch die Version der Ressource angeben, indem Sie in der Abfragezeichenfolge einen Parameter an die HTTP-Anforderung anfügen, z.B. *http://adventure-works.com/customers/3?version=2*.</span><span class="sxs-lookup"><span data-stu-id="1ac47-371">Rather than providing multiple URIs, you can specify the version of the resource by using a parameter within the query string appended to the HTTP request, such as *http://adventure-works.com/customers/3?version=2*.</span></span> <span data-ttu-id="1ac47-372">Der Versionsparameter sollte einen aussagekräftigen Standardwert wie z. B. „1“ aufweisen, wenn er von älteren Clientanwendungen weggelassen wird.</span><span class="sxs-lookup"><span data-stu-id="1ac47-372">The version parameter should default to a meaningful value such as 1 if it is omitted by older client applications.</span></span>

<span data-ttu-id="1ac47-373">Dieser Ansatz hat den semantischen Vorteil, dass dieselbe Ressource immer vom gleichen URI abgerufen wird; er hängt jedoch davon ab, dass der Code, der die Anforderung behandelt, die Abfragezeichenfolge analysiert und die entsprechende HTTP-Antwort zurücksendet.</span><span class="sxs-lookup"><span data-stu-id="1ac47-373">This approach has the semantic advantage that the same resource is always retrieved from the same URI, but it depends on the code that handles the request to parse the query string and send back the appropriate HTTP response.</span></span> <span data-ttu-id="1ac47-374">Dieser Ansatz bringt beim Implementieren von HATEOAS dieselben Schwierigkeiten mit sich, wie der Mechanismus für die URI-Versionsverwaltung.</span><span class="sxs-lookup"><span data-stu-id="1ac47-374">This approach also suffers from the same complications for implementing HATEOAS as the URI versioning mechanism.</span></span>

> [!NOTE]
> <span data-ttu-id="1ac47-375">Einige ältere Webbrowser und Webproxys nehmen keine Zwischenspeicherung Anforderungen vor, deren URL eine Abfragezeichenfolge enthält.</span><span class="sxs-lookup"><span data-stu-id="1ac47-375">Some older web browsers and web proxies will not cache responses for requests that include a query string in the URL.</span></span> <span data-ttu-id="1ac47-376">Dies kann sich negativ auf die Leistung von Webanwendungen auswirken, die eine Web-API verwenden und in einem solchen Webbrowser ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-376">This can have an adverse impact on performance for web applications that use a web API and that run from within such a web browser.</span></span>
>
>

### <a name="header-versioning"></a><span data-ttu-id="1ac47-377">Header-Versionsverwaltung</span><span class="sxs-lookup"><span data-stu-id="1ac47-377">Header versioning</span></span>
<span data-ttu-id="1ac47-378">Anstatt die Versionsnummer als Abfragezeichenfolgen-Parameter hinzuzufügen, können Sie einen benutzerdefinierten Header implementieren, der die Version der Ressource angibt.</span><span class="sxs-lookup"><span data-stu-id="1ac47-378">Rather than appending the version number as a query string parameter, you could implement a custom header that indicates the version of the resource.</span></span> <span data-ttu-id="1ac47-379">Dieser Ansatz erfordert, dass die Clientanwendung allen Anforderungen den entsprechenden Header hinzufügt; der Code, der die Clientanforderung behandelt, kann jedoch einen Standardwert (Version 1) verwenden, wenn der Versionsheader fehlt.</span><span class="sxs-lookup"><span data-stu-id="1ac47-379">This approach requires that the client application adds the appropriate header to any requests, although the code handling the client request could use a default value (version 1) if the version header is omitted.</span></span> <span data-ttu-id="1ac47-380">In den folgenden Beispielen wird ein benutzerdefinierter Header mit dem Namen *Custom-Header* verwendet.</span><span class="sxs-lookup"><span data-stu-id="1ac47-380">The following examples utilize a custom header named *Custom-Header*.</span></span> <span data-ttu-id="1ac47-381">Der Wert dieses Headers gibt die Version der Web-API an.</span><span class="sxs-lookup"><span data-stu-id="1ac47-381">The value of this header indicates the version of web API.</span></span>

<span data-ttu-id="1ac47-382">Version 1:</span><span class="sxs-lookup"><span data-stu-id="1ac47-382">Version 1:</span></span>

```HTTP
GET http://adventure-works.com/customers/3 HTTP/1.1
...
Custom-Header: api-version=1
...
```

```HTTP
HTTP/1.1 200 OK
...
Content-Type: application/json; charset=utf-8
...
Content-Length: ...
{"id":3,"name":"Contoso LLC","address":"1 Microsoft Way Redmond WA 98053"}
```

<span data-ttu-id="1ac47-383">Version 2:</span><span class="sxs-lookup"><span data-stu-id="1ac47-383">Version 2:</span></span>

```HTTP
GET http://adventure-works.com/customers/3 HTTP/1.1
...
Custom-Header: api-version=2
...
```

```HTTP
HTTP/1.1 200 OK
...
Content-Type: application/json; charset=utf-8
...
Content-Length: ...
{"id":3,"name":"Contoso LLC","dateCreated":"2014-09-04T12:11:38.0376089Z","address":{"streetAddress":"1 Microsoft Way","city":"Redmond","state":"WA","zipCode":98053}}
```

<span data-ttu-id="1ac47-384">Beachten Sie, dass die HATEOAS-Implementierung wie auch bei den beiden vorhergehenden Ansätzen die Angabe der entsprechenden benutzerdefinierten Header in allen Links erfordert.</span><span class="sxs-lookup"><span data-stu-id="1ac47-384">Note that as with the previous two approaches, implementing HATEOAS requires including the appropriate custom header in any links.</span></span>

### <a name="media-type-versioning"></a><span data-ttu-id="1ac47-385">Versionsverwaltung des Medientyps</span><span class="sxs-lookup"><span data-stu-id="1ac47-385">Media type versioning</span></span>
<span data-ttu-id="1ac47-386">Wenn eine Clientanwendung eine HTTP GET-Anforderung an einen Webserver sendet, sollte sie wie weiter oben in diesem Handbuch beschrieben anhand eines Accept-Headers das Format des Inhalts vorgeben, den sie verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="1ac47-386">When a client application sends an HTTP GET request to a web server it should stipulate the format of the content that it can handle by using an Accept header, as described earlier in this guidance.</span></span> <span data-ttu-id="1ac47-387">Der Zweck des *Accept*-Headers besteht häufig darin, dass die Clientanwendung angeben kann, ob der Text der Antwort im XML-, JSON- oder einem anderen gängigen Format vorliegt, das der Client analysieren kann.</span><span class="sxs-lookup"><span data-stu-id="1ac47-387">Frequently the purpose of the *Accept* header is to allow the client application to specify whether the body of the response should be XML, JSON, or some other common format that the client can parse.</span></span> <span data-ttu-id="1ac47-388">Allerdings ist es möglich, benutzerdefinierte Medientypen zu definieren, die Informationen enthalten, die es der Clientanwendung ermöglichen, die erwartete Version einer Ressource anzugeben.</span><span class="sxs-lookup"><span data-stu-id="1ac47-388">However, it is possible to define custom media types that include information enabling the client application to indicate which version of a resource it is expecting.</span></span> <span data-ttu-id="1ac47-389">Das folgende Beispiel zeigt eine Anforderung die einen *Accept*-Header mit dem Wert *application/vnd.adventure-works.v1+json* angibt.</span><span class="sxs-lookup"><span data-stu-id="1ac47-389">The following example shows a request that specifies an *Accept* header with the value *application/vnd.adventure-works.v1+json*.</span></span> <span data-ttu-id="1ac47-390">Das Element *vnd.adventure works.v1* weist den Webserver an, Version 1 der Ressource zurückzugeben, während das Element *json* angibt, dass der Antworttext im JSON-Format zurückgegeben werden soll:</span><span class="sxs-lookup"><span data-stu-id="1ac47-390">The *vnd.adventure-works.v1* element indicates to the web server that it should return version 1 of the resource, while the *json* element specifies that the format of the response body should be JSON:</span></span>

```HTTP
GET http://adventure-works.com/customers/3 HTTP/1.1
...
Accept: application/vnd.adventure-works.v1+json
...
```

<span data-ttu-id="1ac47-391">Der Code zum Verarbeiten der Anforderung ist dafür verantwortlich, den *Accept*-Header zu verarbeiten und so weit wie möglich zu berücksichtigen. (Die Clientanwendung kann im *Accept*-Header mehrere Formate angeben. In diesem Fall kann der Webserver das am besten geeignete Format für den Antworttext auswählen.)</span><span class="sxs-lookup"><span data-stu-id="1ac47-391">The code handling the request is responsible for processing the *Accept* header and honoring it as far as possible (the client application may specify multiple formats in the *Accept* header, in which case the web server can choose the most appropriate format for the response body).</span></span> <span data-ttu-id="1ac47-392">Der Webserver bestätigt das Format der Daten im Antworttext mithilfe des Content-Type-Headers:</span><span class="sxs-lookup"><span data-stu-id="1ac47-392">The web server confirms the format of the data in the response body by using the Content-Type header:</span></span>

```HTTP
HTTP/1.1 200 OK
...
Content-Type: application/vnd.adventure-works.v1+json; charset=utf-8
...
Content-Length: ...
{"id":3,"name":"Contoso LLC","address":"1 Microsoft Way Redmond WA 98053"}
```

<span data-ttu-id="1ac47-393">Wenn im Accept-Header keine bekannten Medientypen angegeben sind, kann der Webserver eine Antwortnachricht vom Typ HTTP 406 (Nicht akzeptabel) generieren oder eine Nachricht mit einem Standardmedientyp zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="1ac47-393">If the Accept header does not specify any known media types, the web server could generate an HTTP 406 (Not Acceptable) response message or return a message with a default media type.</span></span>

<span data-ttu-id="1ac47-394">Dieser Ansatz ist wohl der ursprünglichste Mechanismus zur Versionsverwaltung und eignet sich natürlich für das HATEOAS-Prinzip, bei dem der MIME-Typ der zugehörigen Daten in Ressourcenlinks enthalten sein kann.</span><span class="sxs-lookup"><span data-stu-id="1ac47-394">This approach is arguably the purest of the versioning mechanisms and lends itself naturally to HATEOAS, which can include the MIME type of related data in resource links.</span></span>

> [!NOTE]
> <span data-ttu-id="1ac47-395">Beim Auswählen einer Strategie für die Versionsverwaltung sollten Sie auch die Auswirkungen auf die Leistung berücksichtigen, insbesondere auf die Zwischenspeicherung auf dem Webserver.</span><span class="sxs-lookup"><span data-stu-id="1ac47-395">When you select a versioning strategy, you should also consider the implications on performance, especially caching on the web server.</span></span> <span data-ttu-id="1ac47-396">Die Schemas der URI- und Abfragezeichenfolge-Versionsverwaltung sind insofern cachefreundlich, dass dieselbe Kombination aus URI und Abfragezeichenfolge jedes Mal auf dieselben Daten verweist.</span><span class="sxs-lookup"><span data-stu-id="1ac47-396">The URI versioning and Query String versioning schemes are cache-friendly inasmuch as the same URI/query string combination refers to the same data each time.</span></span>
>
> <span data-ttu-id="1ac47-397">Die Versionsverwaltungsmechanismen für Header und Medientyp erfordern in der Regel zusätzliche Logik, um die Werte im benutzerdefinierten Header oder im Accept-Header zu untersuchen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-397">The Header versioning and Media Type versioning mechanisms typically require additional logic to examine the values in the custom header or the Accept header.</span></span> <span data-ttu-id="1ac47-398">In einer umfangreichen Umgebung können zahlreiche Clients, die verschiedene Versionen einer Web-API verwenden, zu einer erheblichen Menge von doppelt vorhandenen Daten in einem serverseitigen Cache führen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-398">In a large-scale environment, many clients using different versions of a web API can result in a significant amount of duplicated data in a server-side cache.</span></span> <span data-ttu-id="1ac47-399">Dieses Problem wird akut, wenn eine Clientanwendung mit einem Webserver über einen Proxy kommuniziert, der Zwischenspeicherung implementiert und eine Anforderung nur an den Webserver weiterleitet, wenn sein Cache derzeit keine Kopie der angeforderten Daten enthält.</span><span class="sxs-lookup"><span data-stu-id="1ac47-399">This issue can become acute if a client application communicates with a web server through a proxy that implements caching, and that only forwards a request to the web server if it does not currently hold a copy of the requested data in its cache.</span></span>
>
>

## <a name="open-api-initiative"></a><span data-ttu-id="1ac47-400">Open API Initiative</span><span class="sxs-lookup"><span data-stu-id="1ac47-400">Open API Initiative</span></span>
<span data-ttu-id="1ac47-401">Die [Open API Initiative](https://www.openapis.org/) wurde von einem Branchenkonsortium ins Leben gerufen, um REST-API-Beschreibungen anbieterübergreifend zu standardisieren.</span><span class="sxs-lookup"><span data-stu-id="1ac47-401">The [Open API Initiative](https://www.openapis.org/) was created by an industry consortium to standardize REST API descriptions across vendors.</span></span> <span data-ttu-id="1ac47-402">Im Rahmen dieser Initiative wurde die Swagger 2.0-Spezifikation in OpenAPI Specification (OAS) umbenannt und in die Open API Initiative integriert.</span><span class="sxs-lookup"><span data-stu-id="1ac47-402">As part of this initiative, the Swagger 2.0 specification was renamed the OpenAPI Specification (OAS) and brought under the Open API Initiative.</span></span>

<span data-ttu-id="1ac47-403">Es kann ratsam sein, OpenAPI für Ihre Web-APIs zu nutzen.</span><span class="sxs-lookup"><span data-stu-id="1ac47-403">You may want to adopt OpenAPI for your web APIs.</span></span> <span data-ttu-id="1ac47-404">Zu berücksichtigende Punkte:</span><span class="sxs-lookup"><span data-stu-id="1ac47-404">Some points to consider:</span></span>

- <span data-ttu-id="1ac47-405">Die OpenAPI-Spezifikation umfasst eine Reihe von wertenden Richtlinien zum Entwurf einer REST-API.</span><span class="sxs-lookup"><span data-stu-id="1ac47-405">The OpenAPI Specification comes with with a set of opinionated guidelines on how a REST API should be designed.</span></span> <span data-ttu-id="1ac47-406">Hierdurch ergeben sich Vorteile bei der Interoperabilität, aber Sie müssen Ihre API mit mehr Sorgfalt entwerfen, damit sie mit der Spezifikation konform ist.</span><span class="sxs-lookup"><span data-stu-id="1ac47-406">That has advantages for interoperability, but requires more care when designing your API to conform to the specification.</span></span>
- <span data-ttu-id="1ac47-407">Für OpenAPI wird ein Ansatz genutzt, bei dem der Vertrag im Vordergrund steht, und nicht die Implementierung.</span><span class="sxs-lookup"><span data-stu-id="1ac47-407">OpenAPI promotes a contract-first approach, rather than an implementation-first approach.</span></span> <span data-ttu-id="1ac47-408">Dies bedeutet, dass Sie zuerst den API-Vertrag (die Schnittstelle) entwerfen und dann Code schreiben, mit dem der Vertrag implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="1ac47-408">Contract-first means you design the API contract (the interface) first and then write code that implements the contract.</span></span> 
- <span data-ttu-id="1ac47-409">Mit Tools wie Swagger können Clientbibliotheken oder Dokumentationen aus API-Verträgen generiert werden.</span><span class="sxs-lookup"><span data-stu-id="1ac47-409">Tools like Swagger can generate client libraries or documentation from API contracts.</span></span> <span data-ttu-id="1ac47-410">Informationen hierzu finden Sie beispielsweise unter [ASP.NET Core-Web-API-Hilfeseiten mit Swagger](/aspnet/core/tutorials/web-api-help-pages-using-swagger).</span><span class="sxs-lookup"><span data-stu-id="1ac47-410">For example, see [ASP.NET Web API Help Pages using Swagger](/aspnet/core/tutorials/web-api-help-pages-using-swagger).</span></span>

## <a name="more-information"></a><span data-ttu-id="1ac47-411">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="1ac47-411">More information</span></span>
* <span data-ttu-id="1ac47-412">Die [Microsoft-REST-API-Richtlinien](https://github.com/Microsoft/api-guidelines/blob/master/Guidelines.md) enthalten ausführliche Empfehlungen für das Entwerfen von öffentlichen REST-APIs.</span><span class="sxs-lookup"><span data-stu-id="1ac47-412">The [Microsoft REST API Guidelines](https://github.com/Microsoft/api-guidelines/blob/master/Guidelines.md) contain detailed recommendations for designing public REST APIs.</span></span>
* <span data-ttu-id="1ac47-413">Das [RESTful-Cookbook](http://restcookbook.com/) enthält eine Einführung zum Erstellen von RESTful-APIs.</span><span class="sxs-lookup"><span data-stu-id="1ac47-413">The [RESTful Cookbook](http://restcookbook.com/) contains an introduction to building RESTful APIs.</span></span>
* <span data-ttu-id="1ac47-414">Die [Web-API-Checkliste](https://mathieu.fenniak.net/the-api-checklist/) enthält eine nützliche Liste der zu berücksichtigenden Punkte beim Entwerfen und Implementieren einer Web-API.</span><span class="sxs-lookup"><span data-stu-id="1ac47-414">The [Web API Checklist](https://mathieu.fenniak.net/the-api-checklist/) contains a useful list of items to consider when designing and implementing a web API.</span></span>
* <span data-ttu-id="1ac47-415">Die Website [Open API Initiative](https://www.openapis.org/) enthält die gesamte Dokumentation und alle Implementierungsdetails zum Thema Open API.</span><span class="sxs-lookup"><span data-stu-id="1ac47-415">The [Open API Initiative](https://www.openapis.org/) site, contains all related documentation and implementation details on Open API.</span></span>
