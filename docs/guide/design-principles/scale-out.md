---
title: Ausrichtung des Entwurfs auf horizontale Skalierung
titleSuffix: Azure Application Architecture Guide
description: Cloudanwendungen sollten mit Blick auf die horizontale Skalierung entworfen werden.
author: MikeWasson
ms.date: 08/30/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: seojan19
ms.openlocfilehash: 32ea1e7dc732c819783ad2fc06dbcffd75685d23
ms.sourcegitcommit: 1b50810208354577b00e89e5c031b774b02736e2
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 01/23/2019
ms.locfileid: "54483733"
---
# <a name="design-to-scale-out"></a><span data-ttu-id="d840e-103">Ausrichtung des Entwurfs auf horizontale Skalierung</span><span class="sxs-lookup"><span data-stu-id="d840e-103">Design to scale out</span></span>

## <a name="design-your-application-so-that-it-can-scale-horizontally"></a><span data-ttu-id="d840e-104">Entwerfen der Anwendung mit Blick auf die horizontale Skalierung</span><span class="sxs-lookup"><span data-stu-id="d840e-104">Design your application so that it can scale horizontally</span></span>

<span data-ttu-id="d840e-105">Einer der Hauptvorteile der Cloud ist die elastische Skalierbarkeit: Sie können so viel Kapazität nutzen, wie Sie benötigen. Wenn die Auslastung steigt, können Sie das System horizontal hochskalieren und es wieder herunterskalieren, wenn die zusätzliche Kapazität nicht mehr benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="d840e-105">A primary advantage of the cloud is elastic scaling &mdash; the ability to use as much capacity as you need, scaling out as load increases, and scaling in when the extra capacity is not needed.</span></span> <span data-ttu-id="d840e-106">Entwerfen Sie Ihre Anwendung so, dass sie durch Hinzufügen oder Entfernen von Instanzen ganz nach Bedarf horizontal skaliert werden kann.</span><span class="sxs-lookup"><span data-stu-id="d840e-106">Design your application so that it can scale horizontally, adding or removing new instances as demand requires.</span></span>

## <a name="recommendations"></a><span data-ttu-id="d840e-107">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="d840e-107">Recommendations</span></span>

<span data-ttu-id="d840e-108">**Vermeiden Sie Instanzbindung**.</span><span class="sxs-lookup"><span data-stu-id="d840e-108">**Avoid instance stickiness**.</span></span> <span data-ttu-id="d840e-109">Bindung oder *Sitzungsaffinität* tritt auf, wenn Anforderungen desselben Clients immer an den gleichen Server weitergeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="d840e-109">Stickiness, or *session affinity*, is when requests from the same client are always routed to the same server.</span></span> <span data-ttu-id="d840e-110">Dies beeinträchtigt die Fähigkeit einer Anwendung, sich horizontal hochskalieren zu lassen. Beispielsweise wird der Datenverkehr eines Benutzers mit hohem Datenvolumen nicht auf mehrere Instanzen verteilt.</span><span class="sxs-lookup"><span data-stu-id="d840e-110">Stickiness limits the application's ability to scale out. For example, traffic from a high-volume user will not be distributed across instances.</span></span> <span data-ttu-id="d840e-111">Gründe für die Bindung können das Speichern des Sitzungszustands im Arbeitsspeicher und die Verwendung von bestimmten Schlüsseln für die Verschlüsselung sein.</span><span class="sxs-lookup"><span data-stu-id="d840e-111">Causes of stickiness include storing session state in memory, and using machine-specific keys for encryption.</span></span> <span data-ttu-id="d840e-112">Stellen Sie sicher, dass jede Instanz jede Anforderung verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="d840e-112">Make sure that any instance can handle any request.</span></span>

<span data-ttu-id="d840e-113">**Identifizieren Sie Engpässe**.</span><span class="sxs-lookup"><span data-stu-id="d840e-113">**Identify bottlenecks**.</span></span> <span data-ttu-id="d840e-114">Die horizontale Skalierung ist kein Wundermittel für jedes Leistungsproblem.</span><span class="sxs-lookup"><span data-stu-id="d840e-114">Scaling out isn't a magic fix for every performance issue.</span></span> <span data-ttu-id="d840e-115">Wenn beispielsweise Ihre Back-End-Datenbank der Engpass ist, hilft das Hinzufügen weiterer Webserver nicht.</span><span class="sxs-lookup"><span data-stu-id="d840e-115">For example, if your backend database is the bottleneck, it won't help to add more web servers.</span></span> <span data-ttu-id="d840e-116">Identifizieren und beheben Sie zuerst die Engpässe im System, bevor Sie weitere Instanzen einrichten, um das Problem zu lösen.</span><span class="sxs-lookup"><span data-stu-id="d840e-116">Identify and resolve the bottlenecks in the system first, before throwing more instances at the problem.</span></span> <span data-ttu-id="d840e-117">Zustandsbehaftete Teile des Systems sind die wahrscheinlichste Ursache von Engpässen.</span><span class="sxs-lookup"><span data-stu-id="d840e-117">Stateful parts of the system are the most likely cause of bottlenecks.</span></span>

<span data-ttu-id="d840e-118">**Teilen Sie Workloads je nach Skalierbarkeitsanforderungen auf.**</span><span class="sxs-lookup"><span data-stu-id="d840e-118">**Decompose workloads by scalability requirements.**</span></span>  <span data-ttu-id="d840e-119">Anwendungen bestehen häufig aus mehreren Workloads, die jeweils unterschiedliche Anforderungen an die Skalierung aufweisen.</span><span class="sxs-lookup"><span data-stu-id="d840e-119">Applications often consist of multiple workloads, with different requirements for scaling.</span></span> <span data-ttu-id="d840e-120">Eine Anwendung verfügt möglicherweise über eine öffentliche Site und eine separate Site für die Verwaltung.</span><span class="sxs-lookup"><span data-stu-id="d840e-120">For example, an application might have a public-facing site and a separate administration site.</span></span> <span data-ttu-id="d840e-121">Auf der öffentlichen Site treten möglicherweise plötzliche Datenverkehrs-Lastspitzen auf, während die Verwaltungssite eine kleinere und besser vorhersehbare Last aufweist.</span><span class="sxs-lookup"><span data-stu-id="d840e-121">The public site may experience sudden surges in traffic, while the administration site has a smaller, more predictable load.</span></span>

<span data-ttu-id="d840e-122">**Lagern Sie ressourcenintensive Tasks aus.**</span><span class="sxs-lookup"><span data-stu-id="d840e-122">**Offload resource-intensive tasks.**</span></span> <span data-ttu-id="d840e-123">Tasks, die große Mengen an CPU- oder E/A-Ressourcen benötigen, sollten nach Möglichkeit in [Hintergrundaufträge][background-jobs] verschoben werden, um die Last auf dem Front-End, das die Benutzeranforderungen verarbeitet, zu minimieren.</span><span class="sxs-lookup"><span data-stu-id="d840e-123">Tasks that require a lot of CPU or I/O resources should be moved to [background jobs][background-jobs] when possible, to minimize the load on the front end that is handling user requests.</span></span>

<span data-ttu-id="d840e-124">**Verwenden Sie integrierte Features für die automatische Skalierung**.</span><span class="sxs-lookup"><span data-stu-id="d840e-124">**Use built-in autoscaling features**.</span></span> <span data-ttu-id="d840e-125">Viele Azure-Computedienste bieten integrierte Unterstützung für die automatische Skalierung.</span><span class="sxs-lookup"><span data-stu-id="d840e-125">Many Azure compute services have built-in support for autoscaling.</span></span> <span data-ttu-id="d840e-126">Wenn eine Anwendung eine vorhersehbare, regelmäßige Workload aufweist, sollte das horizontale Hochskalieren gemäß einem Zeitplan erfolgen.</span><span class="sxs-lookup"><span data-stu-id="d840e-126">If the application has a predictable, regular workload, scale out on a schedule.</span></span> <span data-ttu-id="d840e-127">Skalieren Sie das System z.B. während der Geschäftszeiten hoch.</span><span class="sxs-lookup"><span data-stu-id="d840e-127">For example, scale out during business hours.</span></span> <span data-ttu-id="d840e-128">Wenn die Workload nicht vorhersehbar ist, verwenden Sie Leistungsmetriken wie die CPU-Auslastung oder die Länge der Anforderungswarteschlange, um die automatische Skalierung auszulösen.</span><span class="sxs-lookup"><span data-stu-id="d840e-128">Otherwise, if the workload is not predictable, use performance metrics such as CPU or request queue length to trigger autoscaling.</span></span> <span data-ttu-id="d840e-129">Informationen zu den bewährten Methoden finden Sie unter [Automatische Skalierung][autoscaling].</span><span class="sxs-lookup"><span data-stu-id="d840e-129">For autoscaling best practices, see [Autoscaling][autoscaling].</span></span>

<span data-ttu-id="d840e-130">**Ziehen Sie für kritische Workloads eine aggressive automatische Skalierung in Betracht**.</span><span class="sxs-lookup"><span data-stu-id="d840e-130">**Consider aggressive autoscaling for critical workloads**.</span></span> <span data-ttu-id="d840e-131">Bei kritischen Workloads müssen Sie der Nachfrage immer einen Schritt voraus sein.</span><span class="sxs-lookup"><span data-stu-id="d840e-131">For critical workloads, you want to keep ahead of demand.</span></span> <span data-ttu-id="d840e-132">Es ist besser, bei hoher Auslastung schnell neue Instanzen hinzuzufügen, um den zusätzlichen Datenverkehr zu bewältigen, und das System dann nach und nach wieder herunterzuskalieren.</span><span class="sxs-lookup"><span data-stu-id="d840e-132">It's better to add new instances quickly under heavy load to handle the additional traffic, and then gradually scale back.</span></span>

<span data-ttu-id="d840e-133">**Konzipieren Sie Ihr System so, dass es horizontal herunterskaliert werden kann**.</span><span class="sxs-lookup"><span data-stu-id="d840e-133">**Design for scale in**.</span></span>  <span data-ttu-id="d840e-134">Denken Sie daran, dass es bei elastischer Skalierung Zeiträume geben wird, in denen die Anwendung horizontal herunterskaliert wird, indem Instanzen entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="d840e-134">Remember that with elastic scale, the application will have periods of scale in, when instances get removed.</span></span> <span data-ttu-id="d840e-135">Die Anwendung muss die Entfernung von Instanzen ordnungsgemäß verarbeiten können.</span><span class="sxs-lookup"><span data-stu-id="d840e-135">The application must gracefully handle instances being removed.</span></span> <span data-ttu-id="d840e-136">Nachfolgenden finden Sie einige Möglichkeiten, die Anwendung für ein horizontales Herunterskalieren zu konfigurieren:</span><span class="sxs-lookup"><span data-stu-id="d840e-136">Here are some ways to handle scalein:</span></span>

- <span data-ttu-id="d840e-137">Die Anwendung sollte auf „Herunterfahren“-Ereignisse lauschen (wenn verfügbar) und das Herunterfahren ordnungsgemäß ausführen.</span><span class="sxs-lookup"><span data-stu-id="d840e-137">Listen for shutdown events (when available) and shut down cleanly.</span></span>
- <span data-ttu-id="d840e-138">Clients/Consumer eines Diensts sollten die Behandlung vorübergehender Fehler und Wiederholungsversuche unterstützen.</span><span class="sxs-lookup"><span data-stu-id="d840e-138">Clients/consumers of a service should support transient fault handling and retry.</span></span>
- <span data-ttu-id="d840e-139">Ziehen Sie bei Tasks mit langer Ausführungsdauer in Betracht, die Arbeit aufzuteilen, indem Sie Prüfpunkte oder das Muster [Pipes und Filter][pipes-filters-pattern] verwenden.</span><span class="sxs-lookup"><span data-stu-id="d840e-139">For long-running tasks, consider breaking up the work, using checkpoints or the [Pipes and Filters][pipes-filters-pattern] pattern.</span></span>
- <span data-ttu-id="d840e-140">Platzieren Sie Arbeitselemente in einer Warteschlange, sodass eine andere Instanz die Verarbeitung aufnehmen kann, wenn eine Instanz mitten in der Verarbeitung entfernt wird.</span><span class="sxs-lookup"><span data-stu-id="d840e-140">Put work items on a queue so that another instance can pick up the work, if an instance is removed in the middle of processing.</span></span>

<!-- links -->

[autoscaling]: ../../best-practices/auto-scaling.md
[background-jobs]: ../../best-practices/background-jobs.md
[pipes-filters-pattern]: ../../patterns/pipes-and-filters.md
