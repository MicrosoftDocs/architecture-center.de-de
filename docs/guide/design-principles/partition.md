---
title: Umgehung von Grenzwerten durch Partitionierung
titleSuffix: Azure Application Architecture Guide
description: Setzen Sie Partitionierung ein, um Datenbank-, Netzwerk- und Computebeschränkungen zu umgehen.
author: MikeWasson
ms.date: 08/30/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: seojan19
ms.openlocfilehash: 76590d2a0c16df9d599e7d4a856a84b5e3bdcec8
ms.sourcegitcommit: 1b50810208354577b00e89e5c031b774b02736e2
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 01/23/2019
ms.locfileid: "54486011"
---
# <a name="partition-around-limits"></a><span data-ttu-id="e5b97-103">Umgehung von Grenzwerten durch Partitionierung</span><span class="sxs-lookup"><span data-stu-id="e5b97-103">Partition around limits</span></span>

## <a name="use-partitioning-to-work-around-database-network-and-compute-limits"></a><span data-ttu-id="e5b97-104">Einsetzen der Partitionierung, um Datenbank-, Netzwerk- und Computegrenzwerte zu umgehen</span><span class="sxs-lookup"><span data-stu-id="e5b97-104">Use partitioning to work around database, network, and compute limits</span></span>

<span data-ttu-id="e5b97-105">In der Cloud ist für alle Dienste die Fähigkeit zum zentralen Hochskalieren beschränkt.</span><span class="sxs-lookup"><span data-stu-id="e5b97-105">In the cloud, all services have limits in their ability to scale up.</span></span> <span data-ttu-id="e5b97-106">Grenzwerte für Azure-Dienste sind in [Einschränkungen für Azure-Abonnements und Dienste, Kontingente und Einschränkungen][azure-limits] dokumentiert.</span><span class="sxs-lookup"><span data-stu-id="e5b97-106">Azure service limits are documented in [Azure subscription and service limits, quotas, and constraints][azure-limits].</span></span> <span data-ttu-id="e5b97-107">Zu den Grenzwerten gehört die Anzahl der Kerne, die Datenbankgröße, der Abfragedurchsatz und der Netzwerkdurchsatz.</span><span class="sxs-lookup"><span data-stu-id="e5b97-107">Limits include number of cores, database size, query throughput, and network throughput.</span></span> <span data-ttu-id="e5b97-108">Wenn Ihr System ausreichend groß wird, können Sie einen oder mehrere dieser Grenzwerte erreichen.</span><span class="sxs-lookup"><span data-stu-id="e5b97-108">If your system grows sufficiently large, you may hit one or more of these limits.</span></span> <span data-ttu-id="e5b97-109">Nutzen Sie die Partitionierung zum Umgehen dieser Grenzwerte.</span><span class="sxs-lookup"><span data-stu-id="e5b97-109">Use partitioning to work around these limits.</span></span>

<span data-ttu-id="e5b97-110">Es gibt viele Möglichkeiten, ein System zu partitionieren, Beispiele:</span><span class="sxs-lookup"><span data-stu-id="e5b97-110">There are many ways to partition a system, such as:</span></span>

- <span data-ttu-id="e5b97-111">Partitionieren Sie eine Datenbank, um Grenzwerte für die Datenbankgröße, Daten-E/A oder die Anzahl gleichzeitiger Sitzungen zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="e5b97-111">Partition a database to avoid limits on database size, data I/O, or number of concurrent sessions.</span></span>

- <span data-ttu-id="e5b97-112">Partitionieren Sie eine Warteschlange oder einen Nachrichtenbus, um Grenzwerte für die Anzahl von Anforderungen oder die Anzahl von gleichzeitigen Verbindungen zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="e5b97-112">Partition a queue or message bus to avoid limits on the number of requests or the number of concurrent connections.</span></span>

- <span data-ttu-id="e5b97-113">Partitionieren Sie eine App Service-Web-App, um Grenzwerte für die Anzahl der Instanzen pro App Service-Plan zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="e5b97-113">Partition an App Service web app to avoid limits on the number of instances per App Service plan.</span></span>

<span data-ttu-id="e5b97-114">Eine Datenbank kann *horizontal*, *vertikal* oder *funktional* partitioniert werden.</span><span class="sxs-lookup"><span data-stu-id="e5b97-114">A database can be partitioned *horizontally*, *vertically*, or *functionally*.</span></span>

- <span data-ttu-id="e5b97-115">Bei der horizontalen Partitionierung, die auch als Sharding bezeichnet wird, enthält jede Partition Daten für eine Teilmenge des gesamten Datasets.</span><span class="sxs-lookup"><span data-stu-id="e5b97-115">In horizontal partitioning, also called sharding, each partition holds data for a subset of the total data set.</span></span> <span data-ttu-id="e5b97-116">Die Partitionen nutzen das gleiche Datenschema.</span><span class="sxs-lookup"><span data-stu-id="e5b97-116">The partitions share the same data schema.</span></span> <span data-ttu-id="e5b97-117">Beispiel: Kunden, deren Namen mit A&ndash;M beginnen, kommen in eine Partition, und die mit N&ndash;Z in eine andere Partition.</span><span class="sxs-lookup"><span data-stu-id="e5b97-117">For example, customers whose names start with A&ndash;M go into one partition, N&ndash;Z into another partition.</span></span>

- <span data-ttu-id="e5b97-118">Bei der vertikalen Partitionierung enthält jede Partition eine Teilmenge der Felder für die Elemente im Datenspeicher.</span><span class="sxs-lookup"><span data-stu-id="e5b97-118">In vertical partitioning, each partition holds a subset of the fields for the items in the data store.</span></span> <span data-ttu-id="e5b97-119">Beispiel: Nehmen Sie häufig verwendete Felder in eine Partition und weniger häufig verwendete Felder in eine andere Partition auf.</span><span class="sxs-lookup"><span data-stu-id="e5b97-119">For example, put frequently accessed fields in one partition, and less frequently accessed fields in another.</span></span>

- <span data-ttu-id="e5b97-120">Bei der funktionalen Partitionierung werden Daten nach der Art und Weise partitioniert, in der sie im System von jedem begrenzten Kontext verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e5b97-120">In functional partitioning, data is partitioned according to how it is used by each bounded context in the system.</span></span> <span data-ttu-id="e5b97-121">Beispiel: Speichern Sie Rechnungsdaten in einer Partition und Daten zum Produktbestand in einer anderen.</span><span class="sxs-lookup"><span data-stu-id="e5b97-121">For example, store invoice data in one partition and product inventory data in another.</span></span> <span data-ttu-id="e5b97-122">Die Schemas sind voneinander unabhängig.</span><span class="sxs-lookup"><span data-stu-id="e5b97-122">The schemas are independent.</span></span>

<span data-ttu-id="e5b97-123">Ausführlichere Anleitungen finden Sie unter [Datenpartitionierung][data-partitioning-guidance].</span><span class="sxs-lookup"><span data-stu-id="e5b97-123">For more detailed guidance, see [Data partitioning][data-partitioning-guidance].</span></span>

## <a name="recommendations"></a><span data-ttu-id="e5b97-124">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="e5b97-124">Recommendations</span></span>

<span data-ttu-id="e5b97-125">**Partitionieren Sie verschiedene Teile der Anwendung**.</span><span class="sxs-lookup"><span data-stu-id="e5b97-125">**Partition different parts of the application**.</span></span> <span data-ttu-id="e5b97-126">Datenbanken sind ein offensichtlicher Kandidat für die Partitionierung, aber Sie könnten auch Speicher, Cache, Warteschlangen und Serverinstanzen partitionieren.</span><span class="sxs-lookup"><span data-stu-id="e5b97-126">Databases are one obvious candidate for partitioning, but also consider storage, cache, queues, and compute instances.</span></span>

<span data-ttu-id="e5b97-127">**Entwerfen Sie den Partitionsschlüssel, um Hotspots zu vermeiden**.</span><span class="sxs-lookup"><span data-stu-id="e5b97-127">**Design the partition key to avoid hot spots**.</span></span> <span data-ttu-id="e5b97-128">Wenn Sie eine Datenbank partitionieren, aber ein Shard noch immer den Großteil der Anforderungen erhält, ist das Problem nicht gelöst.</span><span class="sxs-lookup"><span data-stu-id="e5b97-128">If you partition a database, but one shard still gets the majority of the requests, then you haven't solved your problem.</span></span> <span data-ttu-id="e5b97-129">Im Idealfall wird die Last gleichmäßig auf alle Partitionen verteilt.</span><span class="sxs-lookup"><span data-stu-id="e5b97-129">Ideally, load gets distributed evenly across all the partitions.</span></span> <span data-ttu-id="e5b97-130">Verwenden Sie z.B. einen Hash der Kunden-ID und nicht den ersten Buchstaben des Kundennamens, da einige Buchstaben häufiger vorkommen.</span><span class="sxs-lookup"><span data-stu-id="e5b97-130">For example, hash by customer ID and not the first letter of the customer name, because some letters are more frequent.</span></span> <span data-ttu-id="e5b97-131">Das gleiche Prinzip gilt beim Partitionieren einer Nachrichtenwarteschlange.</span><span class="sxs-lookup"><span data-stu-id="e5b97-131">The same principle applies when partitioning a message queue.</span></span> <span data-ttu-id="e5b97-132">Wählen Sie einen Partitionsschlüssel aus, der zu einer gleichmäßigen Verteilung von Nachrichten über den Satz von Warteschlangen führt.</span><span class="sxs-lookup"><span data-stu-id="e5b97-132">Pick a partition key that leads to an even distribution of messages across the set of queues.</span></span> <span data-ttu-id="e5b97-133">Weitere Informationen finden Sie unter [Sharding][sharding].</span><span class="sxs-lookup"><span data-stu-id="e5b97-133">For more information, see [Sharding][sharding].</span></span>

<span data-ttu-id="e5b97-134">**Umgehen Sie die Grenzwerte für Azure-Abonnements und -Dienste durch Partitionierung**.</span><span class="sxs-lookup"><span data-stu-id="e5b97-134">**Partition around Azure subscription and service limits**.</span></span> <span data-ttu-id="e5b97-135">Für einzelne Komponenten und Dienste gelten Grenzwerte, aber es gibt auch Grenzwerte für Abonnements und Ressourcengruppen.</span><span class="sxs-lookup"><span data-stu-id="e5b97-135">Individual components and services have limits, but there are also limits for subscriptions and resource groups.</span></span> <span data-ttu-id="e5b97-136">Bei sehr große Anwendungen müssen Sie möglicherweise diese Grenzwerte durch Partitionierung umgehen.</span><span class="sxs-lookup"><span data-stu-id="e5b97-136">For very large applications, you might need to partition around those limits.</span></span>

<span data-ttu-id="e5b97-137">**Partitionieren Sie auf unterschiedlichen Ebenen**.</span><span class="sxs-lookup"><span data-stu-id="e5b97-137">**Partition at different levels**.</span></span> <span data-ttu-id="e5b97-138">Nehmen Sie einen Datenbankserver, der auf einer VM bereitgestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="e5b97-138">Consider a database server deployed on a VM.</span></span> <span data-ttu-id="e5b97-139">Die VM weist eine VHD auf, die von Azure Storage gesichert wird.</span><span class="sxs-lookup"><span data-stu-id="e5b97-139">The VM has a VHD that is backed by Azure Storage.</span></span> <span data-ttu-id="e5b97-140">Das Speicherkonto gehört zu einem Azure-Abonnement.</span><span class="sxs-lookup"><span data-stu-id="e5b97-140">The storage account belongs to an Azure subscription.</span></span> <span data-ttu-id="e5b97-141">Für jeden Schritt in der Hierarchie gelten Grenzwerte.</span><span class="sxs-lookup"><span data-stu-id="e5b97-141">Notice that each step in the hierarchy has limits.</span></span> <span data-ttu-id="e5b97-142">Der Datenbankserver weist möglicherweise einen Grenzwert für Verbindungspools auf.</span><span class="sxs-lookup"><span data-stu-id="e5b97-142">The database server may have a connection pool limit.</span></span> <span data-ttu-id="e5b97-143">Für VMs gelten CPU- und Netzwerkgrenzwerte.</span><span class="sxs-lookup"><span data-stu-id="e5b97-143">VMs have CPU and network limits.</span></span> <span data-ttu-id="e5b97-144">Für den Speicher gelten IOPS-Grenzwerte.</span><span class="sxs-lookup"><span data-stu-id="e5b97-144">Storage has IOPS limits.</span></span> <span data-ttu-id="e5b97-145">Für das Abonnement ist die Anzahl der VM-Kerne begrenzt.</span><span class="sxs-lookup"><span data-stu-id="e5b97-145">The subscription has limits on the number of VM cores.</span></span> <span data-ttu-id="e5b97-146">Im Allgemeinen ist es einfacher, die Partitionierung eher unten in der Hierarchie durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="e5b97-146">Generally, it's easier to partition lower in the hierarchy.</span></span> <span data-ttu-id="e5b97-147">Nur bei großen Anwendungen sollte eine Partitionierung auf Abonnementebene erforderlich sein.</span><span class="sxs-lookup"><span data-stu-id="e5b97-147">Only large applications should need to partition at the subscription level.</span></span>

<!-- links -->

[azure-limits]: /azure/azure-subscription-service-limits
[data-partitioning-guidance]: ../../best-practices/data-partitioning.md
[sharding]: ../../patterns/sharding.md
