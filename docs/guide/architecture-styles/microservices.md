---
title: "Architekturstil für Microservices"
description: "Dieser Artikel beschreibt die Vorteile, Herausforderungen und bewährten Methoden für Architekturen für Microservices in Azure."
author: MikeWasson
ms.openlocfilehash: 6426b3342a319832baf5eec35e9c783ba9348bdd
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/14/2017
---
# <a name="microservices-architecture-style"></a><span data-ttu-id="3aed7-103">Architekturstil für Microservices</span><span class="sxs-lookup"><span data-stu-id="3aed7-103">Microservices architecture style</span></span>

<span data-ttu-id="3aed7-104">Eine Microservicearchitektur besteht aus einer Sammlung kleiner, autonomer Dienste.</span><span class="sxs-lookup"><span data-stu-id="3aed7-104">A microservices architecture consists of a collection of small, autonomous services.</span></span> <span data-ttu-id="3aed7-105">Jeder Dienst ist eigenständig und sollte eine einzige Geschäftsfunktion implementieren.</span><span class="sxs-lookup"><span data-stu-id="3aed7-105">Each service is self-contained and should implement a single business capability.</span></span> 

![](./images/microservices-logical.svg)
 
<span data-ttu-id="3aed7-106">Auf gewisse Weise sind Microservices die natürliche Weiterentwicklung von serviceorientierten Architekturen (SOAs), es gibt jedoch einige Unterschiede zwischen Microservices und SOAs.</span><span class="sxs-lookup"><span data-stu-id="3aed7-106">In some ways, microservices are the natural evolution of service oriented architectures (SOA), but there are differences between microservices and SOA.</span></span> <span data-ttu-id="3aed7-107">Im Folgenden finden Sie einige definierende Merkmale eines Microservice:</span><span class="sxs-lookup"><span data-stu-id="3aed7-107">Here are some defining characteristics of a microservice:</span></span>

- <span data-ttu-id="3aed7-108">In einer Microservicearchitektur sind die Dienste klein, unabhängig und lose gekoppelt.</span><span class="sxs-lookup"><span data-stu-id="3aed7-108">In a microservices architecture, services are small, independent, and loosely coupled.</span></span>

- <span data-ttu-id="3aed7-109">Jeder Dienst stellt eine separate Codebasis dar, die von einem kleinen Entwicklungsteam verwaltet werden kann.</span><span class="sxs-lookup"><span data-stu-id="3aed7-109">Each service is a separate codebase, which can be managed by a small development team.</span></span>

- <span data-ttu-id="3aed7-110">Die Dienste können unabhängig voneinander bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="3aed7-110">Services can be deployed independently.</span></span> <span data-ttu-id="3aed7-111">Ein Team kann einen vorhandenen Dienst aktualisieren, ohne die gesamte Anwendung neu erstellen und erneut bereitstellen zu müssen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-111">A team can update an existing service without rebuilding and redeploying the entire application.</span></span>

- <span data-ttu-id="3aed7-112">Die Dienste sind dafür zuständig, ihre eigenen Daten und ihren externen Zustand beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="3aed7-112">Services are responsible for persisting their own data or external state.</span></span> <span data-ttu-id="3aed7-113">Dies ist ein Unterschied zum herkömmlichen Modell, in dem eine separate Datenschicht die Datenpersistenz verwaltet.</span><span class="sxs-lookup"><span data-stu-id="3aed7-113">This differs from the traditional model, where a separate data layer handles data persistence.</span></span>

- <span data-ttu-id="3aed7-114">Dienste kommunizieren über klar definierte APIs miteinander.</span><span class="sxs-lookup"><span data-stu-id="3aed7-114">Services communicate with each other by using well-defined APIs.</span></span> <span data-ttu-id="3aed7-115">Die internen Implementierungsdetails jedes Diensts werden für andere Dienste verborgen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-115">Internal implementation details of each service are hidden from other services.</span></span>

- <span data-ttu-id="3aed7-116">Dienste müssen nicht den gleichen Technologiestapel, die gleichen Bibliotheken oder die gleichen Frameworks verwenden.</span><span class="sxs-lookup"><span data-stu-id="3aed7-116">Services don't need to share the same technology stack, libraries, or frameworks.</span></span>

<span data-ttu-id="3aed7-117">Abgesehen von den Diensten selbst gibt es in einer typischen Architektur für Microservices noch einige weitere Komponenten:</span><span class="sxs-lookup"><span data-stu-id="3aed7-117">Besides for the services themselves, some other components appear in a typical microservices architecture:</span></span>

<span data-ttu-id="3aed7-118">**Verwaltung**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-118">**Management**.</span></span> <span data-ttu-id="3aed7-119">Die Verwaltungskomponente ist dafür zuständig, Dienste auf Knoten zu platzieren, Fehler zu ermitteln, die Dienste auf Knoten zu verteilen usw.</span><span class="sxs-lookup"><span data-stu-id="3aed7-119">The management component is responsible for placing services on nodes, identifying failures, rebalancing services across nodes, and so forth.</span></span>  

<span data-ttu-id="3aed7-120">**Dienstermittlung**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-120">**Service Discovery**.</span></span>  <span data-ttu-id="3aed7-121">Diese Komponente verwaltet eine Liste der Dienste und der Knoten, auf denen sich die Dienste befinden.</span><span class="sxs-lookup"><span data-stu-id="3aed7-121">Maintains a list of services and which nodes they are located on.</span></span> <span data-ttu-id="3aed7-122">Sie ermöglicht eine Dienstsuche, um den Endpunkt für einen Dienst zu finden.</span><span class="sxs-lookup"><span data-stu-id="3aed7-122">Enables service lookup to find the endpoint for a service.</span></span> 

<span data-ttu-id="3aed7-123">**API-Gateway**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-123">**API Gateway**.</span></span> <span data-ttu-id="3aed7-124">Das API-Gateway ist der Einstiegspunkt für Clients.</span><span class="sxs-lookup"><span data-stu-id="3aed7-124">The API gateway is the entry point for clients.</span></span> <span data-ttu-id="3aed7-125">Clients rufen Dienste nicht direkt auf.</span><span class="sxs-lookup"><span data-stu-id="3aed7-125">Clients don't call services directly.</span></span> <span data-ttu-id="3aed7-126">Stattdessen rufen sie das API-Gateway auf, das den Aufruf an die geeigneten Dienste im Back-End weiterleitet.</span><span class="sxs-lookup"><span data-stu-id="3aed7-126">Instead, they call the API gateway, which forwards the call to the appropriate services on the back end.</span></span> <span data-ttu-id="3aed7-127">Das API-Gateway kann die Antworten mehrerer Dienste aggregieren und die aggregierte Antwort zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="3aed7-127">The API gateway might aggregate the responses from several services and return the aggregated response.</span></span> 

<span data-ttu-id="3aed7-128">Ein API-Gateway bietet u.a. folgende Vorteile:</span><span class="sxs-lookup"><span data-stu-id="3aed7-128">The advantages of using an API gateway include:</span></span>

- <span data-ttu-id="3aed7-129">Es entkoppelt die Clients von den Diensten.</span><span class="sxs-lookup"><span data-stu-id="3aed7-129">It decouples clients from services.</span></span> <span data-ttu-id="3aed7-130">Für Dienste kann eine Versionierung oder Umgestaltung durchgeführt werden, ohne dass sämtliche Clients aktualisiert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-130">Services can be versioned or refactored without needing to update all of the clients.</span></span>

-  <span data-ttu-id="3aed7-131">Dienste können nicht webfähige Messagingprotokolle verwenden, z.B. AMQP.</span><span class="sxs-lookup"><span data-stu-id="3aed7-131">Services can use messaging protocols that are not web friendly, such as AMQP.</span></span>

- <span data-ttu-id="3aed7-132">Das API-Gateway kann weitere übergreifende Funktionen ausführen, beispielsweise Authentifizierung, Protokollierung, SSL-Terminierung und Lastenausgleich.</span><span class="sxs-lookup"><span data-stu-id="3aed7-132">The API Gateway can perform other cross-cutting functions such as authentication, logging, SSL termination, and load balancing.</span></span>

## <a name="when-to-use-this-architecture"></a><span data-ttu-id="3aed7-133">Einsatzmöglichkeiten für diese Architektur</span><span class="sxs-lookup"><span data-stu-id="3aed7-133">When to use this architecture</span></span>

<span data-ttu-id="3aed7-134">Ziehen Sie diese Art von Architektur in folgenden Fällen in Betracht:</span><span class="sxs-lookup"><span data-stu-id="3aed7-134">Consider this architecture style for:</span></span>

- <span data-ttu-id="3aed7-135">Große Anwendungen mit hoher Releaserate</span><span class="sxs-lookup"><span data-stu-id="3aed7-135">Large applications that require a high release velocity.</span></span>

- <span data-ttu-id="3aed7-136">Komplexe Anwendungen, die ein hohes Maß an Skalierbarkeit aufweisen müssen</span><span class="sxs-lookup"><span data-stu-id="3aed7-136">Complex applications that need to be highly scalable.</span></span>

- <span data-ttu-id="3aed7-137">Anwendungen mit umfangreichen Domänen oder einer Vielzahl von Unterdomänen</span><span class="sxs-lookup"><span data-stu-id="3aed7-137">Applications with rich domains or many subdomains.</span></span>

- <span data-ttu-id="3aed7-138">Eine Organisation, die aus vielen kleinen Entwicklungsteams besteht</span><span class="sxs-lookup"><span data-stu-id="3aed7-138">An organization that consists of small development teams.</span></span>


## <a name="benefits"></a><span data-ttu-id="3aed7-139">Vorteile</span><span class="sxs-lookup"><span data-stu-id="3aed7-139">Benefits</span></span> 

- <span data-ttu-id="3aed7-140">**Unabhängige Bereitstellungen**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-140">**Independent deployments**.</span></span> <span data-ttu-id="3aed7-141">Sie können einen Dienst aktualisieren, ohne die gesamte Anwendung erneut bereitstellen zu müssen, und einen Rollback oder Rollforward für ein Update ausführen, falls ein Problem auftritt.</span><span class="sxs-lookup"><span data-stu-id="3aed7-141">You can update a service without redeploying the entire application, and roll back or roll forward an update if something goes wrong.</span></span> <span data-ttu-id="3aed7-142">Fehlerbehebungen und Featurereleases lassen sich besser verwalten und bergen weniger Risiken.</span><span class="sxs-lookup"><span data-stu-id="3aed7-142">Bug fixes and feature releases are more manageable and less risky.</span></span>

- <span data-ttu-id="3aed7-143">**Unabhängige Entwicklung**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-143">**Independent development**.</span></span> <span data-ttu-id="3aed7-144">Ein einziges Entwicklungsteam kann einen Dienst erstellen, testen und bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-144">A single development team can build, test, and deploy a service.</span></span> <span data-ttu-id="3aed7-145">Dies fördert kontinuierliche Innovationen und einen schnelleren Releaserhythmus.</span><span class="sxs-lookup"><span data-stu-id="3aed7-145">The result is continuous innovation and a faster release cadence.</span></span> 

- <span data-ttu-id="3aed7-146">**Kleine, fokussierte Teams**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-146">**Small, focused teams**.</span></span> <span data-ttu-id="3aed7-147">Teams können sich auf einen Dienst konzentrieren.</span><span class="sxs-lookup"><span data-stu-id="3aed7-147">Teams can focus on one service.</span></span> <span data-ttu-id="3aed7-148">Dank des geringeren Umfangs der einzelnen Services ist die Codebasis einfacher zu verstehen, und neue Teammitglieder können schneller eingearbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="3aed7-148">The smaller scope of each service makes the code base easier to understand, and it's easier for new team members to ramp up.</span></span>

- <span data-ttu-id="3aed7-149">**Fehlerisolation**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-149">**Fault isolation**.</span></span> <span data-ttu-id="3aed7-150">Wenn ein Dienst ausfällt, ist nicht gleich die gesamte Anwendung betroffen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-150">If a service goes down, it won't take out the entire application.</span></span> <span data-ttu-id="3aed7-151">Das bedeutet aber nicht, dass Sie kostenlos Resilienz erhalten.</span><span class="sxs-lookup"><span data-stu-id="3aed7-151">However, that doesn't mean you get resiliency for free.</span></span> <span data-ttu-id="3aed7-152">Sie müssen weiterhin bewährte Methoden und Entwurfsmuster für die Resilienz befolgen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-152">You still need to follow resiliency best practices and design patterns.</span></span> <span data-ttu-id="3aed7-153">Weitere Informationen finden Sie unter [Entwerfen robuster Anwendungen für Azure][resiliency-overview].</span><span class="sxs-lookup"><span data-stu-id="3aed7-153">See [Designing resilient applications for Azure][resiliency-overview].</span></span>

- <span data-ttu-id="3aed7-154">**Verschiedene Technologiestapel**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-154">**Mixed technology stacks**.</span></span> <span data-ttu-id="3aed7-155">Teams können die Technologie auswählen, die sich für ihren Dienst am besten eignet.</span><span class="sxs-lookup"><span data-stu-id="3aed7-155">Teams can pick the technology that best fits their service.</span></span> 

- <span data-ttu-id="3aed7-156">**Genau abgestimmte Skalierung**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-156">**Granular scaling**.</span></span> <span data-ttu-id="3aed7-157">Die Dienste können unabhängig voneinander skaliert werden.</span><span class="sxs-lookup"><span data-stu-id="3aed7-157">Services can be scaled independently.</span></span> <span data-ttu-id="3aed7-158">Gleichzeitig bedeutet die höhere Dienstdichte pro virtuellem Computer, dass die Ressourcen der virtuellen Computer vollständig genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="3aed7-158">At the same time, the higher density of services per VM means that VM resources are fully utilized.</span></span> <span data-ttu-id="3aed7-159">Mithilfe von Platzierungseinschränkungen kann ein Dienst auf das Profil eines virtuellen Computers abgestimmt werden (hohe CPU-Leistung, viel Arbeitsspeicher usw.).</span><span class="sxs-lookup"><span data-stu-id="3aed7-159">Using placement constraints, a services can be matched to a VM profile (high CPU, high memory, and so on).</span></span>

## <a name="challenges"></a><span data-ttu-id="3aed7-160">Herausforderungen</span><span class="sxs-lookup"><span data-stu-id="3aed7-160">Challenges</span></span>

- <span data-ttu-id="3aed7-161">**Komplexität**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-161">**Complexity**.</span></span> <span data-ttu-id="3aed7-162">Eine Microserviceanwendung verfügt über mehr bewegliche Teile als die entsprechende monolithische Anwendung.</span><span class="sxs-lookup"><span data-stu-id="3aed7-162">A microservices application has more moving parts than the equivalent monolithic application.</span></span> <span data-ttu-id="3aed7-163">Jeder Dienst für sich genommen ist einfacher, aber das System als Ganzes ist komplexer.</span><span class="sxs-lookup"><span data-stu-id="3aed7-163">Each service is simpler, but the entire system as a whole is more complex.</span></span>

- <span data-ttu-id="3aed7-164">**Entwicklung und Test**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-164">**Development and test**.</span></span> <span data-ttu-id="3aed7-165">Das Entwickeln im Hinblick auf Dienstabhängigkeiten erfordert eine andere Herangehensweise.</span><span class="sxs-lookup"><span data-stu-id="3aed7-165">Developing against service dependencies requires a different approach.</span></span> <span data-ttu-id="3aed7-166">Vorhandene Tools sind nicht unbedingt auf die Arbeit mit Dienstabhängigkeiten ausgelegt.</span><span class="sxs-lookup"><span data-stu-id="3aed7-166">Existing tools are not necessarily designed to work with service dependencies.</span></span> <span data-ttu-id="3aed7-167">Eine Umgestaltung über Dienstgrenzen hinweg kann schwierig sein.</span><span class="sxs-lookup"><span data-stu-id="3aed7-167">Refactoring across service boundaries can be difficult.</span></span> <span data-ttu-id="3aed7-168">Das Testen von Dienstabhängigkeiten kann ebenfalls eine Herausforderung darstellen, insbesondere dann, wenn sich die Anwendung schnell weiterentwickelt.</span><span class="sxs-lookup"><span data-stu-id="3aed7-168">It is also challenging to test service dependencies, especially when the application is evolving quickly.</span></span>

- <span data-ttu-id="3aed7-169">**Unzureichende Governance**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-169">**Lack of governance**.</span></span> <span data-ttu-id="3aed7-170">Der dezentralisierte Ansatz für die Erstellung von Microservices bietet einige Vorteile, kann jedoch auch zu Problemen führen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-170">The decentralized approach to building microservices has advantages, but it can also lead to problems.</span></span> <span data-ttu-id="3aed7-171">Es kann passieren, dass so viele verschiedene Sprachen und Frameworks verwendet werden, dass die Verwaltung der Anwendung schwierig wird.</span><span class="sxs-lookup"><span data-stu-id="3aed7-171">You may end up with so many different languages and frameworks that the application becomes hard to maintain.</span></span> <span data-ttu-id="3aed7-172">Es empfiehlt sich möglicherweise, einige für das gesamte Projekt gültige Standards zu etablieren, ohne die Flexibilität der Teams zu sehr einzuschränken.</span><span class="sxs-lookup"><span data-stu-id="3aed7-172">It may be useful to put some project-wide standards in place, without overly restricting teams' flexibility.</span></span> <span data-ttu-id="3aed7-173">Dies gilt insbesondere für übergreifende Funktionen wie die Protokollierung.</span><span class="sxs-lookup"><span data-stu-id="3aed7-173">This especially applies to cross-cutting functionality such as logging.</span></span>

- <span data-ttu-id="3aed7-174">**Netzwerkkonflikte und -latenz**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-174">**Network congestion and latency**.</span></span> <span data-ttu-id="3aed7-175">Die Verwendung vieler kleiner, genau abgestimmter Dienste kann zu einer vermehrten Kommunikation zwischen den Diensten führen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-175">The use of many small, granular services can result in more interservice communication.</span></span> <span data-ttu-id="3aed7-176">Wenn die Kette der Dienstabhängigkeiten zu lang wird (Dienst A ruft B auf, der wiederum C aufruft...), kann die zusätzliche Latenz zu einem Problem werden.</span><span class="sxs-lookup"><span data-stu-id="3aed7-176">Also, if the chain of service dependencies gets too long (service A calls B, which calls C...), the additional latency can become a problem.</span></span> <span data-ttu-id="3aed7-177">Beim Entwurf der APIs sollten Sie größte Umsicht walten lassen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-177">You will need to design APIs carefully.</span></span> <span data-ttu-id="3aed7-178">Vermeiden Sie überladene APIs, denken Sie über Serialisierungsformate nach, und suchen Sie nach Stellen, an denen Sie asynchrone Kommunikationsmuster verwenden können.</span><span class="sxs-lookup"><span data-stu-id="3aed7-178">Avoid overly chatty APIs, think about serialization formats, and look for places to use asynchronous communication patterns.</span></span>

- <span data-ttu-id="3aed7-179">**Datenintegrität**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-179">**Data integrity**.</span></span> <span data-ttu-id="3aed7-180">Jeder Microservice ist für die eigene Datenpersistenz zuständig.</span><span class="sxs-lookup"><span data-stu-id="3aed7-180">With each microservice responsible for its own data persistence.</span></span> <span data-ttu-id="3aed7-181">Dadurch kann die Sicherstellung der Datenkonsistenz zu einer Herausforderung werden.</span><span class="sxs-lookup"><span data-stu-id="3aed7-181">As a result, data consistency can be a challenge.</span></span> <span data-ttu-id="3aed7-182">Implementieren Sie die letztliche Konsistenz, wo immer möglich.</span><span class="sxs-lookup"><span data-stu-id="3aed7-182">Embrace eventual consistency where possible.</span></span>

- <span data-ttu-id="3aed7-183">**Verwaltung**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-183">**Management**.</span></span> <span data-ttu-id="3aed7-184">Für den erfolgreichen Einsatz von Microservices ist eine ausgereifte DevOps-Kultur erforderlich.</span><span class="sxs-lookup"><span data-stu-id="3aed7-184">To be successful with microservices requires a mature DevOps culture.</span></span> <span data-ttu-id="3aed7-185">Die korrelierte Protokollierung über Dienste hinweg kann eine Herausforderung sein.</span><span class="sxs-lookup"><span data-stu-id="3aed7-185">Correlated logging across services can be challenging.</span></span> <span data-ttu-id="3aed7-186">In der Regel muss die Protokollierung mehrere Dienstaufrufe für einen einzigen Benutzervorgang korrelieren.</span><span class="sxs-lookup"><span data-stu-id="3aed7-186">Typically, logging must correlate multiple service calls for a single user operation.</span></span>

- <span data-ttu-id="3aed7-187">**Versionsverwaltung**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-187">**Versioning**.</span></span> <span data-ttu-id="3aed7-188">Dienstupdates dürfen nicht zu Unterbrechungen bei abhängigen Diensten führen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-188">Updates to a service must not break services that depend on it.</span></span> <span data-ttu-id="3aed7-189">Dienste können jederzeit aktualisiert werden, daher könnten ohne sorgfältigen Entwurf Probleme mit der Abwärts- oder Aufwärtskompatibilität entstehen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-189">Multiple services could be updated at any given time, so without careful design, you might have problems with backward or forward compatibility.</span></span>

- <span data-ttu-id="3aed7-190">**Kompetenz**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-190">**Skillset**.</span></span> <span data-ttu-id="3aed7-191">Microservices sind Systeme mit einem hohen Maß an Verteilung.</span><span class="sxs-lookup"><span data-stu-id="3aed7-191">Microservices are highly distributed systems.</span></span> <span data-ttu-id="3aed7-192">Beurteilen Sie sehr genau, ob das Team über die notwendige Kompetenz und Erfahrung verfügt, erfolgreiche Arbeit zu leisten.</span><span class="sxs-lookup"><span data-stu-id="3aed7-192">Carefully evaluate whether the team has the skills and experience to be successful.</span></span>

## <a name="best-practices"></a><span data-ttu-id="3aed7-193">Bewährte Methoden</span><span class="sxs-lookup"><span data-stu-id="3aed7-193">Best practices</span></span>

- <span data-ttu-id="3aed7-194">Modellieren Sie Dienste rund um die geschäftliche Domäne.</span><span class="sxs-lookup"><span data-stu-id="3aed7-194">Model services around the business domain.</span></span> 

- <span data-ttu-id="3aed7-195">Dezentralisieren Sie alles.</span><span class="sxs-lookup"><span data-stu-id="3aed7-195">Decentralize everything.</span></span> <span data-ttu-id="3aed7-196">Einzelne Teams sind für den Entwurf und die Erstellung von Diensten verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="3aed7-196">Individual teams are responsible for designing and building services.</span></span> <span data-ttu-id="3aed7-197">Vermeiden Sie die gemeinsame Nutzung von Code oder Datenschemas.</span><span class="sxs-lookup"><span data-stu-id="3aed7-197">Avoid sharing code or data schemas.</span></span> 

- <span data-ttu-id="3aed7-198">Die Datenspeicherung sollte ausschließlich in dem Dienst erfolgen, der die Daten besitzt.</span><span class="sxs-lookup"><span data-stu-id="3aed7-198">Data storage should be private to the service that owns the data.</span></span> <span data-ttu-id="3aed7-199">Verwenden Sie den optimalen Speicher für jeden Dienst- und Datentyp.</span><span class="sxs-lookup"><span data-stu-id="3aed7-199">Use the best storage for each service and data type.</span></span> 

- <span data-ttu-id="3aed7-200">Dienste kommunizieren über sorgfältig entworfene APIs.</span><span class="sxs-lookup"><span data-stu-id="3aed7-200">Services communicate through well-designed APIs.</span></span> <span data-ttu-id="3aed7-201">Vermeiden Sie die Weitergabe von Implementierungsdetails.</span><span class="sxs-lookup"><span data-stu-id="3aed7-201">Avoid leaking implementation details.</span></span> <span data-ttu-id="3aed7-202">APIs sollten die Domäne modellieren, nicht die interne Implementierung des Diensts.</span><span class="sxs-lookup"><span data-stu-id="3aed7-202">APIs should model the domain, not the internal implementation of the service.</span></span>

- <span data-ttu-id="3aed7-203">Vermeiden Sie eine Kopplung zwischen Diensten.</span><span class="sxs-lookup"><span data-stu-id="3aed7-203">Avoid coupling between services.</span></span> <span data-ttu-id="3aed7-204">Kopplung kann durch gemeinsam genutzte Datenbankschemas oder starre Kommunikationsprotokolle entstehen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-204">Causes of coupling include shared database schemas and rigid communication protocols.</span></span>

- <span data-ttu-id="3aed7-205">Lagern Sie übergreifende Funktionen wie Authentifizierung und SSL-Terminierung an das Gateway aus.</span><span class="sxs-lookup"><span data-stu-id="3aed7-205">Offload cross-cutting concerns, such as authentication and SSL termination, to the gateway.</span></span>

- <span data-ttu-id="3aed7-206">Informationen über die Domäne haben im Gateway nichts zu suchen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-206">Keep domain knowledge out of the gateway.</span></span> <span data-ttu-id="3aed7-207">Das Gateway sollte Clientanforderungen ohne Kenntnis der Geschäftsregeln oder Domänenlogik verarbeiten und weiterleiten.</span><span class="sxs-lookup"><span data-stu-id="3aed7-207">The gateway should handle and route client requests without any knowledge of the business rules or domain logic.</span></span> <span data-ttu-id="3aed7-208">Andernfalls wird das Gateway zu einer Abhängigkeit und kann zu Kopplung zwischen den Diensten führen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-208">Otherwise, the gateway becomes a dependency and can cause coupling between services.</span></span>

- <span data-ttu-id="3aed7-209">Dienste sollten eine lose Kopplung und eine hohe funktionale Kohäsion aufweisen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-209">Services should have loose coupling and high functional cohesion.</span></span> <span data-ttu-id="3aed7-210">Funktionen, die wahrscheinlich zusammen geändert werden, sollten auch zusammen gepackt und bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="3aed7-210">Functions that are likely to change together should be packaged and deployed together.</span></span> <span data-ttu-id="3aed7-211">Wenn sie sich in verschiedenen Diensten befinden, sind diese Dienste letztlich eng gekoppelt, da eine Änderung in einem Dienst ein Update des anderen Diensts erfordert.</span><span class="sxs-lookup"><span data-stu-id="3aed7-211">If they reside in separate services, those services end up being tightly coupled, because a change in one service will require updating the other service.</span></span> <span data-ttu-id="3aed7-212">Eine übermäßige Kommunikation zwischen zwei Diensten kann ein Symptom für enge Kopplung und geringe Kohäsion sein.</span><span class="sxs-lookup"><span data-stu-id="3aed7-212">Overly chatty communication between two services may be a symptom of tight coupling and low cohesion.</span></span> 

- <span data-ttu-id="3aed7-213">Isolieren Sie Fehler.</span><span class="sxs-lookup"><span data-stu-id="3aed7-213">Isolate failures.</span></span> <span data-ttu-id="3aed7-214">Nutzen Sie Resilienzstrategien, um zu verhindern, dass Fehler in einem Dienst kaskadieren.</span><span class="sxs-lookup"><span data-stu-id="3aed7-214">Use resiliency strategies to prevent failures within a service from cascading.</span></span> <span data-ttu-id="3aed7-215">Weitere Informationen finden Sie unter [Resilienzmuster][resiliency-patterns] und [Entwerfen resilienter Anwendungen][resiliency-overview].</span><span class="sxs-lookup"><span data-stu-id="3aed7-215">See [Resiliency patterns][resiliency-patterns] and [Designing resilient applications][resiliency-overview].</span></span>

## <a name="microservices-using-azure-container-service"></a><span data-ttu-id="3aed7-216">Microservices unter Verwendung von Azure Container Service</span><span class="sxs-lookup"><span data-stu-id="3aed7-216">Microservices using Azure Container Service</span></span> 

<span data-ttu-id="3aed7-217">Sie können Azure Container Service verwenden, um einen Docker-Cluster zu konfigurieren und bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-217">You can use Azure Container Service to configure and provision a Docker cluster.</span></span> <span data-ttu-id="3aed7-218">Azure Container Service unterstützt verschiedene beliebte Containerorchestratoren wie Kubernetes, DC/OS und Docker Swarm.</span><span class="sxs-lookup"><span data-stu-id="3aed7-218">Azure Container Services supports several popular container orchestrators, including Kubernetes, DC/OS, and Docker Swarm.</span></span>

![](./images/microservices-acs.png)
 
<span data-ttu-id="3aed7-219">**Öffentliche Knoten**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-219">**Public nodes**.</span></span> <span data-ttu-id="3aed7-220">Diese Knoten sind über einen öffentlichen Lastenausgleich erreichbar.</span><span class="sxs-lookup"><span data-stu-id="3aed7-220">These nodes are reachable through a public-facing load balancer.</span></span> <span data-ttu-id="3aed7-221">Das API-Gateway wird auf diesen Knoten gehostet.</span><span class="sxs-lookup"><span data-stu-id="3aed7-221">The API gateway is hosted on these nodes.</span></span>

<span data-ttu-id="3aed7-222">**Back-End-Knoten**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-222">**Backend nodes**.</span></span> <span data-ttu-id="3aed7-223">Diese Knoten führen Dienste aus, die Clients über das API-Gateway erreichen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-223">These nodes run services that clients reach via the API gateway.</span></span> <span data-ttu-id="3aed7-224">Diese Knoten empfangen keinen direkten Datenverkehr aus dem Internet.</span><span class="sxs-lookup"><span data-stu-id="3aed7-224">These nodes don't receive Internet traffic directly.</span></span> <span data-ttu-id="3aed7-225">Die Back-End-Knoten umfassen möglicherweise mehr als einen Pool aus virtuellen Computern, von denen jeder über ein anderes Hardwareprofil verfügt.</span><span class="sxs-lookup"><span data-stu-id="3aed7-225">The backend nodes might include more than one pool of VMs, each with a different hardware profile.</span></span> <span data-ttu-id="3aed7-226">Sie können z.B. separate Pools für allgemeine Computeworkloads, hohe CPU-Workloads und hohe Arbeitsspeicherworkloads erstellen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-226">For example, you could create separate pools for general compute workloads, high CPU workloads, and high memory workloads.</span></span> 

<span data-ttu-id="3aed7-227">**Virtuelle Verwaltungscomputer**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-227">**Management VMs**.</span></span> <span data-ttu-id="3aed7-228">Diese virtuellen Computer führen die Masterknoten für den Containerorchestrator aus.</span><span class="sxs-lookup"><span data-stu-id="3aed7-228">These VMs run the master nodes for the container orchestrator.</span></span> 

<span data-ttu-id="3aed7-229">**Netzwerk**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-229">**Networking**.</span></span> <span data-ttu-id="3aed7-230">Die öffentlichen Knoten, die Back-End-Knoten und die virtuellen Verwaltungscomputer befinden sich in verschiedenen Subnetzen im gleichen virtuellen Netzwerk (VNet).</span><span class="sxs-lookup"><span data-stu-id="3aed7-230">The public nodes, backend nodes, and management VMs are placed in separate subnets within the same virtual network (VNet).</span></span> 

<span data-ttu-id="3aed7-231">**Lastenausgleichsmodule**.</span><span class="sxs-lookup"><span data-stu-id="3aed7-231">**Load balancers**.</span></span>  <span data-ttu-id="3aed7-232">Vor den öffentlichen Knoten befindet sich ein externes Lastenausgleichsmodul.</span><span class="sxs-lookup"><span data-stu-id="3aed7-232">An externally facing load balancer sits in front of the public nodes.</span></span> <span data-ttu-id="3aed7-233">Dieses Modul verteilt Internetanforderungen auf die öffentlichen Knoten.</span><span class="sxs-lookup"><span data-stu-id="3aed7-233">It distributes internet requests to the public nodes.</span></span> <span data-ttu-id="3aed7-234">Vor den virtuellen Verwaltungscomputern befindet sich ein weiteres Lastenausgleichsmodul, das mithilfe von NAT-Regeln SSH-Datenverkehr (Secure Shell) an die virtuellen Verwaltungscomputer weiterleitet.</span><span class="sxs-lookup"><span data-stu-id="3aed7-234">Another load balancer is placed in front of the management VMs, to allow secure shell (ssh) traffic to the management VMs, using NAT rules.</span></span>

<span data-ttu-id="3aed7-235">Um Verfügbarkeit und Skalierbarkeit sicherzustellen, wird jeder Dienst auf mehrere virtuelle Computer repliziert.</span><span class="sxs-lookup"><span data-stu-id="3aed7-235">For reliability and scalability, each service is replicated across multiple VMs.</span></span> <span data-ttu-id="3aed7-236">Da die Dienste zudem relativ schlank sind (im Vergleich mit einer monolithischen Anwendung), werden üblicherweise mehrere Dienste in einen einzigen virtuellen Computer gepackt.</span><span class="sxs-lookup"><span data-stu-id="3aed7-236">However, because services are also relatively lightweight (compared with a monolithic application), multiple services are usually packed into a single VM.</span></span> <span data-ttu-id="3aed7-237">Eine höhere Dichte ermöglicht eine bessere Ressourcennutzung.</span><span class="sxs-lookup"><span data-stu-id="3aed7-237">Higher density allows better resource utilization.</span></span> <span data-ttu-id="3aed7-238">Wenn ein bestimmter Dienst nur wenige Ressourcen benötigt, müssen Sie nicht einen vollständigen virtuellen Computer nur für die Ausführung dieses Diensts einrichten.</span><span class="sxs-lookup"><span data-stu-id="3aed7-238">If a particular service doesn't use a lot of resources, you don't need to dedicate an entire VM to running that service.</span></span>

<span data-ttu-id="3aed7-239">Das folgende Diagramm zeigt drei Knoten, die vier verschiedene Dienste ausführen (zu erkennen an den unterschiedlichen Formen).</span><span class="sxs-lookup"><span data-stu-id="3aed7-239">The following diagram shows three nodes running four different services (indicated by different shapes).</span></span> <span data-ttu-id="3aed7-240">Beachten Sie, dass jeder Dienst über mindestens zwei Instanzen verfügt.</span><span class="sxs-lookup"><span data-stu-id="3aed7-240">Notice that each service has at least two instances.</span></span> 
 
![](./images/microservices-node-density.png)

## <a name="microservices-using-azure-service-fabric"></a><span data-ttu-id="3aed7-241">Microservices unter Verwendung von Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="3aed7-241">Microservices using Azure Service Fabric</span></span>

<span data-ttu-id="3aed7-242">Das folgende Diagramm zeigt eine Microservicearchitektur, die Azure Service Fabric verwendet.</span><span class="sxs-lookup"><span data-stu-id="3aed7-242">The following diagram shows a microservices architecture using Azure Service Fabric.</span></span>

![](./images/service-fabric.png)

<span data-ttu-id="3aed7-243">Der Service Fabric-Cluster wurde in mindestens einer VM-Skalierungsgruppe bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="3aed7-243">The Service Fabric Cluster is deployed to one or more VM scale sets.</span></span> <span data-ttu-id="3aed7-244">Sie können mehrere VM-Skalierungsgruppen im Cluster einrichten, um eine Kombination aus verschiedenen Arten virtueller Computer zu nutzen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-244">You might have more than one VM scale set in the cluster, in order to have a mix of VM types.</span></span> <span data-ttu-id="3aed7-245">Ein API-Gateway wird vor dem Service Fabric-Cluster platziert, und ein externer Lastenausgleich empfängt Clientanforderungen.</span><span class="sxs-lookup"><span data-stu-id="3aed7-245">An API Gateway is placed in front of the Service Fabric cluster, with an external load balancer to receive client requests.</span></span>

<span data-ttu-id="3aed7-246">Die Service Fabric-Runtime führt Clusterverwaltungsfunktionen aus, einschließlich Dienstplatzierung, Knotenfailover und Integritätsüberwachung.</span><span class="sxs-lookup"><span data-stu-id="3aed7-246">The Service Fabric runtime performs cluster management, including service placement, node failover, and health monitoring.</span></span> <span data-ttu-id="3aed7-247">Die Runtime wurde auf den Knoten selbst bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="3aed7-247">The runtime is deployed on the cluster nodes themselves.</span></span> <span data-ttu-id="3aed7-248">Es gibt keinen separaten Satz virtueller Computer für die Clusterverwaltung.</span><span class="sxs-lookup"><span data-stu-id="3aed7-248">There isn't a separate set of cluster management VMs.</span></span>

<span data-ttu-id="3aed7-249">Dienste kommunizieren über den in Service Fabric integrierten Reverseproxy miteinander.</span><span class="sxs-lookup"><span data-stu-id="3aed7-249">Services communicate with each other using the reverse proxy that is built into Service Fabric.</span></span> <span data-ttu-id="3aed7-250">Service Fabric stellt einen Ermittlungsdienst bereit, der den Endpunkt für einen benannten Dienst auflösen kann.</span><span class="sxs-lookup"><span data-stu-id="3aed7-250">Service Fabric provides a discovery service that can resolve the endpoint for a named service.</span></span>


<!-- links -->

[resiliency-overview]: ../../resiliency/index.md
[resiliency-patterns]: ../../patterns/category/resiliency.md



