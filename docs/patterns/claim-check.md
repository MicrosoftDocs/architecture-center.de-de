---
title: Muster für die Anspruchsprüfung
titleSuffix: Cloud Design Patterns
description: Teilen Sie eine große Nachricht in eine Anspruchsprüfung und eine Nutzlast auf, um die Überlastung eines Nachrichtenbusses zu vermeiden.
keywords: Entwurfsmuster
author: yorek
ms.date: 03/05/2019
ms.topic: design-pattern
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.openlocfilehash: 88457983df4ea3fd4ed8d0c447de6302422339f8
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 03/20/2019
ms.locfileid: "58248865"
---
# <a name="claim-check-pattern"></a><span data-ttu-id="ece7b-104">Muster für die Anspruchsprüfung</span><span class="sxs-lookup"><span data-stu-id="ece7b-104">Claim-Check Pattern</span></span>

<span data-ttu-id="ece7b-105">Teilen Sie eine große Nachricht in eine Anspruchsprüfung und eine Nutzlast auf.</span><span class="sxs-lookup"><span data-stu-id="ece7b-105">Split a large message into a claim check and a payload.</span></span> <span data-ttu-id="ece7b-106">Senden Sie die Anspruchsprüfung an die Messagingplattform, und speichern Sie die Nutzlast in einem externen Dienst.</span><span class="sxs-lookup"><span data-stu-id="ece7b-106">Send the claim check to the messaging platform and store the payload to an external service.</span></span> <span data-ttu-id="ece7b-107">Dieses Muster ermöglicht die Verarbeitung großer Nachrichten, während der Nachrichtenbus und der Client vor Überlastung oder Verlangsamung geschützt werden.</span><span class="sxs-lookup"><span data-stu-id="ece7b-107">This pattern allows large messages to be processed, while protecting the message bus and the client from being overwhelmed or slowed down.</span></span> <span data-ttu-id="ece7b-108">Dieses Muster trägt auch zur Kostensenkung bei, da Speicher in der Regel günstiger ist als die von der Messagingplattform verwendeten Ressourceneinheiten.</span><span class="sxs-lookup"><span data-stu-id="ece7b-108">This pattern also helps to reduce costs, as storage is usually cheaper than resource units used by the messaging platform.</span></span>

<span data-ttu-id="ece7b-109">Dieses Muster ist auch als verweisbasiertes Messaging bekannt und wurde erstmals im Buch *Enterprise Integration Patterns* von Gregor Hohpe und Roland Woolf [beschrieben][enterprise-integration-patterns].</span><span class="sxs-lookup"><span data-stu-id="ece7b-109">This pattern is also known as Reference-Based Messaging, and was originally [described][enterprise-integration-patterns] in the book *Enterprise Integration Patterns*, by Gregor Hohpe and Bobby Woolf.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="ece7b-110">Kontext und Problem</span><span class="sxs-lookup"><span data-stu-id="ece7b-110">Context and problem</span></span>

<span data-ttu-id="ece7b-111">Eine auf Messaging basierende Architektur muss zu gegebener Zeit in der Lage sein, große Nachrichten zu senden, zu empfangen und zu bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="ece7b-111">A messaging-based architecture at some point must be able to send, receive, and manipulate large messages.</span></span> <span data-ttu-id="ece7b-112">Solche Nachrichten können alles Mögliche enthalten, wie z.B. Bilder (wie MRT-Aufnahmen), Audiodateien (wie Call-Center-Anrufe), Textdokumente oder jede Art binärer Daten beliebiger Größe.</span><span class="sxs-lookup"><span data-stu-id="ece7b-112">Such messages may contain anything, including images (for example, MRI scans), sound files (for example, call-center calls), text documents, or any kind of binary data of arbitrary size.</span></span>

<span data-ttu-id="ece7b-113">Das direkte Senden solch großer Nachrichten an den Nachrichtenbus wird nicht empfohlen, da für deren Nutzung mehr Ressourcen und Bandbreite benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="ece7b-113">Sending such large messages to the message bus directly is not recommended, because they require more resources and bandwidth to be consumed.</span></span> <span data-ttu-id="ece7b-114">Große Nachrichten können auch die gesamte Lösung verlangsamen, da Messagingplattformen in der Regel auf die Verarbeitung großer Mengen kleiner Nachrichten ausgelegt sind.</span><span class="sxs-lookup"><span data-stu-id="ece7b-114">Large messages can also slow down the entire solution, because messaging platforms are usually fine-tuned to handle huge quantities of small messages.</span></span> <span data-ttu-id="ece7b-115">Außerdem gelten bei den meisten Messagingplattformen Beschränkungen für die Nachrichtengröße, die Sie möglicherweise für große Nachrichten umgehen müssen.</span><span class="sxs-lookup"><span data-stu-id="ece7b-115">Also, most messaging platforms have limits on message size, so you may need to work around these limits for large messages.</span></span>

## <a name="solution"></a><span data-ttu-id="ece7b-116">Lösung</span><span class="sxs-lookup"><span data-stu-id="ece7b-116">Solution</span></span>

<span data-ttu-id="ece7b-117">Speichern Sie die gesamte Nachrichtennutzlast in einem externen Dienst, z.B. einer Datenbank.</span><span class="sxs-lookup"><span data-stu-id="ece7b-117">Store the entire message payload into an external service, such as a database.</span></span> <span data-ttu-id="ece7b-118">Rufen Sie den Verweis auf die gespeicherte Nutzlast ab, und senden Sie bloß diesen Verweis zum Nachrichtenbus.</span><span class="sxs-lookup"><span data-stu-id="ece7b-118">Get the reference to the stored payload, and send just that reference to the message bus.</span></span> <span data-ttu-id="ece7b-119">Der Verweis verhält sich wie eine Anspruchsprüfung bei Abholung eines Gepäckstücks, daher der Name des Musters.</span><span class="sxs-lookup"><span data-stu-id="ece7b-119">The reference acts like a claim check used to retrieve a piece of luggage, hence the name of the pattern.</span></span> <span data-ttu-id="ece7b-120">Clients, die an der Verarbeitung dieser spezifischen Nachricht interessiert sind, können den erhaltenen Verweis verwenden, um bei Bedarf die Nutzlast abzurufen.</span><span class="sxs-lookup"><span data-stu-id="ece7b-120">Clients interested in processing that specific message can use the obtained reference to retrieve the payload, if needed.</span></span>

![Diagramm des Musters für die Anspruchsprüfung](./_images/claim-check.jpg)

## <a name="issues-and-considerations"></a><span data-ttu-id="ece7b-122">Probleme und Überlegungen</span><span class="sxs-lookup"><span data-stu-id="ece7b-122">Issues and considerations</span></span>

<span data-ttu-id="ece7b-123">Beachten Sie die folgenden Punkte bei der Entscheidung, wie dieses Muster implementiert werden soll:</span><span class="sxs-lookup"><span data-stu-id="ece7b-123">Consider the following points when deciding how to implement this pattern:</span></span>

- <span data-ttu-id="ece7b-124">Erwägen Sie das Löschen der Nachrichtendaten nach der Verwendung, wenn Sie die Nachrichten nicht archivieren müssen.</span><span class="sxs-lookup"><span data-stu-id="ece7b-124">Consider deleting the message data after consuming it, if you don't need to archive the messages.</span></span> <span data-ttu-id="ece7b-125">Obwohl Blobspeicher relativ kostengünstig ist, verursacht er auf lange Sicht Kosten, vor allem bei vielen Daten.</span><span class="sxs-lookup"><span data-stu-id="ece7b-125">Although blob storage is relatively cheap, it costs some money in the long run, especially if there is a lot of data.</span></span> <span data-ttu-id="ece7b-126">Das Löschen der Nachricht kann synchron durch die Anwendung, die die Nachricht empfängt und verarbeitet, oder asynchron in einem gesonderten dedizierten Prozess erfolgen.</span><span class="sxs-lookup"><span data-stu-id="ece7b-126">Deleting the message can be done synchronously by the application that receives and processes the message, or asynchronously by a separate dedicated process.</span></span> <span data-ttu-id="ece7b-127">Beim asynchronen Ansatz werden alte Daten entfernt, ohne dass sich dies auf den Durchsatz und die Verarbeitungsleistung der empfangenden Anwendung auswirkt.</span><span class="sxs-lookup"><span data-stu-id="ece7b-127">The asynchronous approach removes old data with no impact on the throughput and message processing performance of the receiving application.</span></span>

- <span data-ttu-id="ece7b-128">Das Speichern und Abrufen der Nachricht verursacht zusätzlichen Aufwand und Wartezeiten.</span><span class="sxs-lookup"><span data-stu-id="ece7b-128">Storing and retrieving the message causes some additional overhead and latency.</span></span> <span data-ttu-id="ece7b-129">Möglicherweise möchten Sie in der sendenden Anwendung Logik implementieren, um dieses Muster nur dann zu nutzen, wenn die Nachrichtengröße den Datengrenzwert des Nachrichtenbusses überschreitet.</span><span class="sxs-lookup"><span data-stu-id="ece7b-129">You may want to implement logic in the sending application to use this pattern only when the message size exceeds the data limit of the message bus.</span></span> <span data-ttu-id="ece7b-130">Bei kleineren Nachrichten wird das Muster nicht berücksichtigt.</span><span class="sxs-lookup"><span data-stu-id="ece7b-130">The pattern would be skipped for smaller messages.</span></span> <span data-ttu-id="ece7b-131">Dieser Ansatz führt zu einem bedingungsabhängigen Muster der Anspruchsprüfung.</span><span class="sxs-lookup"><span data-stu-id="ece7b-131">This approach would result in a conditional claim-check pattern.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="ece7b-132">Verwendung dieses Musters</span><span class="sxs-lookup"><span data-stu-id="ece7b-132">When to use this pattern</span></span>

<span data-ttu-id="ece7b-133">Dieses Muster sollte verwendet werden, wenn eine Nachricht nicht an den unterstützten Nachrichtengrenzwert der gewählten Nachrichtenbustechnologie angepasst werden kann.</span><span class="sxs-lookup"><span data-stu-id="ece7b-133">This pattern should be used whenever a message cannot fit the supported message limit of the chosen message bus technology.</span></span> <span data-ttu-id="ece7b-134">Event Hubs weist beispielsweise derzeit (im Tarif „Basic“) einen Grenzwert von 256 KB auf, während Event Grid nur 64-KB-Nachrichten unterstützt.</span><span class="sxs-lookup"><span data-stu-id="ece7b-134">For example, Event Hubs currently has a limit of 256 KB (Basic Tier), while Event Grid supports only 64-KB messages.</span></span>

<span data-ttu-id="ece7b-135">Das Muster kann auch verwendet werden, wenn auf die Nutzlast nur von Diensten zugegriffen werden soll, die zur Ansicht berechtigt sind.</span><span class="sxs-lookup"><span data-stu-id="ece7b-135">The pattern can also be used if the payload should be accessed only by services that are authorized to see it.</span></span> <span data-ttu-id="ece7b-136">Durch das Auslagern der Nutzlast an eine externe Ressource können strengere Authentifizierungs- und Autorisierungsregeln eingeführt werden, um sicherzustellen, dass Sicherheit gewährleistet ist, wenn sensible Daten in der Nutzlast gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="ece7b-136">By offloading the payload to an external resource, stricter authentication and authorization rules can be put in place, to ensure that security is enforced when sensitive data is stored in the payload.</span></span>

## <a name="examples"></a><span data-ttu-id="ece7b-137">Beispiele</span><span class="sxs-lookup"><span data-stu-id="ece7b-137">Examples</span></span>

<span data-ttu-id="ece7b-138">In Azure kann dieses Muster auf verschiedene Weisen und mit unterschiedlichen Technologien implementiert werden, wobei es jedoch zwei Hauptkategorien gibt.</span><span class="sxs-lookup"><span data-stu-id="ece7b-138">On Azure, this pattern can be implemented in several ways and with different technologies, but there are two main categories.</span></span> <span data-ttu-id="ece7b-139">In beiden Fällen liegt es in der Verantwortung des Empfängers, die Anspruchsprüfung zu lesen und damit die Nutzlast abzurufen.</span><span class="sxs-lookup"><span data-stu-id="ece7b-139">In both cases, the receiver has the responsibility to read the claim check and use it to retrieve the payload.</span></span>

- <span data-ttu-id="ece7b-140">**Automatische Generierung der Anspruchsprüfung**.</span><span class="sxs-lookup"><span data-stu-id="ece7b-140">**Automatic claim-check generation**.</span></span> <span data-ttu-id="ece7b-141">Bei diesem Ansatz wird mit [Azure Event Grid](/azure/event-grid/) automatisch die Anspruchsprüfung generiert und per Push an den Nachrichtenbus übertragen.</span><span class="sxs-lookup"><span data-stu-id="ece7b-141">This approach uses [Azure Event Grid](/azure/event-grid/) to automatically generate the claim check and push it into the message bus.</span></span>

- <span data-ttu-id="ece7b-142">**Manuelle Generierung der Anspruchsprüfung**.</span><span class="sxs-lookup"><span data-stu-id="ece7b-142">**Manual claim-check generation**.</span></span> <span data-ttu-id="ece7b-143">Bei diesem Ansatz ist der Absender für die Verwaltung der Nutzlast zuständig.</span><span class="sxs-lookup"><span data-stu-id="ece7b-143">In this approach, the sender is responsible for managing the payload.</span></span> <span data-ttu-id="ece7b-144">Der Absender speichert die Nutzlast mithilfe des entsprechenden Diensts, erhält oder generiert die Anspruchsprüfung und sendet diese an den Nachrichtenbus.</span><span class="sxs-lookup"><span data-stu-id="ece7b-144">The sender stores the payload using the appropriate service, gets or generates the claim check, and sends the claim check to the message bus.</span></span>

<span data-ttu-id="ece7b-145">Event Grid ist ein Dienst für das Ereignisrouting und versucht, Ereignisse innerhalb einer konfigurierbaren Zeitspanne von bis zu 24 Stunden zu übermitteln.</span><span class="sxs-lookup"><span data-stu-id="ece7b-145">Event Grid is an event routing service and tries to deliver events within a configurable amount of time up to 24 hours.</span></span> <span data-ttu-id="ece7b-146">Danach werden die Ereignisse entweder verworfen oder als unzustellbar markiert.</span><span class="sxs-lookup"><span data-stu-id="ece7b-146">After that, events are either discarded or dead lettered.</span></span> <span data-ttu-id="ece7b-147">Wenn Sie die Ereignisnutzlasten archivieren oder den Ereignisstrom wiedergeben müssen, können Sie ein Event Grid-Abonnement für die Dienste Event Hubs oder Queue Storage hinzufügen, in denen Nachrichten über einen längeren Zeitraum aufbewahrt werden können und die Archivierung von Nachrichten unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="ece7b-147">If you need to archive the event payloads or replay the event stream, you can add an Event Grid subscription to Event Hubs or Queue Storage, where messages can be retained for longer periods and archiving messages is supported.</span></span> <span data-ttu-id="ece7b-148">Informationen zur Optimierung der Zustellung und deren Wiederholung von Event Grid-Nachrichten und der Konfiguration für unzustellbare Nachrichten finden Sie unter [Richtlinien für unzustellbare Nachrichten und Wiederholung](/azure/event-grid/manage-event-delivery).</span><span class="sxs-lookup"><span data-stu-id="ece7b-148">For information about fine tuning Event Grid message delivery and retry, and dead letter configuration, see  [Dead letter and retry policies](/azure/event-grid/manage-event-delivery).</span></span>

### <a name="automatic-claim-check-generation-with-blob-storage-and-event-grid"></a><span data-ttu-id="ece7b-149">Automatische Generierung der Anspruchsprüfung mit Blob Storage und Event Grid</span><span class="sxs-lookup"><span data-stu-id="ece7b-149">Automatic claim-check generation with Blob Storage and Event Grid</span></span>

<span data-ttu-id="ece7b-150">Bei diesem Ansatz legt der Absender die Nachrichtennutzlast in einen dafür vorgesehenen Azure Blob Storage-Container ab.</span><span class="sxs-lookup"><span data-stu-id="ece7b-150">In this approach, the sender drops the message payload into a designated Azure Blob Storage container.</span></span> <span data-ttu-id="ece7b-151">Event Grid generiert automatisch ein Tag bzw. einen Verweis und sendet ihn an einen unterstützten Nachrichtenbus, wie z.B. Azure Storage Queues.</span><span class="sxs-lookup"><span data-stu-id="ece7b-151">Event Grid automatically generates a tag/reference and sends it to a supported message bus, such as Azure Storage Queues.</span></span> <span data-ttu-id="ece7b-152">Der Empfänger kann die Warteschlange abfragen, die Nachricht abrufen und dann die gespeicherten Verweisdaten verwenden, um die Nutzlast direkt aus Blob Storage herunterzuladen.</span><span class="sxs-lookup"><span data-stu-id="ece7b-152">The receiver can poll the queue, get the message, and then use the stored reference data to download the payload directly from Blob Storage.</span></span>

<span data-ttu-id="ece7b-153">Dieselbe Event Grid-Nachricht kann direkt von [Azure Functions](/azure/azure-functions/) genutzt werden, ohne dass ein Nachrichtenbus durchlaufen werden muss.</span><span class="sxs-lookup"><span data-stu-id="ece7b-153">The same Event Grid message can be directly consumed by [Azure Functions](/azure/azure-functions/), without needing to go through a message bus.</span></span> <span data-ttu-id="ece7b-154">Dieser Ansatz nutzt voll aus, das Azure Event Grid und Azure Functions serverlos sind.</span><span class="sxs-lookup"><span data-stu-id="ece7b-154">This approach takes full advantage of the serverless nature of both Event Grid and Functions.</span></span>

<span data-ttu-id="ece7b-155">Beispielcode für diesen Ansatz finden Sie [hier][example-1].</span><span class="sxs-lookup"><span data-stu-id="ece7b-155">You can find example code for this approach [here][example-1].</span></span>

### <a name="event-grid-with-event-hubs"></a><span data-ttu-id="ece7b-156">Event Grid mit Event Hubs</span><span class="sxs-lookup"><span data-stu-id="ece7b-156">Event Grid with Event Hubs</span></span>

<span data-ttu-id="ece7b-157">Ähnlich wie im vorherigen Beispiel erzeugt Event Grid automatisch eine Nachricht, wenn eine Nutzlast in einen Azure Blob-Container geschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="ece7b-157">Similar to the previous example, Event Grid automatically generates a message when a payload is written to an Azure Blob container.</span></span> <span data-ttu-id="ece7b-158">Doch in diesem Beispiel wird der Nachrichtenbus mithilfe von Event Hubs implementiert.</span><span class="sxs-lookup"><span data-stu-id="ece7b-158">But in this example,  the message bus is implemented using Event Hubs.</span></span> <span data-ttu-id="ece7b-159">Ein Client kann sich so registrieren, dass er den Stream der Nachrichten empfängt, während sie in den Event Hub geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="ece7b-159">A client can register itself to receive the stream of messages as they are written to the event hub.</span></span> <span data-ttu-id="ece7b-160">Der Event Hub kann auch so konfiguriert werden, dass Nachrichten archiviert und als Avro-Datei bereitgestellt werden, die mit Tools wie Apache Spark, Apache Drill oder einer der verfügbaren Avro-Bibliotheken abgefragt werden kann.</span><span class="sxs-lookup"><span data-stu-id="ece7b-160">The event hub can also be configured to archive messages, making them available as an Avro file that can be queried using tools like Apache Spark, Apache Drill, or any of the available Avro libraries.</span></span>

<span data-ttu-id="ece7b-161">Beispielcode für diesen Ansatz finden Sie [hier][example-2].</span><span class="sxs-lookup"><span data-stu-id="ece7b-161">You can find example code for this approach [here][example-2].</span></span>

### <a name="claim-check-generation-with-service-bus"></a><span data-ttu-id="ece7b-162">Generierung der Anspruchsprüfung mit Service Bus</span><span class="sxs-lookup"><span data-stu-id="ece7b-162">Claim check generation with Service Bus</span></span>

<span data-ttu-id="ece7b-163">Diese Lösung nutzt die Vorteile des speziellen Service Bus-Plug-Ins [ServiceBus.AttachmentPlugin](https://www.nuget.org/packages/ServiceBus.AttachmentPlugin/), das die Implementierung des Workflows zur Anspruchsprüfung vereinfacht.</span><span class="sxs-lookup"><span data-stu-id="ece7b-163">This solution takes advantage of a specific Service Bus plugin, [ServiceBus.AttachmentPlugin](https://www.nuget.org/packages/ServiceBus.AttachmentPlugin/), which makes the claim-check workflow easy to implement.</span></span> <span data-ttu-id="ece7b-164">Das Plug-In wandelt jeden Nachrichtentext in eine Anlage um, die beim Senden der Nachricht in Azure Blob Storage gespeichert wird.</span><span class="sxs-lookup"><span data-stu-id="ece7b-164">The plugin converts any message body into an attachment that gets stored in Azure Blob Storage when the message is sent.</span></span>

```csharp
using ServiceBus.AttachmentPlugin;
...

// Getting connection information
var serviceBusConnectionString = Environment.GetEnvironmentVariable("SERVICE_BUS_CONNECTION_STRING");
var queueName = Environment.GetEnvironmentVariable("QUEUE_NAME");
var storageConnectionString = Environment.GetEnvironmentVariable("STORAGE_CONNECTION_STRING");

// Creating config for sending message
var config = new AzureStorageAttachmentConfiguration(storageConnectionString);

// Creating and registering the sender using Service Bus Connection String and Queue Name
var sender = new MessageSender(serviceBusConnectionString, queueName);
sender.RegisterAzureStorageAttachmentPlugin(config);

// Create payload
var payload = new { data = "random data string for testing" };
var serialized = JsonConvert.SerializeObject(payload);
var payloadAsBytes = Encoding.UTF8.GetBytes(serialized);
var message = new Message(payloadAsBytes);

// Send the message
await sender.SendAsync(message);
```

<span data-ttu-id="ece7b-165">Die Service Bus-Nachricht fungiert als Benachrichtigungswarteschlange, die ein Client abonnieren kann.</span><span class="sxs-lookup"><span data-stu-id="ece7b-165">The Service Bus message acts as a notification queue, which a client can subscribe to.</span></span> <span data-ttu-id="ece7b-166">Wenn der Consumer die Nachricht empfängt, ermöglicht das Plug-In das direkte Lesen der Nachrichtendaten aus Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="ece7b-166">When the consumer receives the message, the plugin makes it possible to directly read the message data from Blob Storage.</span></span> <span data-ttu-id="ece7b-167">Dann können Sie wählen, wie die Nachricht weiter verarbeitet werden soll.</span><span class="sxs-lookup"><span data-stu-id="ece7b-167">You can then choose how to process the message further.</span></span> <span data-ttu-id="ece7b-168">Ein Vorteil dieses Ansatzes ist, dass er den Workflow der Anspruchsprüfung vom Absender und Empfänger abstrahiert.</span><span class="sxs-lookup"><span data-stu-id="ece7b-168">An advantage of this approach is that it abstracts the claim-check workflow from the sender and receiver.</span></span>

<span data-ttu-id="ece7b-169">Beispielcode für diesen Ansatz finden Sie [hier][example-3].</span><span class="sxs-lookup"><span data-stu-id="ece7b-169">You can find example code for this approach [here][example-3].</span></span>

### <a name="manual-claim-check-generation-with-kafka"></a><span data-ttu-id="ece7b-170">Manuelle Generierung der Anspruchsprüfung mit Kafka</span><span class="sxs-lookup"><span data-stu-id="ece7b-170">Manual claim-check generation with Kafka</span></span>

<span data-ttu-id="ece7b-171">In diesem Beispiel schreibt ein Kafka-Client die Nutzlast in Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="ece7b-171">In this example, a Kafka client writes the payload to Azure Blob Storage.</span></span> <span data-ttu-id="ece7b-172">Anschließend sendet er eine Benachrichtigung mithilfe [Kafka-fähiger Event Hubs](/azure/event-hubs/event-hubs-quickstart-kafka-enabled-event-hubs).</span><span class="sxs-lookup"><span data-stu-id="ece7b-172">Then it sends a notification message using [Kakfa-enabled Event Hubs](/azure/event-hubs/event-hubs-quickstart-kafka-enabled-event-hubs).</span></span> <span data-ttu-id="ece7b-173">Der Consumer empfängt die Nachricht und kann in Blob Storage auf die Nutzlast zugreifen.</span><span class="sxs-lookup"><span data-stu-id="ece7b-173">The consumer receives the message and can access the payload from Blob Storage.</span></span> <span data-ttu-id="ece7b-174">Dieses Beispiel zeigt, wie ein anderes Messagingprotokoll verwendet werden kann, um das Muster der Anspruchsprüfung in Azure zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="ece7b-174">This example shows how a different messaging protocol can be used to implement the claim-check pattern in Azure.</span></span> <span data-ttu-id="ece7b-175">Angenommen, Sie müssen bestehende Kafka-Clients unterstützen.</span><span class="sxs-lookup"><span data-stu-id="ece7b-175">For example, you might need to support existing Kafka clients.</span></span>

<span data-ttu-id="ece7b-176">Beispielcode für diesen Ansatz finden Sie [hier][example-4].</span><span class="sxs-lookup"><span data-stu-id="ece7b-176">You can find example code for this approach [here][example-4].</span></span>

## <a name="related-patterns-and-guidance"></a><span data-ttu-id="ece7b-177">Zugehörige Muster und Anleitungen</span><span class="sxs-lookup"><span data-stu-id="ece7b-177">Related patterns and guidance</span></span>

- <span data-ttu-id="ece7b-178">Die oben beschriebenen Beispiele stehen auf [GitHub][sample-code] zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="ece7b-178">The examples described above are available on [GitHub][sample-code].</span></span>
- <span data-ttu-id="ece7b-179">Die Website von Enterprise Integration Patterns bietet eine [Beschreibung][enterprise-integration-patterns] dieses Musters.</span><span class="sxs-lookup"><span data-stu-id="ece7b-179">The Enterprise Integration Patterns site has a [description][enterprise-integration-patterns] of this pattern.</span></span>
- <span data-ttu-id="ece7b-180">Ein weiteres Beispiel finden Sie im Blogbeitrag [Dealing with large Service Bus messages using claim check pattern](https://www.serverless360.com/blog/deal-with-large-service-bus-messages-using-claim-check-pattern) (Verarbeiten großer Service Bus-Nachrichten mithilfe des Musters für die Anspruchsprüfung).</span><span class="sxs-lookup"><span data-stu-id="ece7b-180">For another example, see [Dealing with large Service Bus messages using claim check pattern](https://www.serverless360.com/blog/deal-with-large-service-bus-messages-using-claim-check-pattern) (blog post).</span></span>
- <span data-ttu-id="ece7b-181">Ein alternatives Muster zur Verarbeitung großer Nachrichten ist [Aufteilen][splitter] und [Aggregieren][aggregator].</span><span class="sxs-lookup"><span data-stu-id="ece7b-181">An alternative pattern for handling large messages is [Split][splitter] and [Aggregate][aggregator].</span></span>

<!-- links -->
[aggregator]: https://www.enterpriseintegrationpatterns.com/patterns/messaging/Aggregator.html
[enterprise-integration-patterns]: https://www.enterpriseintegrationpatterns.com/patterns/messaging/StoreInLibrary.html
[example-1]: https://github.com/mspnp/cloud-design-patterns/tree/master/claim-check/code-samples/sample-1
[example-2]: https://github.com/mspnp/cloud-design-patterns/tree/master/claim-check/code-samples/sample-2
[example-3]: https://github.com/mspnp/cloud-design-patterns/tree/master/claim-check/code-samples/sample-3
[example-4]: https://github.com/mspnp/cloud-design-patterns/tree/master/claim-check/code-samples/sample-4
[sample-code]: https://github.com/mspnp/cloud-design-patterns/tree/master/claim-check
[splitter]: https://www.enterpriseintegrationpatterns.com/patterns/messaging/Sequencer.html
