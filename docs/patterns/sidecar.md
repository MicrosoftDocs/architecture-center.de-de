---
title: Sidecar-Muster
titleSuffix: Cloud Design Patterns
description: Komponenten einer Anwendung zwecks Isolation und Kapselung in einem separaten Prozess oder Container bereitstellen
keywords: Entwurfsmuster
author: dragon119
ms.date: 06/23/2017
ms.topic: design-pattern
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.custom: seodec18
ms.openlocfilehash: 2b0e46a06f7fe47f281f726f73128db1d7dd1067
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 03/20/2019
ms.locfileid: "58243561"
---
# <a name="sidecar-pattern"></a><span data-ttu-id="d78c9-104">Sidecar-Muster</span><span class="sxs-lookup"><span data-stu-id="d78c9-104">Sidecar pattern</span></span>

<span data-ttu-id="d78c9-105">Komponenten einer Anwendung zwecks Isolation und Kapselung in einem separaten Prozess oder Container bereitstellen</span><span class="sxs-lookup"><span data-stu-id="d78c9-105">Deploy components of an application into a separate process or container to provide isolation and encapsulation.</span></span> <span data-ttu-id="d78c9-106">Dieses Muster kann Anwendungen auch eine Zusammenstellung aus heterogenen Komponenten und Technologien ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="d78c9-106">This pattern can also enable applications to be composed of heterogeneous components and technologies.</span></span>

<span data-ttu-id="d78c9-107">Dieses Muster trägt den Namen *Sidecar*, da es an einen Beiwagen erinnert, der an ein Motorrad angebracht wird.</span><span class="sxs-lookup"><span data-stu-id="d78c9-107">This pattern is named *Sidecar* because it resembles a sidecar attached to a motorcycle.</span></span> <span data-ttu-id="d78c9-108">Im Muster wird der Sidecar an eine übergeordnete Anwendung angefügt und stellt unterstützende Funktionen für die Anwendung bereit.</span><span class="sxs-lookup"><span data-stu-id="d78c9-108">In the pattern, the sidecar is attached to a parent application and provides supporting features for the application.</span></span> <span data-ttu-id="d78c9-109">Der Sidecar weist auch denselben Lebenszyklus wie die übergeordnete Anwendung auf und wird zusammen mit dieser erstellt und außer Kraft gesetzt.</span><span class="sxs-lookup"><span data-stu-id="d78c9-109">The sidecar also shares the same lifecycle as the parent application, being created and retired alongside the parent.</span></span> <span data-ttu-id="d78c9-110">Das Sidecar-Muster wird manchmal auch als Sidekick-Muster bezeichnet und ist ein Aufgliederungsmuster.</span><span class="sxs-lookup"><span data-stu-id="d78c9-110">The sidecar pattern is sometimes referred to as the sidekick pattern and is a decomposition pattern.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="d78c9-111">Kontext und Problem</span><span class="sxs-lookup"><span data-stu-id="d78c9-111">Context and Problem</span></span>

<span data-ttu-id="d78c9-112">Anwendungen und Dienste benötigen häufig zusammengehörige Funktionen, wie z. B. Überwachung, Protokollierung, Konfiguration und Netzwerkdienste.</span><span class="sxs-lookup"><span data-stu-id="d78c9-112">Applications and services often require related functionality, such as monitoring, logging, configuration, and networking services.</span></span> <span data-ttu-id="d78c9-113">Diese Peripherieaufgaben können als separate Komponenten oder Dienste implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="d78c9-113">These peripheral tasks can be implemented as separate components or services.</span></span>

<span data-ttu-id="d78c9-114">Wenn sie eng in die Anwendung integriert sind, können sie in demselben Prozess wie die Anwendung ausgeführt werden und dadurch gemeinsam verwendete Ressourcen effizient nutzen.</span><span class="sxs-lookup"><span data-stu-id="d78c9-114">If they are tightly integrated into the application, they can run in the same process as the application, making efficient use of shared resources.</span></span> <span data-ttu-id="d78c9-115">Dies bedeutet aber auch, dass sie nicht gut isoliert sind, und ein Ausfall in einer dieser Komponenten kann Auswirkungen auf andere Komponenten oder die gesamte Anwendung haben.</span><span class="sxs-lookup"><span data-stu-id="d78c9-115">However, this also means they are not well isolated, and an outage in one of these components can affect other components or the entire application.</span></span> <span data-ttu-id="d78c9-116">Außerdem müssen sie üblicherweise mit derselben Sprache wie die übergeordnete Anwendung implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="d78c9-116">Also, they usually need to be implemented using the same language as the parent application.</span></span> <span data-ttu-id="d78c9-117">Daher weisen die Komponente und die Anwendung eine starke wechselseitige Abhängigkeit auf.</span><span class="sxs-lookup"><span data-stu-id="d78c9-117">As a result, the component and the application have close interdependence on each other.</span></span>

<span data-ttu-id="d78c9-118">Wenn die Anwendung in Dienste aufgegliedert wird, kann jeder Dienst mit einer anderen Sprache und anderer Technologie erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="d78c9-118">If the application is decomposed into services, then each service can be built using different languages and technologies.</span></span> <span data-ttu-id="d78c9-119">Zwar bietet dies mehr Flexibilität, doch bedeutet es auch, dass jede Komponente eigene Abhängigkeiten aufweist und sprachspezifische Bibliotheken für den Zugriff auf die zugrunde liegende Plattform und alle mit der übergeordneten Anwendung gemeinsam verwendeten Ressourcen benötigt.</span><span class="sxs-lookup"><span data-stu-id="d78c9-119">While this gives more flexibility, it means that each component has its own dependencies and requires language-specific libraries to access the underlying platform and any resources shared with the parent application.</span></span> <span data-ttu-id="d78c9-120">Darüber hinaus kann eine Bereitstellung dieser Funktionen als separate Dienste zu höherer Latenz der Anwendung führen.</span><span class="sxs-lookup"><span data-stu-id="d78c9-120">In addition, deploying these features as separate services can add latency to the application.</span></span> <span data-ttu-id="d78c9-121">Das Verwalten des Codes und der Abhängigkeiten für diese sprachspezifischen Schnittstellen kann auch zu wesentlich höherer Komplexität führen, insbesondere bei Hosting, Bereitstellung und Verwaltung.</span><span class="sxs-lookup"><span data-stu-id="d78c9-121">Managing the code and dependencies for these language-specific interfaces can also add considerable complexity, especially for hosting, deployment, and management.</span></span>

## <a name="solution"></a><span data-ttu-id="d78c9-122">Lösung</span><span class="sxs-lookup"><span data-stu-id="d78c9-122">Solution</span></span>

<span data-ttu-id="d78c9-123">Verbinden Sie eine zusammenhängende Gruppe von Aufgaben mit der primären Anwendung, aber platzieren Sie diese in einem eigenen Prozess oder Container, um eine homogene Schnittstelle für Plattformdienste sprachübergreifend bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="d78c9-123">Co-locate a cohesive set of tasks with the primary application, but place them inside their own process or container, providing a homogeneous interface for platform services across languages.</span></span>

![Diagramm des Sidecar-Musters](./_images/sidecar.png)

<span data-ttu-id="d78c9-125">Ein Sidecar-Dienst ist nicht notwendigerweise Teil der Anwendung, ist aber mit ihr verbunden.</span><span class="sxs-lookup"><span data-stu-id="d78c9-125">A sidecar service is not necessarily part of the application, but is connected to it.</span></span> <span data-ttu-id="d78c9-126">Er befindet sich dort, wo sich auch die übergeordnete Anwendung befindet.</span><span class="sxs-lookup"><span data-stu-id="d78c9-126">It goes wherever the parent application goes.</span></span> <span data-ttu-id="d78c9-127">Sidecars sind unterstützte Prozesse oder Dienste, die mit der primären Anwendung bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="d78c9-127">Sidecars are supporting processes or services that are deployed with the primary application.</span></span> <span data-ttu-id="d78c9-128">Bei einem Motorrad wird ein Sidecar (Beiwagen) an ein einzelnes Fahrzeug angebracht, und jedes Motorrad kann einen eigenen Beiwagen haben.</span><span class="sxs-lookup"><span data-stu-id="d78c9-128">On a motorcycle, the sidecar is attached to one motorcycle, and each motorcycle can have its own sidecar.</span></span> <span data-ttu-id="d78c9-129">Auf die gleiche Weise teilt auch ein Sidecar-Dienst das Schicksal der übergeordneten Anwendung.</span><span class="sxs-lookup"><span data-stu-id="d78c9-129">In the same way, a sidecar service shares the fate of its parent application.</span></span> <span data-ttu-id="d78c9-130">Für jede Instanz der Anwendung wird eine Instanz des Sidecar bereitgestellt und parallel gehostet.</span><span class="sxs-lookup"><span data-stu-id="d78c9-130">For each instance of the application, an instance of the sidecar is deployed and hosted alongside it.</span></span>

<span data-ttu-id="d78c9-131">Die Verwendung eines Sidecar-Musters bietet unter anderem folgende Vorteile:</span><span class="sxs-lookup"><span data-stu-id="d78c9-131">Advantages of using a sidecar pattern include:</span></span>

- <span data-ttu-id="d78c9-132">Ein Sidecar ist in Hinsicht auf die Laufzeitumgebung und die Programmiersprache von der primären Anwendung unabhängig, sodass Sie nicht einen Sidecar pro Sprache entwickeln müssen.</span><span class="sxs-lookup"><span data-stu-id="d78c9-132">A sidecar is independent from its primary application in terms of runtime environment and programming language, so you don't need to develop one sidecar per language.</span></span>

- <span data-ttu-id="d78c9-133">Der Sidecar kann auf dieselben Ressourcen wie die primäre Anwendung zugreifen.</span><span class="sxs-lookup"><span data-stu-id="d78c9-133">The sidecar can access the same resources as the primary application.</span></span> <span data-ttu-id="d78c9-134">Beispielsweise kann ein Sidecar Systemressourcen überwachen, die sowohl vom Sidecar als auch der primären Anwendung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="d78c9-134">For example, a sidecar can monitor system resources used by both the sidecar and the primary application.</span></span>

- <span data-ttu-id="d78c9-135">Aufgrund der Nähe zur primären Anwendung besteht keine wesentliche Latenz bei der Kommunikation zwischen beiden.</span><span class="sxs-lookup"><span data-stu-id="d78c9-135">Because of its proximity to the primary application, there’s no significant latency when communicating between them.</span></span>

- <span data-ttu-id="d78c9-136">Selbst bei Anwendungen, die keinen Erweiterbarkeitsmechanismus bieten, können Sie einen Sidecar zum Erweitern der Funktionalität verwenden, indem Sie ihn als eigenen Prozess in demselben Host- oder Untercontainer wie die primäre Anwendung anfügen.</span><span class="sxs-lookup"><span data-stu-id="d78c9-136">Even for applications that don’t provide an extensibility mechanism, you can use a sidecar to extend functionality by attaching it as own process in the same host or sub-container as the primary application.</span></span>

<span data-ttu-id="d78c9-137">Das Sidecar-Muster wird häufig mit Containern verwendet und als Sidecar-Container oder Sidekick-Container bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="d78c9-137">The sidecar pattern is often used with containers and referred to as a sidecar container or sidekick container.</span></span>

## <a name="issues-and-considerations"></a><span data-ttu-id="d78c9-138">Probleme und Überlegungen</span><span class="sxs-lookup"><span data-stu-id="d78c9-138">Issues and Considerations</span></span>

- <span data-ttu-id="d78c9-139">Beachten Sie das Bereitstellungs- und Paketerstellungsformat, das Sie zum Bereitstellen von Diensten, Prozessen oder Containern verwenden.</span><span class="sxs-lookup"><span data-stu-id="d78c9-139">Consider the deployment and packaging format you will use to deploy services, processes, or containers.</span></span> <span data-ttu-id="d78c9-140">Container eignen sich besonders gut für das Sidecar-Muster.</span><span class="sxs-lookup"><span data-stu-id="d78c9-140">Containers are particularly well suited to the sidecar pattern.</span></span>
- <span data-ttu-id="d78c9-141">Wählen Sie beim Entwerfen eines Sidecar-Diensts den Mechanismus für die prozessübergreifende Kommunikation sorgfältig aus.</span><span class="sxs-lookup"><span data-stu-id="d78c9-141">When designing a sidecar service, carefully decide on the interprocess communication mechanism.</span></span> <span data-ttu-id="d78c9-142">Versuchen Sie Technologien zu verwenden, die von der Sprache oder dem Framework unabhängig sind, sofern Leistungsanforderungen dies nicht unmöglich ist.</span><span class="sxs-lookup"><span data-stu-id="d78c9-142">Try to use language- or framework-agnostic technologies unless performance requirements make that impractical.</span></span>
- <span data-ttu-id="d78c9-143">Bedenken Sie vor der Aufnahme von Funktionen in einen Sidecar, ob dafür ein separater Dienst oder ein herkömmlicher Daemon besser geeignet ist.</span><span class="sxs-lookup"><span data-stu-id="d78c9-143">Before putting functionality into a sidecar, consider whether it would work better as a separate service or a more traditional daemon.</span></span>
- <span data-ttu-id="d78c9-144">Überlegen Sie auch, ob die Funktionen als Bibliothek oder mithilfe eines herkömmlichen Erweiterungsmechanismus implementiert werden können.</span><span class="sxs-lookup"><span data-stu-id="d78c9-144">Also consider whether the functionality could be implemented as a library or using a traditional extension mechanism.</span></span> <span data-ttu-id="d78c9-145">Sprachspezifische Bibliotheken bieten möglicherweise eine tiefer greifende Integration und weniger Netzwerkaufwand.</span><span class="sxs-lookup"><span data-stu-id="d78c9-145">Language-specific libraries may have a deeper level of integration and less network overhead.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="d78c9-146">Verwendung dieses Musters</span><span class="sxs-lookup"><span data-stu-id="d78c9-146">When to Use this Pattern</span></span>

<span data-ttu-id="d78c9-147">Verwenden Sie dieses Muster in folgenden Fällen:</span><span class="sxs-lookup"><span data-stu-id="d78c9-147">Use this pattern when:</span></span>

- <span data-ttu-id="d78c9-148">Die primäre Anwendung verwendet eine heterogene Gruppe von Sprachen und Frameworks.</span><span class="sxs-lookup"><span data-stu-id="d78c9-148">Your primary application uses a heterogeneous set of languages and frameworks.</span></span> <span data-ttu-id="d78c9-149">Eine Komponente, die sich in einem Sidecar-Dienst befindet, kann von Anwendungen verwendet werden, die mithilfe verschiedener Frameworks in unterschiedlichen Sprachen geschrieben wurden.</span><span class="sxs-lookup"><span data-stu-id="d78c9-149">A component located in a sidecar service can be consumed by applications written in different languages using different frameworks.</span></span>
- <span data-ttu-id="d78c9-150">Eine Komponente befindet sich im Besitz eines Remoteteams oder einer anderen Organisation.</span><span class="sxs-lookup"><span data-stu-id="d78c9-150">A component is owned by a remote team or a different organization.</span></span>
- <span data-ttu-id="d78c9-151">Eine Komponente oder Funktion muss sich auf demselben Host wie die Anwendung befinden.</span><span class="sxs-lookup"><span data-stu-id="d78c9-151">A component or feature must be co-located on the same host as the application</span></span>
- <span data-ttu-id="d78c9-152">Sie benötigen einen Dienst, der den gesamten Lebenszyklus Ihrer Hauptanwendung teilt, aber unabhängig aktualisiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="d78c9-152">You need a service that shares the overall lifecycle of your main application, but can be independently updated.</span></span>
- <span data-ttu-id="d78c9-153">Sie benötigen eine präzisere Kontrolle über Einschränkungen für eine bestimmte Ressource oder Komponente.</span><span class="sxs-lookup"><span data-stu-id="d78c9-153">You need fine-grained control over resource limits for a particular resource or component.</span></span> <span data-ttu-id="d78c9-154">Sie möchten beispielsweise die Speichermenge beschränken, die eine bestimmte Komponente verwendet.</span><span class="sxs-lookup"><span data-stu-id="d78c9-154">For example, you may want to restrict the amount of memory a specific component uses.</span></span> <span data-ttu-id="d78c9-155">Sie können die Komponente als einen Sidecar bereitstellen und die Speichernutzung unabhängig von der Hauptanwendung verwalten.</span><span class="sxs-lookup"><span data-stu-id="d78c9-155">You can deploy the component as a sidecar and manage memory usage independently of the main application.</span></span>

<span data-ttu-id="d78c9-156">Dieses Muster ist in folgenden Fällen unter Umständen nicht geeignet:</span><span class="sxs-lookup"><span data-stu-id="d78c9-156">This pattern may not be suitable:</span></span>

- <span data-ttu-id="d78c9-157">Wenn die prozessübergreifende Kommunikation optimiert werden muss.</span><span class="sxs-lookup"><span data-stu-id="d78c9-157">When interprocess communication needs to be optimized.</span></span> <span data-ttu-id="d78c9-158">Die Kommunikation zwischen einer übergeordneten Anwendung und Sidecar-Diensten bedeutet einen gewissen Mehraufwand, insbesondere Latenz bei den Aufrufen.</span><span class="sxs-lookup"><span data-stu-id="d78c9-158">Communication between a parent application and sidecar services includes some overhead, notably latency in the calls.</span></span> <span data-ttu-id="d78c9-159">Dies ist bei Schnittstellen mit einer hohen Anzahl von Einzelaufrufen möglicherweise nicht annehmbar.</span><span class="sxs-lookup"><span data-stu-id="d78c9-159">This may not be an acceptable trade-off for chatty interfaces.</span></span>
- <span data-ttu-id="d78c9-160">Bei kleinen Anwendungen, bei denen der Vorteil der Isolation die Ressourcenkosten für die Bereitstellung eines Sidecar-Diensts für jede Instanz nicht aufheben.</span><span class="sxs-lookup"><span data-stu-id="d78c9-160">For small applications where the resource cost of deploying a sidecar service for each instance is not worth the advantage of isolation.</span></span>
- <span data-ttu-id="d78c9-161">Wenn der Dienst anders als oder unabhängig von den Hauptanwendungen skaliert werden muss.</span><span class="sxs-lookup"><span data-stu-id="d78c9-161">When the service needs to scale differently than or independently from the main applications.</span></span> <span data-ttu-id="d78c9-162">Wenn das der Fall ist, wird die Funktion möglicherweise besser als separater Dienst bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="d78c9-162">If so, it may be better to deploy the feature as a separate service.</span></span>

## <a name="example"></a><span data-ttu-id="d78c9-163">Beispiel</span><span class="sxs-lookup"><span data-stu-id="d78c9-163">Example</span></span>

<span data-ttu-id="d78c9-164">Das Sidecar-Muster kann für viele Szenarien angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="d78c9-164">The sidecar pattern is applicable to many scenarios.</span></span> <span data-ttu-id="d78c9-165">Hier einige typische Beispiele:</span><span class="sxs-lookup"><span data-stu-id="d78c9-165">Some common examples:</span></span>

- <span data-ttu-id="d78c9-166">Infrastruktur API.</span><span class="sxs-lookup"><span data-stu-id="d78c9-166">Infrastructure API.</span></span> <span data-ttu-id="d78c9-167">Das Infrastruktur-Entwicklungsteam erstellt einen Dienst, der zusammen mit den einzelnen Anwendungen bereitgestellt wird, anstelle einer sprachspezifischen Clientbibliothek für den Zugriff auf die Infrastruktur.</span><span class="sxs-lookup"><span data-stu-id="d78c9-167">The infrastructure development team creates a service that's deployed alongside each application, instead of a language-specific client library to access the infrastructure.</span></span> <span data-ttu-id="d78c9-168">Der Dienst wird als Sidecar geladen und stellt eine allgemeine Ebene für Infrastrukturdienste bereit, einschließlich Protokollierung, Umgebungsdaten, Konfigurationsspeicher, Ermittlung, Integritätsüberprüfungen und Watchdog-Dienste.</span><span class="sxs-lookup"><span data-stu-id="d78c9-168">The service is loaded as a sidecar and provides a common layer for infrastructure services, including logging, environment data, configuration store, discovery, health checks, and watchdog services.</span></span> <span data-ttu-id="d78c9-169">Der Sidecar überwacht auch die Hostumgebung und den Prozess (oder Container) der übergeordneten Anwendung und protokolliert die Informationen in einem zentralen Dienst.</span><span class="sxs-lookup"><span data-stu-id="d78c9-169">The sidecar also monitors the parent application's host environment and process (or container) and logs the information to a centralized service.</span></span>
- <span data-ttu-id="d78c9-170">Verwalten von NGINX/HAProxy.</span><span class="sxs-lookup"><span data-stu-id="d78c9-170">Manage NGINX/HAProxy.</span></span> <span data-ttu-id="d78c9-171">Stellen Sie NGINX mit einem Sidecar-Dienst bereit, der den Zustand der Umgebung überwacht, dann die NGINX-Konfigurationsdatei aktualisiert und den Prozess wiederverwendet, wenn eine Zustandsänderung benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="d78c9-171">Deploy NGINX with a sidecar service that monitors environment state, then updates the NGINX configuration file and recycles the process when a change in state is needed.</span></span>
- <span data-ttu-id="d78c9-172">Ambassador-Sidecar.</span><span class="sxs-lookup"><span data-stu-id="d78c9-172">Ambassador sidecar.</span></span> <span data-ttu-id="d78c9-173">Stellen Sie einen [Ambassador](./ambassador.md)-Dienst als Sidecar bereit.</span><span class="sxs-lookup"><span data-stu-id="d78c9-173">Deploy an [ambassador](./ambassador.md) service as a sidecar.</span></span> <span data-ttu-id="d78c9-174">Die Aufrufe der Anwendung erfolgen über Ambassador, der Anforderungsprotokollierung, Routing, Verbindungsunterbrechung und andere Funktionen im Zusammenhang mit der Konnektivität handhabt.</span><span class="sxs-lookup"><span data-stu-id="d78c9-174">The application calls through the ambassador, which handles request logging, routing, circuit breaking, and other connectivity related features.</span></span>
- <span data-ttu-id="d78c9-175">Auslagern des Proxy.</span><span class="sxs-lookup"><span data-stu-id="d78c9-175">Offload proxy.</span></span> <span data-ttu-id="d78c9-176">Platzieren Sie einen NGINX-Proxy vor einer node.js-Dienstinstanz, um die Bereitstellung statischer Dateiinhalte für den Dienst zu handhaben.</span><span class="sxs-lookup"><span data-stu-id="d78c9-176">Place an NGINX proxy in front of a node.js service instance, to handle serving static file content for the service.</span></span>

## <a name="related-guidance"></a><span data-ttu-id="d78c9-177">Verwandte Leitfäden</span><span class="sxs-lookup"><span data-stu-id="d78c9-177">Related guidance</span></span>

- [<span data-ttu-id="d78c9-178">Botschaftermuster</span><span class="sxs-lookup"><span data-stu-id="d78c9-178">Ambassador pattern</span></span>](./ambassador.md)
