# <a name="using-tactical-ddd-to-design-microservices"></a><span data-ttu-id="7c154-101">Entwerfen von Microservices im Rahmen der taktischen DDD-Phase</span><span class="sxs-lookup"><span data-stu-id="7c154-101">Using tactical DDD to design microservices</span></span>

<span data-ttu-id="7c154-102">Während der strategischen DDD-Phase entwerfen Sie die Geschäftsdomäne und definieren Kontextgrenzen für Ihre Domänenmodelle.</span><span class="sxs-lookup"><span data-stu-id="7c154-102">During the strategic phase of DDD, you are mapping out the business domain and defining bounded contexts for your domain models.</span></span> <span data-ttu-id="7c154-103">In der taktischen DDD-Phase definieren Sie Ihre Domänenmodelle mit größerer Genauigkeit.</span><span class="sxs-lookup"><span data-stu-id="7c154-103">Tactical DDD is when you define your domain models with more precision.</span></span> <span data-ttu-id="7c154-104">Die taktischen Muster werden nur in einem Kontextgrenzenbereich angewendet.</span><span class="sxs-lookup"><span data-stu-id="7c154-104">The tactical patterns are applied within a single bounded context.</span></span> <span data-ttu-id="7c154-105">Bei einer Microservices-Architektur sind wir vor allem an den Entitäts- und Aggregatmustern interessiert.</span><span class="sxs-lookup"><span data-stu-id="7c154-105">In a microservices architecture, we are particularly interested in the entity and aggregate patterns.</span></span> <span data-ttu-id="7c154-106">Die Anwendung dieser Muster hilft uns dabei, natürliche Grenzen für die Dienste in unserer Anwendung zu identifizieren. (Weitere Informationen finden Sie im [nächsten Artikel](./microservice-boundaries.md) dieser Reihe.)</span><span class="sxs-lookup"><span data-stu-id="7c154-106">Applying these patterns will help us to identify natural boundaries for the services in our application (see the [next article](./microservice-boundaries.md) in this series).</span></span> <span data-ttu-id="7c154-107">Es gilt das allgemeine Prinzip, dass ein Microservice nicht kleiner als ein Aggregat und nicht größer als eine Kontextgrenze sein sollte.</span><span class="sxs-lookup"><span data-stu-id="7c154-107">As a general principle, a microservice should be no smaller than an aggregate, and no larger than a bounded context.</span></span> <span data-ttu-id="7c154-108">Zuerst überprüfen wir die taktischen Muster.</span><span class="sxs-lookup"><span data-stu-id="7c154-108">First, we'll review the tactical patterns.</span></span> <span data-ttu-id="7c154-109">Anschließend wenden wir sie auf die Kontextgrenze „Lieferung“ in der Anwendung für die Drohnenlieferung an.</span><span class="sxs-lookup"><span data-stu-id="7c154-109">Then we'll apply them to the Shipping bounded context in the Drone Delivery application.</span></span>

## <a name="overview-of-the-tactical-patterns"></a><span data-ttu-id="7c154-110">Übersicht über die taktischen Muster</span><span class="sxs-lookup"><span data-stu-id="7c154-110">Overview of the tactical patterns</span></span>

<span data-ttu-id="7c154-111">Dieser Abschnitt enthält eine kurze Zusammenfassung der taktischen DDD-Muster. Unter Umständen können Sie diesen Abschnitt also überspringen, falls Sie mit DDD bereits vertraut sind.</span><span class="sxs-lookup"><span data-stu-id="7c154-111">This section provides a brief summary of the tactical DDD patterns, so if you are already familiar with DDD, you can probably skip this section.</span></span> <span data-ttu-id="7c154-112">Die Muster werden im Buch von Eric Evans (Kapitel 5 und 6) und in *Implementing Domain-Driven Design* von Vaughn Vernon ausführlicher beschrieben.</span><span class="sxs-lookup"><span data-stu-id="7c154-112">The patterns are described in more detail in chapters 5 &ndash; 6 of Eric Evans' book, and in *Implementing Domain-Driven Design* by Vaughn Vernon.</span></span>

![Diagramm taktischer Muster für DDD (Domain-Driven Design)](../images/ddd-patterns.png)

<span data-ttu-id="7c154-114">**Entitäten**:</span><span class="sxs-lookup"><span data-stu-id="7c154-114">**Entities**.</span></span> <span data-ttu-id="7c154-115">Eine Entität ist ein Objekt mit einer eindeutigen Identität, die bestehen bleibt.</span><span class="sxs-lookup"><span data-stu-id="7c154-115">An entity is an object with a unique identity that persists over time.</span></span> <span data-ttu-id="7c154-116">In einer Anwendung für Bankgeschäfte sind Kunden und Konten beispielsweise Entitäten.</span><span class="sxs-lookup"><span data-stu-id="7c154-116">For example, in a banking application, customers and accounts would be entities.</span></span>

- <span data-ttu-id="7c154-117">Eine Entität verfügt im System über einen eindeutigen Bezeichner, mit dem die Entität nachgeschlagen bzw. abgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="7c154-117">An entity has a unique identifier in the system, which can be used to look up or retrieve the entity.</span></span> <span data-ttu-id="7c154-118">Dies bedeutet nicht, dass der Bezeichner immer direkt für Benutzer verfügbar gemacht wird.</span><span class="sxs-lookup"><span data-stu-id="7c154-118">That doesn't mean the identifier is always exposed directly to users.</span></span> <span data-ttu-id="7c154-119">Es kann sich um eine GUID oder einen Primärschlüssel in einer Datenbank handeln.</span><span class="sxs-lookup"><span data-stu-id="7c154-119">It could be a GUID or a primary key in a database.</span></span>
- <span data-ttu-id="7c154-120">Eine Identität kann übergreifend für mehrere Kontextgrenzenbereiche gelten und auch über die Lebensdauer der Anwendung hinaus beibehalten werden.</span><span class="sxs-lookup"><span data-stu-id="7c154-120">An identity may span multiple bounded contexts, and may endure beyond the lifetime of the application.</span></span> <span data-ttu-id="7c154-121">Beispielsweise sind Bankkontonummern oder von Behörden ausgestellte IDs nicht an die Lebensdauer einer bestimmten Anwendung gebunden.</span><span class="sxs-lookup"><span data-stu-id="7c154-121">For example, bank account numbers or government-issued IDs are not tied to the lifetime of a particular application.</span></span>
- <span data-ttu-id="7c154-122">Die Attribute einer Entität können sich im Laufe der Zeit ändern.</span><span class="sxs-lookup"><span data-stu-id="7c154-122">The attributes of an entity may change over time.</span></span> <span data-ttu-id="7c154-123">Beispielsweise können sich Name oder Adresse einer Person ändern, während sich die Person nicht ändert.</span><span class="sxs-lookup"><span data-stu-id="7c154-123">For example, a person's name or address might change, but they are still the same person.</span></span>
- <span data-ttu-id="7c154-124">Eine Entität kann Verweise auf andere Entitäten enthalten.</span><span class="sxs-lookup"><span data-stu-id="7c154-124">An entity can hold references to other entities.</span></span>

<span data-ttu-id="7c154-125">**Wertobjekte**:</span><span class="sxs-lookup"><span data-stu-id="7c154-125">**Value objects**.</span></span> <span data-ttu-id="7c154-126">Ein Wertobjekt hat keine Identität.</span><span class="sxs-lookup"><span data-stu-id="7c154-126">A value object has no identity.</span></span> <span data-ttu-id="7c154-127">Es wird allein durch die Werte seiner Attribute definiert.</span><span class="sxs-lookup"><span data-stu-id="7c154-127">It is defined only by the values of its attributes.</span></span> <span data-ttu-id="7c154-128">Außerdem sind Wertobjekte unveränderlich.</span><span class="sxs-lookup"><span data-stu-id="7c154-128">Value objects are also immutable.</span></span> <span data-ttu-id="7c154-129">Für die Aktualisierung eines Wertobjekts erstellen Sie immer eine neue Instanz, um die alte zu ersetzen.</span><span class="sxs-lookup"><span data-stu-id="7c154-129">To update a value object, you always create a new instance to replace the old one.</span></span> <span data-ttu-id="7c154-130">Wertobjekte können über Methoden verfügen, in denen die Domänenlogik gekapselt ist, aber diese Methoden sollten nicht mit Nebenwirkungen in Bezug auf den Status des Objekts verbunden sein.</span><span class="sxs-lookup"><span data-stu-id="7c154-130">Value objects can have methods that encapsulate domain logic, but those methods should have no side-effects on the object's state.</span></span> <span data-ttu-id="7c154-131">Typische Beispiele für Wertobjekte sind Farben, Datum und Uhrzeit und Währungswerte.</span><span class="sxs-lookup"><span data-stu-id="7c154-131">Typical examples of value objects include colors, dates and times, and currency values.</span></span>

<span data-ttu-id="7c154-132">**Aggregate**:</span><span class="sxs-lookup"><span data-stu-id="7c154-132">**Aggregates**.</span></span> <span data-ttu-id="7c154-133">Ein Aggregat definiert eine Konsistenzgrenze für eine oder mehrere Entitäten.</span><span class="sxs-lookup"><span data-stu-id="7c154-133">An aggregate defines a consistency boundary around one or more entities.</span></span> <span data-ttu-id="7c154-134">Eine bestimmte Entität in einem Aggregat ist die Stammentität.</span><span class="sxs-lookup"><span data-stu-id="7c154-134">Exactly one entity in an aggregate is the root.</span></span> <span data-ttu-id="7c154-135">Die Suche wird anhand des Bezeichners der Stammentität durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="7c154-135">Lookup is done using the root entity's identifier.</span></span> <span data-ttu-id="7c154-136">Alle anderen Entitäten im Aggregat sind untergeordnete Elemente der Stammentität, und es wird darauf verwiesen, indem den Zeigern der Stammentität gefolgt wird.</span><span class="sxs-lookup"><span data-stu-id="7c154-136">Any other entities in the aggregate are children of the root, and are referenced by following pointers from the root.</span></span>

<span data-ttu-id="7c154-137">Der Zweck eines Aggregats ist die Modellierung von Transaktionsinvarianten.</span><span class="sxs-lookup"><span data-stu-id="7c154-137">The purpose of an aggregate is to model transactional invariants.</span></span> <span data-ttu-id="7c154-138">Reale Dinge weisen komplexe Beziehungsgeflechte auf.</span><span class="sxs-lookup"><span data-stu-id="7c154-138">Things in the real world have complex webs of relationships.</span></span> <span data-ttu-id="7c154-139">Kunden geben Bestellungen auf, Bestellungen enthalten Produkte, Produkte haben Lieferanten usw.</span><span class="sxs-lookup"><span data-stu-id="7c154-139">Customers create orders, orders contain products, products have suppliers, and so on.</span></span> <span data-ttu-id="7c154-140">Wenn von der Anwendung mehrere zusammengehörige Objekte geändert werden, wie kann dann die Konsistenz gewährleistet werden?</span><span class="sxs-lookup"><span data-stu-id="7c154-140">If the application modifies several related objects, how does it guarantee consistency?</span></span> <span data-ttu-id="7c154-141">Wie können Invarianten nachverfolgt und erzwungen werden?</span><span class="sxs-lookup"><span data-stu-id="7c154-141">How do we keep track of invariants and enforce them?</span></span>  

<span data-ttu-id="7c154-142">In herkömmlichen Anwendungen wurden häufig Datenbanktransaktionen eingesetzt, um Konsistenz zu erzwingen.</span><span class="sxs-lookup"><span data-stu-id="7c154-142">Traditional applications have often used database transactions to enforce consistency.</span></span> <span data-ttu-id="7c154-143">In einer verteilten Anwendung ist dies aber oftmals nicht möglich.</span><span class="sxs-lookup"><span data-stu-id="7c154-143">In a distributed application, however, that's often not feasible.</span></span> <span data-ttu-id="7c154-144">Eine einzelne Geschäftstransaktion kann sich unter Umständen über mehrere Datenspeicher erstrecken, eine lange Ausführungsdauer aufweisen oder Drittanbieterdienste umfassen.</span><span class="sxs-lookup"><span data-stu-id="7c154-144">A single business transaction may span multiple data stores, or may be long running, or may involve third-party services.</span></span> <span data-ttu-id="7c154-145">Letztendlich liegt es an der Anwendung und nicht an der Datenschicht, die für die Domäne erforderlichen Invarianten zu erzwingen.</span><span class="sxs-lookup"><span data-stu-id="7c154-145">Ultimately it's up to the application, not the data layer, to enforce the invariants required for the domain.</span></span> <span data-ttu-id="7c154-146">Für die Durchführung dieser Modellierung sind Aggregate bestimmt.</span><span class="sxs-lookup"><span data-stu-id="7c154-146">That's what aggregates are meant to model.</span></span>

> [!NOTE]
> <span data-ttu-id="7c154-147">Ein Aggregat kann ggf. aus einer einzelnen Entität ohne untergeordnete Entitäten bestehen.</span><span class="sxs-lookup"><span data-stu-id="7c154-147">An aggregate might consist of a single entity, without child entities.</span></span> <span data-ttu-id="7c154-148">Durch die Transaktionsgrenze wird dies zu einem Aggregat.</span><span class="sxs-lookup"><span data-stu-id="7c154-148">What makes it an aggregate is the transactional boundary.</span></span>

<span data-ttu-id="7c154-149">**Domänen- und Anwendungsdienste**:</span><span class="sxs-lookup"><span data-stu-id="7c154-149">**Domain and application services**.</span></span> <span data-ttu-id="7c154-150">In der DDD-Terminologie ist ein Dienst ein Objekt, mit dem Logik implementiert wird, ohne dass ein Zustand vorgehalten wird.</span><span class="sxs-lookup"><span data-stu-id="7c154-150">In DDD terminology, a service is an object that implements some logic without holding any state.</span></span> <span data-ttu-id="7c154-151">Evans unterscheidet zwischen *Domänendiensten*, in denen die Domänenlogik gekapselt ist, und *Anwendungsdiensten*, mit denen die technische Funktionalität bereitgestellt wird, z.B. die Benutzerauthentifizierung oder das Senden einer SMS-Nachricht.</span><span class="sxs-lookup"><span data-stu-id="7c154-151">Evans distinguishes between *domain services*, which encapsulate domain logic, and *application services*, which provide technical functionality, such as user authentication or sending an SMS message.</span></span> <span data-ttu-id="7c154-152">Domänendienste werden häufig zum Modellieren von Verhalten verwendet, das mehrere Entitäten umfasst.</span><span class="sxs-lookup"><span data-stu-id="7c154-152">Domain services are often used to model behavior that spans multiple entities.</span></span>

> [!NOTE]
> <span data-ttu-id="7c154-153">Der Begriff *Dienst* ist im Bereich der Softwareentwicklung mehrfach besetzt.</span><span class="sxs-lookup"><span data-stu-id="7c154-153">The term *service* is overloaded in software development.</span></span> <span data-ttu-id="7c154-154">Die Definition bezieht sich in diesem Fall nicht direkt auf Microservices.</span><span class="sxs-lookup"><span data-stu-id="7c154-154">The definition here is not directly related to microservices.</span></span>

<span data-ttu-id="7c154-155">**Domänenereignisse**:</span><span class="sxs-lookup"><span data-stu-id="7c154-155">**Domain events**.</span></span> <span data-ttu-id="7c154-156">Domänenereignisse können verwendet werden, um andere Teile des Systems zu benachrichtigen, wenn etwas passiert.</span><span class="sxs-lookup"><span data-stu-id="7c154-156">Domain events can be used to notify other parts of the system when something happens.</span></span> <span data-ttu-id="7c154-157">Wie der Name bereits vermuten lässt, sollten Domänenereignisse eine bestimmte Bedeutung innerhalb der Domäne haben.</span><span class="sxs-lookup"><span data-stu-id="7c154-157">As the name suggests, domain events should mean something within the domain.</span></span> <span data-ttu-id="7c154-158">Der Vorgang „Datensatz wurde in eine Tabelle eingefügt“ ist beispielsweise kein Domänenereignis.</span><span class="sxs-lookup"><span data-stu-id="7c154-158">For example, "a record was inserted into a table" is not a domain event.</span></span> <span data-ttu-id="7c154-159">Der Vorgang „Lieferung wurde storniert“ ist ein Domänenereignis.</span><span class="sxs-lookup"><span data-stu-id="7c154-159">"A delivery was cancelled" is a domain event.</span></span> <span data-ttu-id="7c154-160">Domänenereignisse sind besonders in einer Microservices-Architektur relevant.</span><span class="sxs-lookup"><span data-stu-id="7c154-160">Domain events are especially relevant in a microservices architecture.</span></span> <span data-ttu-id="7c154-161">Da Microservices verteilt vorliegen und keine Datenspeicher gemeinsam nutzen, stellen Domänenereignisse eine Möglichkeit dar, wie sich Microservices untereinander koordinieren können.</span><span class="sxs-lookup"><span data-stu-id="7c154-161">Because microservices are distributed and don't share data stores, domain events provide a way for microservices to coordinate with each other.</span></span> <span data-ttu-id="7c154-162">Im [Artikel zur Kommunikation zwischen Diensten](../design/interservice-communication.md) wird das asynchrone Messaging ausführlicher beschrieben.</span><span class="sxs-lookup"><span data-stu-id="7c154-162">The article [Interservice communication](../design/interservice-communication.md) discusses asynchronous messaging in more detail.</span></span>

<span data-ttu-id="7c154-163">Es gibt noch einige andere DDD-Muster, die hier nicht aufgeführt sind, z.B. Factorys, Repositorys und Module.</span><span class="sxs-lookup"><span data-stu-id="7c154-163">There are a few other DDD patterns not listed here, including factories, repositories, and modules.</span></span> <span data-ttu-id="7c154-164">Dies können nützliche Muster für die Implementierung eines Microservice sein, aber sie sind weniger relevant, wenn es um das Entwerfen von Grenzen zwischen Microservices geht.</span><span class="sxs-lookup"><span data-stu-id="7c154-164">These can be useful patterns for when you are implementing a microservice, but they are less relevant when designing the boundaries between microservice.</span></span>

## <a name="drone-delivery-applying-the-patterns"></a><span data-ttu-id="7c154-165">Drohnenlieferung: Anwenden der Muster</span><span class="sxs-lookup"><span data-stu-id="7c154-165">Drone delivery: Applying the patterns</span></span>

<span data-ttu-id="7c154-166">Wir beginnen mit den Szenarien, die vom Kontextgrenzenbereich „Lieferung“ verarbeitet werden müssen.</span><span class="sxs-lookup"><span data-stu-id="7c154-166">We start with the scenarios that the Shipping bounded context must handle.</span></span>

- <span data-ttu-id="7c154-167">Ein Kunde kann eine Drohne anfordern, um Waren von einem Unternehmen abzuholen, das beim Dienst für die Drohnenlieferung registriert ist.</span><span class="sxs-lookup"><span data-stu-id="7c154-167">A customer can request a drone to pick up goods from a business that is registered with the drone delivery service.</span></span>
- <span data-ttu-id="7c154-168">Der Absender generiert eine Kennzeichnung per Tag (Strichcode oder RFID) für das Paket.</span><span class="sxs-lookup"><span data-stu-id="7c154-168">The sender generates a tag (barcode or RFID) to put on the package.</span></span>
- <span data-ttu-id="7c154-169">Eine Drohne holt ein Paket ab und liefert es vom Ausgangsort an den Zielort.</span><span class="sxs-lookup"><span data-stu-id="7c154-169">A drone will pick up and deliver a package from the source location to the destination location.</span></span>
- <span data-ttu-id="7c154-170">Wenn ein Kunde eine Lieferung plant, wird vom System eine geschätzte Ankunftszeit angegeben, die auf den Routeninformationen, Wetterbedingungen und Verlaufsdaten basiert.</span><span class="sxs-lookup"><span data-stu-id="7c154-170">When a customer schedules a delivery, the system provides an ETA based on route information, weather conditions, and historical data.</span></span>
- <span data-ttu-id="7c154-171">Wenn eine Drohne in der Luft ist, kann ein Benutzer den aktuellen Standort und die zuletzt ermittelte geschätzte Ankunftszeit nachverfolgen.</span><span class="sxs-lookup"><span data-stu-id="7c154-171">When the drone is in flight, a user can track the current location and the latest ETA.</span></span>
- <span data-ttu-id="7c154-172">Der Kunde kann eine Lieferung stornieren, bis eine Drohne das Paket abgeholt hat.</span><span class="sxs-lookup"><span data-stu-id="7c154-172">Until a drone has picked up the package, the customer can cancel a delivery.</span></span>
- <span data-ttu-id="7c154-173">Der Kunde wird benachrichtigt, wenn die Lieferung abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="7c154-173">The customer is notified when the delivery is completed.</span></span>
- <span data-ttu-id="7c154-174">Der Absender kann vom Kunden eine Bestätigung der Lieferung in Form einer Signatur oder eines Fingerabdrucks anfordern.</span><span class="sxs-lookup"><span data-stu-id="7c154-174">The sender can request delivery confirmation from the customer, in the form of a signature or finger print.</span></span>
- <span data-ttu-id="7c154-175">Benutzer können den Verlauf einer abgeschlossenen Lieferung anzeigen.</span><span class="sxs-lookup"><span data-stu-id="7c154-175">Users can look up the history of a completed delivery.</span></span>

<span data-ttu-id="7c154-176">Anhand dieser Szenarien hat das Entwicklungsteam die folgenden **Entitäten** identifiziert.</span><span class="sxs-lookup"><span data-stu-id="7c154-176">From these scenarios, the development team identified the following **entities**.</span></span>

- <span data-ttu-id="7c154-177">Lieferung</span><span class="sxs-lookup"><span data-stu-id="7c154-177">Delivery</span></span>
- <span data-ttu-id="7c154-178">Paket</span><span class="sxs-lookup"><span data-stu-id="7c154-178">Package</span></span>
- <span data-ttu-id="7c154-179">Drohne</span><span class="sxs-lookup"><span data-stu-id="7c154-179">Drone</span></span>
- <span data-ttu-id="7c154-180">Konto</span><span class="sxs-lookup"><span data-stu-id="7c154-180">Account</span></span>
- <span data-ttu-id="7c154-181">Bestätigung</span><span class="sxs-lookup"><span data-stu-id="7c154-181">Confirmation</span></span>
- <span data-ttu-id="7c154-182">Benachrichtigung</span><span class="sxs-lookup"><span data-stu-id="7c154-182">Notification</span></span>
- <span data-ttu-id="7c154-183">Tag</span><span class="sxs-lookup"><span data-stu-id="7c154-183">Tag</span></span>

<span data-ttu-id="7c154-184">Die ersten vier Entitäten (Lieferung, Paket, Drohne und Konto) sind allesamt **Aggregate**, die für die Grenzen der Transaktionskonsistenz stehen.</span><span class="sxs-lookup"><span data-stu-id="7c154-184">The first four, Delivery, Package, Drone, and Account, are all **aggregates** that represent transactional consistency boundaries.</span></span> <span data-ttu-id="7c154-185">Bestätigungen und Benachrichtigungen sind untergeordnete Elemente von Lieferungen, und Tags sind untergeordnete Elemente von Paketen.</span><span class="sxs-lookup"><span data-stu-id="7c154-185">Confirmations and Notifications are child entities of Deliveries, and Tags are child entities of Packages.</span></span>

<span data-ttu-id="7c154-186">Zu den **Wertobjekten** dieses Entwurfs gehören Standort, geschätzte Ankunftszeit, Paketgewicht und Paketgröße (Location, ETA, PackageWeight und PackageSize).</span><span class="sxs-lookup"><span data-stu-id="7c154-186">The **value objects** in this design include Location, ETA, PackageWeight, and PackageSize.</span></span>

<span data-ttu-id="7c154-187">Zur besseren Veranschaulichung ist hier ein UML-Diagramm des Aggregats für die Lieferung (Delivery) angegeben.</span><span class="sxs-lookup"><span data-stu-id="7c154-187">To illustrate, here is a UML diagram of the Delivery aggregate.</span></span> <span data-ttu-id="7c154-188">Beachten Sie, dass es Verweise auf andere Aggregate enthält, z.B. Konto (Account), Paket (Package) und Drohne (Drone).</span><span class="sxs-lookup"><span data-stu-id="7c154-188">Notice that it holds references to other aggregates, including Account, Package, and Drone.</span></span>

![UML-Diagramm des Aggregats für die Lieferung (Delivery)](../images/delivery-entity.png)

<span data-ttu-id="7c154-190">Es sind zwei Domänenereignisse vorhanden:</span><span class="sxs-lookup"><span data-stu-id="7c154-190">There are two domain events:</span></span>

- <span data-ttu-id="7c154-191">Während eine Drohne in der Luft ist, sendet die Drone-Entität DroneStatus-Ereignisse, mit denen der Standort und Status (Flug, Gelandet) der Drohne beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="7c154-191">While a drone is in flight, the Drone entity sends DroneStatus events that describe the drone's location and status (in-flight, landed).</span></span>

- <span data-ttu-id="7c154-192">Die Delivery-Entität sendet jeweils DeliveryTracking-Ereignisse, wenn sich die Phase einer Lieferung ändert.</span><span class="sxs-lookup"><span data-stu-id="7c154-192">The Delivery entity sends DeliveryTracking events whenever the stage of a delivery changes.</span></span> <span data-ttu-id="7c154-193">Beispiele hierfür sind DeliveryCreated, DeliveryRescheduled, DeliveryHeadedToDropoff und DeliveryCompleted.</span><span class="sxs-lookup"><span data-stu-id="7c154-193">These include DeliveryCreated, DeliveryRescheduled, DeliveryHeadedToDropoff, and DeliveryCompleted.</span></span>

<span data-ttu-id="7c154-194">Beachten Sie, dass diese Ereignisse Dinge beschreiben, die innerhalb des Domänenmodells eine Bedeutung haben.</span><span class="sxs-lookup"><span data-stu-id="7c154-194">Notice that these events describe things that are meaningful within the domain model.</span></span> <span data-ttu-id="7c154-195">Sie beschreiben einen Aspekt der Domäne und sind nicht an ein Konstrukt einer bestimmten Programmiersprache gebunden.</span><span class="sxs-lookup"><span data-stu-id="7c154-195">They describe something about the domain, and aren't tied to a particular programming language construct.</span></span>

<span data-ttu-id="7c154-196">Das Entwicklungsteam hat noch einen weiteren Funktionalitätsbereich identifiziert, der nicht ohne Weiteres einer der bisher beschriebenen Entitäten zugeordnet werden kann.</span><span class="sxs-lookup"><span data-stu-id="7c154-196">The development team identified one more area of functionality, which doesn't fit neatly into any of the entities described so far.</span></span> <span data-ttu-id="7c154-197">Ein Teil des Systems muss alle Schritte koordinieren, die an der Planung oder Aktualisierung einer Lieferung beteiligt sind.</span><span class="sxs-lookup"><span data-stu-id="7c154-197">Some part of the system must coordinate all of the steps involved in scheduling or updating a delivery.</span></span> <span data-ttu-id="7c154-198">Aus diesem Grund hat das Entwicklungsteam dem Entwurf zwei **Domänendienste** hinzugefügt: einen *Scheduler* zum Koordinieren der Schritte und einen *Supervisor*, mit dem der Status der einzelnen Schritte überwacht und erkannt werden soll, ob für Schritte ein Fehler oder eine Zeitüberschreitung aufgetreten ist. Dies ist eine Variante des [Musters „Scheduler-Agent-Supervisor“](../../patterns/scheduler-agent-supervisor.md).</span><span class="sxs-lookup"><span data-stu-id="7c154-198">Therefore, the development team added two **domain services** to the design: a *Scheduler* that coordinates the steps, and a *Supervisor* that monitors the status of each step, in order to detect whether any steps have failed or timed out. This is a variation of the [Scheduler Agent Supervisor pattern](../../patterns/scheduler-agent-supervisor.md).</span></span>

![Diagramm des überarbeiteten Domänenmodells](../images/drone-ddd.png)

## <a name="next-steps"></a><span data-ttu-id="7c154-200">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="7c154-200">Next steps</span></span>

<span data-ttu-id="7c154-201">Im nächsten Schritt werden die Grenzen für die einzelnen Microservices definiert.</span><span class="sxs-lookup"><span data-stu-id="7c154-201">The next step is to define the boundaries for each microservice.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="7c154-202">Identifizieren von Microservice-Grenzen</span><span class="sxs-lookup"><span data-stu-id="7c154-202">Identify microservice boundaries</span></span>](./microservice-boundaries.md)