---
title: Domänenanalyse für Microservices
description: Domänenanalyse für Microservices.
author: MikeWasson
ms.date: 02/25/2019
ms.topic: guide
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: microservices
ms.openlocfilehash: 7f3ce8bb7d1e03d59670cc4685589ec76738d95c
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 03/20/2019
ms.locfileid: "58243971"
---
# <a name="using-domain-analysis-to-model-microservices"></a><span data-ttu-id="8b415-103">Verwenden der Domänenanalyse zur Modellierung von Microservices</span><span class="sxs-lookup"><span data-stu-id="8b415-103">Using domain analysis to model microservices</span></span>

<span data-ttu-id="8b415-104">Eine der größten Herausforderungen in Bezug auf Microservices besteht darin, die Grenzen der einzelnen Dienste zu definieren.</span><span class="sxs-lookup"><span data-stu-id="8b415-104">One of the biggest challenges of microservices is to define the boundaries of individual services.</span></span> <span data-ttu-id="8b415-105">Eine allgemeine Regel besagt, dass ein Dienst nur einem Zweck dienen soll. Die Umsetzung dieser Regel in die Praxis bedarf jedoch sorgfältiger Überlegung.</span><span class="sxs-lookup"><span data-stu-id="8b415-105">The general rule is that a service should do "one thing" &mdash; but putting that rule into practice requires careful thought.</span></span> <span data-ttu-id="8b415-106">Es gibt keinen mechanischen Prozess, mit dem das „richtige“ Design erzielt werden kann.</span><span class="sxs-lookup"><span data-stu-id="8b415-106">There is no mechanical process that will produce the "right" design.</span></span> <span data-ttu-id="8b415-107">Es ist erforderlich, dass Sie sich eingehend mit Ihrer Geschäftsdomäne und den dazugehörigen Anforderungen und Zielen beschäftigen.</span><span class="sxs-lookup"><span data-stu-id="8b415-107">You have to think deeply about your business domain, requirements, and goals.</span></span> <span data-ttu-id="8b415-108">Andernfalls erhalten Sie unter Umständen ein planloses Design mit einigen unerwünschten Merkmalen, z.B. versteckten Abhängigkeiten zwischen Diensten, zu enger Kopplung oder schlecht entworfenen Schnittstellen.</span><span class="sxs-lookup"><span data-stu-id="8b415-108">Otherwise, you can end up with a haphazard design that exhibits some undesirable characteristics, such as hidden dependencies between services, tight coupling, or poorly designed interfaces.</span></span> <span data-ttu-id="8b415-109">In diesem Artikel wird ein domänenbasierter Ansatz für den Entwurf von Microservices vorgestellt.</span><span class="sxs-lookup"><span data-stu-id="8b415-109">This article shows a domain-driven approach to designing microservices.</span></span>

<span data-ttu-id="8b415-110">Als Beispiel dient in diesem Artikel ein Drohnenlieferdienst.</span><span class="sxs-lookup"><span data-stu-id="8b415-110">This article uses a drone delivery service as a running example.</span></span> <span data-ttu-id="8b415-111">Weitere Informationen zum Szenario sowie die entsprechende Referenzimplementierung finden Sie [hier](../design/index.md).</span><span class="sxs-lookup"><span data-stu-id="8b415-111">You can read more about the scenario and the corresponding reference implementation [here](../design/index.md).</span></span>

## <a name="introduction"></a><span data-ttu-id="8b415-112">Einführung</span><span class="sxs-lookup"><span data-stu-id="8b415-112">Introduction</span></span>

<span data-ttu-id="8b415-113">Microservices sollten basierend auf den geschäftlichen Funktionen entworfen werden, nicht auf horizontalen Ebenen wie dem Datenzugriff oder Messaging.</span><span class="sxs-lookup"><span data-stu-id="8b415-113">Microservices should be designed around business capabilities, not horizontal layers such as data access or messaging.</span></span> <span data-ttu-id="8b415-114">Außerdem sollten sie eine lose Kopplung und eine hohe funktionsbezogene Kohäsion aufweisen.</span><span class="sxs-lookup"><span data-stu-id="8b415-114">In addition, they should have loose coupling and high functional cohesion.</span></span> <span data-ttu-id="8b415-115">Microservices sind *lose gekoppelt*, wenn Sie einen Dienst ändern können, ohne dass gleichzeitig andere Dienste aktualisiert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="8b415-115">Microservices are *loosely coupled* if you can change one service without requiring other services to be updated at the same time.</span></span> <span data-ttu-id="8b415-116">Ein Microservice ist *kohäsiv*, wenn er einem einzelnen, klar definierten Zweck dient, z.B. der Verwaltung von Benutzerkonten oder der Nachverfolgung des Lieferverlaufs.</span><span class="sxs-lookup"><span data-stu-id="8b415-116">A microservice is *cohesive* if it has a single, well-defined purpose, such as managing user accounts or tracking delivery history.</span></span> <span data-ttu-id="8b415-117">Ein Dienst sollte das Wissen des Geschäftsbereichs umfassen und dieses Wissen von den Clients abstrahieren.</span><span class="sxs-lookup"><span data-stu-id="8b415-117">A service should encapsulate domain knowledge and abstract that knowledge from clients.</span></span> <span data-ttu-id="8b415-118">Ein Client sollte beispielsweise dazu in der Lage sein, eine Drohne zu planen, ohne die Details des Planungsalgorithmus oder der Drohnenflottenverwaltung zu kennen.</span><span class="sxs-lookup"><span data-stu-id="8b415-118">For example, a client should be able to schedule a drone without knowing the details of the scheduling algorithm or how the drone fleet is managed.</span></span>

<span data-ttu-id="8b415-119">Bei dem am Geschäftsbereich ausgerichteten Entwurf (Domain-Driven Design, DDD) wird ein Framework bereitgestellt, mit dem Sie die meisten Voraussetzungen auf dem Weg zu einem guten Entwurf der Microservices bereits erfüllen können.</span><span class="sxs-lookup"><span data-stu-id="8b415-119">Domain-driven design (DDD) provides a framework that can get you most of the way to a set of well-designed microservices.</span></span> <span data-ttu-id="8b415-120">DDD verfügt über zwei separate Phasen: eine strategische und eine taktische Phase.</span><span class="sxs-lookup"><span data-stu-id="8b415-120">DDD has two distinct phases, strategic and tactical.</span></span> <span data-ttu-id="8b415-121">In der strategischen DDD-Phase definieren Sie die übergeordnete Struktur des Systems.</span><span class="sxs-lookup"><span data-stu-id="8b415-121">In strategic DDD, you are defining the large-scale structure of the system.</span></span> <span data-ttu-id="8b415-122">In dieser Phase können Sie sicherstellen, dass Ihre Architektur klar auf die geschäftlichen Funktionen ausgerichtet ist.</span><span class="sxs-lookup"><span data-stu-id="8b415-122">Strategic DDD helps to ensure that your architecture remains focused on business capabilities.</span></span> <span data-ttu-id="8b415-123">In der taktischen DDD-Phase wird eine Gruppe von Entwurfsmustern bereitgestellt, die Sie zum Erstellen des Domänenmodells verwenden können.</span><span class="sxs-lookup"><span data-stu-id="8b415-123">Tactical DDD provides a set of design patterns that you can use to create the domain model.</span></span> <span data-ttu-id="8b415-124">Zu diesen Mustern gehören Entitäten, Aggregate und Domänendienste.</span><span class="sxs-lookup"><span data-stu-id="8b415-124">These patterns include entities, aggregates, and domain services.</span></span> <span data-ttu-id="8b415-125">Diese taktischen Muster sind hilfreich beim Entwerfen von Microservices, die sowohl lose gekoppelt als auch kohäsiv sind.</span><span class="sxs-lookup"><span data-stu-id="8b415-125">These tactical patterns will help you to design microservices that are both loosely coupled and cohesive.</span></span>

![Diagramm eines DDD-Prozesses (Domain-Driven Design; am Geschäftsbereich ausgerichteter Entwurf)](../images/ddd-process.png)

<span data-ttu-id="8b415-127">In diesem und im nächsten Artikel werden die folgenden Schritte beschrieben und auf die Anwendung für die Drohnenlieferung (Drone Delivery) angewendet:</span><span class="sxs-lookup"><span data-stu-id="8b415-127">In this article and the next, we'll walk through the following steps, applying them to the Drone Delivery application:</span></span>

1. <span data-ttu-id="8b415-128">Zunächst analysieren wir die Geschäftsdomäne, um die funktionsbezogenen Anforderungen der Anwendung zu verstehen.</span><span class="sxs-lookup"><span data-stu-id="8b415-128">Start by analyzing the business domain to understand the application's functional requirements.</span></span> <span data-ttu-id="8b415-129">Das Ergebnis dieses Schritts ist eine informelle Beschreibung des Geschäftsbereichs, die zu einer formelleren Gruppe von Domänenmodellen verfeinert werden kann.</span><span class="sxs-lookup"><span data-stu-id="8b415-129">The output of this step is an informal description of the domain, which can be refined into a more formal set of domain models.</span></span>

2. <span data-ttu-id="8b415-130">Als Nächstes definieren wir die *Kontextgrenzen* der Domäne.</span><span class="sxs-lookup"><span data-stu-id="8b415-130">Next, define the *bounded contexts* of the domain.</span></span> <span data-ttu-id="8b415-131">Jeder Kontextgrenzenbereich enthält ein Domänenmodell, das eine bestimmte Unterdomäne der übergeordneten Anwendung darstellt.</span><span class="sxs-lookup"><span data-stu-id="8b415-131">Each bounded context contains a domain model that represents a particular subdomain of the larger application.</span></span>

3. <span data-ttu-id="8b415-132">Wenden Sie innerhalb einer Kontextgrenze taktische DDD-Muster an, um Entitäten, Aggregate und Domänendienste zu definieren.</span><span class="sxs-lookup"><span data-stu-id="8b415-132">Within a bounded context, apply tactical DDD patterns to define entities, aggregates, and domain services.</span></span>

4. <span data-ttu-id="8b415-133">Verwenden Sie die Ergebnisse des vorherigen Schritts, um die Microservices Ihrer Anwendung zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="8b415-133">Use the results from the previous step to identify the microservices in your application.</span></span>

<span data-ttu-id="8b415-134">In diesem Artikel werden die ersten drei Schritte behandelt, in denen es hauptsächlich um DDD geht.</span><span class="sxs-lookup"><span data-stu-id="8b415-134">In this article, we cover the first three steps, which are primarily concerned with DDD.</span></span> <span data-ttu-id="8b415-135">Im nächsten Artikel beschäftigen wir uns dann mit den Microservices.</span><span class="sxs-lookup"><span data-stu-id="8b415-135">In the next article, we'll identify the microservices.</span></span> <span data-ttu-id="8b415-136">Hierbei sollte aber unbedingt beachtet werden, dass DDD ein iterativer, fortlaufender Prozess ist.</span><span class="sxs-lookup"><span data-stu-id="8b415-136">However, it's important to remember that DDD is an iterative, ongoing process.</span></span> <span data-ttu-id="8b415-137">Dienstgrenzen sind nicht in Stein gemeißelt.</span><span class="sxs-lookup"><span data-stu-id="8b415-137">Service boundaries aren't fixed in stone.</span></span> <span data-ttu-id="8b415-138">Wenn sich eine Anwendung weiterentwickelt, treffen Sie unter Umständen die Entscheidung, dass ein Dienst in mehrere kleinere Dienste unterteilt werden soll.</span><span class="sxs-lookup"><span data-stu-id="8b415-138">As an application evolves, you may decide to break apart a service into several smaller services.</span></span>

> [!NOTE]
> <span data-ttu-id="8b415-139">In diesem Artikel wird keine vollständige und umfassende Domänenanalyse gezeigt.</span><span class="sxs-lookup"><span data-stu-id="8b415-139">This article doesn't show a complete and comprehensive domain analysis.</span></span> <span data-ttu-id="8b415-140">Wir haben das Beispiel absichtlich kurz gehalten, um die wichtigsten Punkte besser verdeutlichen zu können.</span><span class="sxs-lookup"><span data-stu-id="8b415-140">We deliberately kept the example brief, to illustrate the main points.</span></span> <span data-ttu-id="8b415-141">Weitere Hintergrundinformationen zu DDD finden Sie im Buch *Domain-Driven Design* von Eric Evans, in dem dieser Begriff zuerst verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="8b415-141">For more background on DDD, we recommend Eric Evans' *Domain-Driven Design*, the book that first introduced the term.</span></span> <span data-ttu-id="8b415-142">Eine andere gute Quelle ist *Implementing Domain-Driven Design* von Vaughn Vernon.</span><span class="sxs-lookup"><span data-stu-id="8b415-142">Another good reference is *Implementing Domain-Driven Design* by Vaughn Vernon.</span></span>

## <a name="scenario-drone-delivery"></a><span data-ttu-id="8b415-143">Szenario: Drohnenlieferung</span><span class="sxs-lookup"><span data-stu-id="8b415-143">Scenario: Drone delivery</span></span>

<span data-ttu-id="8b415-144">Fabrikam, Inc. führt einen Drohnenlieferdienst ein.</span><span class="sxs-lookup"><span data-stu-id="8b415-144">Fabrikam, Inc. is starting a drone delivery service.</span></span> <span data-ttu-id="8b415-145">Das Unternehmen verfügt über eine Drohnenflotte.</span><span class="sxs-lookup"><span data-stu-id="8b415-145">The company manages a fleet of drone aircraft.</span></span> <span data-ttu-id="8b415-146">Unternehmen registrieren sich bei dem Dienst, und Benutzer können eine Drohne anfordern, die auszuliefernde Waren abholt.</span><span class="sxs-lookup"><span data-stu-id="8b415-146">Businesses register with the service, and users can request a drone to pick up goods for delivery.</span></span> <span data-ttu-id="8b415-147">Wenn ein Kunde einen Abholtermin festlegt, weist ein Back-End-System eine Drohne zu und teilt dem Benutzer die voraussichtliche Lieferzeit mit.</span><span class="sxs-lookup"><span data-stu-id="8b415-147">When a customer schedules a pickup, a backend system assigns a drone and notifies the user with an estimated delivery time.</span></span> <span data-ttu-id="8b415-148">Während der Durchführung der Lieferung kann der Kunde die Position der Drohne nachverfolgen, und die voraussichtliche Ankunftszeit wird kontinuierlich aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="8b415-148">While the delivery is in progress, the customer can track the location of the drone, with a continuously updated ETA.</span></span>

<span data-ttu-id="8b415-149">Dieses Szenario beinhaltet eine recht komplizierte Domäne.</span><span class="sxs-lookup"><span data-stu-id="8b415-149">This scenario involves a fairly complicated domain.</span></span> <span data-ttu-id="8b415-150">Zu den Anliegen des Unternehmens zählen unter anderem die Zeitplanung für die Drohnen, die Nachverfolgung von Paketen, die Verwaltung von Benutzerkonten sowie die Speicherung und Analyse von Verlaufsdaten.</span><span class="sxs-lookup"><span data-stu-id="8b415-150">Some of the business concerns include scheduling drones, tracking packages, managing user accounts, and storing and analyzing historical data.</span></span> <span data-ttu-id="8b415-151">Darüber hinaus ist Fabrikam an einer schnellen Marktreife interessiert und möchte dann zeitnah neue Features und Funktionen hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="8b415-151">Moreover, Fabrikam wants to get to market quickly and then iterate quickly, adding new functionality and capabilities.</span></span> <span data-ttu-id="8b415-152">Die Anwendung muss cloudfähig sein und über ein hohes Servicelevelziel (Service Level Objective, SLO) verfügen.</span><span class="sxs-lookup"><span data-stu-id="8b415-152">The application needs to operate at cloud scale, with a high service level objective (SLO).</span></span> <span data-ttu-id="8b415-153">Fabrikam erwartet außerdem erhebliche Unterschiede bei den Datenspeicher- und Abfrageanforderungen der verschiedenen Systemkomponenten.</span><span class="sxs-lookup"><span data-stu-id="8b415-153">Fabrikam also expects that different parts of the system will have very different requirements for data storage and querying.</span></span> <span data-ttu-id="8b415-154">Aufgrund dieser Überlegungen hat sich Fabrikam bei seiner Drohnenlieferungsanwendung für eine Microservices-Architektur entschieden.</span><span class="sxs-lookup"><span data-stu-id="8b415-154">All of these considerations lead Fabrikam to choose a microservices architecture for the Drone Delivery application.</span></span>

## <a name="analyze-the-domain"></a><span data-ttu-id="8b415-155">Analysieren der Domäne</span><span class="sxs-lookup"><span data-stu-id="8b415-155">Analyze the domain</span></span>

<span data-ttu-id="8b415-156">Bei der Nutzung eines DDD-Ansatzes können Sie Microservices so entwerfen, dass jeder Dienst auf natürliche Weise zu einer funktionsbezogenen Geschäftsanforderung passt.</span><span class="sxs-lookup"><span data-stu-id="8b415-156">Using a DDD approach will help you to design microservices so that every service forms a natural fit to a functional business requirement.</span></span> <span data-ttu-id="8b415-157">Auf diese Weise können Sie es vermeiden, dass Ihr Entwurf durch organisatorische Grenzen oder die ausgewählte Technologie bestimmt wird.</span><span class="sxs-lookup"><span data-stu-id="8b415-157">It can help you to avoid the trap of letting organizational boundaries or technology choices dictate your design.</span></span>

<span data-ttu-id="8b415-158">Bevor Sie Code schreiben, müssen Sie sich einen allgemeinen Überblick über das zu erstellende System verschaffen.</span><span class="sxs-lookup"><span data-stu-id="8b415-158">Before writing any code, you need a bird's eye view of the system that you are creating.</span></span> <span data-ttu-id="8b415-159">Beim DDD-Ansatz wird zuerst die Geschäftsdomäne modelliert und ein *Domänenmodell* erstellt.</span><span class="sxs-lookup"><span data-stu-id="8b415-159">DDD starts by modeling the business domain and creating a *domain model*.</span></span> <span data-ttu-id="8b415-160">Das Domänenmodell ist ein abstraktes Modell der Geschäftsdomäne.</span><span class="sxs-lookup"><span data-stu-id="8b415-160">The domain model is an abstract model of the business domain.</span></span> <span data-ttu-id="8b415-161">Hiermit wird das Domänenwissen zusammengefasst und organisiert und eine gemeinsame Sprache für Entwickler und Domänenexperten gefunden.</span><span class="sxs-lookup"><span data-stu-id="8b415-161">It distills and organizes domain knowledge, and provides a common language for developers and domain experts.</span></span>

<span data-ttu-id="8b415-162">Beginnen Sie, indem Sie alle Geschäftsfunktionen und ihre Verbindungen zuordnen.</span><span class="sxs-lookup"><span data-stu-id="8b415-162">Start by mapping all of the business functions and their connections.</span></span> <span data-ttu-id="8b415-163">Dies ist normalerweise ein Vorgang, der von Domänenexperten, Softwarearchitekten und anderen Projektbeteiligten gemeinsam durchgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="8b415-163">This will likely be a collaborative effort that involves domain experts, software architects, and other stakeholders.</span></span> <span data-ttu-id="8b415-164">Es muss kein bestimmter Formalismus eingehalten werden.</span><span class="sxs-lookup"><span data-stu-id="8b415-164">You don't need to use any particular formalism.</span></span>  <span data-ttu-id="8b415-165">Skizzieren Sie ein Diagramm, oder verwenden Sie ein Whiteboard.</span><span class="sxs-lookup"><span data-stu-id="8b415-165">Sketch a diagram or draw on whiteboard.</span></span>

<span data-ttu-id="8b415-166">Beim Erstellen des Diagramms können Sie damit beginnen, einzelne Unterdomänen zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="8b415-166">As you fill in the diagram, you may start to identify discrete subdomains.</span></span> <span data-ttu-id="8b415-167">Welche Funktionen sind eng verwandt?</span><span class="sxs-lookup"><span data-stu-id="8b415-167">Which functions are closely related?</span></span> <span data-ttu-id="8b415-168">Welche Funktionen sind für das Geschäft besonders wichtig, und welche Funktionen erfüllen Hilfszwecke?</span><span class="sxs-lookup"><span data-stu-id="8b415-168">Which functions are core to the business, and which provide ancillary services?</span></span> <span data-ttu-id="8b415-169">Was ist das Abhängigkeitsdiagramm?</span><span class="sxs-lookup"><span data-stu-id="8b415-169">What is the dependency graph?</span></span> <span data-ttu-id="8b415-170">Während dieser ersten Phase geht es nicht um Technologien oder Implementierungsdetails.</span><span class="sxs-lookup"><span data-stu-id="8b415-170">During this initial phase, you aren't concerned with technologies or implementation details.</span></span> <span data-ttu-id="8b415-171">Sie sollten sich aber darüber bewusst sein, an welchen Stellen die Anwendung in externe Systeme integriert werden muss, z.B. Systeme für CRM, Zahlungsverarbeitung oder Abrechnung.</span><span class="sxs-lookup"><span data-stu-id="8b415-171">That said, you should note the place where the application will need to integrate with external systems, such as CRM, payment processing, or billing systems.</span></span>

## <a name="example-drone-delivery-application"></a><span data-ttu-id="8b415-172">Beispiel: Drohnenlieferungsanwendung</span><span class="sxs-lookup"><span data-stu-id="8b415-172">Example: Drone delivery application</span></span>

<span data-ttu-id="8b415-173">Nach der ersten Domänenanalyse hat das Fabrikam-Team eine grobe Skizze erstellt, in der die Domäne der Drohnenlieferung dargestellt ist.</span><span class="sxs-lookup"><span data-stu-id="8b415-173">After some initial domain analysis, the Fabrikam team came up with a rough sketch that depicts the Drone Delivery domain.</span></span>

![Diagramm der Drohnenlieferdomäne](../images/ddd1.svg)

- <span data-ttu-id="8b415-175">**Lieferung** ist in der Mitte des Diagramms angeordnet, weil dies der Kern des Geschäfts ist.</span><span class="sxs-lookup"><span data-stu-id="8b415-175">**Shipping** is placed in the center of the diagram, because it's core to the business.</span></span> <span data-ttu-id="8b415-176">Alle anderen Elemente des Diagramms dienen der Ermöglichung dieser Funktionalität.</span><span class="sxs-lookup"><span data-stu-id="8b415-176">Everything else in the diagram exists to enable this functionality.</span></span>
- <span data-ttu-id="8b415-177">Die **Drohnenverwaltung** ist auch ein wichtiger Teil des Geschäfts.</span><span class="sxs-lookup"><span data-stu-id="8b415-177">**Drone management** is also core to the business.</span></span> <span data-ttu-id="8b415-178">Funktionen, die eng mit der Drohnenverwaltung verbunden sind, sind die **Drohnenreparatur** und der Einsatz von **Predictive Analysis**, um vorherzusagen, wann für Drohnen Wartungsarbeiten durchgeführt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="8b415-178">Functionality that is closely related to drone management includes **drone repair** and using **predictive analysis** to predict when drones need servicing and maintenance.</span></span>
- <span data-ttu-id="8b415-179">Mit der **ETA-Analyse** werden Schätzungen für den Zeitpunkt der Abholung und Lieferung bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="8b415-179">**ETA analysis** provides time estimates for pickup and delivery.</span></span>
- <span data-ttu-id="8b415-180">Mit dem **Drittanbietertransport** wird die Anwendung in die Lage versetzt, alternative Transportmethoden zu planen, falls ein Paket nicht vollständig per Drohne ausgeliefert werden kann.</span><span class="sxs-lookup"><span data-stu-id="8b415-180">**Third-party transportation** will enable the application to schedule alternative transportation methods if a package cannot be shipped entirely by drone.</span></span>
- <span data-ttu-id="8b415-181">Die **Drohnenvermietung** ist eine mögliche Erweiterung des Kerngeschäfts.</span><span class="sxs-lookup"><span data-stu-id="8b415-181">**Drone sharing** is a possible extension of the core business.</span></span> <span data-ttu-id="8b415-182">Unter Umständen verfügt das Unternehmen zu bestimmten Zeiten über überschüssige Drohnenkapazität, sodass Drohnen vermietet werden können, die andernfalls ungenutzt bleiben würden.</span><span class="sxs-lookup"><span data-stu-id="8b415-182">The company may have excess drone capacity during certain hours, and could rent out drones that would otherwise be idle.</span></span> <span data-ttu-id="8b415-183">Dieses Feature ist nicht Teil der ersten Releaseversion.</span><span class="sxs-lookup"><span data-stu-id="8b415-183">This feature will not be in the initial release.</span></span>
- <span data-ttu-id="8b415-184">Die **Videoüberwachung** ist ein weiterer Bereich, in den das Unternehmen später expandieren kann.</span><span class="sxs-lookup"><span data-stu-id="8b415-184">**Video surveillance** is another area that the company might expand into later.</span></span>
- <span data-ttu-id="8b415-185">**Benutzerkonten**, **Rechnungsstellung** und **Callcenter** sind Unterdomänen zur Unterstützung des Kerngeschäfts.</span><span class="sxs-lookup"><span data-stu-id="8b415-185">**User accounts**, **Invoicing**, and **Call center** are subdomains that support the core business.</span></span>

<span data-ttu-id="8b415-186">Beachten Sie, dass wir an diesem Punkt des Prozesses noch keinerlei Entscheidungen zur Implementierung oder zur Technologie getroffen haben.</span><span class="sxs-lookup"><span data-stu-id="8b415-186">Notice that at this point in the process, we haven't made any decisions about implementation or technologies.</span></span> <span data-ttu-id="8b415-187">Einige Untersysteme können externe Softwaresysteme oder Drittanbieterdienste betreffen.</span><span class="sxs-lookup"><span data-stu-id="8b415-187">Some of the subsystems may involve external software systems or third-party services.</span></span> <span data-ttu-id="8b415-188">Trotzdem muss die Anwendung mit diesen Systemen und Diensten interagieren, und es ist wichtig, sie in das Domänenmodell einzubinden.</span><span class="sxs-lookup"><span data-stu-id="8b415-188">Even so, the application needs to interact with these systems and services, so it's important to include them in the domain model.</span></span>

> [!NOTE]
> <span data-ttu-id="8b415-189">Wenn eine Anwendung von einem externen System abhängig ist, besteht das Risiko, dass das Datenschema oder die API des externen Systems in Ihre Anwendung hineinreicht und letztendlich den Entwurf der Architektur kompromittiert.</span><span class="sxs-lookup"><span data-stu-id="8b415-189">When an application depends on an external system, there is a risk that the external system's data schema or API will leak into your application, ultimately compromising the architectural design.</span></span> <span data-ttu-id="8b415-190">Dies gilt besonders für ältere Systeme, bei denen ggf. keine modernen bewährten Methoden befolgt und verworrene Datenschemas oder veraltete APIs verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="8b415-190">This is particularly true with legacy systems that may not follow modern best practices, and may use convoluted data schemas or obsolete APIs.</span></span> <span data-ttu-id="8b415-191">In diesem Fall ist es wichtig, eine klar definierte Grenze zwischen diesen externen Systemen und der Anwendung einzurichten.</span><span class="sxs-lookup"><span data-stu-id="8b415-191">In that case, it's important to have a well-defined boundary between these external systems and the application.</span></span> <span data-ttu-id="8b415-192">Erwägen Sie zu diesem Zweck die Verwendung des [Einschnürungsmusters](../../patterns/strangler.md) oder des [Musters „Antibeschädigungsebene“](../../patterns/anti-corruption-layer.md).</span><span class="sxs-lookup"><span data-stu-id="8b415-192">Consider using the [Strangler pattern](../../patterns/strangler.md) or the [Anti-Corruption Layer pattern](../../patterns/anti-corruption-layer.md) for this purpose.</span></span>

## <a name="define-bounded-contexts"></a><span data-ttu-id="8b415-193">Definieren von Kontextgrenzen</span><span class="sxs-lookup"><span data-stu-id="8b415-193">Define bounded contexts</span></span>

<span data-ttu-id="8b415-194">Das Domänenmodell enthält Darstellungen von realen Dingen: Benutzer, Drohnen, Pakete usw.</span><span class="sxs-lookup"><span data-stu-id="8b415-194">The domain model will include representations of real things in the world &mdash; users, drones, packages, and so forth.</span></span> <span data-ttu-id="8b415-195">Dies bedeutet aber nicht, dass jeder Teil des Systems für dieselben Dinge die gleichen Darstellungen verwenden muss.</span><span class="sxs-lookup"><span data-stu-id="8b415-195">But that doesn't mean that every part of the system needs to use the same representations for the same things.</span></span>

<span data-ttu-id="8b415-196">Beispielsweise müssen Subsysteme, die für die Drohnenreparatur und Predictive Analytics zuständig sind, viele physische Merkmale von Drohnen darstellen, z.B. den Wartungsverlauf, Kilometerleistung, Alter, Modellnummer, Leistungsmerkmale usw.</span><span class="sxs-lookup"><span data-stu-id="8b415-196">For example, subsystems that handle drone repair and predictive analysis will need to represent many physical characteristics drones, such as their maintenance history, mileage, age, model number, performance characteristics, and so on.</span></span> <span data-ttu-id="8b415-197">Wenn es aber um die Planung einer Lieferung geht, kümmern wir uns nicht um diese Dinge.</span><span class="sxs-lookup"><span data-stu-id="8b415-197">But when it's time to schedule a delivery, we don't care about those things.</span></span> <span data-ttu-id="8b415-198">Das Subsystem für die Planung muss nur wissen, ob eine Drohne verfügbar ist und welcher geschätzte Zeitpunkt für die Abholung und die Lieferung gilt.</span><span class="sxs-lookup"><span data-stu-id="8b415-198">The scheduling subsystem only needs to know whether a drone is available, and the ETA for pickup and delivery.</span></span>

<span data-ttu-id="8b415-199">Wenn wir versuchen würden, ein gemeinsames Modell für beide Subsysteme zu erstellen, wäre dies ein unnötig komplexer Vorgang.</span><span class="sxs-lookup"><span data-stu-id="8b415-199">If we tried to create a single model for both of these subsystems, it would be unnecessarily complex.</span></span> <span data-ttu-id="8b415-200">Außerdem wäre es schwieriger, das Modell im Laufe der Zeit weiterzuentwickeln, da alle Änderungen die Zustimmung mehrerer Teams erhalten müssen, die an separaten Subsystemen arbeiten.</span><span class="sxs-lookup"><span data-stu-id="8b415-200">It would also become harder for the model to evolve over time, because any changes will need to satisfy multiple teams working on separate subsystems.</span></span> <span data-ttu-id="8b415-201">Daher ist es häufig besser, separate Modelle zu entwerfen, bei denen die gleiche reale Entität (in diesem Fall eine Drohne) in zwei unterschiedlichen Kontexten dargestellt wird.</span><span class="sxs-lookup"><span data-stu-id="8b415-201">Therefore, it's often better to design separate models that represent the same real-world entity (in this case, a drone) in two different contexts.</span></span> <span data-ttu-id="8b415-202">Jedes Modell enthält nur die Features und Attribute, die im jeweiligen Kontext relevant sind.</span><span class="sxs-lookup"><span data-stu-id="8b415-202">Each model contains only the features and attributes that are relevant within its particular context.</span></span>

<span data-ttu-id="8b415-203">An dieser Stelle wird auf das DDD-Konzept der *Kontextgrenzen* zurückgegriffen.</span><span class="sxs-lookup"><span data-stu-id="8b415-203">This is where the DDD concept of *bounded contexts* comes into play.</span></span> <span data-ttu-id="8b415-204">Eine Kontextgrenze bezeichnet einfach den abgegrenzten Bereich innerhalb einer Domäne, in dem ein bestimmtes Domänenmodell gilt.</span><span class="sxs-lookup"><span data-stu-id="8b415-204">A bounded context is simply the boundary within a domain where a particular domain model applies.</span></span> <span data-ttu-id="8b415-205">Wenn wir uns das obige Diagramm ansehen, können wir die Funktionalität danach gruppieren, ob von den einzelnen Funktionen ein Domänenmodell gemeinsam genutzt wird.</span><span class="sxs-lookup"><span data-stu-id="8b415-205">Looking at the previous diagram, we can group functionality according to whether various functions will share a single domain model.</span></span>

![Diagramm zu Kontextgrenzen](../images/ddd2.svg)

<span data-ttu-id="8b415-207">Kontextgrenzen bedeuten nicht unbedingt, dass Kontexte voneinander isoliert sind.</span><span class="sxs-lookup"><span data-stu-id="8b415-207">Bounded contexts are not necessarily isolated from one another.</span></span> <span data-ttu-id="8b415-208">In diesem Diagramm zeigen die durchgehenden Verbindungslinien zwischen den Kontextgrenzen die Stellen an, an denen die Kontexte zweier Kontextgrenzen interagieren.</span><span class="sxs-lookup"><span data-stu-id="8b415-208">In this diagram, the solid lines connecting the bounded contexts represent places where two bounded contexts interact.</span></span> <span data-ttu-id="8b415-209">Beispielsweise ist „Lieferung“ von „Benutzerkonten“ abhängig, um Informationen zu Kunden zu erhalten, und von „Drohnenverwaltung“, um die Drohnen der Flotte einplanen zu können.</span><span class="sxs-lookup"><span data-stu-id="8b415-209">For example, Shipping depends on User Accounts to get information about customers, and on Drone Management to schedule drones from the fleet.</span></span>

<span data-ttu-id="8b415-210">In seinem Buch *Domain Driven Design* beschreibt Eric Evans mehrere Muster zur Wahrung der Integrität eines Domänenmodells, wenn es mit dem Kontext einer anderen Kontextgrenze interagiert.</span><span class="sxs-lookup"><span data-stu-id="8b415-210">In the book *Domain Driven Design*, Eric Evans describes several patterns for maintaining the integrity of a domain model when it interacts with another bounded context.</span></span> <span data-ttu-id="8b415-211">Eines der wichtigsten Prinzipien von Microservices ist die Kommunikation der Dienste über klar definierte APIs.</span><span class="sxs-lookup"><span data-stu-id="8b415-211">One of the main principles of microservices is that services communicate through well-defined APIs.</span></span> <span data-ttu-id="8b415-212">Dieser Ansatz entspricht zwei Mustern, die von Eric Evans als „Open Host Service“ (Offener Hostdienst) und „Published Language“ (Veröffentlichte Sprache) bezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="8b415-212">This approach corresponds to two patterns that Evans calls Open Host Service and Published Language.</span></span> <span data-ttu-id="8b415-213">Bei „Open Host Service“ definiert ein Subsystem ein formelles Protokoll (API) für die Kommunikation mit anderen Subsystemen.</span><span class="sxs-lookup"><span data-stu-id="8b415-213">The idea of Open Host Service is that a subsystem defines a formal protocol (API) for other subsystems to communicate with it.</span></span> <span data-ttu-id="8b415-214">Mit „Published Language“ wird dieser Ansatz erweitert, indem die API in einer Form veröffentlicht wird, die von anderen Teams zum Schreiben von Clients genutzt werden kann.</span><span class="sxs-lookup"><span data-stu-id="8b415-214">Published Language extends this idea by publishing the API in a form that other teams can use to write clients.</span></span> <span data-ttu-id="8b415-215">Im Artikel [Designing APIs for microservices](../design/api-design.md) (Entwerfen von APIs für Microservices) wird die Verwendung der [OpenAPI-Spezifikation](https://www.openapis.org/specification/repo) (ehemals Swagger) beschrieben. Sie dient zum Definieren von sprachunabhängigen Schnittstellenbeschreibungen für REST-APIs, die im JSON- oder YAML-Format ausgedrückt werden.</span><span class="sxs-lookup"><span data-stu-id="8b415-215">In the article [Designing APIs for microservices](../design/api-design.md), we discuss using [OpenAPI Specification](https://www.openapis.org/specification/repo) (formerly known as Swagger) to define language-agnostic interface descriptions for REST APIs, expressed in JSON or YAML format.</span></span>

<span data-ttu-id="8b415-216">Im restlichen Teil dieser Vorgehensweise konzentrieren wir uns auf die Kontextgrenze „Lieferung“.</span><span class="sxs-lookup"><span data-stu-id="8b415-216">For the rest of this journey, we will focus on the Shipping bounded context.</span></span>

## <a name="next-steps"></a><span data-ttu-id="8b415-217">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="8b415-217">Next steps</span></span>

<span data-ttu-id="8b415-218">Nach Abschluss einer Domänenanalyse folgt die taktische DDD-Phase, in der Sie Ihre Domänenmodelle genauer definieren.</span><span class="sxs-lookup"><span data-stu-id="8b415-218">After completing a domain analysis, the next step is to apply tactical DDD, to define your domain models with more precision.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="8b415-219">Taktische DDD-Phase</span><span class="sxs-lookup"><span data-stu-id="8b415-219">Tactical DDD</span></span>](./tactical-ddd.md)
