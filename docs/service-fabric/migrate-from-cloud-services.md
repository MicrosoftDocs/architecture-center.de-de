---
title: Migrieren einer Azure Cloud Services-Anwendung zu Azure Service Fabric
description: Informationen zum Migrieren einer Anwendung von Azure Cloud Services zu Azure Service Fabric.
author: MikeWasson
ms.date: 04/27/2017
ms.openlocfilehash: 22b6cca0d4714dd4cde0fd7449340d6e1f45e65b
ms.sourcegitcommit: fbcf9a1c25db13b2627a8a58bbc985cd01ea668d
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/16/2017
---
# <a name="migrate-an-azure-cloud-services-application-to-azure-service-fabric"></a><span data-ttu-id="a25c9-103">Migrieren einer Azure Cloud Services-Anwendung zu Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a25c9-103">Migrate an Azure Cloud Services application to Azure Service Fabric</span></span> 

<span data-ttu-id="a25c9-104">[![GitHub](../_images/github.png)-Beispielcode][sample-code]</span><span class="sxs-lookup"><span data-stu-id="a25c9-104">[![GitHub](../_images/github.png) Sample code][sample-code]</span></span>

<span data-ttu-id="a25c9-105">In diesem Artikel wird die Migration einer Anwendung von Azure Cloud Services zu Azure Service Fabric beschrieben.</span><span class="sxs-lookup"><span data-stu-id="a25c9-105">This article describes migrating an application from Azure Cloud Services to Azure Service Fabric.</span></span> <span data-ttu-id="a25c9-106">Er konzentriert sich auf architekturbezogene Entscheidungen und empfohlene Vorgehensweisen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-106">It focuses on architectural decisions and recommended practices.</span></span> 

<span data-ttu-id="a25c9-107">Für dieses Projekt haben wir mit einer Cloud Services-Anwendung namens „Surveys“ begonnen und diese zu Service Fabric portiert.</span><span class="sxs-lookup"><span data-stu-id="a25c9-107">For this project, we started with a Cloud Services application called Surveys and ported it to Service Fabric.</span></span> <span data-ttu-id="a25c9-108">Ziel war es, die Anwendung mit möglichst wenigen Änderungen zu migrieren.</span><span class="sxs-lookup"><span data-stu-id="a25c9-108">The goal was to migrate the application with as few changes as possible.</span></span> <span data-ttu-id="a25c9-109">In einem späteren Artikel werden wir die Anwendung für Service Fabric optimieren, indem wir eine Microservices-Architektur übernehmen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-109">In a later article, we will optimize the application for Service Fabric by adopting a microservices architecture.</span></span>

<span data-ttu-id="a25c9-110">Bevor Sie diesen Artikel lesen, ist es hilfreich, die Grundlagen der Service Fabric- und Microservices-Architekturen im Allgemeinen zu verstehen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-110">Before reading this article, it will be useful to understand the basics of Service Fabric and microservices architectures in general.</span></span> <span data-ttu-id="a25c9-111">Entsprechende Informationen finden Sie in den folgenden Artikeln:</span><span class="sxs-lookup"><span data-stu-id="a25c9-111">See the following articles:</span></span>

- <span data-ttu-id="a25c9-112">[Übersicht über Azure Service Fabric][sf-overview]</span><span class="sxs-lookup"><span data-stu-id="a25c9-112">[Overview of Azure Service Fabric][sf-overview]</span></span>
- <span data-ttu-id="a25c9-113">[Gründe für einen Microservices-Ansatz zum Erstellen von Anwendungen][sf-why-microservices]</span><span class="sxs-lookup"><span data-stu-id="a25c9-113">[Why a microservices approach to building applications?][sf-why-microservices]</span></span>


## <a name="about-the-surveys-application"></a><span data-ttu-id="a25c9-114">Informationen zur Anwendung „Surveys“</span><span class="sxs-lookup"><span data-stu-id="a25c9-114">About the Surveys application</span></span>

<span data-ttu-id="a25c9-115">Im Jahr 2012 hat die Gruppe für Muster und Vorgehensweisen eine Anwendung namens „Surveys“ für das Buch [Developing Multi-tenant Applications for the Cloud][tailspin-book] (Entwickeln von mehrinstanzenfähigen Anwendungen für die Cloud) erstellt.</span><span class="sxs-lookup"><span data-stu-id="a25c9-115">In 2012, the patterns & practices group created an application called Surveys, for a book called [Developing Multi-tenant Applications for the Cloud][tailspin-book].</span></span> <span data-ttu-id="a25c9-116">Das Buch beschreibt ein fiktives Unternehmen namens „Tailspin“, das die Anwendung „Surveys“ entwirft und implementiert.</span><span class="sxs-lookup"><span data-stu-id="a25c9-116">The book describes a fictitious company named Tailspin that designs and implements the Surveys application.</span></span>

<span data-ttu-id="a25c9-117">„Surveys“ ist eine mehrinstanzenfähige Anwendung, mit der Kunden Umfragen erstellen können.</span><span class="sxs-lookup"><span data-stu-id="a25c9-117">Surveys is a multitenant application that allows customers to create surveys.</span></span> <span data-ttu-id="a25c9-118">Nachdem sich ein Kunde für die Anwendung angemeldet hat, können Mitglieder der Organisation des Kunden Umfragen erstellen und veröffentlichen und die Ergebnisse zur Analyse sammeln.</span><span class="sxs-lookup"><span data-stu-id="a25c9-118">After a customer signs up for the application,  members of the customer's organization can create and publish surveys, and collect the results for analysis.</span></span> <span data-ttu-id="a25c9-119">Die Anwendung enthält eine öffentliche Website, auf der die Benutzer an einer Umfrage teilnehmen können.</span><span class="sxs-lookup"><span data-stu-id="a25c9-119">The application includes a public website where people can take a survey.</span></span> <span data-ttu-id="a25c9-120">Weitere Informationen zum ursprünglichen Tailspin-Szenario finden Sie [hier][tailspin-scenario].</span><span class="sxs-lookup"><span data-stu-id="a25c9-120">Read more about the original Tailspin scenario [here][tailspin-scenario].</span></span>

<span data-ttu-id="a25c9-121">Jetzt will Tailspin die Surveys-Anwendung mithilfe von Service Fabric, das unter Azure ausgeführt wird, in eine Microservices-Architektur verschieben.</span><span class="sxs-lookup"><span data-stu-id="a25c9-121">Now Tailspin wants to move the Surveys application to a microservices architecture, using Service Fabric running on Azure.</span></span> <span data-ttu-id="a25c9-122">Da die Anwendung bereits als Cloud Services-Anwendung bereitgestellt wurde, verfolgt Tailspin einen mehrstufigen Ansatz:</span><span class="sxs-lookup"><span data-stu-id="a25c9-122">Because the application is already deployed as a Cloud Services application, Tailspin adopts a multi-phase approach:</span></span>

1.  <span data-ttu-id="a25c9-123">Portierung der Clouddienste zu Service Fabric bei gleichzeitiger Minimierung von Änderungen an der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="a25c9-123">Port the cloud services to Service Fabric, while minimizing changes to the application.</span></span>
2.  <span data-ttu-id="a25c9-124">Optimierung der Anwendung für Service Fabric durch Umstellung auf eine Microservices-Architektur.</span><span class="sxs-lookup"><span data-stu-id="a25c9-124">Optimize the application for Service Fabric, by moving to a microservices architecture.</span></span>

<span data-ttu-id="a25c9-125">In diesem Artikel wird die erste Phase beschrieben.</span><span class="sxs-lookup"><span data-stu-id="a25c9-125">This article describes the first phase.</span></span> <span data-ttu-id="a25c9-126">In einem späteren Artikel wird die zweite Phase beschrieben.</span><span class="sxs-lookup"><span data-stu-id="a25c9-126">A later article will describe the second phase.</span></span> <span data-ttu-id="a25c9-127">In einem realen Projekt ist es wahrscheinlich, dass sich beide Phasen überlappen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-127">In a real-world project, it's likely that both stages would overlap.</span></span> <span data-ttu-id="a25c9-128">Bei der Portierung zu Service Fabric würden Sie auch damit beginnen, die Anwendung in Mikroservices umzugestalten.</span><span class="sxs-lookup"><span data-stu-id="a25c9-128">While porting to Service Fabric, you would also start to re-architect the application into micro-services.</span></span> <span data-ttu-id="a25c9-129">Später können Sie die Architektur weiter verfeinern und umfassendere Dienste in kleinere Dienste unterteilen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-129">Later you might refine the architecture further, perhaps dividing coarse-grained services into smaller services.</span></span>  

<span data-ttu-id="a25c9-130">Der Anwendungscode steht auf [GitHub][sample-code] zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="a25c9-130">The application code is available on [GitHub][sample-code].</span></span> <span data-ttu-id="a25c9-131">Dieses Repository enthält sowohl die Cloud Services-Anwendung als auch die Service Fabric-Version.</span><span class="sxs-lookup"><span data-stu-id="a25c9-131">This repo contains both the Cloud Services application and the Service Fabric version.</span></span> 

> <span data-ttu-id="a25c9-132">Der Clouddienst ist eine aktualisierte Version der ursprünglichen Anwendung aus dem Buch *Developing Multi-tenant Applications* (Entwickeln von mehrinstanzenfähigen Anwendungen).</span><span class="sxs-lookup"><span data-stu-id="a25c9-132">The cloud service is an updated version of the original application from the *Developing Multi-tenant Applications* book.</span></span>

## <a name="why-microservices"></a><span data-ttu-id="a25c9-133">Gründe für die Verwendung von Microservices</span><span class="sxs-lookup"><span data-stu-id="a25c9-133">Why Microservices?</span></span>

<span data-ttu-id="a25c9-134">Eine ausführliche Auseinandersetzung mit Mikroservices geht über den Rahmen dieses Artikels hinaus, aber hier folgen einige der Vorteile, die Tailspin durch den Umstieg auf eine Mikroservices-Architektur erzielen möchte:</span><span class="sxs-lookup"><span data-stu-id="a25c9-134">An in-depth discussion of microservices is beyond scope of this article, but here are some of the benefits that Tailspin hopes to get by moving to a microservices architecture:</span></span>

- <span data-ttu-id="a25c9-135">**Anwendungsupgrades**:</span><span class="sxs-lookup"><span data-stu-id="a25c9-135">**Application upgrades**.</span></span> <span data-ttu-id="a25c9-136">Dienste können unabhängig voneinander bereitgestellt werden, sodass Sie einen inkrementellen Ansatz zum Ausführen von Upgrades für eine Anwendung verfolgen können.</span><span class="sxs-lookup"><span data-stu-id="a25c9-136">Services can be deployed independently, so you can take an incremental approach to upgrading an application.</span></span>
- <span data-ttu-id="a25c9-137">**Resilienz und Fehlerisolierung**:</span><span class="sxs-lookup"><span data-stu-id="a25c9-137">**Resiliency and fault isolation**.</span></span> <span data-ttu-id="a25c9-138">Wenn ein Dienst fehlerhaft ist, werden andere Dienste weiterhin ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="a25c9-138">If a service fails, other services continue to run.</span></span>
- <span data-ttu-id="a25c9-139">**Skalierbarkeit**.</span><span class="sxs-lookup"><span data-stu-id="a25c9-139">**Scalability**.</span></span> <span data-ttu-id="a25c9-140">Die Dienste können unabhängig voneinander skaliert werden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-140">Services can be scaled independently.</span></span>
- <span data-ttu-id="a25c9-141">**Flexibilität**:</span><span class="sxs-lookup"><span data-stu-id="a25c9-141">**Flexibility**.</span></span> <span data-ttu-id="a25c9-142">Dienste sind auf Geschäftsszenarien und nicht auf Technologiestapel ausgerichtet und erleichtern die Migration von Diensten zu neuen Technologien, Frameworks oder Datenspeichern.</span><span class="sxs-lookup"><span data-stu-id="a25c9-142">Services are designed around business scenarios, not technology stacks, making it easier to migrate services to new technologies, frameworks, or data stores.</span></span>
- <span data-ttu-id="a25c9-143">**Agile Entwicklung**:</span><span class="sxs-lookup"><span data-stu-id="a25c9-143">**Agile development**.</span></span> <span data-ttu-id="a25c9-144">Einzelne Dienste weisen weniger Code als eine monolithische Anwendung auf, wodurch die Codebasis leichter zu verstehen, zu begründen und zu testen ist.</span><span class="sxs-lookup"><span data-stu-id="a25c9-144">Individual services have less code than a monolithic application, making the code base easier to understand, reason about, and test.</span></span>
- <span data-ttu-id="a25c9-145">**Kleine, fokussierte Teams**:</span><span class="sxs-lookup"><span data-stu-id="a25c9-145">**Small, focused teams**.</span></span> <span data-ttu-id="a25c9-146">Da die Anwendung in viele kleine Dienste unterteilt ist, kann jeder Dienst von einem kleinen, fokussierten Team erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-146">Because the application is broken down into many small services, each service can be built by a small focused team.</span></span>

## <a name="why-service-fabric"></a><span data-ttu-id="a25c9-147">Gründe für Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a25c9-147">Why Service Fabric?</span></span>
      
<span data-ttu-id="a25c9-148">Service Fabric eignet sich gut für eine Mikroservices-Architektur, da die meisten Funktionen, die in einem verteilten System benötigt werden, in Service Fabric integriert sind, einschließlich:</span><span class="sxs-lookup"><span data-stu-id="a25c9-148">Service Fabric is a good fit for a microservices architecture, because most of the features needed in a distributed system are built into Service Fabric, including:</span></span>

- <span data-ttu-id="a25c9-149">**Clusterverwaltung**:</span><span class="sxs-lookup"><span data-stu-id="a25c9-149">**Cluster management**.</span></span> <span data-ttu-id="a25c9-150">Service Fabric übernimmt automatisch Knotenfailover, Integritätsüberwachung und andere Funktionen der Clusterverwaltung.</span><span class="sxs-lookup"><span data-stu-id="a25c9-150">Service Fabric automatically handles node failover, health monitoring, and other cluster management functions.</span></span>
- <span data-ttu-id="a25c9-151">**Horizontale Skalierung**:</span><span class="sxs-lookup"><span data-stu-id="a25c9-151">**Horizontal scaling**.</span></span> <span data-ttu-id="a25c9-152">Wenn Sie Knoten zu einem Service Fabric-Cluster hinzufügen, wird die Anwendung automatisch skaliert, da die Dienste auf die neuen Knoten verteilt werden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-152">When you add nodes to a Service Fabric cluster, the application automatically scales, as services are distributed across the new nodes.</span></span>
- <span data-ttu-id="a25c9-153">**Dienstermittlung**:</span><span class="sxs-lookup"><span data-stu-id="a25c9-153">**Service discovery**.</span></span> <span data-ttu-id="a25c9-154">Service Fabric stellt einen Ermittlungsdienst bereit, der den Endpunkt für einen benannten Dienst auflösen kann.</span><span class="sxs-lookup"><span data-stu-id="a25c9-154">Service Fabric provides a discovery service that can resolve the endpoint for a named service.</span></span>
- <span data-ttu-id="a25c9-155">**Zustandslose und zustandsbehaftete Dienste**:</span><span class="sxs-lookup"><span data-stu-id="a25c9-155">**Stateless and stateful services**.</span></span> <span data-ttu-id="a25c9-156">Zustandsbehaftete Dienste verwenden [zuverlässige Sammlungen][sf-reliable-collections], die an die Stelle eines Cache oder einer Warteschlange treten und partitioniert werden können.</span><span class="sxs-lookup"><span data-stu-id="a25c9-156">Stateful services use [reliable collections][sf-reliable-collections], which can take the place of a cache or queue, and can be partitioned.</span></span>
- <span data-ttu-id="a25c9-157">**Anwendungslebenszyklusverwaltung**:</span><span class="sxs-lookup"><span data-stu-id="a25c9-157">**Application lifecycle management**.</span></span> <span data-ttu-id="a25c9-158">Ein Upgrade der Dienste ist unabhängig und ohne Ausfallzeiten der Anwendungen möglich.</span><span class="sxs-lookup"><span data-stu-id="a25c9-158">Services can be upgraded independently and without application downtime.</span></span>
- <span data-ttu-id="a25c9-159">**Dienstorchestrierung** für einen Cluster aus Computern.</span><span class="sxs-lookup"><span data-stu-id="a25c9-159">**Service orchestration** across a cluster of machines.</span></span>
- <span data-ttu-id="a25c9-160">**Höhere Dichte** zur Optimierung des Ressourcenverbrauchs.</span><span class="sxs-lookup"><span data-stu-id="a25c9-160">**Higher density** for optimizing resource consumption.</span></span> <span data-ttu-id="a25c9-161">Ein einzelner Knoten kann mehrere Dienste hosten.</span><span class="sxs-lookup"><span data-stu-id="a25c9-161">A single node can host multiple services.</span></span>

<span data-ttu-id="a25c9-162">Service Fabric wird von verschiedenen Microsoft-Diensten verwendet, darunter Azure SQL-Datenbank, Cosmos DB, Azure Event Hubs und andere, was es zu einer bewährten Plattform für die Erstellung verteilter Cloudanwendungen macht.</span><span class="sxs-lookup"><span data-stu-id="a25c9-162">Service Fabric is used by various Microsoft services, including Azure SQL Database, Cosmos DB, Azure Event Hubs, and others, making it a proven platform for building distributed cloud applications.</span></span> 

## <a name="comparing-cloud-services-with-service-fabric"></a><span data-ttu-id="a25c9-163">Unterschiede zwischen Cloud Services und Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a25c9-163">Comparing Cloud Services with Service Fabric</span></span>

<span data-ttu-id="a25c9-164">In der folgenden Tabelle sind einige der wichtigsten Unterschiede zwischen Cloud Services- und Service Fabric-Anwendungen zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="a25c9-164">The following table summarizes some of the important differences between Cloud Services and Service Fabric applications.</span></span> <span data-ttu-id="a25c9-165">Eine ausführlichere Beschreibung finden Sie unter [Lernen Sie die Unterschiede zwischen Cloud Services und Service Fabric kennen, bevor Sie Anwendungen migrieren][sf-compare-cloud-services].</span><span class="sxs-lookup"><span data-stu-id="a25c9-165">For a more in-depth discussion, see [Learn about the differences between Cloud Services and Service Fabric before migrating applications][sf-compare-cloud-services].</span></span>

|        | <span data-ttu-id="a25c9-166">Cloud Services</span><span class="sxs-lookup"><span data-stu-id="a25c9-166">Cloud Services</span></span> | <span data-ttu-id="a25c9-167">Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a25c9-167">Service Fabric</span></span> |
|--------|---------------|----------------|
| <span data-ttu-id="a25c9-168">Anwendungskomposition</span><span class="sxs-lookup"><span data-stu-id="a25c9-168">Application composition</span></span> | <span data-ttu-id="a25c9-169">Rollen</span><span class="sxs-lookup"><span data-stu-id="a25c9-169">Roles</span></span>| <span data-ttu-id="a25c9-170">Dienste</span><span class="sxs-lookup"><span data-stu-id="a25c9-170">Services</span></span> |
| <span data-ttu-id="a25c9-171">Dichte</span><span class="sxs-lookup"><span data-stu-id="a25c9-171">Density</span></span> |<span data-ttu-id="a25c9-172">Eine Rolleninstanz pro VM</span><span class="sxs-lookup"><span data-stu-id="a25c9-172">One role instance per VM</span></span> | <span data-ttu-id="a25c9-173">Mehrere Dienste auf einem einzelnen Knoten</span><span class="sxs-lookup"><span data-stu-id="a25c9-173">Multiple services in a single node</span></span> |
| <span data-ttu-id="a25c9-174">Mindestanzahl von Knoten</span><span class="sxs-lookup"><span data-stu-id="a25c9-174">Minimum number of nodes</span></span> | <span data-ttu-id="a25c9-175">2 pro Rolle</span><span class="sxs-lookup"><span data-stu-id="a25c9-175">2 per role</span></span> | <span data-ttu-id="a25c9-176">5 pro Cluster für Produktionsbereitstellungen</span><span class="sxs-lookup"><span data-stu-id="a25c9-176">5 per cluster, for production deployments</span></span> |
| <span data-ttu-id="a25c9-177">Zustandsverwaltung</span><span class="sxs-lookup"><span data-stu-id="a25c9-177">State management</span></span> | <span data-ttu-id="a25c9-178">Zustandslos</span><span class="sxs-lookup"><span data-stu-id="a25c9-178">Stateless</span></span> | <span data-ttu-id="a25c9-179">Zustandslos oder zustandsbehaftet*</span><span class="sxs-lookup"><span data-stu-id="a25c9-179">Stateless or stateful*</span></span> |
| <span data-ttu-id="a25c9-180">Hosting</span><span class="sxs-lookup"><span data-stu-id="a25c9-180">Hosting</span></span> | <span data-ttu-id="a25c9-181">Azure</span><span class="sxs-lookup"><span data-stu-id="a25c9-181">Azure</span></span> | <span data-ttu-id="a25c9-182">Cloud oder lokal</span><span class="sxs-lookup"><span data-stu-id="a25c9-182">Cloud or on-premises</span></span> |
| <span data-ttu-id="a25c9-183">Webhosting</span><span class="sxs-lookup"><span data-stu-id="a25c9-183">Web hosting</span></span> | <span data-ttu-id="a25c9-184">IIS**</span><span class="sxs-lookup"><span data-stu-id="a25c9-184">IIS**</span></span> | <span data-ttu-id="a25c9-185">Self-Hosting</span><span class="sxs-lookup"><span data-stu-id="a25c9-185">Self-hosting</span></span> |
| <span data-ttu-id="a25c9-186">Bereitstellungsmodell</span><span class="sxs-lookup"><span data-stu-id="a25c9-186">Deployment model</span></span> | <span data-ttu-id="a25c9-187">[Klassisches Bereitstellungsmodell][azure-deployment-models]</span><span class="sxs-lookup"><span data-stu-id="a25c9-187">[Classic deployment model][azure-deployment-models]</span></span> | <span data-ttu-id="a25c9-188">[Resource Manager][azure-deployment-models]</span><span class="sxs-lookup"><span data-stu-id="a25c9-188">[Resource Manager][azure-deployment-models]</span></span>  |
| <span data-ttu-id="a25c9-189">Verpackung</span><span class="sxs-lookup"><span data-stu-id="a25c9-189">Packaging</span></span> | <span data-ttu-id="a25c9-190">Clouddienst-Paketdateien (.cspkg)</span><span class="sxs-lookup"><span data-stu-id="a25c9-190">Cloud service package files (.cspkg)</span></span> | <span data-ttu-id="a25c9-191">Anwendungs- und Dienstpakete</span><span class="sxs-lookup"><span data-stu-id="a25c9-191">Application and service packages</span></span> |
| <span data-ttu-id="a25c9-192">Anwendungsupdate</span><span class="sxs-lookup"><span data-stu-id="a25c9-192">Application update</span></span> | <span data-ttu-id="a25c9-193">VIP-Austausch oder paralleles Update</span><span class="sxs-lookup"><span data-stu-id="a25c9-193">VIP swap or rolling update</span></span> | <span data-ttu-id="a25c9-194">Paralleles Update</span><span class="sxs-lookup"><span data-stu-id="a25c9-194">Rolling update</span></span> |
| <span data-ttu-id="a25c9-195">Automatische Skalierung</span><span class="sxs-lookup"><span data-stu-id="a25c9-195">Auto-scaling</span></span> | <span data-ttu-id="a25c9-196">[Integrierter Dienst][cloud-service-autoscale]</span><span class="sxs-lookup"><span data-stu-id="a25c9-196">[Built-in service][cloud-service-autoscale]</span></span> | <span data-ttu-id="a25c9-197">VM-Skalierungsgruppen für die automatische horizontale Skalierung</span><span class="sxs-lookup"><span data-stu-id="a25c9-197">VM Scale Sets for auto scale out</span></span> |
| <span data-ttu-id="a25c9-198">Debuggen</span><span class="sxs-lookup"><span data-stu-id="a25c9-198">Debugging</span></span> | <span data-ttu-id="a25c9-199">Lokaler Emulator</span><span class="sxs-lookup"><span data-stu-id="a25c9-199">Local emulator</span></span> | <span data-ttu-id="a25c9-200">Lokaler Cluster</span><span class="sxs-lookup"><span data-stu-id="a25c9-200">Local cluster</span></span> |


<span data-ttu-id="a25c9-201">\*Zustandsbehaftete Dienste verwenden [zuverlässige Sammlungen][sf-reliable-collections], um den Zustand replikatübergreifend zu speichern, damit alle Lesezugriffe lokal zu den Knoten im Cluster erfolgen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-201">\* Stateful services use [reliable collections][sf-reliable-collections] to store state across replicas, so that all reads are local to the nodes in the cluster.</span></span> <span data-ttu-id="a25c9-202">Schreibzugriffe werden aus Zuverlässigkeitsgründen knotenübergreifend repliziert.</span><span class="sxs-lookup"><span data-stu-id="a25c9-202">Writes are replicated across nodes for reliability.</span></span> <span data-ttu-id="a25c9-203">Zustandslose Dienste können einen externen Zustand aufweisen, indem sie eine Datenbank oder einen anderen externen Speicher verwenden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-203">Stateless services can have external state, using a database or other external storage.</span></span>

<span data-ttu-id="a25c9-204">** Workerrollen können die ASP.NET-Web-API mithilfe von OWIN auch selbst hosten.</span><span class="sxs-lookup"><span data-stu-id="a25c9-204">** Worker roles can also self-host ASP.NET Web API using OWIN.</span></span>

## <a name="the-surveys-application-on-cloud-services"></a><span data-ttu-id="a25c9-205">Die Anwendung „Surveys“ unter Cloud Services</span><span class="sxs-lookup"><span data-stu-id="a25c9-205">The Surveys application on Cloud Services</span></span>

<span data-ttu-id="a25c9-206">Das folgende Diagramm zeigt die Architektur der Surveys-Anwendung, die unter Cloud Services ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="a25c9-206">The following diagram shows the architecture of the Surveys application running on Cloud Services.</span></span> 

![](./images/tailspin01.png)

<span data-ttu-id="a25c9-207">Die Anwendung besteht aus zwei Webrollen und einer Workerrolle.</span><span class="sxs-lookup"><span data-stu-id="a25c9-207">The application consists of two web roles and a worker role.</span></span>

- <span data-ttu-id="a25c9-208">Die Webrolle **Tailspin.Web** hostet eine ASP.NET-Website, die Tailspin-Kunden zum Erstellen und Verwalten von Umfragen verwenden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-208">The **Tailspin.Web** web role hosts an ASP.NET website that Tailspin customers use to create and manage surveys.</span></span> <span data-ttu-id="a25c9-209">Kunden können sich auch über diese Website für die Anwendung registrieren und ihre Abonnements verwalten.</span><span class="sxs-lookup"><span data-stu-id="a25c9-209">Customers also use this website to sign up for the application and manage their subscriptions.</span></span> <span data-ttu-id="a25c9-210">Schließlich können Tailspin-Administratoren damit die Liste der Mandanten anzeigen und die Mandantendaten verwalten.</span><span class="sxs-lookup"><span data-stu-id="a25c9-210">Finally, Tailspin administrators can use it to see the list of tenants and manage tenant data.</span></span> 

- <span data-ttu-id="a25c9-211">Die Webrolle **Tailspin.Web.Survey.Public** hostet eine ASP.NET-Website, auf der die Teilnehmer an den Umfragen teilnehmen können, die Tailspin-Kunden veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-211">The **Tailspin.Web.Survey.Public** web role hosts an ASP.NET website where people can take the surveys that Tailspin customers publish.</span></span> 

- <span data-ttu-id="a25c9-212">Die Workerrolle **Tailspin.Workers.Survey** führt die Hintergrundverarbeitung durch.</span><span class="sxs-lookup"><span data-stu-id="a25c9-212">The **Tailspin.Workers.Survey** worker role does background processing.</span></span> <span data-ttu-id="a25c9-213">Die Webrollen stellen Arbeitsaufgaben in eine Warteschlange, und die Workerrolle verarbeitet die Arbeitsaufgaben.</span><span class="sxs-lookup"><span data-stu-id="a25c9-213">The web roles put work items onto a queue, and the worker role processes the items.</span></span> <span data-ttu-id="a25c9-214">Zwei Hintergrundaufgaben sind definiert: Exportieren von Umfrageantworten in die Azure SQL-Datenbank und Berechnen von Statistiken für Umfrageantworten.</span><span class="sxs-lookup"><span data-stu-id="a25c9-214">Two background tasks are defined: Exporting survey answers to Azure SQL Database, and calculating statistics for survey answers.</span></span>

<span data-ttu-id="a25c9-215">Zusätzlich zu den Cloud Services verwendet die Surveys-Anwendung einige andere Azure-Dienste:</span><span class="sxs-lookup"><span data-stu-id="a25c9-215">In addition to Cloud Services, the Surveys application uses some other Azure services:</span></span>

- <span data-ttu-id="a25c9-216">**Azure Storage**, um Umfragen, Umfrageantworten und Mandanteninformationen zu speichern.</span><span class="sxs-lookup"><span data-stu-id="a25c9-216">**Azure Storage** to store surveys, surveys answers, and tenant information.</span></span>

- <span data-ttu-id="a25c9-217">**Azure Redis Cache**, um einige der Daten, die in Azure Storage gespeichert werden, für einen schnelleren Lesezugriff zwischenzuspeichern.</span><span class="sxs-lookup"><span data-stu-id="a25c9-217">**Azure Redis Cache** to cache some of the data that is stored in Azure Storage, for faster read access.</span></span> 

- <span data-ttu-id="a25c9-218">**Azure Active Directory** (Azure AD), um Kunden und Tailspin-Administratoren zu authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="a25c9-218">**Azure Active Directory** (Azure AD) to authenticate customers and Tailspin administrators.</span></span>

- <span data-ttu-id="a25c9-219">**Azure SQL-Datenbank**, um Umfrageantworten für die Analyse zu speichern.</span><span class="sxs-lookup"><span data-stu-id="a25c9-219">**Azure SQL Database** to store the survey answers for analysis.</span></span> 

## <a name="moving-to-service-fabric"></a><span data-ttu-id="a25c9-220">Wechsel zu Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a25c9-220">Moving to Service Fabric</span></span>

<span data-ttu-id="a25c9-221">Wie bereits erwähnt, war das Ziel dieser Phase die Migration zu Service Fabric mit den minimal notwendigen Änderungen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-221">As mentioned, the goal of this phase was migrating to Service Fabric with the minimum necessary changes.</span></span> <span data-ttu-id="a25c9-222">Zu diesem Zweck haben wir zustandslose Dienste erstellt, die den einzelnen Clouddienstrollen in der ursprünglichen Anwendung entsprechen:</span><span class="sxs-lookup"><span data-stu-id="a25c9-222">To that end, we created stateless services corresponding to each cloud service role in the original application:</span></span>

![](./images/tailspin02.png)

<span data-ttu-id="a25c9-223">Diese Architektur ist der ursprünglichen Anwendung bewusst sehr ähnlich.</span><span class="sxs-lookup"><span data-stu-id="a25c9-223">Intentionally, this architecture is very similar to the original application.</span></span> <span data-ttu-id="a25c9-224">Das Diagramm blendet jedoch einige wichtige Unterschiede aus.</span><span class="sxs-lookup"><span data-stu-id="a25c9-224">However, the diagram hides some important differences.</span></span> <span data-ttu-id="a25c9-225">Im Rest dieses Artikels werden wir diese Unterschiede untersuchen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-225">In the rest of this article, we'll explore those differences.</span></span> 


## <a name="converting-the-cloud-service-roles-to-services"></a><span data-ttu-id="a25c9-226">Konvertieren von Clouddienstrollen in Dienste</span><span class="sxs-lookup"><span data-stu-id="a25c9-226">Converting the cloud service roles to services</span></span>

<span data-ttu-id="a25c9-227">Wie bereits erwähnt, haben wir jede Clouddienstrolle zu einem Service Fabric-Dienst migriert.</span><span class="sxs-lookup"><span data-stu-id="a25c9-227">As mentioned, we migrated each cloud service role to a Service Fabric service.</span></span> <span data-ttu-id="a25c9-228">Da Clouddienstrollen zustandslos sind, war es in dieser Phase sinnvoll, zustandslose Dienste in Service Fabric zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-228">Because cloud service roles are stateless, for this phase it made sense to create stateless services in Service Fabric.</span></span> 

<span data-ttu-id="a25c9-229">Für die Migration haben wir die Schritte befolgt, die im Abschnitt [Anleitung zur Konvertierung von Web- und Workerrollen in zustandslose Service Fabric-Dienste][sf-migration] aufgeführt sind.</span><span class="sxs-lookup"><span data-stu-id="a25c9-229">For the migration, we followed the steps outlined in [Guide to converting Web and Worker Roles to Service Fabric stateless services][sf-migration].</span></span> 

### <a name="creating-the-web-front-end-services"></a><span data-ttu-id="a25c9-230">Erstellen der Web-Front-End-Dienste</span><span class="sxs-lookup"><span data-stu-id="a25c9-230">Creating the web front-end services</span></span>

<span data-ttu-id="a25c9-231">In Service Fabric wird ein Dienst innerhalb eines Prozesses ausgeführt, der von der Service Fabric-Laufzeit erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="a25c9-231">In Service Fabric, a service runs inside a process created by the Service Fabric runtime.</span></span> <span data-ttu-id="a25c9-232">Für ein Web-Front-End bedeutet dies, dass der Dienst nicht innerhalb von IIS ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="a25c9-232">For a web front end, that means the service is not running inside IIS.</span></span> <span data-ttu-id="a25c9-233">Stattdessen muss der Dienst einen Webserver hosten.</span><span class="sxs-lookup"><span data-stu-id="a25c9-233">Instead, the service must host a web server.</span></span> <span data-ttu-id="a25c9-234">Dieser Ansatz wird *Self-Hosting* genannt, da der Code, der innerhalb des Prozesses aufgeführt wird, als Webserverhost fungiert.</span><span class="sxs-lookup"><span data-stu-id="a25c9-234">This approach is called *self-hosting*, because the code that runs inside the process acts as the web server host.</span></span> 

<span data-ttu-id="a25c9-235">Die Anforderung zum Self-Hosting bedeutet, dass ein Service Fabric-Dienst keine ASP.NET MVC- oder ASP.NET-Web Forms verwenden kann, da diese Frameworks IIS erfordern und Self-Hosting nicht unterstützen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-235">The requirement to self-host means that a Service Fabric service can't use ASP.NET MVC or ASP.NET Web Forms, because those frameworks require IIS and do not support self-hosting.</span></span> <span data-ttu-id="a25c9-236">Zu den Optionen für das Self-Hosting zählen:</span><span class="sxs-lookup"><span data-stu-id="a25c9-236">Options for self-hosting include:</span></span>

- <span data-ttu-id="a25c9-237">[ASP.NET Core][aspnet-core], mit dem [Kestrel][kestrel]-Webserver selbstgehostet.</span><span class="sxs-lookup"><span data-stu-id="a25c9-237">[ASP.NET Core][aspnet-core], self-hosted using the [Kestrel][kestrel] web server.</span></span> 
- <span data-ttu-id="a25c9-238">[ASP.NET Web API][aspnet-webapi], mithilfe von [OWIN][owin] selbstgehostet.</span><span class="sxs-lookup"><span data-stu-id="a25c9-238">[ASP.NET Web API][aspnet-webapi], self-hosted using [OWIN][owin].</span></span>
- <span data-ttu-id="a25c9-239">Frameworks von Drittanbietern wie [Nancy](http://nancyfx.org/).</span><span class="sxs-lookup"><span data-stu-id="a25c9-239">Third-party frameworks such as [Nancy](http://nancyfx.org/).</span></span>

<span data-ttu-id="a25c9-240">Die ursprüngliche Surveys-Anwendung verwendet ASP.NET MVC.</span><span class="sxs-lookup"><span data-stu-id="a25c9-240">The original Surveys application uses ASP.NET MVC.</span></span> <span data-ttu-id="a25c9-241">Da ASP.NET MVC in Service Fabric nicht selbstgehostet werden kann, haben wir die folgenden Migrationsoptionen in Betracht gezogen:</span><span class="sxs-lookup"><span data-stu-id="a25c9-241">Because ASP.NET MVC cannot be self-hosted in Service Fabric, we considered the following migration options:</span></span>

- <span data-ttu-id="a25c9-242">Portieren Sie die Webrollen zu ASP. NET Core, das selbstgehostet werden kann.</span><span class="sxs-lookup"><span data-stu-id="a25c9-242">Port the web roles to ASP.NET Core, which can be self-hosted.</span></span>
- <span data-ttu-id="a25c9-243">Konvertieren Sie die Website in eine einseitige Anwendung (SPA), die eine Web-API aufruft, die mit der ASP.NET-Web-API implementiert wurde.</span><span class="sxs-lookup"><span data-stu-id="a25c9-243">Convert the web site into a single-page application (SPA) that calls a web API implemented using ASP.NET Web API.</span></span> <span data-ttu-id="a25c9-244">Dies hätte eine komplette Neugestaltung des Web-Front-Ends erforderlich gemacht.</span><span class="sxs-lookup"><span data-stu-id="a25c9-244">This would have required a complete redesign of the web front end.</span></span>
- <span data-ttu-id="a25c9-245">Behalten Sie den vorhandenen ASP.NET MVC-Code bei, und stellen Sie IIS in einem Windows Server-Container für Service Fabric bereit.</span><span class="sxs-lookup"><span data-stu-id="a25c9-245">Keep the existing ASP.NET MVC code and deploy IIS in a Windows Server container to Service Fabric.</span></span> <span data-ttu-id="a25c9-246">Dieser Ansatz würde nur eine geringe oder gar keine Codeänderung erfordern.</span><span class="sxs-lookup"><span data-stu-id="a25c9-246">This approach would require little or no code change.</span></span> <span data-ttu-id="a25c9-247">Die [Containerunterstützung][sf-containers] in Service Fabric befindet sich derzeit jedoch noch in der Vorschauversion.</span><span class="sxs-lookup"><span data-stu-id="a25c9-247">However, [container support][sf-containers] in Service Fabric is currently still in preview.</span></span>

<span data-ttu-id="a25c9-248">Auf der Grundlage dieser Überlegungen haben wir uns für die erste Option entschieden, die Portierung zu ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="a25c9-248">Based on these considerations, we selected the first option, porting to ASP.NET Core.</span></span> <span data-ttu-id="a25c9-249">Dazu haben wir die Schritte befolgt, die in [Migrieren von ASP.NET MVC zu ASP.NET Core MVC][aspnet-migration] beschrieben sind.</span><span class="sxs-lookup"><span data-stu-id="a25c9-249">To do so, we followed the steps described in [Migrating From ASP.NET MVC to ASP.NET Core MVC][aspnet-migration].</span></span> 

> [!NOTE]
> <span data-ttu-id="a25c9-250">Wenn Sie ASP.NET Core mit Kestrel verwenden, sollten Sie aus Sicherheitsgründen einen Reverseproxy vor Kestrel platzieren, um den Datenverkehr aus dem Internet zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="a25c9-250">When using ASP.NET Core with Kestrel, you should place a reverse proxy in front of Kestrel to handle traffic from the Internet, for security reasons.</span></span> <span data-ttu-id="a25c9-251">Weitere Informationen finden Sie unter [Einführung in die Kestrel-Webserverimplementierung in ASP.NET Core][kestrel].</span><span class="sxs-lookup"><span data-stu-id="a25c9-251">For more information, see [Kestrel web server implementation in ASP.NET Core][kestrel].</span></span> <span data-ttu-id="a25c9-252">Der Abschnitt [Bereitstellen der Anwendung](#deploying-the-application) beschreibt eine empfohlene Azure-Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="a25c9-252">The section [Deploying the application](#deploying-the-application) describes a recommended Azure deployment.</span></span>

### <a name="http-listeners"></a><span data-ttu-id="a25c9-253">HTTP-Listener</span><span class="sxs-lookup"><span data-stu-id="a25c9-253">HTTP listeners</span></span>

<span data-ttu-id="a25c9-254">In Cloud Services macht eine Web- oder Workerrolle einen HTTP-Endpunkt verfügbar, indem dieser in der [Dienstdefinitionsdatei][cloud-service-endpoints] deklariert wird.</span><span class="sxs-lookup"><span data-stu-id="a25c9-254">In Cloud Services, a web or worker role exposes an HTTP endpoint by declaring it in the [service definition file][cloud-service-endpoints].</span></span> <span data-ttu-id="a25c9-255">Eine Webrolle muss über mindestens einen Endpunkt verfügen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-255">A web role must have at least one endpoint.</span></span>

```xml
<!-- Cloud service endpoint -->
<Endpoints>
    <InputEndpoint name="HttpIn" protocol="http" port="80" />
</Endpoints>
```

<span data-ttu-id="a25c9-256">Auf ähnliche Weise werden Service Fabric-Endpunkte in einem Dienstmanifest deklariert:</span><span class="sxs-lookup"><span data-stu-id="a25c9-256">Similarly, Service Fabric endpoints are declared in a service manifest:</span></span> 

```xml
<!-- Service Fabric endpoint -->
<Endpoints>
    <Endpoint Protocol="http" Name="ServiceEndpoint" Type="Input" Port="8002" />
</Endpoints>
```

<span data-ttu-id="a25c9-257">Im Gegensatz zu einer Clouddienstrolle können Service Fabric-Dienste jedoch innerhalb desselben Knotens gemeinsam platziert werden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-257">Unlike a cloud service role, however, Service Fabric services can be co-located within the same node.</span></span> <span data-ttu-id="a25c9-258">Aus diesem Grund muss jeder Dienst an einem eindeutigen Port lauschen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-258">Therefore, every service must listen on a distinct port.</span></span> <span data-ttu-id="a25c9-259">Später in diesem Artikel werden wir besprechen, wie Clientanforderungen an Port 80 oder Port 443 zum richtigen Port für den Dienst weitergeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-259">Later in this article, we'll discuss how client requests on port 80 or port 443 get routed to the correct port for the service.</span></span>

<span data-ttu-id="a25c9-260">Ein Dienst muss für jeden Endpunkt explizit Listener erstellen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-260">A service must explicitly create listeners for each endpoint.</span></span> <span data-ttu-id="a25c9-261">Der Grund dafür ist, dass Service Fabric sich nicht mit Kommunikationsstapeln auseinandersetzt.</span><span class="sxs-lookup"><span data-stu-id="a25c9-261">The reason is that Service Fabric is agnostic about communication stacks.</span></span> <span data-ttu-id="a25c9-262">Weitere Informationen finden Sie unter [Erstellen eines Webdienst-Front-Ends für Ihre Anwendung mithilfe von ASP.NET Core][sf-aspnet-core].</span><span class="sxs-lookup"><span data-stu-id="a25c9-262">For more information, see [Build a web service front end for your application using ASP.NET Core][sf-aspnet-core].</span></span>

## <a name="packaging-and-configuration"></a><span data-ttu-id="a25c9-263">Verpackung und Konfiguration</span><span class="sxs-lookup"><span data-stu-id="a25c9-263">Packaging and configuration</span></span>

 <span data-ttu-id="a25c9-264">Ein Clouddienst enthält die folgenden Konfigurations- und Paketdateien:</span><span class="sxs-lookup"><span data-stu-id="a25c9-264">A cloud service contains the following configuration and package files:</span></span>

| <span data-ttu-id="a25c9-265">Datei</span><span class="sxs-lookup"><span data-stu-id="a25c9-265">File</span></span> | <span data-ttu-id="a25c9-266">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="a25c9-266">Description</span></span> |
|------|-------------|
| <span data-ttu-id="a25c9-267">Dienstdefinitionsdatei (.csdef)</span><span class="sxs-lookup"><span data-stu-id="a25c9-267">Service definition (.csdef)</span></span> | <span data-ttu-id="a25c9-268">Einstellungen, die von Azure verwendet werden, um den Clouddienst zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="a25c9-268">Settings used by Azure to configure the cloud service.</span></span> <span data-ttu-id="a25c9-269">Definiert die Rollen, Endpunkte, Startaufgaben und die Namen von Konfigurationseinstellungen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-269">Defines the roles, endpoints, startup tasks, and the names of configuration settings.</span></span> |
| <span data-ttu-id="a25c9-270">Dienstkonfigurationsschema (.cscfg)</span><span class="sxs-lookup"><span data-stu-id="a25c9-270">Service configuration (.cscfg)</span></span> | <span data-ttu-id="a25c9-271">Bereitstellungsabhängige Einstellungen, einschließlich der Anzahl der Rolleninstanzen, der Portnummern der Endpunkte und der Werte der Konfigurationseinstellungen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-271">Per-deployment settings, including the number of role instances, endpoint port numbers, and the values of configuration settings.</span></span> 
| <span data-ttu-id="a25c9-272">Dienstpaket (.cspkg)</span><span class="sxs-lookup"><span data-stu-id="a25c9-272">Service package (.cspkg)</span></span> | <span data-ttu-id="a25c9-273">Enthält den Anwendungscode, die Konfigurationen und die Dienstdefinitionsdatei.</span><span class="sxs-lookup"><span data-stu-id="a25c9-273">Contains the application code and configurations, and the service definition file.</span></span>  |

<span data-ttu-id="a25c9-274">Es gibt eine CSDEF-Datei für die gesamte Anwendung.</span><span class="sxs-lookup"><span data-stu-id="a25c9-274">There is one .csdef file for the entire application.</span></span> <span data-ttu-id="a25c9-275">Sie können mehrere CSCFG-Dateien für verschiedene Umgebungen verwenden, z. B. „Lokal“, „Test“ oder „Produktion“.</span><span class="sxs-lookup"><span data-stu-id="a25c9-275">You can have multiple .cscfg files for different environments, such as local, test, or production.</span></span> <span data-ttu-id="a25c9-276">Wenn der Dienst ausgeführt wird, können Sie die CSCFG-Datei aktualisieren, aber nicht die CSDEF-Datei.</span><span class="sxs-lookup"><span data-stu-id="a25c9-276">When the service is running, you can update the .cscfg but not the .csdef.</span></span> <span data-ttu-id="a25c9-277">Weitere Informationen finden Sie unter [Was ist das Clouddienstmodell, und wie kann es gepackt werden?][cloud-service-config]</span><span class="sxs-lookup"><span data-stu-id="a25c9-277">For more information, see [What is the Cloud Service model and how do I package it?][cloud-service-config]</span></span>

<span data-ttu-id="a25c9-278">Service Fabric weist eine ähnliche Trennung von *Dienstdefinition* und *Diensteinstellungen* auf, aber die Struktur ist differenzierter.</span><span class="sxs-lookup"><span data-stu-id="a25c9-278">Service Fabric has a similar division between a service *definition* and service *settings*, but the structure is more granular.</span></span> <span data-ttu-id="a25c9-279">Um das Konfigurationsmodell von Service Fabric zu verstehen, ist es hilfreich zu erkennen, wie eine Service Fabric-Anwendung verpackt ist.</span><span class="sxs-lookup"><span data-stu-id="a25c9-279">To understand Service Fabric's configuration model, it helps to understand how a Service Fabric application is packaged.</span></span> <span data-ttu-id="a25c9-280">Folgende Struktur wird verwendet:</span><span class="sxs-lookup"><span data-stu-id="a25c9-280">Here is the structure:</span></span>

```
Application package
  - Service packages
    - Code package
    - Configuration package
    - Data package (optional)
```

<span data-ttu-id="a25c9-281">Das Anwendungspaket ist das, was Sie bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-281">The application package is what you deploy.</span></span> <span data-ttu-id="a25c9-282">Es enthält mindestens ein Dienstpaket.</span><span class="sxs-lookup"><span data-stu-id="a25c9-282">It contains one or more service packages.</span></span> <span data-ttu-id="a25c9-283">Ein Dienstpaket enthält Code-, Konfigurations- und Datenpakete.</span><span class="sxs-lookup"><span data-stu-id="a25c9-283">A service package contains code, configuration, and data packages.</span></span> <span data-ttu-id="a25c9-284">Das Codepaket enthält die Binärdateien für die Dienste, während das Konfigurationspaket die Konfigurationseinstellungen enthält.</span><span class="sxs-lookup"><span data-stu-id="a25c9-284">The code package contains the binaries for the services, and the configuration package contains configuration settings.</span></span> <span data-ttu-id="a25c9-285">Dieses Modell gestattet es Ihnen, einzelne Dienste zu aktualisieren, ohne die gesamte Anwendung erneut bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-285">This model allows you to upgrade individual services without redeploying the entire application.</span></span> <span data-ttu-id="a25c9-286">Außerdem können Sie nur die Konfigurationseinstellungen aktualisieren, ohne den Code erneut bereitzustellen oder den Dienst erneut zu starten.</span><span class="sxs-lookup"><span data-stu-id="a25c9-286">It also lets you update just the configuration settings, without redeploying the code or restarting the service.</span></span>

<span data-ttu-id="a25c9-287">Eine Service Fabric-Anwendung enthält die folgenden Konfigurationsdateien:</span><span class="sxs-lookup"><span data-stu-id="a25c9-287">A Service Fabric application contains the following configuration files:</span></span>

| <span data-ttu-id="a25c9-288">Datei</span><span class="sxs-lookup"><span data-stu-id="a25c9-288">File</span></span> | <span data-ttu-id="a25c9-289">Standort</span><span class="sxs-lookup"><span data-stu-id="a25c9-289">Location</span></span> | <span data-ttu-id="a25c9-290">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="a25c9-290">Description</span></span> |
|------|----------|-------------|
| <span data-ttu-id="a25c9-291">ApplicationManifest.xml</span><span class="sxs-lookup"><span data-stu-id="a25c9-291">ApplicationManifest.xml</span></span> | <span data-ttu-id="a25c9-292">Anwendungspaket</span><span class="sxs-lookup"><span data-stu-id="a25c9-292">Application package</span></span> | <span data-ttu-id="a25c9-293">Definiert die Dienste, aus denen sich die Anwendung zusammensetzt.</span><span class="sxs-lookup"><span data-stu-id="a25c9-293">Defines the services that compose the application.</span></span> |
| <span data-ttu-id="a25c9-294">ServiceManifest.xml</span><span class="sxs-lookup"><span data-stu-id="a25c9-294">ServiceManifest.xml</span></span> | <span data-ttu-id="a25c9-295">Dienstpaket</span><span class="sxs-lookup"><span data-stu-id="a25c9-295">Service package</span></span>| <span data-ttu-id="a25c9-296">Beschreibt mindestens einen Dienst.</span><span class="sxs-lookup"><span data-stu-id="a25c9-296">Describes one or more services.</span></span> |
| <span data-ttu-id="a25c9-297">Settings.xml</span><span class="sxs-lookup"><span data-stu-id="a25c9-297">Settings.xml</span></span> | <span data-ttu-id="a25c9-298">Konfigurationspaket</span><span class="sxs-lookup"><span data-stu-id="a25c9-298">Configuration package</span></span> | <span data-ttu-id="a25c9-299">Enthält Konfigurationseinstellungen für die Dienste, die im Dienstpaket definiert sind.</span><span class="sxs-lookup"><span data-stu-id="a25c9-299">Contains configuration settings for the services defined in the service package.</span></span> |

<span data-ttu-id="a25c9-300">Weitere Informationen finden Sie unter [Modellieren einer Anwendung in Service Fabric][sf-application-model].</span><span class="sxs-lookup"><span data-stu-id="a25c9-300">For more information, see [Model an application in Service Fabric][sf-application-model].</span></span>

<span data-ttu-id="a25c9-301">Wenn Sie verschiedene Konfigurationseinstellungen für mehrere Umgebungen unterstützen möchten, verwenden Sie den folgenden Ansatz, der in [Verwalten von Anwendungsparametern für mehrere Umgebungen][sf-multiple-environments] beschrieben ist:</span><span class="sxs-lookup"><span data-stu-id="a25c9-301">To support different configuration settings for multiple environments, use the following approach, described in [Manage application parameters for multiple environments][sf-multiple-environments]:</span></span>

1. <span data-ttu-id="a25c9-302">Definieren Sie die Einstellung in der Datei „Setting.xml“ für den Dienst.</span><span class="sxs-lookup"><span data-stu-id="a25c9-302">Define the setting in the Setting.xml file for the service.</span></span>
2. <span data-ttu-id="a25c9-303">Definieren Sie im Anwendungsmanifest eine Außerkraftsetzung für die Einstellung.</span><span class="sxs-lookup"><span data-stu-id="a25c9-303">In the application manifest, define an override for the setting.</span></span>
3. <span data-ttu-id="a25c9-304">Stellen Sie umgebungsspezifische Einstellungen in Anwendungsparameterdateien.</span><span class="sxs-lookup"><span data-stu-id="a25c9-304">Put environment-specific settings into application parameter files.</span></span>


## <a name="deploying-the-application"></a><span data-ttu-id="a25c9-305">Bereitstellen der Anwendung</span><span class="sxs-lookup"><span data-stu-id="a25c9-305">Deploying the application</span></span>

<span data-ttu-id="a25c9-306">Während Azure Cloud Services ein verwalteter Dienst ist, handelt es sich bei Service Fabric um eine Laufzeit.</span><span class="sxs-lookup"><span data-stu-id="a25c9-306">Whereas Azure Cloud Services is a managed service, Service Fabric is a runtime.</span></span> <span data-ttu-id="a25c9-307">Sie können Service Fabric-Cluster in vielen Umgebungen erstellen, einschließlich Azure und lokal.</span><span class="sxs-lookup"><span data-stu-id="a25c9-307">You can create Service Fabric clusters in many environments, including Azure and on premises.</span></span> <span data-ttu-id="a25c9-308">In diesem Artikel konzentrieren wir uns auf die Bereitstellung für Azure.</span><span class="sxs-lookup"><span data-stu-id="a25c9-308">In this article, we focus on deploying to Azure.</span></span> 

<span data-ttu-id="a25c9-309">Das folgende Diagramm zeigt eine empfohlene Bereitstellung:</span><span class="sxs-lookup"><span data-stu-id="a25c9-309">The following diagram shows a recommended deployment:</span></span>

![](./images/tailspin-cluster.png)

<span data-ttu-id="a25c9-310">Der Service Fabric-Cluster wird in einer [VM-Skalierungsgruppe][vm-scale-sets] bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="a25c9-310">The Service Fabric cluster is deployed to a [VM scale set][vm-scale-sets].</span></span> <span data-ttu-id="a25c9-311">Skalierungsgruppen sind eine Azure-Computeressource, mit der Sie eine Gruppe von identischen virtuellen Computern bereitstellen und verwalten können.</span><span class="sxs-lookup"><span data-stu-id="a25c9-311">Scale sets are an Azure Compute resource that can be used to deploy and manage a set of identical VMs.</span></span> 

<span data-ttu-id="a25c9-312">Wie bereits erwähnt, benötigt der Kestrel-Webserver aus Sicherheitsgründen einen Reverseproxy.</span><span class="sxs-lookup"><span data-stu-id="a25c9-312">As mentioned, the Kestrel web server requires a reverse proxy for security reasons.</span></span> <span data-ttu-id="a25c9-313">Dieses Diagramm zeigt [Azure Application Gateway][application-gateway], ein Azure-Dienst, der verschiedene Layer 7-Lastausgleichsfunktionen bietet.</span><span class="sxs-lookup"><span data-stu-id="a25c9-313">This diagram shows [Azure Application Gateway][application-gateway], which is an Azure service that offers various layer 7 load balancing capabilities.</span></span> <span data-ttu-id="a25c9-314">Er fungiert als Reverseproxydienst, beendet die Clientverbindung und leitet Anforderungen an Back-End-Endpunkte weiter.</span><span class="sxs-lookup"><span data-stu-id="a25c9-314">It acts as a reverse-proxy service, terminating the client connection and forwarding requests to back-end endpoints.</span></span> <span data-ttu-id="a25c9-315">Möglicherweise verwenden Sie eine andere Reverseproxylösung wie nginx.</span><span class="sxs-lookup"><span data-stu-id="a25c9-315">You might use a different reverse proxy solution, such as nginx.</span></span>  

### <a name="layer-7-routing"></a><span data-ttu-id="a25c9-316">Layer 7-Routing</span><span class="sxs-lookup"><span data-stu-id="a25c9-316">Layer 7 routing</span></span>

<span data-ttu-id="a25c9-317">In der ursprünglichen [Survey-Anwendung](https://msdn.microsoft.com/en-us/library/hh534477.aspx#sec21) lauschte eine Webrolle an Port 80 und die andere Webrolle an Port 443.</span><span class="sxs-lookup"><span data-stu-id="a25c9-317">In the [original Surveys application](https://msdn.microsoft.com/en-us/library/hh534477.aspx#sec21), one web role listened on port 80, and the other web role listened on port 443.</span></span> 

| <span data-ttu-id="a25c9-318">Öffentliche Website</span><span class="sxs-lookup"><span data-stu-id="a25c9-318">Public site</span></span> | <span data-ttu-id="a25c9-319">Umfrageverwaltungswebsite</span><span class="sxs-lookup"><span data-stu-id="a25c9-319">Survey management site</span></span> |
|-------------|------------------------|
| `http://tailspin.cloudapp.net` | `https://tailspin.cloudapp.net` |

<span data-ttu-id="a25c9-320">Eine andere Möglichkeit besteht darin, das Layer 7-Routing zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-320">Another option is to use layer 7 routing.</span></span> <span data-ttu-id="a25c9-321">Bei diesem Ansatz werden unterschiedliche URL-Pfade zu unterschiedlichen Portnummern am Back-End weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="a25c9-321">In this approach, different URL paths get routed to different port numbers on the back end.</span></span> <span data-ttu-id="a25c9-322">Die öffentliche Website kann z. B. URL-Pfade verwenden, die mit `/public/` beginnen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-322">For example, the public site might use URL paths starting with `/public/`.</span></span> 

<span data-ttu-id="a25c9-323">Folgende Optionen zählen zum Layer 7-Routing:</span><span class="sxs-lookup"><span data-stu-id="a25c9-323">Options for layer 7 routing include:</span></span>

- <span data-ttu-id="a25c9-324">Die Verwendung von Application Gateway.</span><span class="sxs-lookup"><span data-stu-id="a25c9-324">Use Application Gateway.</span></span> 

- <span data-ttu-id="a25c9-325">Die Verwendung eines virtuellen Netzwerkgeräts wie nginx.</span><span class="sxs-lookup"><span data-stu-id="a25c9-325">Use a network virtual appliance (NVA), such as nginx.</span></span>

- <span data-ttu-id="a25c9-326">Das Schreiben eines benutzerdefinierten Gateways als zustandsloser Dienst.</span><span class="sxs-lookup"><span data-stu-id="a25c9-326">Write a custom gateway as a stateless service.</span></span>

<span data-ttu-id="a25c9-327">Betrachten Sie diesen Ansatz, wenn Sie über zwei oder mehr Dienste mit öffentlichen HTTP-Endpunkten verfügen, diese aber als einzelne Website mit einem einzigen Domänennamen angezeigt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-327">Consider this approach if you have two or more services with public HTTP endpoints, but want them to appear as one site with a single domain name.</span></span>

> <span data-ttu-id="a25c9-328">Ein Ansatz, der *nicht* empfohlen wird, besteht darin, externen Clients das Senden von Anforderungen über den [Reverseproxy][sf-reverse-proxy] von Service Fabric zu gestatten.</span><span class="sxs-lookup"><span data-stu-id="a25c9-328">One approach that we *don't* recommend is allowing external clients to send requests through the Service Fabric [reverse proxy][sf-reverse-proxy].</span></span> <span data-ttu-id="a25c9-329">Obwohl dies möglich ist, ist der Reverseproxy für die Kommunikation zwischen Diensten vorgesehen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-329">Although this is possible, the reverse proxy is intended for service-to-service communication.</span></span> <span data-ttu-id="a25c9-330">Wenn Sie ihn für externe Clients öffnen, wird *jeder* im Cluster aktive Dienst sichtbar, der über einen HTTP-Endpunkt verfügt.</span><span class="sxs-lookup"><span data-stu-id="a25c9-330">Opening it to external clients exposes *any* service running in the cluster that has an HTTP endpoint.</span></span>

### <a name="node-types-and-placement-constraints"></a><span data-ttu-id="a25c9-331">Knotentypen und Platzierungseinschränkungen</span><span class="sxs-lookup"><span data-stu-id="a25c9-331">Node types and placement constraints</span></span>

<span data-ttu-id="a25c9-332">In der oben gezeigten Bereitstellung werden alle Dienste auf allen Knoten ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="a25c9-332">In the deployment shown above, all the services run on all the nodes.</span></span> <span data-ttu-id="a25c9-333">Sie können jedoch auch Dienste gruppieren, sodass bestimmte Dienste nur auf gewissen Knoten innerhalb des Clusters ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-333">However, you can also group services, so that certain services run only on particular nodes within the cluster.</span></span> <span data-ttu-id="a25c9-334">Gründe für die Verwendung dieses Ansatzes:</span><span class="sxs-lookup"><span data-stu-id="a25c9-334">Reasons to use this approach include:</span></span>

- <span data-ttu-id="a25c9-335">Es werden einige Dienste auf verschiedenen Arten von virtuellen Computern ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="a25c9-335">Run some services on different VM types.</span></span> <span data-ttu-id="a25c9-336">Einige Dienste sind möglicherweise rechenintensiv oder erfordern GPUs.</span><span class="sxs-lookup"><span data-stu-id="a25c9-336">For example, some services might be compute-intensive or require GPUs.</span></span> <span data-ttu-id="a25c9-337">Sie können eine Mischung aus verschiedenen Arten von virtuellen Computern in Ihrem Service Fabric-Cluster verwenden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-337">You can have a mix of VM types in your Service Fabric cluster.</span></span>
- <span data-ttu-id="a25c9-338">Isolieren Sie die Front-End-Dienste aus Sicherheitsgründen von den Back-End-Diensten.</span><span class="sxs-lookup"><span data-stu-id="a25c9-338">Isolate front-end services from back-end services, for security reasons.</span></span> <span data-ttu-id="a25c9-339">Alle Front-End-Dienste werden auf einer Gruppe von Knoten ausgeführt, während die Back-End-Dienste auf anderen Knoten im selben Cluster ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-339">All the front-end services will run on one set of nodes, and the back-end services will run on different nodes in the same cluster.</span></span>
- <span data-ttu-id="a25c9-340">Es liegen unterschiedliche Skalierungsanforderungen vor.</span><span class="sxs-lookup"><span data-stu-id="a25c9-340">Different scale requirements.</span></span> <span data-ttu-id="a25c9-341">Einige Dienste müssen möglicherweise auf einer größeren Anzahl von Knoten als andere Dienste ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-341">Some services might need to run on more nodes than other services.</span></span> <span data-ttu-id="a25c9-342">Wenn Sie Front-End- und Back-End-Knoten definieren, kann jede Gruppe unabhängig skaliert werden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-342">For example, if you define front-end nodes and back-end nodes, each set can be scaled independently.</span></span>

<span data-ttu-id="a25c9-343">Das folgende Diagramm zeigt einen Cluster mit getrennten Front-End- und Back-End-Diensten:</span><span class="sxs-lookup"><span data-stu-id="a25c9-343">The following diagram shows a cluster that separates front-end and back-end services:</span></span>

![](././images/node-placement.png)

<span data-ttu-id="a25c9-344">So implementieren Sie diesen Ansatz</span><span class="sxs-lookup"><span data-stu-id="a25c9-344">To implement this approach:</span></span>

1.  <span data-ttu-id="a25c9-345">Definieren Sie beim Erstellen des Clusters mindestens zwei Knotentypen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-345">When you create the cluster, define two or more node types.</span></span> 
2.  <span data-ttu-id="a25c9-346">Verwenden Sie für jeden Dienst [Platzierungseinschränkungen][sf-placement-constraints], um den Dienst einem Knotentyp zuzuweisen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-346">For each service, use [placement constraints][sf-placement-constraints] to assign the service to a node type.</span></span>

<span data-ttu-id="a25c9-347">Bei der Bereitstellung in Azure wird jeder Knotentyp in einer separaten VM-Skalierungsgruppe bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="a25c9-347">When you deploy to Azure, each node type is deployed to a separate VM scale set.</span></span> <span data-ttu-id="a25c9-348">Der Service Fabric-Cluster umfasst alle Knotentypen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-348">The Service Fabric cluster spans all node types.</span></span> <span data-ttu-id="a25c9-349">Weitere Informationen finden Sie unter [Die Beziehung zwischen Service Fabric-Knotentypen und VM-Skalierungsgruppen][sf-node-types].</span><span class="sxs-lookup"><span data-stu-id="a25c9-349">For more information, see [The relationship between Service Fabric node types and Virtual Machine Scale Sets][sf-node-types].</span></span>

> <span data-ttu-id="a25c9-350">Wenn ein Cluster über mehrere Knotentypen verfügt, wird ein Knotentyp als *primärer* Knotentyp bestimmt.</span><span class="sxs-lookup"><span data-stu-id="a25c9-350">If a cluster has multiple node types, one node type is designated as the *primary* node type.</span></span> <span data-ttu-id="a25c9-351">Service Fabric-Laufzeitdienste wie der Clusterverwaltungsdienst werden auf dem primären Knotentyp ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="a25c9-351">Service Fabric runtime services, such as the Cluster Management Service, run on the primary node type.</span></span> <span data-ttu-id="a25c9-352">Stellen Sie mindestens fünf Knoten für den primären Knotentyp in einer Produktionsumgebung bereit.</span><span class="sxs-lookup"><span data-stu-id="a25c9-352">Provision at least 5 nodes for the primary node type in a production environment.</span></span> <span data-ttu-id="a25c9-353">Der andere Knotentyp sollte mindestens zwei Knoten umfassen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-353">The other node type should have at least 2 nodes.</span></span>

## <a name="configuring-and-managing-the-cluster"></a><span data-ttu-id="a25c9-354">Konfigurieren und Verwalten des Clusters</span><span class="sxs-lookup"><span data-stu-id="a25c9-354">Configuring and managing the cluster</span></span>

<span data-ttu-id="a25c9-355">Cluster müssen gesichert werden, um zu verhindern, dass sich nicht autorisierte Benutzer mit Ihrem Cluster verbinden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-355">Clusters must be secured to prevent unauthorized users from connecting to your cluster.</span></span> <span data-ttu-id="a25c9-356">Es wird empfohlen, Azure AD für die Authentifizierung von Clients und X.509-Zertifikate für die Knoten-zu-Knoten-Sicherheit zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-356">It is recommended to use Azure AD to authenticate clients, and X.509 certificates for node-to-node security.</span></span> <span data-ttu-id="a25c9-357">Weitere Informationen finden Sie unter [Szenarien für die Clustersicherheit in Service Fabric][sf-security].</span><span class="sxs-lookup"><span data-stu-id="a25c9-357">For more information, see [Service Fabric cluster security scenarios][sf-security].</span></span>

<span data-ttu-id="a25c9-358">Informationen zum Konfigurieren eines öffentlichen HTTPS-Endpunkts finden Sie unter [Angeben von Ressourcen in einem Dienstmanifest][sf-manifest-resources].</span><span class="sxs-lookup"><span data-stu-id="a25c9-358">To configure a public HTTPS endpoint, see [Specify resources in a service manifest][sf-manifest-resources].</span></span>

<span data-ttu-id="a25c9-359">Sie können die Anwendung horizontal hochskalieren, indem Sie dem Cluster virtuelle Computer hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-359">You can scale out the application by adding VMs to the cluster.</span></span> <span data-ttu-id="a25c9-360">VM-Skalierungsgruppen unterstützen die automatische Skalierung mithilfe automatischer Skalierungsregeln auf Grundlage von Leistungsindikatoren.</span><span class="sxs-lookup"><span data-stu-id="a25c9-360">VM scale sets support auto-scaling using auto-scale rules based on performance counters.</span></span> <span data-ttu-id="a25c9-361">Weitere Informationen finden Sie unter [Zentrales Hoch- oder Herunterskalieren eines Service Fabric-Clusters mithilfe von Regeln für die automatische Skalierung][sf-auto-scale].</span><span class="sxs-lookup"><span data-stu-id="a25c9-361">For more information, see [Scale a Service Fabric cluster in or out using auto-scale rules][sf-auto-scale].</span></span>

<span data-ttu-id="a25c9-362">Während der Cluster aktiv ist, sollten Sie Protokolle von allen Knoten an einem zentralen Speicherort sammeln.</span><span class="sxs-lookup"><span data-stu-id="a25c9-362">While the cluster is running, you should collect logs from all the nodes in a central location.</span></span> <span data-ttu-id="a25c9-363">Weitere Informationen finden Sie unter [Sammeln von Protokollen mit der Azure-Diagnose][sf-logs].</span><span class="sxs-lookup"><span data-stu-id="a25c9-363">For more information, see [Collect logs by using Azure Diagnostics][sf-logs].</span></span>   


## <a name="conclusion"></a><span data-ttu-id="a25c9-364">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="a25c9-364">Conclusion</span></span>

<span data-ttu-id="a25c9-365">Das Portieren der Survey-Anwendung zu Service Fabric hat sich als recht einfach erwiesen.</span><span class="sxs-lookup"><span data-stu-id="a25c9-365">Porting the Surveys application to Service Fabric was fairly straightforward.</span></span> <span data-ttu-id="a25c9-366">Zusammengefasst haben wir die folgenden Schritte ausgeführt:</span><span class="sxs-lookup"><span data-stu-id="a25c9-366">To summarize, we did the following:</span></span>

- <span data-ttu-id="a25c9-367">Die Rollen in zustandslose Dienste konvertiert.</span><span class="sxs-lookup"><span data-stu-id="a25c9-367">Converted the roles to stateless services.</span></span>
- <span data-ttu-id="a25c9-368">Die Web-Front-Ends in ASP.NET Core konvertiert.</span><span class="sxs-lookup"><span data-stu-id="a25c9-368">Converted the web front ends to ASP.NET Core.</span></span>
- <span data-ttu-id="a25c9-369">Die Verpackungs- und Konfigurationsdateien auf das Service Fabric-Modell angepasst.</span><span class="sxs-lookup"><span data-stu-id="a25c9-369">Changed the packaging and configuration files to the Service Fabric model.</span></span>

<span data-ttu-id="a25c9-370">Darüber hinaus wurde die Bereitstellung von Cloud Services in einen Service Fabric-Cluster geändert, der in einer VM-Skalierungsgruppe ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="a25c9-370">In addition, the deployment changed from Cloud Services to a Service Fabric cluster running in a VM Scale Set.</span></span>

<span data-ttu-id="a25c9-371">An dieser Stelle profitiert die Anwendung jedoch nicht von allen Vorteilen der Mikroservices, z. B. von der unabhängigen Bereitstellung und Versionsverwaltung von Diensten.</span><span class="sxs-lookup"><span data-stu-id="a25c9-371">However, at this point the application does not get all the benefits of microservices, such as independent service deployment and versioning.</span></span> <span data-ttu-id="a25c9-372">Damit Service Fabric optimal genutzt werden kann, muss Tailspin ebenfalls weiter optimiert werden.</span><span class="sxs-lookup"><span data-stu-id="a25c9-372">To take full advantage of Service Fabric, Tailspin needs to optimize a bit further.</span></span>



<!-- links -->

[application-gateway]: /azure/application-gateway/
[aspnet-core]: /aspnet/core/
[aspnet-webapi]: https://www.asp.net/web-api
[aspnet-migration]: /aspnet/core/migration/mvc
[aspnet-hosting]: /aspnet/core/fundamentals/hosting
[aspnet-webapi]: https://www.asp.net/web-api
[azure-deployment-models]: /azure/azure-resource-manager/resource-manager-deployment-model
[cloud-service-autoscale]: /azure/cloud-services/cloud-services-how-to-scale-portal
[cloud-service-config]: /azure/cloud-services/cloud-services-model-and-package
[cloud-service-endpoints]: /azure/cloud-services/cloud-services-enable-communication-role-instances#worker-roles-vs-web-roles
[kestrel]: https://docs.microsoft.com/aspnet/core/fundamentals/servers/kestrel
[lb-probes]: /azure/load-balancer/load-balancer-custom-probe-overview
[owin]: https://www.asp.net/aspnet/overview/owin-and-katana
[sample-code]: https://github.com/mspnp/cloud-services-to-service-fabric
[sf-application-model]: /azure/service-fabric/service-fabric-application-model
[sf-aspnet-core]: /azure/service-fabric/service-fabric-add-a-web-frontend
[sf-auto-scale]: /azure/service-fabric/service-fabric-cluster-scale-up-down
[sf-compare-cloud-services]: /azure/service-fabric/service-fabric-cloud-services-migration-differences
[sf-connect-and-communicate]: /azure/service-fabric/service-fabric-connect-and-communicate-with-services
[sf-containers]: /azure/service-fabric/service-fabric-containers-overview
[sf-logs]: /azure/service-fabric/service-fabric-diagnostics-how-to-setup-wad
[sf-manifest-resources]: /azure/service-fabric/service-fabric-service-manifest-resources
[sf-migration]: /azure/service-fabric/service-fabric-cloud-services-migration-worker-role-stateless-service
[sf-multiple-environments]: /azure/service-fabric/service-fabric-manage-multiple-environment-app-configuration
[sf-node-types]: /azure/service-fabric/service-fabric-cluster-nodetypes
[sf-overview]: /azure/service-fabric/service-fabric-overview
[sf-placement-constraints]: /azure/service-fabric/service-fabric-cluster-resource-manager-cluster-description
[sf-reliable-collections]: /azure/service-fabric/service-fabric-reliable-services-reliable-collections
[sf-reliable-services]: /azure/service-fabric/service-fabric-reliable-services-introduction
[sf-reverse-proxy]: /azure/service-fabric/service-fabric-reverseproxy
[sf-security]: /azure/service-fabric/service-fabric-cluster-security
[sf-why-microservices]: /azure/service-fabric/service-fabric-overview-microservices
[tailspin-book]: https://msdn.microsoft.com/en-us/library/ff966499.aspx
[tailspin-scenario]: https://msdn.microsoft.com/en-us/library/hh534482.aspx
[unity]: https://msdn.microsoft.com/en-us/library/ff647202.aspx
[vm-scale-sets]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview
