---
title: N-schichtige Anwendung mit Apache Cassandra
description: Vorgehensweise zum Ausführen von Linux-VMs in einer n-schichtigen Architektur in Microsoft Azure
author: MikeWasson
ms.date: 11/12/2018
ms.openlocfilehash: ec2d6f8310e5b7ae5b135aa0e16f14f572149f7f
ms.sourcegitcommit: 9293350ab66fb5ed042ff363f7a76603bf68f568
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/13/2018
ms.locfileid: "51577173"
---
# <a name="linux-n-tier-application-in-azure-with-apache-cassandra"></a><span data-ttu-id="a1b80-103">n-schichtige Linux-Anwendung in Azure mit Apache Cassandra</span><span class="sxs-lookup"><span data-stu-id="a1b80-103">Linux N-tier application in Azure with Apache Cassandra</span></span>

<span data-ttu-id="a1b80-104">Diese Referenzarchitektur zeigt, wie Sie für eine n-schichtige Anwendung konfigurierte virtuelle Computer und ein entsprechendes virtuelles Netzwerk mit Apache Cassandra unter Linux für die Datenebene bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-104">This reference architecture shows how to deploy VMs and a virtual network configured for an N-tier application, using Apache Cassandra on Linux for the data tier.</span></span> [<span data-ttu-id="a1b80-105">**So stellen Sie diese Lösung bereit**.</span><span class="sxs-lookup"><span data-stu-id="a1b80-105">**Deploy this solution**.</span></span>](#deploy-the-solution) 

<span data-ttu-id="a1b80-106">![[0]][0]</span><span class="sxs-lookup"><span data-stu-id="a1b80-106">![[0]][0]</span></span>

<span data-ttu-id="a1b80-107">*Laden Sie eine [Visio-Datei][visio-download] mit dieser Architektur herunter.*</span><span class="sxs-lookup"><span data-stu-id="a1b80-107">*Download a [Visio file][visio-download] of this architecture.*</span></span>

## <a name="architecture"></a><span data-ttu-id="a1b80-108">Architecture</span><span class="sxs-lookup"><span data-stu-id="a1b80-108">Architecture</span></span> 

<span data-ttu-id="a1b80-109">Die Architektur besteht aus den folgenden Komponenten:</span><span class="sxs-lookup"><span data-stu-id="a1b80-109">The architecture has the following components:</span></span>

* <span data-ttu-id="a1b80-110">**Ressourcengruppe:**</span><span class="sxs-lookup"><span data-stu-id="a1b80-110">**Resource group.**</span></span> <span data-ttu-id="a1b80-111">[Ressourcengruppen][resource-manager-overview] dienen zum Gruppieren von Ressourcen, damit sie nach Lebensdauer, Besitzer oder anderen Kriterien verwaltet werden können.</span><span class="sxs-lookup"><span data-stu-id="a1b80-111">[Resource groups][resource-manager-overview] are used to group resources so they can be managed by lifetime, owner, or other criteria.</span></span>

* <span data-ttu-id="a1b80-112">**Virtuelles Netzwerk (VNet) und Subnetze:**</span><span class="sxs-lookup"><span data-stu-id="a1b80-112">**Virtual network (VNet) and subnets.**</span></span> <span data-ttu-id="a1b80-113">Jede Azure-VM wird in einem virtuellen Netzwerk (VNET) bereitgestellt, das in Subnetze segmentiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="a1b80-113">Every Azure VM is deployed into a VNet that can be segmented into subnets.</span></span> <span data-ttu-id="a1b80-114">Erstellen Sie für jede Schicht ein separates Subnetz.</span><span class="sxs-lookup"><span data-stu-id="a1b80-114">Create a separate subnet for each tier.</span></span> 

* <span data-ttu-id="a1b80-115">**NSGs:**</span><span class="sxs-lookup"><span data-stu-id="a1b80-115">**NSGs.**</span></span> <span data-ttu-id="a1b80-116">Verwenden Sie [Netzwerksicherheitsgruppen][nsg] (NSGs), um den Netzwerkdatenverkehr im VNET zu beschränken.</span><span class="sxs-lookup"><span data-stu-id="a1b80-116">Use [network security groups][nsg] (NSGs) to restrict network traffic within the VNet.</span></span> <span data-ttu-id="a1b80-117">In der hier gezeigten dreischichtigen Architektur akzeptiert die Datenbankschicht beispielsweise Datenverkehr von der Unternehmensschicht und dem Verwaltungssubnetz, aber nicht vom Web-Front-End.</span><span class="sxs-lookup"><span data-stu-id="a1b80-117">For example, in the three-tier architecture shown here, the database tier accepts traffic from the business tier and the management subnet, but not the web front end.</span></span>

* <span data-ttu-id="a1b80-118">**DDoS Protection**.</span><span class="sxs-lookup"><span data-stu-id="a1b80-118">**DDoS Protection**.</span></span> <span data-ttu-id="a1b80-119">Obwohl die Azure-Plattform Schutz vor verteilten Denial-of-Service-Angriffen (DDoS) beinhaltet, empfehlen wir die Verwendung der Dienstebene [DDoS Protection Standard][ddos], die erweiterte Funktionen für die DDoS-Entschärfung bietet.</span><span class="sxs-lookup"><span data-stu-id="a1b80-119">Although the Azure platform provides basic protection against distributed denial of service (DDoS) attacks, we recommend using [DDoS Protection Standard][ddos], which has enhanced DDoS mitigation features.</span></span> <span data-ttu-id="a1b80-120">Weitere Informationen finden Sie unter [Sicherheitshinweise](#security-considerations).</span><span class="sxs-lookup"><span data-stu-id="a1b80-120">See [Security considerations](#security-considerations).</span></span>

* <span data-ttu-id="a1b80-121">**Virtuelle Computer:**</span><span class="sxs-lookup"><span data-stu-id="a1b80-121">**Virtual machines**.</span></span> <span data-ttu-id="a1b80-122">Empfehlungen zum Konfigurieren von virtuellen Computern finden Sie unter [Run a Windows VM on Azure](./windows-vm.md) (Ausführen eines virtuellen Windows-Computers in Azure) sowie unter [Run a Linux VM on Azure](./linux-vm.md) (Ausführen eines virtuellen Linux-Computers in Azure).</span><span class="sxs-lookup"><span data-stu-id="a1b80-122">For recommendations on configuring VMs, see [Run a Windows VM on Azure](./windows-vm.md) and [Run a Linux VM on Azure](./linux-vm.md).</span></span>

* <span data-ttu-id="a1b80-123">**Verfügbarkeitsgruppen:**</span><span class="sxs-lookup"><span data-stu-id="a1b80-123">**Availability sets.**</span></span> <span data-ttu-id="a1b80-124">Erstellen Sie eine [Verfügbarkeitsgruppe][azure-availability-sets] für jede Schicht, und stellen Sie mindestens zwei VMs in jeder Schicht bereit. Dadurch ist die VM für eine höhere [Vereinbarung zum Servicelevel (SLA)][vm-sla] qualifiziert.</span><span class="sxs-lookup"><span data-stu-id="a1b80-124">Create an [availability set][azure-availability-sets] for each tier, and provision at least two VMs in each tier, which makes the VMs eligible for a higher [service level agreement (SLA)][vm-sla].</span></span>

* <span data-ttu-id="a1b80-125">**Azure Load Balancer-Instanzen:**</span><span class="sxs-lookup"><span data-stu-id="a1b80-125">**Azure Load balancers.**</span></span> <span data-ttu-id="a1b80-126">Die [Load Balancer-Instanzen][load-balancer] verteilen eingehende Internetanforderungen an die VM-Instanzen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-126">The [load balancers][load-balancer] distribute incoming Internet requests to the VM instances.</span></span> <span data-ttu-id="a1b80-127">Verwenden Sie einen [öffentlichen Load Balancer][load-balancer-external], um eingehenden Internetdatenverkehr auf die Webschicht zu verteilen, und einen [internen Load Balancer][load-balancer-internal], um Netzwerkdatenverkehr von der Webschicht auf die Unternehmensschicht zu verteilen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-127">Use a [public load balancer][load-balancer-external] to distribute incoming Internet traffic to the web tier, and an [internal load balancer][load-balancer-internal] to distribute network traffic from the web tier to the business tier.</span></span>

* <span data-ttu-id="a1b80-128">**Öffentliche IP-Adresse:**</span><span class="sxs-lookup"><span data-stu-id="a1b80-128">**Public IP address**.</span></span> <span data-ttu-id="a1b80-129">Für den Empfang von Internetdatenverkehr benötigt der öffentliche Load Balancer eine öffentliche IP-Adresse.</span><span class="sxs-lookup"><span data-stu-id="a1b80-129">A public IP address is needed for the public load balancer to receive Internet traffic.</span></span>

* <span data-ttu-id="a1b80-130">**Jumpbox:**</span><span class="sxs-lookup"><span data-stu-id="a1b80-130">**Jumpbox.**</span></span> <span data-ttu-id="a1b80-131">Wird auch als [geschützter Host] bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="a1b80-131">Also called a [bastion host].</span></span> <span data-ttu-id="a1b80-132">Dies ist eine geschützte VM im Netzwerk, die von Administratoren zum Herstellen der Verbindung mit anderen VMs verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a1b80-132">A secure VM on the network that administrators use to connect to the other VMs.</span></span> <span data-ttu-id="a1b80-133">Die Jumpbox verfügt über eine NSG, die Remotedatenverkehr nur von öffentlichen IP-Adressen zulässt, die in einer Liste mit sicheren Absendern aufgeführt sind.</span><span class="sxs-lookup"><span data-stu-id="a1b80-133">The jumpbox has an NSG that allows remote traffic only from public IP addresses on a safe list.</span></span> <span data-ttu-id="a1b80-134">Die Netzwerksicherheitsgruppe (NSG) muss SSH-Datenverkehr zulassen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-134">The NSG should allow ssh traffic.</span></span>

* <span data-ttu-id="a1b80-135">**Apache Cassandra-Datenbank**:</span><span class="sxs-lookup"><span data-stu-id="a1b80-135">**Apache Cassandra database**.</span></span> <span data-ttu-id="a1b80-136">Stellt Hochverfügbarkeit in der Datenschicht durch Replikation und Failover bereit.</span><span class="sxs-lookup"><span data-stu-id="a1b80-136">Provides high availability at the data tier, by enabling replication and failover.</span></span>

* <span data-ttu-id="a1b80-137">**Azure DNS:**</span><span class="sxs-lookup"><span data-stu-id="a1b80-137">**Azure DNS**.</span></span> <span data-ttu-id="a1b80-138">[Azure DNS][azure-dns] ist ein Hostingdienst für DNS-Domänen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-138">[Azure DNS][azure-dns] is a hosting service for DNS domains.</span></span> <span data-ttu-id="a1b80-139">Er ermöglicht eine Namensauflösung mithilfe der Microsoft Azure-Infrastruktur.</span><span class="sxs-lookup"><span data-stu-id="a1b80-139">It provides name resolution using Microsoft Azure infrastructure.</span></span> <span data-ttu-id="a1b80-140">Durch das Hosten Ihrer Domänen in Azure können Sie Ihre DNS-Einträge mithilfe der gleichen Anmeldeinformationen, APIs, Tools und Abrechnung wie für die anderen Azure-Dienste verwalten.</span><span class="sxs-lookup"><span data-stu-id="a1b80-140">By hosting your domains in Azure, you can manage your DNS records using the same credentials, APIs, tools, and billing as your other Azure services.</span></span>

## <a name="recommendations"></a><span data-ttu-id="a1b80-141">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="a1b80-141">Recommendations</span></span>

<span data-ttu-id="a1b80-142">Ihre Anforderungen können von der hier beschriebenen Architektur abweichen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-142">Your requirements might differ from the architecture described here.</span></span> <span data-ttu-id="a1b80-143">Verwenden Sie diese Empfehlungen als Startpunkt.</span><span class="sxs-lookup"><span data-stu-id="a1b80-143">Use these recommendations as a starting point.</span></span> 

### <a name="vnet--subnets"></a><span data-ttu-id="a1b80-144">VNET/Subnetze</span><span class="sxs-lookup"><span data-stu-id="a1b80-144">VNet / Subnets</span></span>

<span data-ttu-id="a1b80-145">Legen Sie bei der Erstellung des VNET fest, wie viele IP-Adressen Ihre Ressourcen in jedem Subnetz benötigen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-145">When you create the VNet, determine how many IP addresses your resources in each subnet require.</span></span> <span data-ttu-id="a1b80-146">Geben Sie mithilfe der [CIDR] eine Subnetzmaske und einen VNET-Adressbereich an, der für die erforderlichen IP-Adressen groß genug ist.</span><span class="sxs-lookup"><span data-stu-id="a1b80-146">Specify a subnet mask and a VNet address range large enough for the required IP addresses, using [CIDR] notation.</span></span> <span data-ttu-id="a1b80-147">Verwenden Sie einen Adressraum, der in die standardmäßigen [privaten IP-Adressblöcke][private-ip-space] 10.0.0.0/8, 172.16.0.0/12 und 192.168.0.0/16 fällt.</span><span class="sxs-lookup"><span data-stu-id="a1b80-147">Use an address space that falls within the standard [private IP address blocks][private-ip-space], which are 10.0.0.0/8, 172.16.0.0/12, and 192.168.0.0/16.</span></span>

<span data-ttu-id="a1b80-148">Wählen Sie einen Adressbereich aus, der sich nicht mit Ihrem lokalen Netzwerk überschneidet, für den Fall, dass Sie später ein Gateway zwischen dem VNET und dem lokalen Netzwerk einrichten müssen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-148">Choose an address range that doesn't overlap with your on-premises network, in case you need to set up a gateway between the VNet and your on-premise network later.</span></span> <span data-ttu-id="a1b80-149">Sobald Sie das VNET erstellt haben, können Sie den Adressbereich nicht mehr ändern.</span><span class="sxs-lookup"><span data-stu-id="a1b80-149">Once you create the VNet, you can't change the address range.</span></span>

<span data-ttu-id="a1b80-150">Entwerfen Sie Subnetze unter Berücksichtigung der Funktionalität und Sicherheitsanforderungen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-150">Design subnets with functionality and security requirements in mind.</span></span> <span data-ttu-id="a1b80-151">Alle VMs innerhalb derselben Schicht oder Rolle sollten im selben Subnetz platziert werden, was eine Sicherheitsbegrenzung darstellen kann.</span><span class="sxs-lookup"><span data-stu-id="a1b80-151">All VMs within the same tier or role should go into the same subnet, which can be a security boundary.</span></span> <span data-ttu-id="a1b80-152">Weitere Informationen zum Entwerfen von VNETs und Subnetzen finden Sie unter [Planen und Entwerfen von Azure Virtual Networks][plan-network].</span><span class="sxs-lookup"><span data-stu-id="a1b80-152">For more information about designing VNets and subnets, see [Plan and design Azure Virtual Networks][plan-network].</span></span>

### <a name="load-balancers"></a><span data-ttu-id="a1b80-153">Load Balancer</span><span class="sxs-lookup"><span data-stu-id="a1b80-153">Load balancers</span></span>

<span data-ttu-id="a1b80-154">Machen Sie die VMs nicht direkt über das Internet verfügbar.</span><span class="sxs-lookup"><span data-stu-id="a1b80-154">Do not expose the VMs directly to the Internet.</span></span> <span data-ttu-id="a1b80-155">Weisen Sie stattdessen jeder VM eine private IP-Adresse zu.</span><span class="sxs-lookup"><span data-stu-id="a1b80-155">Instead, give each VM a private IP address.</span></span> <span data-ttu-id="a1b80-156">Clients verwenden für die Verbindungsherstellung die IP-Adresse des öffentlichen Load Balancers.</span><span class="sxs-lookup"><span data-stu-id="a1b80-156">Clients connect using the IP address of the public load balancer.</span></span>

<span data-ttu-id="a1b80-157">Definieren Sie Lastenausgleichsregeln, um Netzwerkdatenverkehr an die virtuellen Computer weiterzuleiten.</span><span class="sxs-lookup"><span data-stu-id="a1b80-157">Define load balancer rules to direct network traffic to the VMs.</span></span> <span data-ttu-id="a1b80-158">Um beispielsweise HTTP-Datenverkehr zu aktivieren, erstellen Sie eine Regel, die Port 80 aus der Front-End-Konfiguration Port 80 im Back-End-Adresspool zuordnet.</span><span class="sxs-lookup"><span data-stu-id="a1b80-158">For example, to enable HTTP traffic, create a rule that maps port 80 from the front-end configuration to port 80 on the back-end address pool.</span></span> <span data-ttu-id="a1b80-159">Wenn ein Client eine HTTP-Anforderung an Port 80 sendet, wählt der Lastenausgleich mithilfe eines [Hashalgorithmus][load-balancer-hashing], der die Quell-IP-Adresse enthält, eine Back-End-IP-Adresse aus.</span><span class="sxs-lookup"><span data-stu-id="a1b80-159">When a client sends an HTTP request to port 80, the load balancer selects a back-end IP address by using a [hashing algorithm][load-balancer-hashing] that includes the source IP address.</span></span> <span data-ttu-id="a1b80-160">So werden Clientanforderungen auf alle VMs verteilt.</span><span class="sxs-lookup"><span data-stu-id="a1b80-160">Client requests are distributed across all the VMs.</span></span>

### <a name="network-security-groups"></a><span data-ttu-id="a1b80-161">Netzwerksicherheitsgruppen</span><span class="sxs-lookup"><span data-stu-id="a1b80-161">Network security groups</span></span>

<span data-ttu-id="a1b80-162">Verwenden Sie NSG-Regeln, um den Datenverkehr zwischen den Schichten zu beschränken.</span><span class="sxs-lookup"><span data-stu-id="a1b80-162">Use NSG rules to restrict traffic between tiers.</span></span> <span data-ttu-id="a1b80-163">In der oben gezeigten dreischichtigen Architektur kommuniziert die Internetschicht beispielsweise nicht direkt mit der Datenbankschicht.</span><span class="sxs-lookup"><span data-stu-id="a1b80-163">For example, in the three-tier architecture shown above, the web tier does not communicate directly with the database tier.</span></span> <span data-ttu-id="a1b80-164">Um dies zu erzwingen, sollte die Datenbankschicht eingehenden Datenverkehr aus dem Subnetz der Internetschicht blockieren.</span><span class="sxs-lookup"><span data-stu-id="a1b80-164">To enforce this, the database tier should block incoming traffic from the web tier subnet.</span></span>  

1. <span data-ttu-id="a1b80-165">Lehen Sie sämtlichen eingehenden Datenverkehr aus dem VNet ab.</span><span class="sxs-lookup"><span data-stu-id="a1b80-165">Deny all inbound traffic from the VNet.</span></span> <span data-ttu-id="a1b80-166">(Verwenden Sie den `VIRTUAL_NETWORK`-Tag in der Regel.)</span><span class="sxs-lookup"><span data-stu-id="a1b80-166">(Use the `VIRTUAL_NETWORK` tag in the rule.)</span></span> 
2. <span data-ttu-id="a1b80-167">Lassen Sie eingehenden Datenverkehr aus dem Subnetz der Unternehmensschicht zu.</span><span class="sxs-lookup"><span data-stu-id="a1b80-167">Allow inbound traffic from the business tier subnet.</span></span>  
3. <span data-ttu-id="a1b80-168">Lassen Sie eingehenden Datenverkehr aus dem Subnetz der Datenbankschicht zu.</span><span class="sxs-lookup"><span data-stu-id="a1b80-168">Allow inbound traffic from the database tier subnet itself.</span></span> <span data-ttu-id="a1b80-169">Diese Regel ermöglicht die Kommunikation zwischen den virtuellen Datenbankcomputern, die für die Replikation und das Failover der Datenbank erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="a1b80-169">This rule allows communication between the database VMs, which is needed for database replication and failover.</span></span>
4. <span data-ttu-id="a1b80-170">Lassen Sie SSH-Datenverkehr (Port 22) aus dem Subnetz der Jumpbox zu.</span><span class="sxs-lookup"><span data-stu-id="a1b80-170">Allow ssh traffic (port 22) from the jumpbox subnet.</span></span> <span data-ttu-id="a1b80-171">Diese Regel erlaubt Administratoren, über die Jumpbox eine Verbindung mit der Datenbankschicht herzustellen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-171">This rule lets administrators connect to the database tier from the jumpbox.</span></span>

<span data-ttu-id="a1b80-172">Erstellen Sie die Regeln 2&ndash;4 mit einer höheren Priorität als die erste Regel, damit sie Vorrang haben.</span><span class="sxs-lookup"><span data-stu-id="a1b80-172">Create rules 2 &ndash; 4 with higher priority than the first rule, so they override it.</span></span>

### <a name="cassandra"></a><span data-ttu-id="a1b80-173">Cassandra</span><span class="sxs-lookup"><span data-stu-id="a1b80-173">Cassandra</span></span>

<span data-ttu-id="a1b80-174">Für die Produktion wird [DataStax Enterprise][datastax] empfohlen, wobei diese Empfehlungen für alle Cassandra-Editionen gelten.</span><span class="sxs-lookup"><span data-stu-id="a1b80-174">We recommend [DataStax Enterprise][datastax] for production use, but these recommendations apply to any Cassandra edition.</span></span> <span data-ttu-id="a1b80-175">Weitere Informationen zur Ausführung von DataStax in Azure finden Sie im [DataStax Enterprise-Bereitstellungshandbuch für Azure][cassandra-in-azure].</span><span class="sxs-lookup"><span data-stu-id="a1b80-175">For more information on running DataStax in Azure, see [DataStax Enterprise Deployment Guide for Azure][cassandra-in-azure].</span></span> 

<span data-ttu-id="a1b80-176">Fassen Sie die VMs für einen Cassandra-Cluster in einer Verfügbarkeitsgruppe zusammen, um sicherzustellen, dass die Cassandra-Replikate auf verschiedene Fehler- und Upgradedomänen verteilt werden.</span><span class="sxs-lookup"><span data-stu-id="a1b80-176">Put the VMs for a Cassandra cluster in an availability set to ensure that the Cassandra replicas are distributed across multiple fault domains and upgrade domains.</span></span> <span data-ttu-id="a1b80-177">Weitere Informationen zu Fehler- und Upgradedomänen finden Sie unter [Verwalten der Verfügbarkeit virtueller Computer][azure-availability-sets].</span><span class="sxs-lookup"><span data-stu-id="a1b80-177">For more information about fault domains and upgrade domains, see [Manage the availability of virtual machines][azure-availability-sets].</span></span> 

<span data-ttu-id="a1b80-178">Konfigurieren Sie jeweils drei Fehlerdomänen (Maximalwert) und 18 Upgradedomänen pro Verfügbarkeitsgruppe.</span><span class="sxs-lookup"><span data-stu-id="a1b80-178">Configure three fault domains (the maximum) per availability set and 18 upgrade domains per availability set.</span></span> <span data-ttu-id="a1b80-179">Dadurch wird die maximale Anzahl von Upgradedomänen erreicht, die nach wie vor gleichmäßig auf die Fehlerdomänen verteilt werden können.</span><span class="sxs-lookup"><span data-stu-id="a1b80-179">This provides the maximum number of upgrade domains that can still be distributed evenly across the fault domains.</span></span>   

<span data-ttu-id="a1b80-180">Konfigurieren Sie Knoten im rackfähigen Modus.</span><span class="sxs-lookup"><span data-stu-id="a1b80-180">Configure nodes in rack-aware mode.</span></span> <span data-ttu-id="a1b80-181">Ordnen Sie Fehlerdomänen den Racks in der Datei `cassandra-rackdc.properties` zu.</span><span class="sxs-lookup"><span data-stu-id="a1b80-181">Map fault domains to racks in the `cassandra-rackdc.properties` file.</span></span>

<span data-ttu-id="a1b80-182">Es ist kein vor dem Cluster geschaltetes Lastenausgleichsmodul erforderlich.</span><span class="sxs-lookup"><span data-stu-id="a1b80-182">You don't need a load balancer in front of the cluster.</span></span> <span data-ttu-id="a1b80-183">Der Client stellt eine direkte Verbindung mit einem Knoten im Cluster her.</span><span class="sxs-lookup"><span data-stu-id="a1b80-183">The client connects directly to a node in the cluster.</span></span>

<span data-ttu-id="a1b80-184">Stellen Sie Cassandra in mehreren Azure-Regionen bereit, um eine hohe Verfügbarkeit zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-184">For high availability, deploy Cassandra in more than one Azure region.</span></span> <span data-ttu-id="a1b80-185">Knoten in jeder Region werden in unterschiedlichen Racks und in Fehler- und Upgradedomänen konfiguriert, um Resilienz innerhalb der Region sicherzustellen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-185">Nodes within each region are configured in rack-aware mode with fault and upgrade domains, for resiliency inside the region.</span></span>


### <a name="jumpbox"></a><span data-ttu-id="a1b80-186">Jumpbox</span><span class="sxs-lookup"><span data-stu-id="a1b80-186">Jumpbox</span></span>

<span data-ttu-id="a1b80-187">Verweigern Sie den SSH-Zugriff über das öffentliche Internet auf die VMs, auf denen die Anwendungsworkload ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="a1b80-187">Don't allow ssh access from the public Internet to the VMs that run the application workload.</span></span> <span data-ttu-id="a1b80-188">Der gesamte SSH-Zugriff auf diese virtuellen Computer muss stattdessen über die Jumpbox erfolgen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-188">Instead, all ssh access to these VMs must come through the jumpbox.</span></span> <span data-ttu-id="a1b80-189">Ein Administrator meldet sich bei der Jumpbox und von der Jumpbox aus dann bei der anderen VM an.</span><span class="sxs-lookup"><span data-stu-id="a1b80-189">An administrator logs into the jumpbox, and then logs into the other VM from the jumpbox.</span></span> <span data-ttu-id="a1b80-190">Die Jumpbox lässt SSH-Datenverkehr aus dem Internet zu, allerdings nur von bekannten, sicheren IP-Adressen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-190">The jumpbox allows ssh traffic from the Internet, but only from known, safe IP addresses.</span></span>

<span data-ttu-id="a1b80-191">Die Jumpbox hat sehr geringe Leistungsanforderungen. Wählen Sie daher einen virtuellen Computer mit geringer Größe.</span><span class="sxs-lookup"><span data-stu-id="a1b80-191">The jumpbox has minimal performance requirements, so select a small VM size.</span></span> <span data-ttu-id="a1b80-192">Erstellen Sie eine [öffentliche IP-Adresse] für die Jumpbox.</span><span class="sxs-lookup"><span data-stu-id="a1b80-192">Create a [public IP address] for the jumpbox.</span></span> <span data-ttu-id="a1b80-193">Platzieren Sie die Jumpbox in dasselbe VNET wie die anderen VMs, jedoch in ein separates Verwaltungssubnetz.</span><span class="sxs-lookup"><span data-stu-id="a1b80-193">Place the jumpbox in the same VNet as the other VMs, but in a separate management subnet.</span></span>

<span data-ttu-id="a1b80-194">Fügen Sie zum Schutz der Jumpbox eine NSG-Regel hinzu, die ausschließlich SSH-Verbindungen von einer sicheren Gruppe öffentlicher IP-Adressen zulässt.</span><span class="sxs-lookup"><span data-stu-id="a1b80-194">To secure the jumpbox, add an NSG rule that allows ssh connections only from a safe set of public IP addresses.</span></span> <span data-ttu-id="a1b80-195">Konfigurieren Sie die NSGs für die anderen Subnetze, um SSH-Datenverkehr aus dem Verwaltungssubnetz zuzulassen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-195">Configure the NSGs for the other subnets to allow ssh traffic from the management subnet.</span></span>

## <a name="scalability-considerations"></a><span data-ttu-id="a1b80-196">Überlegungen zur Skalierbarkeit</span><span class="sxs-lookup"><span data-stu-id="a1b80-196">Scalability considerations</span></span>

<span data-ttu-id="a1b80-197">Erwägen Sie für die Internet- und Unternehmensschichten die Verwendung von [VM-Skalierungsgruppen][vmss], anstatt separate VMs in einer Verfügbarkeitsgruppe bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-197">For the web and business tiers, consider using [virtual machine scale sets][vmss], instead of deploying separate VMs into an availability set.</span></span> <span data-ttu-id="a1b80-198">Eine Skalierungsgruppe erleichtert die Bereitstellung und Verwaltung einer Gruppe identischer VMs und ermöglicht die automatische Skalierung der VMs auf der Grundlage von Leistungsmetriken.</span><span class="sxs-lookup"><span data-stu-id="a1b80-198">A scale set makes it easy to deploy and manage a set of identical VMs, and autoscale the VMs based on performance metrics.</span></span> <span data-ttu-id="a1b80-199">Mit zunehmender Last auf den virtuellen Computern werden dem Lastenausgleich automatisch zusätzliche virtuelle Computer hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="a1b80-199">As the load on the VMs increases, additional VMs are automatically added to the load balancer.</span></span> <span data-ttu-id="a1b80-200">Erwägen Sie die Verwendung von Skalierungsgruppen, wenn Sie VMs schnell horizontal hochskalieren müssen oder eine automatische Skalierung benötigen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-200">Consider scale sets if you need to quickly scale out VMs, or need to autoscale.</span></span>

<span data-ttu-id="a1b80-201">Es gibt zwei grundlegende Methoden für das Konfigurieren von virtuellen Computern in einer Skalierungsgruppe:</span><span class="sxs-lookup"><span data-stu-id="a1b80-201">There are two basic ways to configure VMs deployed in a scale set:</span></span>

- <span data-ttu-id="a1b80-202">Verwenden Sie Erweiterungen, um die VM nach ihrer Bereitstellung zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="a1b80-202">Use extensions to configure the VM after it's deployed.</span></span> <span data-ttu-id="a1b80-203">Bei diesem Ansatz dauert das Starten neuer VM-Instanzen länger als bei virtuellen Computern ohne Erweiterungen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-203">With this approach, new VM instances may take longer to start up than a VM with no extensions.</span></span>

- <span data-ttu-id="a1b80-204">Stellen Sie einen [verwalteten Datenträger](/azure/storage/storage-managed-disks-overview) mit einem benutzerdefinierten Datenträgerimage bereit.</span><span class="sxs-lookup"><span data-stu-id="a1b80-204">Deploy a [managed disk](/azure/storage/storage-managed-disks-overview) with a custom disk image.</span></span> <span data-ttu-id="a1b80-205">Diese Option kann möglicherweise schneller bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="a1b80-205">This option may be quicker to deploy.</span></span> <span data-ttu-id="a1b80-206">Allerdings müssen Sie das Image auf dem neuesten Stand halten.</span><span class="sxs-lookup"><span data-stu-id="a1b80-206">However, it requires you to keep the image up-to-date.</span></span>

<span data-ttu-id="a1b80-207">Weitere Informationen finden Sie unter [Überlegungen zum Entwurf von Skalierungsgruppen][vmss-design].</span><span class="sxs-lookup"><span data-stu-id="a1b80-207">For more information, see [Design considerations for scale sets][vmss-design].</span></span>

> [!TIP]
> <span data-ttu-id="a1b80-208">Wenn Sie eine Lösung für die automatische Skalierung verwenden, testen Sie diese im Voraus mit Workloads auf Produktionsebene.</span><span class="sxs-lookup"><span data-stu-id="a1b80-208">When using any autoscale solution, test it with production-level workloads well in advance.</span></span>

<span data-ttu-id="a1b80-209">Jedes Azure-Abonnement verfügt über Standardeinschränkungen, zu denen auch eine maximale Anzahl von virtuellen Computern pro Region gehört.</span><span class="sxs-lookup"><span data-stu-id="a1b80-209">Each Azure subscription has default limits in place, including a maximum number of VMs per region.</span></span> <span data-ttu-id="a1b80-210">Sie können den Grenzwert erhöhen, indem Sie eine Supportanfrage einreichen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-210">You can increase the limit by filing a support request.</span></span> <span data-ttu-id="a1b80-211">Weitere Informationen finden Sie unter [Grenzwerte für Azure-Abonnements, -Dienste und -Kontingente sowie allgemeine Beschränkungen][subscription-limits].</span><span class="sxs-lookup"><span data-stu-id="a1b80-211">For more information, see [Azure subscription and service limits, quotas, and constraints][subscription-limits].</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="a1b80-212">Überlegungen zur Verfügbarkeit</span><span class="sxs-lookup"><span data-stu-id="a1b80-212">Availability considerations</span></span>

<span data-ttu-id="a1b80-213">Wenn Sie keine VM-Skalierungsgruppen verwenden, platzieren Sie VMs für die gleiche Schicht in einer Verfügbarkeitsgruppe.</span><span class="sxs-lookup"><span data-stu-id="a1b80-213">If you don't use virtual machine scale sets, put VMs for the same tier into an availability set.</span></span> <span data-ttu-id="a1b80-214">Erstellen Sie zur Unterstützung der [Verfügbarkeits-SLA für Azure-VMs][vm-sla] mindestens zwei VMs in der Verfügbarkeitsgruppe.</span><span class="sxs-lookup"><span data-stu-id="a1b80-214">Create at least two VMs in the availability set to support the [availability SLA for Azure VMs][vm-sla].</span></span> <span data-ttu-id="a1b80-215">Weitere Informationen finden Sie unter [Verwalten der Verfügbarkeit virtueller Computer][availability-set].</span><span class="sxs-lookup"><span data-stu-id="a1b80-215">For more information, see [Manage the availability of virtual machines][availability-set].</span></span> <span data-ttu-id="a1b80-216">Skalierungsgruppen verwenden automatisch *Platzierungsgruppen*, die als eine implizite Verfügbarkeitsgruppe fungieren.</span><span class="sxs-lookup"><span data-stu-id="a1b80-216">Scale sets automatically use *placement groups*, which act as an implicit availability set.</span></span>

<span data-ttu-id="a1b80-217">Der Lastenausgleich verwendet [Integritätstests][health-probes] zur Überwachung der Verfügbarkeit von VM-Instanzen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-217">The load balancer uses [health probes][health-probes] to monitor the availability of VM instances.</span></span> <span data-ttu-id="a1b80-218">Kann eine Instanz bei einem Test nicht innerhalb des jeweiligen Zeitlimits erreicht werden, beendet der Lastenausgleich das Senden von Datenverkehr an diese VM.</span><span class="sxs-lookup"><span data-stu-id="a1b80-218">If a probe can't reach an instance within a timeout period, the load balancer stops sending traffic to that VM.</span></span> <span data-ttu-id="a1b80-219">Der Lastenausgleich führt weiterhin Tests durch, und wenn die VM wieder erreichbar ist, sendet er auch wieder Datenverkehr an diese VM.</span><span class="sxs-lookup"><span data-stu-id="a1b80-219">The load balancer will continue to probe, and if the VM becomes available again, the load balancer resumes sending traffic to that VM.</span></span>

<span data-ttu-id="a1b80-220">Empfehlungen für Integritätstests durch den Lastenausgleich:</span><span class="sxs-lookup"><span data-stu-id="a1b80-220">Here are some recommendations on load balancer health probes:</span></span>

* <span data-ttu-id="a1b80-221">Die Tests können für HTTP oder TCP durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="a1b80-221">Probes can test either HTTP or TCP.</span></span> <span data-ttu-id="a1b80-222">Wenn auf Ihren virtuellen Computern ein HTTP-Server ausgeführt wird, erstellen Sie einen HTTP-Test.</span><span class="sxs-lookup"><span data-stu-id="a1b80-222">If your VMs run an HTTP server, create an HTTP probe.</span></span> <span data-ttu-id="a1b80-223">Erstellen Sie andernfalls einen TCP-Test.</span><span class="sxs-lookup"><span data-stu-id="a1b80-223">Otherwise create a TCP probe.</span></span>
* <span data-ttu-id="a1b80-224">Geben Sie für einen HTTP-Test den Pfad zu einem HTTP-Endpunkt an.</span><span class="sxs-lookup"><span data-stu-id="a1b80-224">For an HTTP probe, specify the path to an HTTP endpoint.</span></span> <span data-ttu-id="a1b80-225">Der Test überprüft, ob von diesem Pfad eine HTTP-200-Antwort empfangen wird.</span><span class="sxs-lookup"><span data-stu-id="a1b80-225">The probe checks for an HTTP 200 response from this path.</span></span> <span data-ttu-id="a1b80-226">Dies kann den Stammpfad („/“) oder ein Endpunkt zur Integritätsüberwachung sein, der benutzerdefinierte Logik zum Überprüfen der Integrität der Anwendung implementiert.</span><span class="sxs-lookup"><span data-stu-id="a1b80-226">This can be the root path ("/"), or a health-monitoring endpoint that implements some custom logic to check the health of the application.</span></span> <span data-ttu-id="a1b80-227">Der Endpunkt muss anonyme HTTP-Anforderungen zulassen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-227">The endpoint must allow anonymous HTTP requests.</span></span>
* <span data-ttu-id="a1b80-228">Der Test wird von einer [bekannten][health-probe-ip] IP-Adresse (168.63.129.16) gesendet.</span><span class="sxs-lookup"><span data-stu-id="a1b80-228">The probe is sent from a [known IP address][health-probe-ip], 168.63.129.16.</span></span> <span data-ttu-id="a1b80-229">Stellen Sie sicher, dass Sie den an oder von diese(r) IP-Adresse gesendeten Datenverkehr nicht in Firewallrichtlinien oder NSG-Regeln blockieren.</span><span class="sxs-lookup"><span data-stu-id="a1b80-229">Make sure you don't block traffic to or from this IP address in any firewall policies or NSG rules.</span></span>
* <span data-ttu-id="a1b80-230">Verwenden Sie die [Protokolle der Integritätstests][health-probe-log], um den Status der Integritätstests anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-230">Use [health probe logs][health-probe-log] to view the status of the health probes.</span></span> <span data-ttu-id="a1b80-231">Aktivieren Sie die Protokollierung für jeden Lastenausgleich im Azure-Portal.</span><span class="sxs-lookup"><span data-stu-id="a1b80-231">Enable logging in the Azure portal for each load balancer.</span></span> <span data-ttu-id="a1b80-232">Die Protokolle werden in Azure Blob Storage geschrieben.</span><span class="sxs-lookup"><span data-stu-id="a1b80-232">Logs are written to Azure Blob storage.</span></span> <span data-ttu-id="a1b80-233">Die Protokolle zeigen, wie viele VMs aufgrund von fehlerhaften Testantworten keinen Netzwerkdatenverkehr empfangen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-233">The logs show how many VMs aren't getting network traffic because of failed probe responses.</span></span>

<span data-ttu-id="a1b80-234">Für den Cassandra-Cluster hängen die Failoverszenarien von den Konsistenzebenen, die von der Anwendung verwendet werden, und von der Anzahl von Replikaten ab.</span><span class="sxs-lookup"><span data-stu-id="a1b80-234">For the Cassandra cluster, the failover scenarios depend on the consistency levels used by the application and the number of replicas.</span></span> <span data-ttu-id="a1b80-235">Weitere Informationen zu Konsistenzebenen und der Verwendung in Cassandra finden Sie unter [Konfigurieren der Datenkonsistenz][cassandra-consistency] und [Cassandra: Wie viele Knoten kommunizieren mit Quorum?][cassandra-consistency-usage].</span><span class="sxs-lookup"><span data-stu-id="a1b80-235">For consistency levels and usage in Cassandra, see [Configuring data consistency][cassandra-consistency] and [Cassandra: How many nodes are talked to with Quorum?][cassandra-consistency-usage]</span></span> <span data-ttu-id="a1b80-236">Die Verfügbarkeit der Daten wird in Cassandra durch die Konsistenzebene, die von der Anwendung verwendet wird, und vom Replikationsverfahren bestimmt.</span><span class="sxs-lookup"><span data-stu-id="a1b80-236">Data availability in Cassandra is determined by the consistency level used by the application and the replication mechanism.</span></span> <span data-ttu-id="a1b80-237">Weitere Informationen zur Replikation in Cassandra finden Sie unter [Datenreplikation in NoSQL-Datenbanken im Überblick][cassandra-replication].</span><span class="sxs-lookup"><span data-stu-id="a1b80-237">For replication in Cassandra, see [Data Replication in NoSQL Databases Explained][cassandra-replication].</span></span>

## <a name="security-considerations"></a><span data-ttu-id="a1b80-238">Sicherheitshinweise</span><span class="sxs-lookup"><span data-stu-id="a1b80-238">Security considerations</span></span>

<span data-ttu-id="a1b80-239">Virtuelle Netzwerke stellen in Azure eine Isolationsbegrenzung für Datenverkehr dar.</span><span class="sxs-lookup"><span data-stu-id="a1b80-239">Virtual networks are a traffic isolation boundary in Azure.</span></span> <span data-ttu-id="a1b80-240">VMs in einem VNET können nicht direkt mit VMs in einem anderen VNET kommunizieren.</span><span class="sxs-lookup"><span data-stu-id="a1b80-240">VMs in one VNet can't communicate directly with VMs in a different VNet.</span></span> <span data-ttu-id="a1b80-241">VMs im selben VNET können miteinander kommunizieren, sofern Sie den Datenverkehr nicht durch die Erstellung von [Netzwerksicherheitsgruppen][nsg] (NSGs) beschränken.</span><span class="sxs-lookup"><span data-stu-id="a1b80-241">VMs within the same VNet can communicate, unless you create [network security groups][nsg] (NSGs) to restrict traffic.</span></span> <span data-ttu-id="a1b80-242">Weitere Informationen finden Sie unter [Microsoft Cloud Services und Netzwerksicherheit][network-security].</span><span class="sxs-lookup"><span data-stu-id="a1b80-242">For more information, see [Microsoft cloud services and network security][network-security].</span></span>

<span data-ttu-id="a1b80-243">Für eingehenden Internetdatenverkehr definieren die Lastenausgleichsregeln, welcher Datenverkehr an das Back-End weitergeleitet wird.</span><span class="sxs-lookup"><span data-stu-id="a1b80-243">For incoming Internet traffic, the load balancer rules define which traffic can reach the back end.</span></span> <span data-ttu-id="a1b80-244">Allerdings unterstützen Lastenausgleichsregeln keine IP-Sicherheitslisten. Wenn Sie also einer Sicherheitsliste bestimmte öffentliche IP-Adressen hinzufügen möchten, fügen Sie dem Subnetz eine NSG hinzu.</span><span class="sxs-lookup"><span data-stu-id="a1b80-244">However, load balancer rules don't support IP safe lists, so if you want to add certain public IP addresses to a safe list, add an NSG to the subnet.</span></span>

<span data-ttu-id="a1b80-245">**DMZ**.</span><span class="sxs-lookup"><span data-stu-id="a1b80-245">**DMZ**.</span></span> <span data-ttu-id="a1b80-246">Für die Erstellung einer DMZ zwischen dem Internet und dem virtuellen Azure-Netzwerk sollten Sie eventuell eine virtuelle Netzwerkappliance (Network Virtual Appliance, NVA) hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-246">Consider adding a network virtual appliance (NVA) to create a DMZ between the Internet and the Azure virtual network.</span></span> <span data-ttu-id="a1b80-247">NVA ist ein Oberbegriff für eine virtuelle Appliance, die netzwerkbezogene Aufgaben wie Erstellung von Firewalls, Paketüberprüfung, Überwachung und benutzerdefiniertes Routing ausführen kann.</span><span class="sxs-lookup"><span data-stu-id="a1b80-247">NVA is a generic term for a virtual appliance that can perform network-related tasks, such as firewall, packet inspection, auditing, and custom routing.</span></span> <span data-ttu-id="a1b80-248">Weitere Informationen finden Sie unter [Implementieren einer DMZ zwischen Azure und dem Internet][dmz].</span><span class="sxs-lookup"><span data-stu-id="a1b80-248">For more information, see [Implementing a DMZ between Azure and the Internet][dmz].</span></span>

<span data-ttu-id="a1b80-249">**Verschlüsselung**.</span><span class="sxs-lookup"><span data-stu-id="a1b80-249">**Encryption**.</span></span> <span data-ttu-id="a1b80-250">Verschlüsseln Sie sensible ruhende Daten, und verwalten Sie die Datenbankverschlüsselungsschlüssel mithilfe von [Azure Key Vault][azure-key-vault].</span><span class="sxs-lookup"><span data-stu-id="a1b80-250">Encrypt sensitive data at rest and use [Azure Key Vault][azure-key-vault] to manage the database encryption keys.</span></span> <span data-ttu-id="a1b80-251">Key Vault kann Verschlüsselungsschlüssel in Hardwaresicherheitsmodulen (HSMs) speichern.</span><span class="sxs-lookup"><span data-stu-id="a1b80-251">Key Vault can store encryption keys in hardware security modules (HSMs).</span></span> <span data-ttu-id="a1b80-252">Es empfiehlt sich außerdem, Anwendungsgeheimnisse wie Datenbankverbindungszeichenfolgen in Key Vault zu speichern.</span><span class="sxs-lookup"><span data-stu-id="a1b80-252">It's also recommended to store application secrets, such as database connection strings, in Key Vault.</span></span>

<span data-ttu-id="a1b80-253">**DDoS Protection**.</span><span class="sxs-lookup"><span data-stu-id="a1b80-253">**DDoS protection**.</span></span> <span data-ttu-id="a1b80-254">Die Azure-Plattform stellt DDoS Protection Basic-Schutz standardmäßig bereit.</span><span class="sxs-lookup"><span data-stu-id="a1b80-254">The Azure platform provides basic DDoS protection by default.</span></span> <span data-ttu-id="a1b80-255">Dieser Basisschutz ist dafür ausgelegt, die Azure-Infrastruktur als Ganzes zu schützen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-255">This basic protection is targeted at protecting the Azure infrastructure as a whole.</span></span> <span data-ttu-id="a1b80-256">Obwohl der DDoS Protection Basic-Schutz automatisch aktiviert ist, empfehlen wir die Verwendung von [DDoS Protection Standard][ddos].</span><span class="sxs-lookup"><span data-stu-id="a1b80-256">Although basic DDoS protection is automatically enabled, we recommend using [DDoS Protection Standard][ddos].</span></span> <span data-ttu-id="a1b80-257">DDoS Protection Standard wendet basierend auf den Mustern des Netzwerkdatenverkehrs Ihrer Anwendung eine adaptive Optimierung an, um Bedrohungen zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-257">Standard protection uses adaptive tuning, based on your application's network traffic patterns, to detect threats.</span></span> <span data-ttu-id="a1b80-258">Dadurch können DDoS-Angriffe entschärft werden, die von den infrastrukturweiten DDoS-Richtlinien möglicherweise nicht erkannt werden.</span><span class="sxs-lookup"><span data-stu-id="a1b80-258">This allows it to apply mitigations against DDoS attacks that might go unnoticed by the infrastructure-wide DDoS policies.</span></span> <span data-ttu-id="a1b80-259">DDoS Protection Standard stellt über Azure Monitor auch Warnungen, Telemetrie und Analysen bereit.</span><span class="sxs-lookup"><span data-stu-id="a1b80-259">Standard protection also provides alerting, telemetry, and analytics through Azure Monitor.</span></span> <span data-ttu-id="a1b80-260">Weitere Informationen finden Sie unter [Azure DDoS Protection – empfohlene Methoden und Referenzarchitekturen][ddos-best-practices].</span><span class="sxs-lookup"><span data-stu-id="a1b80-260">For more information, see [Azure DDoS Protection: Best practices and reference architectures][ddos-best-practices].</span></span>

## <a name="deploy-the-solution"></a><span data-ttu-id="a1b80-261">Bereitstellen der Lösung</span><span class="sxs-lookup"><span data-stu-id="a1b80-261">Deploy the solution</span></span>

<span data-ttu-id="a1b80-262">Eine Bereitstellung für diese Referenzarchitektur ist auf [GitHub][github-folder] verfügbar.</span><span class="sxs-lookup"><span data-stu-id="a1b80-262">A deployment for this reference architecture is available on [GitHub][github-folder].</span></span> 

### <a name="prerequisites"></a><span data-ttu-id="a1b80-263">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="a1b80-263">Prerequisites</span></span>

[!INCLUDE [ref-arch-prerequisites.md](../../../includes/ref-arch-prerequisites.md)]

### <a name="deploy-the-solution-using-azbb"></a><span data-ttu-id="a1b80-264">Bereitstellen der Lösung mit azbb</span><span class="sxs-lookup"><span data-stu-id="a1b80-264">Deploy the solution using azbb</span></span>

<span data-ttu-id="a1b80-265">Um die Linux VMs für eine n-schichtige Anwendungsreferenzarchitektur bereitzustellen, führen Sie die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="a1b80-265">To deploy the Linux VMs for an N-tier application reference architecture, follow these steps:</span></span>

1. <span data-ttu-id="a1b80-266">Navigieren Sie zum `virtual-machines\n-tier-linux`-Ordner für das Repository, das Sie oben in Schritt 1 der Voraussetzungen als Klon erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="a1b80-266">Navigate to the `virtual-machines\n-tier-linux` folder for the repository you cloned in step 1 of the pre-requisites above.</span></span>

2. <span data-ttu-id="a1b80-267">Die Parameterdatei gibt einen Standard-Administratorbenutzernamen und ein Standardkennwort für jeden virtuellen Computer in der Bereitstellung an.</span><span class="sxs-lookup"><span data-stu-id="a1b80-267">The parameter file specifies a default administrator user name and password for each VM in the deployment.</span></span> <span data-ttu-id="a1b80-268">Ändern Sie diese Informationen, bevor Sie die Referenzarchitektur bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-268">Change these before you deploy the reference architecture.</span></span> <span data-ttu-id="a1b80-269">Öffnen Sie die `n-tier-linux.json`-Datei, und ersetzen Sie jedes Feld **adminUsername** und **adminPassword** durch neue Einstellungen.</span><span class="sxs-lookup"><span data-stu-id="a1b80-269">Open the `n-tier-linux.json` file and replace each **adminUsername** and **adminPassword** field with your new settings.</span></span>   <span data-ttu-id="a1b80-270">Speichern Sie die Datei .</span><span class="sxs-lookup"><span data-stu-id="a1b80-270">Save the file.</span></span>

3. <span data-ttu-id="a1b80-271">Stellen Sie die Referenzarchitektur wie unten dargestellt mit dem Tool **azbb** bereit.</span><span class="sxs-lookup"><span data-stu-id="a1b80-271">Deploy the reference architecture using the **azbb** tool as shown below.</span></span>

   ```bash
   azbb -s <your subscription_id> -g <your resource_group_name> -l <azure region> -p n-tier-linux.json --deploy
   ```

<span data-ttu-id="a1b80-272">Weitere Informationen zum Bereitstellen dieser Beispielreferenzarchitektur mithilfe von Azure-Bausteinen finden Sie im [GitHub-Repository][git].</span><span class="sxs-lookup"><span data-stu-id="a1b80-272">For more information on deploying this sample reference architecture using Azure Building Blocks, visit the [GitHub repository][git].</span></span>

<!-- links -->
[dmz]: ../dmz/secure-vnet-dmz.md
[multi-vm]: ./multi-vm.md
[naming conventions]: /azure/guidance/guidance-naming-conventions
[azure-availability-sets]: /azure/virtual-machines/virtual-machines-linux-manage-availability
[azure-dns]: /azure/dns/dns-overview
[azure-key-vault]: https://azure.microsoft.com/services/key-vault

[geschützter Host]: https://en.wikipedia.org/wiki/Bastion_host
[bastion host]: https://en.wikipedia.org/wiki/Bastion_host
[cassandra-in-azure]: https://academy.datastax.com/resources/deployment-guide-azure
[cassandra-consistency]: https://docs.datastax.com/en/cassandra/2.0/cassandra/dml/dml_config_consistency_c.html
[cassandra-replication]: https://academy.datastax.com/planet-cassandra/data-replication-in-nosql-databases-explained
[cassandra-consistency-usage]: https://medium.com/@foundev/cassandra-how-many-nodes-are-talked-to-with-quorum-also-should-i-use-it-98074e75d7d5#.b4pb4alb2

[CIDR]: https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing
[cidr]: https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing
[datastax]: https://www.datastax.com/products/datastax-enterprise
[ddos]: /azure/virtual-network/ddos-protection-overview
[ddos-best-practices]: /azure/security/azure-ddos-best-practices
[git]: https://github.com/mspnp/template-building-blocks
[github-folder]: https://github.com/mspnp/reference-architectures/tree/master/virtual-machines/n-tier-linux
[load-balancer-external]: /azure/load-balancer/load-balancer-internet-overview
[load-balancer-internal]: /azure/load-balancer/load-balancer-internal-overview
[nsg]: /azure/virtual-network/virtual-networks-nsg
[nsg-rules]: /azure/azure-resource-manager/best-practices-resource-manager-security#network-security-groups
[plan-network]: /azure/virtual-network/virtual-network-vnet-plan-design-arm
[private-ip-space]: https://en.wikipedia.org/wiki/Private_network#Private_IPv4_address_spaces
[öffentliche IP-Adresse]: /azure/virtual-network/virtual-network-ip-addresses-overview-arm
[public IP address]: /azure/virtual-network/virtual-network-ip-addresses-overview-arm
[vm-sla]: https://azure.microsoft.com/support/legal/sla/virtual-machines
[visio-download]: https://archcenter.blob.core.windows.net/cdn/vm-reference-architectures.vsdx
[0]: ./images/n-tier-cassandra.png "n-schichtige Architektur mit Microsoft Azure"

[resource-manager-overview]: /azure/azure-resource-manager/resource-group-overview 
[vmss]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview
[load-balancer]: /azure/load-balancer/load-balancer-get-started-internet-arm-cli
[load-balancer-hashing]: /azure/load-balancer/load-balancer-overview#load-balancer-features
[vmss-design]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-design-overview
[subscription-limits]: /azure/azure-subscription-service-limits
[availability-set]: /azure/virtual-machines/virtual-machines-windows-manage-availability
[health-probes]: /azure/load-balancer/load-balancer-overview#load-balancer-features
[health-probe-log]: /azure/load-balancer/load-balancer-monitor-log
[health-probe-ip]: /azure/virtual-network/virtual-networks-nsg#special-rules
[network-security]: /azure/best-practices-network-security
