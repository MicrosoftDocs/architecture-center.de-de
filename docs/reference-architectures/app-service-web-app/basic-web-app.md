---
title: Einfache Webanwendung
description: "Empfohlene Architektur für eine einfache Webanwendung, die in Microsoft Azure ausgeführt wird."
author: MikeWasson
ms.date: 11/23/2016
cardTitle: Basic web application
ms.openlocfilehash: b7475c4087a184bb7608d0c45ffecee912c920d7
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/14/2017
---
# <a name="basic-web-application"></a><span data-ttu-id="458a1-103">Einfache Webanwendung</span><span class="sxs-lookup"><span data-stu-id="458a1-103">Basic web application</span></span>
[!INCLUDE [header](../../_includes/header.md)]

<span data-ttu-id="458a1-104">Diese Referenzarchitektur demonstriert eine Reihe bewährter Verfahren für eine Webanwendung, die [Azure App Service][app-service] und [Azure SQL-Datenbank][sql-db] verwendet.</span><span class="sxs-lookup"><span data-stu-id="458a1-104">This reference architecture shows a set of proven practices for a web application that uses [Azure App Service][app-service] and [Azure SQL Database][sql-db].</span></span> [<span data-ttu-id="458a1-105">**Stellen Sie diese Lösung bereit**.</span><span class="sxs-lookup"><span data-stu-id="458a1-105">**Deploy this solution.**</span></span>](#deploy-the-solution)

<span data-ttu-id="458a1-106">![[0]][0]</span><span class="sxs-lookup"><span data-stu-id="458a1-106">![[0]][0]</span></span>

<span data-ttu-id="458a1-107">*Laden Sie eine [Visio-Datei][visio-download] mit dieser Architektur herunter.*</span><span class="sxs-lookup"><span data-stu-id="458a1-107">*Download a [Visio file][visio-download] of this architecture.*</span></span>

## <a name="architecture"></a><span data-ttu-id="458a1-108">Architektur</span><span class="sxs-lookup"><span data-stu-id="458a1-108">Architecture</span></span> 

> [!NOTE]
> <span data-ttu-id="458a1-109">Der Schwerpunkt liegt bei dieser Architektur nicht auf der Anwendungsentwicklung, und es wird nicht von einem bestimmten Anwendungsframework ausgegangen.</span><span class="sxs-lookup"><span data-stu-id="458a1-109">This architecture does not focus on application development, and does not assume any particular application framework.</span></span> <span data-ttu-id="458a1-110">Das Ziel besteht darin, zu verstehen, wie verschiedene Azure-Dienste ineinandergreifen.</span><span class="sxs-lookup"><span data-stu-id="458a1-110">The goal is to understand how various Azure services fit together.</span></span>
>
>

<span data-ttu-id="458a1-111">Die Architektur besteht aus den folgenden Komponenten:</span><span class="sxs-lookup"><span data-stu-id="458a1-111">The architecture has the following components:</span></span>

* <span data-ttu-id="458a1-112">**Ressourcengruppe**.</span><span class="sxs-lookup"><span data-stu-id="458a1-112">**Resource group**.</span></span> <span data-ttu-id="458a1-113">Eine [Ressourcengruppe](/azure/azure-resource-manager/resource-group-overview) ist ein logischer Container für Azure-Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="458a1-113">A [resource group](/azure/azure-resource-manager/resource-group-overview) is a logical container for Azure resources.</span></span>
* <span data-ttu-id="458a1-114">**App Service-App**.</span><span class="sxs-lookup"><span data-stu-id="458a1-114">**App Service app**.</span></span> <span data-ttu-id="458a1-115">[Azure App Service][app-service] ist eine umfassend verwaltete Plattform zum Erstellen und Bereitstellen von Cloudanwendungen.</span><span class="sxs-lookup"><span data-stu-id="458a1-115">[Azure App Service][app-service] is a fully managed platform for creating and deploying cloud applications.</span></span>     
* <span data-ttu-id="458a1-116">**App Service-Plan**.</span><span class="sxs-lookup"><span data-stu-id="458a1-116">**App Service plan**.</span></span> <span data-ttu-id="458a1-117">Ein [App Service-Plan][app-service-plans] dient zur Bereitstellung der verwalteten virtuellen Computer (VMs), auf denen Ihre App gehostet wird.</span><span class="sxs-lookup"><span data-stu-id="458a1-117">An [App Service plan][app-service-plans] provides the managed virtual machines (VMs) that host your app.</span></span> <span data-ttu-id="458a1-118">Alle einem Plan zugeordneten Apps werden auf den gleichen VM-Instanzen ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="458a1-118">All apps associated with a plan run on the same VM instances.</span></span>

* <span data-ttu-id="458a1-119">**Bereitstellungsslots**.</span><span class="sxs-lookup"><span data-stu-id="458a1-119">**Deployment slots**.</span></span>  <span data-ttu-id="458a1-120">Ein [Bereitstellungsslot][deployment-slots] ermöglicht Ihnen das Staging einer Bereitstellung und ihren Austausch gegen die Produktionsbereitstellung.</span><span class="sxs-lookup"><span data-stu-id="458a1-120">A [deployment slot][deployment-slots] lets you stage a deployment and then swap it with the production deployment.</span></span> <span data-ttu-id="458a1-121">Auf diese Weise vermeiden Sie die direkte Bereitstellung in der Produktionsumgebung.</span><span class="sxs-lookup"><span data-stu-id="458a1-121">That way, you avoid deploying directly into production.</span></span> <span data-ttu-id="458a1-122">Im Abschnitt [Verwaltbarkeit](#manageability-considerations) finden Sie spezifische Empfehlungen.</span><span class="sxs-lookup"><span data-stu-id="458a1-122">See the [Manageability](#manageability-considerations) section for specific recommendations.</span></span>

* <span data-ttu-id="458a1-123">**IP-Adresse**.</span><span class="sxs-lookup"><span data-stu-id="458a1-123">**IP address**.</span></span> <span data-ttu-id="458a1-124">Die App Service-App verfügt über eine öffentliche IP-Adresse und einen Domänennamen.</span><span class="sxs-lookup"><span data-stu-id="458a1-124">The App Service app has a public IP address and a domain name.</span></span> <span data-ttu-id="458a1-125">Der Domänenname ist eine Unterdomäne von `azurewebsites.net`, z.B. `contoso.azurewebsites.net`.</span><span class="sxs-lookup"><span data-stu-id="458a1-125">The domain name is a subdomain of `azurewebsites.net`, such as `contoso.azurewebsites.net`.</span></span> <span data-ttu-id="458a1-126">Um einen benutzerdefinierten Domänennamen zu verwenden, z.B. `contoso.com`, erstellen Sie DNS-Einträge (Domain Name Service), die der IP-Adresse den benutzerdefinierten Domänennamen zuordnen.</span><span class="sxs-lookup"><span data-stu-id="458a1-126">To use a custom domain name, such as `contoso.com`, create domain name service (DNS) records that map the custom domain name to the IP address.</span></span> <span data-ttu-id="458a1-127">Weitere Informationen finden Sie unter [Konfigurieren eines benutzerdefinierten Domänennamens in Azure App Service][custom-domain-name].</span><span class="sxs-lookup"><span data-stu-id="458a1-127">For more information, see [Configure a custom domain name in Azure App Service][custom-domain-name].</span></span>
* <span data-ttu-id="458a1-128">**Azure SQL-Datenbank**.</span><span class="sxs-lookup"><span data-stu-id="458a1-128">**Azure SQL Database**.</span></span> <span data-ttu-id="458a1-129">[SQL-Datenbank][sql-db] ist eine relationale Datenbank-as-a-Service in der Cloud.</span><span class="sxs-lookup"><span data-stu-id="458a1-129">[SQL Database][sql-db] is a relational database-as-a-service in the cloud.</span></span>
* <span data-ttu-id="458a1-130">**Logischer Server**.</span><span class="sxs-lookup"><span data-stu-id="458a1-130">**Logical server**.</span></span> <span data-ttu-id="458a1-131">In Azure SQL-Datenbank werden Ihre Datenbanken auf einem logischen Server gehostet.</span><span class="sxs-lookup"><span data-stu-id="458a1-131">In Azure SQL Database, a logical server hosts your databases.</span></span> <span data-ttu-id="458a1-132">Sie können pro logischem Server mehrere Datenbanken erstellen.</span><span class="sxs-lookup"><span data-stu-id="458a1-132">You can create multiple databases per logical server.</span></span>
* <span data-ttu-id="458a1-133">**Azure Storage**.</span><span class="sxs-lookup"><span data-stu-id="458a1-133">**Azure Storage**.</span></span> <span data-ttu-id="458a1-134">Erstellen Sie ein Azure-Speicherkonto mit einem Blob-Container zum Speichern von Diagnoseprotokollen.</span><span class="sxs-lookup"><span data-stu-id="458a1-134">Create an Azure storage account with a blob container to store diagnostic logs.</span></span>
* <span data-ttu-id="458a1-135">**Azure Active Directory** (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="458a1-135">**Azure Active Directory** (Azure AD).</span></span> <span data-ttu-id="458a1-136">Verwenden Sie Azure AD oder einen anderen Identitätsanbieter für die Authentifizierung.</span><span class="sxs-lookup"><span data-stu-id="458a1-136">Use Azure AD or another identity provider for authentication.</span></span>

## <a name="recommendations"></a><span data-ttu-id="458a1-137">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="458a1-137">Recommendations</span></span>

<span data-ttu-id="458a1-138">Ihre Anforderungen können von der hier beschriebenen Architektur abweichen.</span><span class="sxs-lookup"><span data-stu-id="458a1-138">Your requirements might differ from the architecture described here.</span></span> <span data-ttu-id="458a1-139">Verwenden Sie die Empfehlungen in diesem Abschnitt als Ausgangspunkt.</span><span class="sxs-lookup"><span data-stu-id="458a1-139">Use the recommendations in this section as a starting point.</span></span>

### <a name="app-service-plan"></a><span data-ttu-id="458a1-140">App Service-Plan</span><span class="sxs-lookup"><span data-stu-id="458a1-140">App Service plan</span></span>
<span data-ttu-id="458a1-141">Verwenden Sie die Standard- oder Premium-Tarife, da sie horizontales Skalieren, automatische Skalierung und SSL (Secure Sockets Layer) unterstützen.</span><span class="sxs-lookup"><span data-stu-id="458a1-141">Use the Standard or Premium tiers, because they support scale out, autoscale, and secure sockets layer (SSL).</span></span> <span data-ttu-id="458a1-142">Alle Tarife unterstützen verschiedene *Instanzgrößen*, die sich in der Anzahl der Kerne und im Arbeitsspeicher unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="458a1-142">Each tier supports several *instance sizes* that differ by number of cores and memory.</span></span> <span data-ttu-id="458a1-143">Sie können den Tarif oder die Instanzgröße nach der Erstellung eines Plans ändern.</span><span class="sxs-lookup"><span data-stu-id="458a1-143">You can change the tier or instance size after you create a plan.</span></span> <span data-ttu-id="458a1-144">Weitere Informationen zu App Service-Plänen finden Sie unter [App Service – Preise][app-service-plans-tiers].</span><span class="sxs-lookup"><span data-stu-id="458a1-144">For more information about App Service plans, see [App Service Pricing][app-service-plans-tiers].</span></span>

<span data-ttu-id="458a1-145">Die Instanzen im App Service-Plan werden Ihnen in Rechnung gestellt, auch wenn die App nicht ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="458a1-145">You are charged for the instances in the App Service plan, even if the app is stopped.</span></span> <span data-ttu-id="458a1-146">Achten Sie darauf, nicht verwendete Pläne (z.B. Testbereitstellungen) zu löschen.</span><span class="sxs-lookup"><span data-stu-id="458a1-146">Make sure to delete plans that you aren't using (for example, test deployments).</span></span>

### <a name="sql-database"></a><span data-ttu-id="458a1-147">SQL-Datenbank</span><span class="sxs-lookup"><span data-stu-id="458a1-147">SQL Database</span></span>
<span data-ttu-id="458a1-148">Verwenden Sie die [V12-Version][sql-db-v12] von SQL-Datenbank.</span><span class="sxs-lookup"><span data-stu-id="458a1-148">Use the [V12 version][sql-db-v12] of SQL Database.</span></span> <span data-ttu-id="458a1-149">SQL-Datenbank unterstützt die [Diensttarife][sql-db-service-tiers] Basic, Standard und Premium mit mehreren Leistungsebenen innerhalb der einzelnen Tarife, die in [Datenbanktransaktionseinheiten (Database Transaction Units, DTUs)][sql-dtu] gemessen werden.</span><span class="sxs-lookup"><span data-stu-id="458a1-149">SQL Database supports Basic, Standard, and Premium [service tiers][sql-db-service-tiers], with multiple performance levels within each tier measured in [Database Transaction Units (DTUs)][sql-dtu].</span></span> <span data-ttu-id="458a1-150">Führen Sie Kapazitätsplanung durch, und wählen Sie einen Tarif und eine Leistungsstufe aus, die Ihren Anforderungen entsprechen.</span><span class="sxs-lookup"><span data-stu-id="458a1-150">Perform capacity planning and choose a tier and performance level that meets your requirements.</span></span>

### <a name="region"></a><span data-ttu-id="458a1-151">Region</span><span class="sxs-lookup"><span data-stu-id="458a1-151">Region</span></span>
<span data-ttu-id="458a1-152">Stellen Sie den App Service-Plan und die SQL-Datenbank in der gleichen Region bereit, um die Netzwerklatenz zu minimieren.</span><span class="sxs-lookup"><span data-stu-id="458a1-152">Provision the App Service plan and the SQL Database in the same region to minimize network latency.</span></span> <span data-ttu-id="458a1-153">Wählen Sie grundsätzlich die Ihren Benutzern am nächsten gelegene Region aus.</span><span class="sxs-lookup"><span data-stu-id="458a1-153">Generally, choose the region closest to your users.</span></span>

<span data-ttu-id="458a1-154">Die Ressourcengruppe weist ebenfalls eine Region auf, die angibt, wo die Metadaten der Bereitstellung gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="458a1-154">The resource group also has a region, which specifies where deployment metadata is stored.</span></span> <span data-ttu-id="458a1-155">Implementieren Sie die Ressourcengruppe und ihre Ressourcen in der gleichen Region.</span><span class="sxs-lookup"><span data-stu-id="458a1-155">Put the resource group and its resources in the same region.</span></span> <span data-ttu-id="458a1-156">Dies kann die Verfügbarkeit während der Bereitstellung verbessern.</span><span class="sxs-lookup"><span data-stu-id="458a1-156">This can improve availability during deployment.</span></span> 

## <a name="scalability-considerations"></a><span data-ttu-id="458a1-157">Überlegungen zur Skalierbarkeit</span><span class="sxs-lookup"><span data-stu-id="458a1-157">Scalability considerations</span></span>

<span data-ttu-id="458a1-158">Ein großer Vorteil von Azure App Service ist die Möglichkeit, Ihre Anwendung abhängig von der Last zu skalieren.</span><span class="sxs-lookup"><span data-stu-id="458a1-158">A major benefit of Azure App Service is the ability to scale your application based on load.</span></span> <span data-ttu-id="458a1-159">Hier sind einige Punkte aufgeführt, die beim Planen der Skalierung für Ihre Anwendung zu bedenken sind.</span><span class="sxs-lookup"><span data-stu-id="458a1-159">Here are some considerations to keep in mind when planning to scale your application.</span></span>

### <a name="scaling-the-app-service-app"></a><span data-ttu-id="458a1-160">Skalieren der App Service-App</span><span class="sxs-lookup"><span data-stu-id="458a1-160">Scaling the App Service app</span></span>

<span data-ttu-id="458a1-161">Es gibt zwei Möglichkeiten zum Skalieren einer App Service-App:</span><span class="sxs-lookup"><span data-stu-id="458a1-161">There are two ways to scale an App Service app:</span></span>

* <span data-ttu-id="458a1-162">*Zentrales Hochskalieren*, was die Änderung der Instanzgröße bedeutet.</span><span class="sxs-lookup"><span data-stu-id="458a1-162">*Scale up*, which means changing the instance size.</span></span> <span data-ttu-id="458a1-163">Die Instanzgröße bestimmt den Arbeitsspeicher, die Anzahl der Kerne und den Massenspeicher für die einzelnen VM-Instanzen.</span><span class="sxs-lookup"><span data-stu-id="458a1-163">The instance size determines the memory, number of cores, and storage on each VM instance.</span></span> <span data-ttu-id="458a1-164">Das zentrale Hochskalieren kann manuell erfolgen, indem Sie die Instanzgröße oder den Plantarif ändern.</span><span class="sxs-lookup"><span data-stu-id="458a1-164">You can scale up manually by changing the instance size or the plan tier.</span></span>  

* <span data-ttu-id="458a1-165">*Horizontales Skalieren*, was das Hinzufügen von Instanzen zum Verarbeiten höherer Auslastungen bedeutet.</span><span class="sxs-lookup"><span data-stu-id="458a1-165">*Scale out*, which means adding instances to handle increased load.</span></span> <span data-ttu-id="458a1-166">Für jede Tarifebene gibt es eine Maximalanzahl Instanzen.</span><span class="sxs-lookup"><span data-stu-id="458a1-166">Each pricing tier has a maximum number of instances.</span></span> 

  <span data-ttu-id="458a1-167">Sie können manuell horizontal skalieren, indem Sie die Instanzanzahl ändern, oder [automatische Skalierung][web-app-autoscale] verwenden, wenn Azure automatisch auf der Grundlage eines Zeitplans und/oder von Leistungsmetriken Instanzen hinzufügen oder entfernen soll.</span><span class="sxs-lookup"><span data-stu-id="458a1-167">You can scale out manually by changing the instance count, or use [autoscaling][web-app-autoscale] to have Azure automatically add or remove instances based on a schedule and/or performance metrics.</span></span> <span data-ttu-id="458a1-168">Die Skalierungsvorgänge erfolgen schnell – normalerweise innerhalb von Sekunden.</span><span class="sxs-lookup"><span data-stu-id="458a1-168">Each scale operation happens quickly&mdash;typically within seconds.</span></span> 

  <span data-ttu-id="458a1-169">Um die automatische Skalierung zu aktivieren, erstellen Sie ein *Profil* für die automatische Skalierung, das die Minimal- und Maximalanzahl der Instanzen definiert.</span><span class="sxs-lookup"><span data-stu-id="458a1-169">To enable autoscaling, create an autoscale *profile* that defines the minimum and maximum number of instances.</span></span> <span data-ttu-id="458a1-170">Profile können geplant werden.</span><span class="sxs-lookup"><span data-stu-id="458a1-170">Profiles can be scheduled.</span></span> <span data-ttu-id="458a1-171">Beispielsweise können Sie separate Profile für Wochentage und Wochenenden erstellen.</span><span class="sxs-lookup"><span data-stu-id="458a1-171">For example, you might create separate profiles for weekdays and weekends.</span></span> <span data-ttu-id="458a1-172">Optional enthält ein Profil Regeln dafür, wann Instanzen hinzugefügt oder entfernt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="458a1-172">Optionally, a profile contains rules for when to add or remove instances.</span></span> <span data-ttu-id="458a1-173">(Beispiel: Füge zwei Instanzen hinzu, wenn die CPU-Auslastung 5 Minuten lang über 70 % liegt.)</span><span class="sxs-lookup"><span data-stu-id="458a1-173">(Example: Add two instances if CPU usage is above 70% for 5 minutes.)</span></span>
  
<span data-ttu-id="458a1-174">Empfehlungen zum Skalieren einer Web App:</span><span class="sxs-lookup"><span data-stu-id="458a1-174">Recommendations for scaling a web app:</span></span>

* <span data-ttu-id="458a1-175">Vermeiden Sie nach Möglichkeit zentrales Hoch- und Herunterskalieren, da dies zu einem Neustart der Anwendung führen kann.</span><span class="sxs-lookup"><span data-stu-id="458a1-175">As much as possible, avoid scaling up and down, because it may trigger an application restart.</span></span> <span data-ttu-id="458a1-176">Wählen Sie stattdessen einen Tarif und eine Größe aus, der bzw. die Ihre Leistungsanforderungen unter typischer Last erfüllt, und skalieren Sie die Instanzen horizontal hoch, um Änderungen beim Datenverkehrsvolumen zu bewältigen.</span><span class="sxs-lookup"><span data-stu-id="458a1-176">Instead, select a tier and size that meet your performance requirements under typical load and then scale out the instances to handle changes in traffic volume.</span></span>    
* <span data-ttu-id="458a1-177">Aktivieren Sie die automatische Skalierung.</span><span class="sxs-lookup"><span data-stu-id="458a1-177">Enable autoscaling.</span></span> <span data-ttu-id="458a1-178">Wenn Ihre Anwendung eine vorhersehbare normale Arbeitsauslastung aufweist, erstellen Sie Profile, um die Instanzanzahl im Voraus zu planen.</span><span class="sxs-lookup"><span data-stu-id="458a1-178">If your application has a predictable, regular workload, create profiles to schedule the instance counts ahead of time.</span></span> <span data-ttu-id="458a1-179">Wenn die Arbeitsauslastung nicht vorhersehbar ist, verwenden Sie regelbasierte automatische Skalierung, um auf Änderungen der Arbeitsauslastung beim Eintreten zu reagieren.</span><span class="sxs-lookup"><span data-stu-id="458a1-179">If the workload is not predictable, use rule-based autoscaling to react to changes in load as they occur.</span></span> <span data-ttu-id="458a1-180">Beide Ansätze können kombiniert werden.</span><span class="sxs-lookup"><span data-stu-id="458a1-180">You can combine both approaches.</span></span>
* <span data-ttu-id="458a1-181">Die CPU-Auslastung ist im Allgemeinen eine gute Metrik für Regeln zur automatischen Skalierung.</span><span class="sxs-lookup"><span data-stu-id="458a1-181">CPU usage is generally a good metric for autoscale rules.</span></span> <span data-ttu-id="458a1-182">Jedoch sollten Sie einen Auslastungstest Ihrer Anwendung durchführen, potenzielle Engpässe identifizieren und Regeln für die automatische Skalierung auf diesen Daten aufbauen.</span><span class="sxs-lookup"><span data-stu-id="458a1-182">However, you should load test your application, identify potential bottlenecks, and base your autoscale rules on that data.</span></span>  
* <span data-ttu-id="458a1-183">Regeln für die automatische Skalierung beinhalten eine *Abkühlphase*; damit wird die Warteperiode nach dem Abschluss einer Skalierungsaktion bezeichnet, bevor eine neue Skalierungsaktion gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="458a1-183">Autoscale rules include a *cool-down* period, which is the interval to wait after a scale action has completed before starting a new scale action.</span></span> <span data-ttu-id="458a1-184">In der Abkühlphase stabilisiert sich das System, bevor eine erneute Skalierung erfolgt.</span><span class="sxs-lookup"><span data-stu-id="458a1-184">The cool-down period lets the system stabilize before scaling again.</span></span> <span data-ttu-id="458a1-185">Legen Sie eine kürzere Abkühlphase für das Hinzufügen von Instanzen und eine längere Abkühlphase für das Entfernen von Instanzen fest.</span><span class="sxs-lookup"><span data-stu-id="458a1-185">Set a shorter cool-down period for adding instances, and a longer cool-down period for removing instances.</span></span> <span data-ttu-id="458a1-186">Legen Sie beispielsweise 5 Minuten für das Hinzufügen einer Instanz aber 60 Minuten für das Entfernen einer Instanz fest.</span><span class="sxs-lookup"><span data-stu-id="458a1-186">For example, set 5 minutes to add an instance, but 60 minutes to remove an instance.</span></span> <span data-ttu-id="458a1-187">Es ist besser, bei hoher Auslastung schnell neue Instanzen hinzuzufügen, um den zusätzlichen Datenverkehr zu bewältigen, und das System dann nach und nach wieder herunterzuskalieren.</span><span class="sxs-lookup"><span data-stu-id="458a1-187">It's better to add new instances quickly under heavy load to handle the additional traffic, and then gradually scale back.</span></span>

### <a name="scaling-sql-database"></a><span data-ttu-id="458a1-188">Skalieren von SQL-­Datenbank</span><span class="sxs-lookup"><span data-stu-id="458a1-188">Scaling SQL Database</span></span>
<span data-ttu-id="458a1-189">Wenn Sie eine höhere Dienstebene oder Leistungsstufe für SQL-Datenbank benötigen, können Sie einzelne Datenbanken ohne Ausfallzeit der Anwendung zentral hochskalieren.</span><span class="sxs-lookup"><span data-stu-id="458a1-189">If you need a higher service tier or performance level for SQL Database, you can scale up individual databases with no application downtime.</span></span> <span data-ttu-id="458a1-190">Weitere Informationen finden Sie unter [SQL-Datenbankoptionen und -leistung: Grundlegendes zum Angebot in den einzelnen Tarifen][sql-db-scale].</span><span class="sxs-lookup"><span data-stu-id="458a1-190">For more information, see [SQL Database options and performance: Understand what's available in each service tier][sql-db-scale].</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="458a1-191">Überlegungen zur Verfügbarkeit</span><span class="sxs-lookup"><span data-stu-id="458a1-191">Availability considerations</span></span>
<span data-ttu-id="458a1-192">Zum Entstehungszeitpunkt dieses Artikels ist die SLA (Vereinbarung zum Servicelevel) für App Service 99,95 % und die SLA für SQL-Datenbank 99,99 % für die Tarife Basic, Standard und Premium.</span><span class="sxs-lookup"><span data-stu-id="458a1-192">At the time of writing, the service level agreement (SLA) for App Service is 99.95% and the SLA for SQL Database is 99.99% for Basic, Standard, and Premium tiers.</span></span> 

> [!NOTE]
> <span data-ttu-id="458a1-193">Die App Service-SLA gilt sowohl für einzelne als auch für mehrere Instanzen.</span><span class="sxs-lookup"><span data-stu-id="458a1-193">The App Service SLA applies to both single and multiple instances.</span></span>  
>
>

### <a name="backups"></a><span data-ttu-id="458a1-194">Backups</span><span class="sxs-lookup"><span data-stu-id="458a1-194">Backups</span></span>
<span data-ttu-id="458a1-195">Im Fall eines Datenverlusts stellt SQL-Datenbank Point-in-Time-Wiederherstellung und Geowiederherstellung bereit.</span><span class="sxs-lookup"><span data-stu-id="458a1-195">In the event of data loss, SQL Database provides point-in-time restore and geo-restore.</span></span> <span data-ttu-id="458a1-196">Diese Funktionen sind in allen Tarifen verfügbar und automatisch aktiviert.</span><span class="sxs-lookup"><span data-stu-id="458a1-196">These features are available in all tiers and are automatically enabled.</span></span> <span data-ttu-id="458a1-197">Sie brauchen keine Sicherungen zu planen oder zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="458a1-197">You don't need to schedule or manage the backups.</span></span> 

- <span data-ttu-id="458a1-198">Verwenden Sie die Point-in-Time-Wiederherstellung, für die [Wiederherstellung nach Bedienungsfehlern][sql-human-error], um einen früheren Zeitpunkt der Datenbankausführung wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="458a1-198">Use point-in-time restore to [recover from human error][sql-human-error] by returning the database to an earlier point in time.</span></span> 
- <span data-ttu-id="458a1-199">Verwenden Sie Geowiederherstellung zur [Wiederherstellung nach einem Dienstausfall][sql-outage-recovery], indem Sie eine Datenbank aus einer georedundanten Sicherung wiederherstellen.</span><span class="sxs-lookup"><span data-stu-id="458a1-199">Use geo-restore to [recover from a service outage][sql-outage-recovery] by restoring a database from a geo-redundant backup.</span></span> 

<span data-ttu-id="458a1-200">Weitere Informationen finden Sie unter [Geschäftskontinuität für die Cloud und Notfallwiederherstellung für Datenbanken mit SQL-Datenbank][sql-backup].</span><span class="sxs-lookup"><span data-stu-id="458a1-200">For more information, see [Cloud business continuity and database disaster recovery with SQL Database][sql-backup].</span></span>

<span data-ttu-id="458a1-201">App Service bietet eine Funktion zum [Sichern und Wiederherstellen][web-app-backup] für Ihre Anwendungsdateien.</span><span class="sxs-lookup"><span data-stu-id="458a1-201">App Service provides a [backup and restore][web-app-backup] feature for your application files.</span></span> <span data-ttu-id="458a1-202">Beachten Sie dabei jedoch, dass die gesicherten Dateien Anwendungseinstellungen in unverschlüsseltem Text enthalten, die Geheimnisse enthalten können, wie z.B. Verbindungszeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="458a1-202">However, be aware that the backed-up files include app settings in plain text and these may include secrets, such as connection strings.</span></span> <span data-ttu-id="458a1-203">Vermeiden Sie die Verwendung der App Service-Sicherungsfunktion für die Sicherung Ihrer SQL-Datenbanken, da sie die Datenbank in eine SQL BACPAC-Datei exportiert und dabei [DTUs][sql-dtu] verbraucht.</span><span class="sxs-lookup"><span data-stu-id="458a1-203">Avoid using the App Service backup feature to back up your SQL databases because it exports the database to a SQL .bacpac file, consuming [DTUs][sql-dtu].</span></span> <span data-ttu-id="458a1-204">Verwenden Sie stattdessen die oben beschriebene SQL-Datenbank Point-in-Time-Wiederherstellung.</span><span class="sxs-lookup"><span data-stu-id="458a1-204">Instead, use SQL Database point-in-time restore described above.</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="458a1-205">Überlegungen zur Verwaltbarkeit</span><span class="sxs-lookup"><span data-stu-id="458a1-205">Manageability considerations</span></span>
<span data-ttu-id="458a1-206">Erstellen Sie separate Ressourcengruppen für Produktions-, Entwicklungs- und Testumgebungen.</span><span class="sxs-lookup"><span data-stu-id="458a1-206">Create separate resource groups for production, development, and test environments.</span></span> <span data-ttu-id="458a1-207">Dies erleichtert das Verwalten von Bereitstellungen, das Löschen von Testbereitstellungen und das Zuweisen von Zugriffsrechten.</span><span class="sxs-lookup"><span data-stu-id="458a1-207">This makes it easier to manage deployments, delete test deployments, and assign access rights.</span></span>

<span data-ttu-id="458a1-208">Berücksichtigen Sie beim Zuweisen von Ressourcengruppen die folgenden Punkte:</span><span class="sxs-lookup"><span data-stu-id="458a1-208">When assigning resources to resource groups, consider the following:</span></span>

* <span data-ttu-id="458a1-209">Lebenszyklus.</span><span class="sxs-lookup"><span data-stu-id="458a1-209">Lifecycle.</span></span> <span data-ttu-id="458a1-210">Platzieren Sie Ressourcen mit gleichem Lebenszyklus im Allgemeinen in der gleichen Ressourcengruppe.</span><span class="sxs-lookup"><span data-stu-id="458a1-210">In general, put resources with the same lifecycle into the same resource group.</span></span>
* <span data-ttu-id="458a1-211">Zugriff.</span><span class="sxs-lookup"><span data-stu-id="458a1-211">Access.</span></span> <span data-ttu-id="458a1-212">Sie können [rollenbasierte Zugriffssteuerung][rbac] (Role-Based Access Control) verwenden, um Zugriffsrichtlinien auf die in einer Gruppe enthaltenen Ressourcen anzuwenden.</span><span class="sxs-lookup"><span data-stu-id="458a1-212">You can use [role-based access control][rbac] (RBAC) to apply access policies to the resources in a group.</span></span>
* <span data-ttu-id="458a1-213">Abrechnung.</span><span class="sxs-lookup"><span data-stu-id="458a1-213">Billing.</span></span> <span data-ttu-id="458a1-214">Sie können die angefallenen Kosten für die Ressourcengruppe anzeigen.</span><span class="sxs-lookup"><span data-stu-id="458a1-214">You can view the rolled-up costs for the resource group.</span></span>  

<span data-ttu-id="458a1-215">Weitere Informationen finden Sie unter [Übersicht über den Azure Resource Manager](/azure/azure-resource-manager/resource-group-overview).</span><span class="sxs-lookup"><span data-stu-id="458a1-215">For more information, see [Azure Resource Manager overview](/azure/azure-resource-manager/resource-group-overview).</span></span>

### <a name="deployment"></a><span data-ttu-id="458a1-216">Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="458a1-216">Deployment</span></span>
<span data-ttu-id="458a1-217">Die Bereitstellung umfasst zwei Schritte:</span><span class="sxs-lookup"><span data-stu-id="458a1-217">Deployment involves two steps:</span></span>

1. <span data-ttu-id="458a1-218">Bereitstellen der Azure-Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="458a1-218">Provisioning the Azure resources.</span></span> <span data-ttu-id="458a1-219">Wir empfehlen für diesen Schritt die Verwendung von [Azure-Ressource-Manager-Vorlagen][arm-template].</span><span class="sxs-lookup"><span data-stu-id="458a1-219">We recommend that you use [Azure Resoure Manager templates][arm-template] for this step.</span></span> <span data-ttu-id="458a1-220">Mithilfe von Vorlagen können Bereitstellungen über PowerShell oder die Azure-Befehlszeilenschnittstelle (CLI) leichter automatisiert werden.</span><span class="sxs-lookup"><span data-stu-id="458a1-220">Templates make it easier to automate deployments via PowerShell or the Azure command line interface (CLI).</span></span>
2. <span data-ttu-id="458a1-221">Bereitstellen der Anwendung (Code, Binarys und Inhaltsdateien).</span><span class="sxs-lookup"><span data-stu-id="458a1-221">Deploying the application (code, binaries, and content files).</span></span> <span data-ttu-id="458a1-222">Es gibt eine Reihe verschiedener Optionen, einschließlich der Bereitstellung aus einem lokalen Git-Repository, der Verwendung von Visual Studio oder Continuous Deployment aus einer cloudbasierten Quellcodeverwaltung.</span><span class="sxs-lookup"><span data-stu-id="458a1-222">You have several options, including deploying from a local Git repository, using Visual Studio, or continuous deployment from cloud-based source control.</span></span> <span data-ttu-id="458a1-223">Weitere Informationen finden Sie unter [Bereitstellen der App in Azure App Service][deploy].</span><span class="sxs-lookup"><span data-stu-id="458a1-223">See [Deploy your app to Azure App Service][deploy].</span></span>  

<span data-ttu-id="458a1-224">Eine App Service-App weist immer einen Bereitstellungsslot mit dem Namen `production` auf, der die Produktions-Livewebsite darstellt.</span><span class="sxs-lookup"><span data-stu-id="458a1-224">An App Service app always has one deployment slot named `production`, which represents the live production site.</span></span> <span data-ttu-id="458a1-225">Wir empfehlen, zum Bereitstellen von Updates einen Stagingslot zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="458a1-225">We recommend creating a staging slot for deploying updates.</span></span> <span data-ttu-id="458a1-226">Zu den Vorteilen beim Verwenden eines Stagingslots gehören:</span><span class="sxs-lookup"><span data-stu-id="458a1-226">The benefits of using a staging slot include:</span></span>

* <span data-ttu-id="458a1-227">Sie können den Erfolg der Bereitstellung überprüfen, bevor Sie sie in die Produktionsumgebung einbringen.</span><span class="sxs-lookup"><span data-stu-id="458a1-227">You can verify the deployment succeeded, before swapping it into production.</span></span>
* <span data-ttu-id="458a1-228">Das Bereitstellen in einem Stagingslot stellt sicher, dass alle Instanzen warmgelaufen sind, bevor sie in die Produktionsumgebung eingebracht werden.</span><span class="sxs-lookup"><span data-stu-id="458a1-228">Deploying to a staging slot ensures that all instances are warmed up before being swapped into production.</span></span> <span data-ttu-id="458a1-229">Viele Anwendungen weisen eine erhebliche Aufwärmdauer und Kaltstartzeit auf.</span><span class="sxs-lookup"><span data-stu-id="458a1-229">Many applications have a significant warmup and cold-start time.</span></span>

<span data-ttu-id="458a1-230">Ferner empfehlen wir die Erstellung eines dritten Slots zur Aufnahme der letzten als funktionierend bekannten Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="458a1-230">We also recommend creating a third slot to hold the last-known-good deployment.</span></span> <span data-ttu-id="458a1-231">Verschieben Sie nach dem Vertauschen von Staging- und Produktionsumgebung die bisherige Produktionsumgebung (die sich jetzt im Stagingslot befindet) in den Slot für die letzte als funktionierend bekannte Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="458a1-231">After you swap staging and production, move the previous production deployment (which is now in staging) into the last-known-good slot.</span></span> <span data-ttu-id="458a1-232">Wenn Sie zu einem späteren Zeitpunkt ein Problem feststellen, können Sie auf diese Weise schnell zur letzten als funktionierend bekannten Version zurückkehren.</span><span class="sxs-lookup"><span data-stu-id="458a1-232">That way, if you discover a problem later, you can quickly revert to the last-known-good version.</span></span>

<span data-ttu-id="458a1-233">![[1]][1]</span><span class="sxs-lookup"><span data-stu-id="458a1-233">![[1]][1]</span></span>

<span data-ttu-id="458a1-234">Wenn Sie eine frühere Version wiederherstellen, achten Sie darauf, dass alle Änderungen am Datenbankschema abwärtskompatibel sind.</span><span class="sxs-lookup"><span data-stu-id="458a1-234">If you revert to a previous version, make sure any database schema changes are backward compatible.</span></span>

<span data-ttu-id="458a1-235">Verwenden Sie keine Slots in Ihrer Produktionsumgebung für Tests, da alle Apps in einem App Service-Plan die gleichen VM-Instanzen nutzen.</span><span class="sxs-lookup"><span data-stu-id="458a1-235">Don't use slots on your production deployment for testing because all apps within the same App Service plan share the same VM instances.</span></span> <span data-ttu-id="458a1-236">Auslastungstests können z.B. den aktiven Produktionsstandort beeinträchtigen.</span><span class="sxs-lookup"><span data-stu-id="458a1-236">For example, load tests might degrade the live production site.</span></span> <span data-ttu-id="458a1-237">Erstellen Sie stattdessen separate App Service-Pläne für die Produktion und für Tests.</span><span class="sxs-lookup"><span data-stu-id="458a1-237">Instead, create separate App Service plans for production and test.</span></span> <span data-ttu-id="458a1-238">Indem Sie Testbereitstellungen in einen separaten Plan aufnehmen, isolieren Sie sie von der Produktionsversion.</span><span class="sxs-lookup"><span data-stu-id="458a1-238">By putting test deployments into a separate plan, you isolate them from the production version.</span></span>

### <a name="configuration"></a><span data-ttu-id="458a1-239">Konfiguration</span><span class="sxs-lookup"><span data-stu-id="458a1-239">Configuration</span></span>
<span data-ttu-id="458a1-240">Speichern Sie die Konfigurationseinstellungen als [App-Einstellungen][app-settings].</span><span class="sxs-lookup"><span data-stu-id="458a1-240">Store configuration settings as [app settings][app-settings].</span></span> <span data-ttu-id="458a1-241">Definieren Sie die App-Einstellungen in Ihren Ressourcen-Manager-Vorlagen oder mithilfe von PowerShell.</span><span class="sxs-lookup"><span data-stu-id="458a1-241">Define the app settings in your Resource Manager templates, or using PowerShell.</span></span> <span data-ttu-id="458a1-242">Zur Laufzeit stehen App-Einstellungen der Anwendung als Umgebungsvariablen zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="458a1-242">At runtime, app settings are available to the application as environment variables.</span></span>

<span data-ttu-id="458a1-243">Checken Sie niemals Kennwörter, Zugriffsschlüssel oder Verbindungszeichenfolgen in die Quellcodeverwaltung ein.</span><span class="sxs-lookup"><span data-stu-id="458a1-243">Never check passwords, access keys, or connection strings into source control.</span></span> <span data-ttu-id="458a1-244">Übergeben Sie diese stattdessen als Parameter an ein Bereitstellungsskript, das diese Werte als Anwendungseinstellungen speichert.</span><span class="sxs-lookup"><span data-stu-id="458a1-244">Instead, pass these as parameters to a deployment script that stores these values as app settings.</span></span>

<span data-ttu-id="458a1-245">Wenn Sie einen Bereitstellungsslot tauschen, werden die App-Einstellungen standardmäßig ebenfalls getauscht.</span><span class="sxs-lookup"><span data-stu-id="458a1-245">When you swap a deployment slot, the app settings are swapped by default.</span></span> <span data-ttu-id="458a1-246">Wenn Sie für die Produktions- und die Stagingumgebung unterschiedliche Einstellungen benötigen, können Sie Anwendungseinstellungen erstellen, die fest bei einem Slot verbleiben und nicht getauscht werden.</span><span class="sxs-lookup"><span data-stu-id="458a1-246">If you need different settings for production and staging, you can create app settings that stick to a slot and don't get swapped.</span></span>

### <a name="diagnostics-and-monitoring"></a><span data-ttu-id="458a1-247">Diagnose und Überwachung</span><span class="sxs-lookup"><span data-stu-id="458a1-247">Diagnostics and monitoring</span></span>
<span data-ttu-id="458a1-248">Aktivieren Sie die [Diagnoseprotokollierung][diagnostic-logs], einschließlich Anwendungsprotokollierung und Webserverprotokollierung.</span><span class="sxs-lookup"><span data-stu-id="458a1-248">Enable [diagnostics logging][diagnostic-logs], including application logging and web server logging.</span></span> <span data-ttu-id="458a1-249">Konfigurieren Sie die Verwendung von Blob-Speicher für die Protokollierung.</span><span class="sxs-lookup"><span data-stu-id="458a1-249">Configure logging to use Blob storage.</span></span> <span data-ttu-id="458a1-250">Erstellen Sie aus Leistungsgründen ein separates Speicherkonto für Diagnoseprotokolle.</span><span class="sxs-lookup"><span data-stu-id="458a1-250">For performance reasons, create a separate storage account for diagnostic logs.</span></span> <span data-ttu-id="458a1-251">Verwenden Sie nicht das gleiche Speicherkonto für Protokolle und Anwendungsdaten.</span><span class="sxs-lookup"><span data-stu-id="458a1-251">Don't use the same storage account for logs and application data.</span></span> <span data-ttu-id="458a1-252">Detailliertere Anweisungen zur Protokollierung finden Sie unter [Leitfaden zu Überwachung und Diagnose][monitoring-guidance].</span><span class="sxs-lookup"><span data-stu-id="458a1-252">For more detailed guidance on logging, see [Monitoring and diagnostics guidance][monitoring-guidance].</span></span>

<span data-ttu-id="458a1-253">Verwenden Sie einen Dienst wie [New Relic][new-relic] oder [Application Insights][app-insights], um Leistung und Verhalten der Anwendung unter Last zu überwachen.</span><span class="sxs-lookup"><span data-stu-id="458a1-253">Use a service such as [New Relic][new-relic] or [Application Insights][app-insights] to monitor application performance and behavior under load.</span></span> <span data-ttu-id="458a1-254">Beachten Sie die [Grenzwerte der Datenrate][app-insights-data-rate] für Application Insights.</span><span class="sxs-lookup"><span data-stu-id="458a1-254">Be aware of the [data rate limits][app-insights-data-rate] for Application Insights.</span></span>

<span data-ttu-id="458a1-255">Führen Sie Leistungstests mithilfe eines Tools wie [Visual Studio Team Services][vsts] aus.</span><span class="sxs-lookup"><span data-stu-id="458a1-255">Perform load testing, using a tool such as [Visual Studio Team Services][vsts].</span></span> <span data-ttu-id="458a1-256">Eine allgemeine Übersicht zur Leistungsanalyse in Cloud-Anwendungen finden Sie im [Performance Analysis Primer][perf-analysis] (Einsteig in die Leistungsanalyse).</span><span class="sxs-lookup"><span data-stu-id="458a1-256">For a general overview of performance analysis in cloud applications, see [Performance Analysis Primer][perf-analysis].</span></span>

<span data-ttu-id="458a1-257">Tipps zur Problembehandlung bei der Anwendung:</span><span class="sxs-lookup"><span data-stu-id="458a1-257">Tips for troubleshooting your application:</span></span>

* <span data-ttu-id="458a1-258">Verwenden Sie das [Blatt „Problembehandlung“][troubleshoot-blade] im Azure-Portal, um Lösungen für häufige Probleme zu finden.</span><span class="sxs-lookup"><span data-stu-id="458a1-258">Use the [troubleshoot blade][troubleshoot-blade] in the Azure portal to find solutions to common problems.</span></span>
* <span data-ttu-id="458a1-259">Aktivieren Sie [Protokollstreaming][web-app-log-stream], um Protokollierungsinformationen nahezu in Echtzeit anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="458a1-259">Enable [log streaming][web-app-log-stream] to see logging information in near-real time.</span></span>
* <span data-ttu-id="458a1-260">Das [Kudu-Dashboard][kudu] weist eine Reihe von Tools zum Überwachen und Debuggen Ihrer Anwendung auf.</span><span class="sxs-lookup"><span data-stu-id="458a1-260">The [Kudu dashboard][kudu] has several tools for monitoring and debugging your application.</span></span> <span data-ttu-id="458a1-261">Weitere Informationen finden Sie unter [Online-Tools für Azure-Websites, die Sie kennen sollten][kudu] (Blogbeitrag).</span><span class="sxs-lookup"><span data-stu-id="458a1-261">For more information, see [Azure Websites online tools you should know about][kudu] (blog post).</span></span> <span data-ttu-id="458a1-262">Sie können das Kudu-Dashboard vom Azure-Portal aus erreichen.</span><span class="sxs-lookup"><span data-stu-id="458a1-262">You can reach the Kudu dashboard from the Azure portal.</span></span> <span data-ttu-id="458a1-263">Öffnen Sie das Blatt für Ihre App, klicken Sie auf **Extras**, und klicken Sie dann auf **Kudu**.</span><span class="sxs-lookup"><span data-stu-id="458a1-263">Open the blade for your app and click **Tools**, then click **Kudu**.</span></span>
* <span data-ttu-id="458a1-264">Wenn Sie Visual Studio verwenden, finden Sie Tipps zu Debuggen und Problembehandlung im Artikel [Problembehandlung von Web-Apps in Azure App Service in Visual Studio][troubleshoot-web-app].</span><span class="sxs-lookup"><span data-stu-id="458a1-264">If you use Visual Studio, see the article [Troubleshoot a web app in Azure App Service using Visual Studio][troubleshoot-web-app] for debugging and troubleshooting tips.</span></span>

## <a name="security-considerations"></a><span data-ttu-id="458a1-265">Sicherheitshinweise</span><span class="sxs-lookup"><span data-stu-id="458a1-265">Security considerations</span></span>
<span data-ttu-id="458a1-266">Dieser Abschnitt enthält Sicherheitshinweise, die für die in diesem Artikel beschriebenen Azure-Dienste spezifisch sind.</span><span class="sxs-lookup"><span data-stu-id="458a1-266">This section lists security considerations that are specific to the Azure services described in this article.</span></span> <span data-ttu-id="458a1-267">Es handelt sich nicht um eine vollständige Liste der bewährten Sicherheitsmethoden.</span><span class="sxs-lookup"><span data-stu-id="458a1-267">It's not a complete list of security best practices.</span></span> <span data-ttu-id="458a1-268">Weitere Sicherheitshinweise finden Sie unter [Schützen einer App in Azure App Service][app-service-security].</span><span class="sxs-lookup"><span data-stu-id="458a1-268">For some additional security considerations, see [Secure an app in Azure App Service][app-service-security].</span></span>

### <a name="sql-database-auditing"></a><span data-ttu-id="458a1-269">SQL-Datenbanküberwachung</span><span class="sxs-lookup"><span data-stu-id="458a1-269">SQL Database auditing</span></span>
<span data-ttu-id="458a1-270">Die Überwachung kann Ihnen dabei helfen, die gesetzlichen Bestimmungen einzuhalten und Einblicke in Abweichungen und Unregelmäßigkeiten zu erhalten, die auf Geschäftsvorgänge oder mutmaßliche Sicherheitsverstöße hinweisen können.</span><span class="sxs-lookup"><span data-stu-id="458a1-270">Auditing can help you maintain regulatory compliance and get insight into discrepancies and irregularities that could indicate business concerns or suspected security violations.</span></span> <span data-ttu-id="458a1-271">Weitere Informationen finden Sie unter [Erste Schritte mit der Überwachung von SQL-Datenbanken][sql-audit].</span><span class="sxs-lookup"><span data-stu-id="458a1-271">See [Get started with SQL database auditing][sql-audit].</span></span>

### <a name="deployment-slots"></a><span data-ttu-id="458a1-272">Bereitstellungsslots</span><span class="sxs-lookup"><span data-stu-id="458a1-272">Deployment slots</span></span>
<span data-ttu-id="458a1-273">Jeder Bereitstellungsslot weist eine öffentliche IP-Adresse auf.</span><span class="sxs-lookup"><span data-stu-id="458a1-273">Each deployment slot has a public IP address.</span></span> <span data-ttu-id="458a1-274">Schützen Sie die nicht produktiven Slots mithilfe einer [Azure Active Directory-Anmeldung][aad-auth], sodass nur Mitglieder Ihres Entwicklungs- und DevOps-Teams auf diese Endpunkte zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="458a1-274">Secure the nonproduction slots using [Azure Active Directory login][aad-auth] so that only members of your development and DevOps teams can reach those endpoints.</span></span>

### <a name="logging"></a><span data-ttu-id="458a1-275">Protokollierung</span><span class="sxs-lookup"><span data-stu-id="458a1-275">Logging</span></span>
<span data-ttu-id="458a1-276">Protokolle sollten niemals Benutzerkennwörter oder andere Informationen aufzeichnen, die für Identitätsdiebstähle verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="458a1-276">Logs should never record users' passwords or other information that might be used to commit identity fraud.</span></span> <span data-ttu-id="458a1-277">Entfernen Sie diese Details aus den Daten, bevor Sie sie speichern.</span><span class="sxs-lookup"><span data-stu-id="458a1-277">Scrub those details from the data before storing it.</span></span>   

### <a name="ssl"></a><span data-ttu-id="458a1-278">SSL</span><span class="sxs-lookup"><span data-stu-id="458a1-278">SSL</span></span>
<span data-ttu-id="458a1-279">Eine App Service-App umfasst ohne Zusatzkosten einen SSL-Endpunkt in einer Unterdomäne `azurewebsites.net`.</span><span class="sxs-lookup"><span data-stu-id="458a1-279">An App Service app includes an SSL endpoint on a subdomain of `azurewebsites.net` at no additional cost.</span></span> <span data-ttu-id="458a1-280">Der SSL-Endpunkt schließt ein Platzhalterzertifikat für die `*.azurewebsites.net`-Domäne ein.</span><span class="sxs-lookup"><span data-stu-id="458a1-280">The SSL endpoint includes a wildcard certificate for the `*.azurewebsites.net` domain.</span></span> <span data-ttu-id="458a1-281">Wenn Sie einen benutzerdefinierten Domänennamen verwenden, müssen Sie ein Zertifikat bereitstellen, das der benutzerdefinierten Domäne entspricht.</span><span class="sxs-lookup"><span data-stu-id="458a1-281">If you use a custom domain name, you must provide a certificate that matches the custom domain.</span></span> <span data-ttu-id="458a1-282">Die einfachste Möglichkeit besteht darin, ein Zertifikat direkt über das Azure-Portal zu erwerben.</span><span class="sxs-lookup"><span data-stu-id="458a1-282">The simplest approach is to buy a certificate directly through the Azure portal.</span></span> <span data-ttu-id="458a1-283">Außerdem können Sie Zertifikate von anderen Zertifizierungsstellen importieren.</span><span class="sxs-lookup"><span data-stu-id="458a1-283">You can also import certificates from other certificate authorities.</span></span> <span data-ttu-id="458a1-284">Weitere Informationen finden Sie unter [Kaufen und Konfigurieren eines SSL-Zertifikats für Ihren Azure App Service][ssl-cert].</span><span class="sxs-lookup"><span data-stu-id="458a1-284">For more information, see [Buy and Configure an SSL Certificate for your Azure App Service][ssl-cert].</span></span>

<span data-ttu-id="458a1-285">Als bewährte Sicherheitsmethode sollte Ihre Anwendung HTTPS durch Umleitung von HTTP-Anforderungen durchsetzen.</span><span class="sxs-lookup"><span data-stu-id="458a1-285">As a security best practice, your app should enforce HTTPS by redirecting HTTP requests.</span></span> <span data-ttu-id="458a1-286">Sie können dies innerhalb Ihrer Anwendung implementieren oder eine Regel zum Umschreiben von URL verwenden, wie unter [Aktivieren von HTTPS für eine App in Azure App Service][ssl-redirect].</span><span class="sxs-lookup"><span data-stu-id="458a1-286">You can implement this inside your application or use a URL rewrite rule as described in [Enable HTTPS for an app in Azure App Service][ssl-redirect].</span></span>

### <a name="authentication"></a><span data-ttu-id="458a1-287">Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="458a1-287">Authentication</span></span>
<span data-ttu-id="458a1-288">Wir empfehlen die Authentifizierung über einen Identitätsanbieter (IDP), wie etwa Azure AD, Facebook, Google oder Twitter.</span><span class="sxs-lookup"><span data-stu-id="458a1-288">We recommend authenticating through an identity provider (IDP), such as Azure AD, Facebook, Google, or Twitter.</span></span> <span data-ttu-id="458a1-289">Verwenden Sie OAuth 2 oder OpenID Connect (OIDC) für den Authentifizierungsablauf.</span><span class="sxs-lookup"><span data-stu-id="458a1-289">Use OAuth 2 or OpenID Connect (OIDC) for the authentication flow.</span></span> <span data-ttu-id="458a1-290">Azure AD bietet Funktionen zum Verwalten von Benutzern und Gruppen, Erstellen von Anwendungsrollen, Integrieren Ihrer lokalen Identitäten und Nutzen von Back-End-Diensten, wie etwa Office 365 und Skype for Business.</span><span class="sxs-lookup"><span data-stu-id="458a1-290">Azure AD provides functionality to manage users and groups, create application roles, integrate your on-premises identities, and consume backend services such as Office 365 and Skype for Business.</span></span>

<span data-ttu-id="458a1-291">Vermeiden Sie die direkte Verwaltung von Benutzeranmeldungen und Anmeldeinformationen durch die Anwendung, da dadurch eine mögliche Angriffsfläche entsteht.</span><span class="sxs-lookup"><span data-stu-id="458a1-291">Avoid having the application manage user logins and credentials directly, as it creates a potential attack surface.</span></span>  <span data-ttu-id="458a1-292">Den Mindeststandard sollten E-Mail-Bestätigung, Kennwortwiederherstellung und mehrstufige Authentifizierung bilden, außerdem eine Überprüfung der Kennwortsicherheit und die sichere Speicherung von Kennworthashes.</span><span class="sxs-lookup"><span data-stu-id="458a1-292">At a minimum, you would need to have email confirmation, password recovery, and multi-factor authentication; validate password strength; and store password hashes securely.</span></span> <span data-ttu-id="458a1-293">Die großen Identitätsanbieter übernehmen alle diese Dinge für Sie und überwachen und verbessern ihre Sicherheitspraktiken ständig.</span><span class="sxs-lookup"><span data-stu-id="458a1-293">The large identity providers handle all of those things for you, and are constantly monitoring and improving their security practices.</span></span>

<span data-ttu-id="458a1-294">Erwägen Sie den Einsatz von [App Service-Authentifizierung][app-service-auth] zum Implementieren des OAuth/OIDC-Authentifizierungsablaufs.</span><span class="sxs-lookup"><span data-stu-id="458a1-294">Consider using [App Service authentication][app-service-auth] to implement the OAuth/OIDC authentication flow.</span></span> <span data-ttu-id="458a1-295">App Service-Authentifizierung bietet folgende Vorteile:</span><span class="sxs-lookup"><span data-stu-id="458a1-295">The benefits of App Service authentication include:</span></span>

* <span data-ttu-id="458a1-296">Einfach zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="458a1-296">Easy to configure.</span></span>
* <span data-ttu-id="458a1-297">Für einfache Authentifizierungsszenarien ist kein Code erforderlich.</span><span class="sxs-lookup"><span data-stu-id="458a1-297">No code is required for simple authentication scenarios.</span></span>
* <span data-ttu-id="458a1-298">Unterstützt delegierte Autorisierung mithilfe von OAuth-Zugriffstoken, um Ressourcen im Benutzerauftrag zu nutzen.</span><span class="sxs-lookup"><span data-stu-id="458a1-298">Supports delegated authorization using OAuth access tokens to consume resources on behalf of the user.</span></span>
* <span data-ttu-id="458a1-299">Bietet einen integrierten Tokencache.</span><span class="sxs-lookup"><span data-stu-id="458a1-299">Provides a built-in token cache.</span></span>

<span data-ttu-id="458a1-300">Einige Einschränkungen der App Service-Authentifizierung:</span><span class="sxs-lookup"><span data-stu-id="458a1-300">Some limitations of App Service authentication:</span></span>  

* <span data-ttu-id="458a1-301">Eingeschränkte Anpassungsoptionen.</span><span class="sxs-lookup"><span data-stu-id="458a1-301">Limited customization options.</span></span>
* <span data-ttu-id="458a1-302">Die delegierte Autorisierung ist auf eine Back-End-Ressource pro Anmeldesitzung beschränkt.</span><span class="sxs-lookup"><span data-stu-id="458a1-302">Delegated authorization is restricted to one backend resource per login session.</span></span>
* <span data-ttu-id="458a1-303">Wenn Sie mehr als einen IDP verwenden, gibt es keinen integrierten Mechanismus für die Startbereichsermittlung.</span><span class="sxs-lookup"><span data-stu-id="458a1-303">If you use more than one IDP, there is no built-in mechanism for home realm discovery.</span></span>
* <span data-ttu-id="458a1-304">In Szenarien mit mehreren Mandanten muss die Anwendung die Logik für die Überprüfung des Tokenbenutzers implementieren.</span><span class="sxs-lookup"><span data-stu-id="458a1-304">For multi-tenant scenarios, the application must implement the logic to validate the token issuer.</span></span>

## <a name="deploy-the-solution"></a><span data-ttu-id="458a1-305">Bereitstellen der Lösung</span><span class="sxs-lookup"><span data-stu-id="458a1-305">Deploy the solution</span></span>
<span data-ttu-id="458a1-306">Ein Beispiel einer Ressourcen-Manager-Vorlage für diese Architektur ist [auf GitHub verfügbar][paas-basic-arm-template].</span><span class="sxs-lookup"><span data-stu-id="458a1-306">An example Resoure Manager template for this architecture is [available on GitHub][paas-basic-arm-template].</span></span>

<span data-ttu-id="458a1-307">Wenn Sie die Vorlage mit PowerShell bereitstellen möchten, führen Sie die folgenden Befehle aus:</span><span class="sxs-lookup"><span data-stu-id="458a1-307">To deploy the template using PowerShell, run the following commands:</span></span>

```
New-AzureRmResourceGroup -Name <resource-group-name> -Location "West US"

$parameters = @{"appName"="<app-name>";"environment"="dev";"locationShort"="uw";"databaseName"="app-db";"administratorLogin"="<admin>";"administratorLoginPassword"="<password>"}

New-AzureRmResourceGroupDeployment -Name <deployment-name> -ResourceGroupName <resource-group-name> -TemplateFile .\PaaS-Basic.json -TemplateParameterObject  $parameters
```

<span data-ttu-id="458a1-308">Weitere Informationen finden Sie unter [Bereitstellen von Ressourcen mit Azure Resource Manager-Vorlagen][deploy-arm-template].</span><span class="sxs-lookup"><span data-stu-id="458a1-308">For more information, see [Deploy resources with Azure Resource Manager templates][deploy-arm-template].</span></span>

<!-- links -->

[aad-auth]: /azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication
[app-insights]: /azure/application-insights/app-insights-overview
[app-insights-data-rate]: /azure/application-insights/app-insights-pricing
[app-service]: https://azure.microsoft.com/documentation/services/app-service/
[app-service-auth]: /azure/app-service-api/app-service-api-authentication
[app-service-plans]: /azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview
[app-service-plans-tiers]: https://azure.microsoft.com/pricing/details/app-service/
[app-service-security]: /azure/app-service-web/web-sites-security
[app-settings]: /azure/app-service-web/web-sites-configure
[arm-template]: /azure/azure-resource-manager/resource-group-overview#resource-groups
[custom-domain-name]: /azure/app-service-web/web-sites-custom-domain-name
[deploy]: /azure/app-service-web/web-sites-deploy
[deploy-arm-template]: /azure/resource-group-template-deploy
[deployment-slots]: /azure/app-service-web/web-sites-staged-publishing
[diagnostic-logs]: /azure/app-service-web/web-sites-enable-diagnostic-log
[kudu]: https://azure.microsoft.com/blog/windows-azure-websites-online-tools-you-should-know-about/
[monitoring-guidance]: ../../best-practices/monitoring.md
[new-relic]: http://newrelic.com/
[paas-basic-arm-template]: https://github.com/mspnp/reference-architectures/tree/master/app-service-web-app/basic-web-app/Paas-Basic/Templates
[perf-analysis]: https://github.com/mspnp/performance-optimization/blob/master/Performance-Analysis-Primer.md
[rbac]: /azure/active-directory/role-based-access-control-what-is
[resource-group]: /azure/azure-resource-manager/resource-group-overview
[sla]: https://azure.microsoft.com/support/legal/sla/
[sql-audit]: /azure/sql-database/sql-database-auditing-get-started
[sql-backup]: /azure/sql-database/sql-database-business-continuity
[sql-db]: https://azure.microsoft.com/documentation/services/sql-database/
[sql-db-overview]: /azure/sql-database/sql-database-technical-overview
[sql-db-scale]: /azure/sql-database/sql-database-service-tiers#scaling-up-or-scaling-down-a-single-database
[sql-db-service-tiers]: /azure/sql-database/sql-database-service-tiers
[sql-db-v12]: /azure/sql-database/sql-database-features
[sql-dtu]: /azure/sql-database/sql-database-service-tiers
[sql-human-error]: /azure/sql-database/sql-database-business-continuity#recover-a-database-after-a-user-or-application-error
[sql-outage-recovery]: /azure/sql-database/sql-database-business-continuity#recover-a-database-to-another-region-from-an-azure-regional-data-center-outage
[ssl-redirect]: /azure/app-service-web/web-sites-configure-ssl-certificate#bkmk_enforce
[sql-resource-limits]: /azure/sql-database/sql-database-resource-limits
[ssl-cert]: /azure/app-service-web/web-sites-purchase-ssl-web-site
[troubleshoot-blade]: https://azure.microsoft.com/updates/self-service-troubleshooting-for-app-service-web-apps-customers/
[troubleshoot-web-app]: /azure/app-service-web/web-sites-dotnet-troubleshoot-visual-studio
[visio-download]: https://archcenter.azureedge.net/cdn/app-service-reference-architectures.vsdx
[vsts]: https://www.visualstudio.com/features/vso-cloud-load-testing-vs.aspx
[web-app-autoscale]: /azure/app-service-web/web-sites-scale
[web-app-backup]: /azure/app-service-web/web-sites-backup
[web-app-log-stream]: /azure/app-service-web/web-sites-enable-diagnostic-log#streamlogs
[0]: ./images/basic-web-app.png "Architektur einer einfachen Azure Web-Anwendung"
[1]: ./images/paas-basic-web-app-staging-slots.png "Austauschen der Slots für Produktions- und Stagingbereitstellungen"
