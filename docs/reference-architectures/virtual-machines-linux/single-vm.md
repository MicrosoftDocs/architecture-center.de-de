---
title: "Ausführen eines virtuellen Linux-Computers in Azure"
description: "Hier erfahren Sie, wie Sie eine Linux-VM unter Azure ausführen und die Skalierbarkeit, Resilienz, Verwaltbarkeit und Sicherheit im Blick behalten."
author: telmosampaio
ms.date: 09/06/2017
pnp.series.title: Linux VM workloads
pnp.series.next: multi-vm
pnp.series.prev: ./index
ms.openlocfilehash: f38c53db5df1681a1abc926df9f0b7f929ceb76b
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/14/2017
---
# <a name="run-a-linux-vm-on-azure"></a><span data-ttu-id="fb27c-103">Ausführen eines virtuellen Linux-Computers in Azure</span><span class="sxs-lookup"><span data-stu-id="fb27c-103">Run a Linux VM on Azure</span></span>

<span data-ttu-id="fb27c-104">Anhand dieser Referenzarchitektur werden einige bewährte Methoden für die Ausführung virtueller Linux-Computer in Azure veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="fb27c-104">This reference architecture shows a set of proven practices for running a Linux virtual machine (VM) on Azure.</span></span> <span data-ttu-id="fb27c-105">Sie enthält Empfehlungen für die Bereitstellung des virtuellen Computers sowie der Netzwerk-und Speicherkomponenten.</span><span class="sxs-lookup"><span data-stu-id="fb27c-105">It includes recommendations for provisioning the VM along with networking and storage components.</span></span> <span data-ttu-id="fb27c-106">Diese Architektur kann verwendet werden, um eine einzelne Instanz auszuführen. Sie dient als Grundlage für komplexere Architekturen wie n-schichtige Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-106">This architecture can be used to run a single instance, and is the basis for more complex architectures such as n-tier applications.</span></span> [<span data-ttu-id="fb27c-107">**Stellen Sie diese Lösung bereit**.</span><span class="sxs-lookup"><span data-stu-id="fb27c-107">**Deploy this solution**.</span></span>](#deploy-the-solution)

<span data-ttu-id="fb27c-108">![[0]][0]</span><span class="sxs-lookup"><span data-stu-id="fb27c-108">![[0]][0]</span></span>

<span data-ttu-id="fb27c-109">*Laden Sie eine [Visio-Datei][visio-download] mit dieser Architektur herunter.*</span><span class="sxs-lookup"><span data-stu-id="fb27c-109">*Download a [Visio file][visio-download] of this architecture.*</span></span>

## <a name="architecture"></a><span data-ttu-id="fb27c-110">Architektur</span><span class="sxs-lookup"><span data-stu-id="fb27c-110">Architecture</span></span>

<span data-ttu-id="fb27c-111">Die Bereitstellung einer einzelnen VM in Azure umfasst mehr „bewegliche Teile“ als die VM selbst.</span><span class="sxs-lookup"><span data-stu-id="fb27c-111">Provisioning a VM in Azure involves more moving parts than just the VM itself.</span></span> <span data-ttu-id="fb27c-112">Es sind Compute-, Netzwerk- und Speicherelemente vorhanden, die berücksichtigt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-112">There are compute, networking, and storage elements that you need to consider.</span></span>

* <span data-ttu-id="fb27c-113">**Ressourcengruppe:**</span><span class="sxs-lookup"><span data-stu-id="fb27c-113">**Resource group.**</span></span> <span data-ttu-id="fb27c-114">Eine [*Ressourcengruppe*][resource-manager-overview] ist ein Container, der verwandte Ressourcen enthält.</span><span class="sxs-lookup"><span data-stu-id="fb27c-114">A [*resource group*][resource-manager-overview] is a container that holds related resources.</span></span> <span data-ttu-id="fb27c-115">Sie erstellen die Ressourcengruppen für verschiedene Ressourcen in einer Lösung in der Regel basierend auf ihrer Lebensdauer und mit Blick auf die Person, die die Ressourcen verwalten wird.</span><span class="sxs-lookup"><span data-stu-id="fb27c-115">You usually create resource groups for different resources in a solution based on their lifetime, and who will manage the resources.</span></span> <span data-ttu-id="fb27c-116">Bei einer einzelnen VM-Workload können Sie eine einzige Ressourcengruppe für alle Ressourcen erstellen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-116">For a single VM workload, you may create a single resource group for all resources.</span></span>
* <span data-ttu-id="fb27c-117">**VM**.</span><span class="sxs-lookup"><span data-stu-id="fb27c-117">**VM**.</span></span> <span data-ttu-id="fb27c-118">Azure unterstützt die Ausführung verschiedener beliebter Linux-Distributionen, z.B. CentOS, Debian, Red Hat Enterprise, Ubuntu und FreeBSD.</span><span class="sxs-lookup"><span data-stu-id="fb27c-118">Azure supports running various popular Linux distributions, including CentOS, Debian, Red Hat Enterprise, Ubuntu, and FreeBSD.</span></span> <span data-ttu-id="fb27c-119">Weitere Informationen finden Sie unter [Azure und Linux][azure-linux].</span><span class="sxs-lookup"><span data-stu-id="fb27c-119">For more information, see [Azure and Linux][azure-linux].</span></span> <span data-ttu-id="fb27c-120">Sie können eine VM über eine Liste mit veröffentlichten Images oder über eine virtuelle Festplattendatei (VHD) bereitstellen, die Sie in Azure Blob Storage hochladen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-120">You can provision a VM from a list of published images or from a virtual hard disk (VHD) file that you upload to Azure Blob storage.</span></span>
* <span data-ttu-id="fb27c-121">**Betriebssystem-Datenträger:**</span><span class="sxs-lookup"><span data-stu-id="fb27c-121">**OS disk.**</span></span> <span data-ttu-id="fb27c-122">Der Betriebssystemdatenträger ist eine virtuelle Festplatte (Virtual Hard Disk, VHD), die in [Azure Storage][azure-storage] gespeichert ist.</span><span class="sxs-lookup"><span data-stu-id="fb27c-122">The OS disk is a VHD stored in [Azure Storage][azure-storage].</span></span> <span data-ttu-id="fb27c-123">Dies bedeutet, dass er auch dann noch vorhanden ist, wenn der Hostcomputer ausfällt.</span><span class="sxs-lookup"><span data-stu-id="fb27c-123">That means it persists even if the host machine goes down.</span></span> <span data-ttu-id="fb27c-124">Der Betriebssystemdatenträger ist `/dev/sda1`.</span><span class="sxs-lookup"><span data-stu-id="fb27c-124">The OS disk is `/dev/sda1`.</span></span>
* <span data-ttu-id="fb27c-125">**Temporärer Datenträger**</span><span class="sxs-lookup"><span data-stu-id="fb27c-125">**Temporary disk.**</span></span> <span data-ttu-id="fb27c-126">Die VM wird mit einem temporären Datenträger erstellt.</span><span class="sxs-lookup"><span data-stu-id="fb27c-126">The VM is created with a temporary disk.</span></span> <span data-ttu-id="fb27c-127">Dieser Datenträger wird auf dem Hostcomputer auf einem physischen Laufwerk gespeichert.</span><span class="sxs-lookup"><span data-stu-id="fb27c-127">This disk is stored on a physical drive on the host machine.</span></span> <span data-ttu-id="fb27c-128">Er wird *nicht* in Azure Storage gespeichert und kann bei Neustarts und anderen Ereignissen während des VM-Lebenszyklus gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="fb27c-128">It is *not* saved in Azure Storage and might be deleted during reboots and other VM lifecycle events.</span></span> <span data-ttu-id="fb27c-129">Verwenden Sie diesen Datenträger nur für temporäre Daten, z. B. Auslagerungsdateien.</span><span class="sxs-lookup"><span data-stu-id="fb27c-129">Use this disk only for temporary data, such as page or swap files.</span></span> <span data-ttu-id="fb27c-130">Der temporäre Datenträger ist `/dev/sdb1` und wird in `/mnt/resource` oder `/mnt` bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="fb27c-130">The temporary disk is `/dev/sdb1` and is mounted at `/mnt/resource` or `/mnt`.</span></span>
* <span data-ttu-id="fb27c-131">**Datenträger**</span><span class="sxs-lookup"><span data-stu-id="fb27c-131">**Data disks.**</span></span> <span data-ttu-id="fb27c-132">Bei einem [Datenträger für Daten][data-disk] handelt es sich um eine persistente VHD, die für Anwendungsdaten verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="fb27c-132">A [data disk][data-disk] is a persistent VHD used for application data.</span></span> <span data-ttu-id="fb27c-133">Datenträger werden in Azure Storage gespeichert, z.B. auf dem Betriebssystem-Datenträger.</span><span class="sxs-lookup"><span data-stu-id="fb27c-133">Data disks are stored in Azure Storage, like the OS disk.</span></span>
* <span data-ttu-id="fb27c-134">**Virtuelles Netzwerk (VNet) und Subnetz_**</span><span class="sxs-lookup"><span data-stu-id="fb27c-134">**Virtual network (VNet) and subnet.**</span></span> <span data-ttu-id="fb27c-135">Jede VM in Azure wird in einem VNet bereitgestellt, das weiter in Subnetze unterteilt wird.</span><span class="sxs-lookup"><span data-stu-id="fb27c-135">Every VM in Azure is deployed into a VNet that is further divided into subnets.</span></span>
* <span data-ttu-id="fb27c-136">**Öffentliche IP-Adresse**</span><span class="sxs-lookup"><span data-stu-id="fb27c-136">**Public IP address.**</span></span> <span data-ttu-id="fb27c-137">Eine öffentliche IP-Adresse wird für die Kommunikation mit der VM benötigt, z.B. über SSH.</span><span class="sxs-lookup"><span data-stu-id="fb27c-137">A public IP address is needed to communicate with the VM &mdash; for example, via SSH.</span></span>
* <span data-ttu-id="fb27c-138">**Netzwerkschnittstelle (NIC)**</span><span class="sxs-lookup"><span data-stu-id="fb27c-138">**Network interface (NIC)**.</span></span> <span data-ttu-id="fb27c-139">Die NIC ermöglicht der VM die Kommunikation mit dem virtuellen Netzwerk.</span><span class="sxs-lookup"><span data-stu-id="fb27c-139">The NIC enables the VM to communicate with the virtual network.</span></span>
* <span data-ttu-id="fb27c-140">**Netzwerksicherheitsgruppen (NSG)**</span><span class="sxs-lookup"><span data-stu-id="fb27c-140">**Network security group (NSG)**.</span></span> <span data-ttu-id="fb27c-141">Die [Netzwerksicherheitsgruppe][nsg] wird verwendet, um den Netzwerkdatenverkehr in das Subnetz zuzulassen oder zu verweigern.</span><span class="sxs-lookup"><span data-stu-id="fb27c-141">The [NSG][nsg] is used to allow/deny network traffic to the subnet.</span></span> <span data-ttu-id="fb27c-142">Sie können eine NSG einer einzelnen NIC oder einem Subnetz zuordnen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-142">You can associate an NSG with an individual NIC or with a subnet.</span></span> <span data-ttu-id="fb27c-143">Wenn Sie sie einem Subnetz zuordnen, gelten die NSG-Regeln für alle VMs in diesem Subnetz.</span><span class="sxs-lookup"><span data-stu-id="fb27c-143">If you associate it with a subnet, the NSG rules apply to all VMs in that subnet.</span></span>
* <span data-ttu-id="fb27c-144">**Diagnose:**</span><span class="sxs-lookup"><span data-stu-id="fb27c-144">**Diagnostics.**</span></span> <span data-ttu-id="fb27c-145">Diagnoseprotokolle sind für die Verwaltung und Problembehandlung des virtuellen Computers von entscheidender Bedeutung.</span><span class="sxs-lookup"><span data-stu-id="fb27c-145">Diagnostic logging is crucial for managing and troubleshooting the VM.</span></span>

## <a name="recommendations"></a><span data-ttu-id="fb27c-146">Recommendations</span><span class="sxs-lookup"><span data-stu-id="fb27c-146">Recommendations</span></span>

<span data-ttu-id="fb27c-147">Diese Architektur veranschaulicht grundlegende Empfehlungen für die Ausführung einer Linux-VM in Azure.</span><span class="sxs-lookup"><span data-stu-id="fb27c-147">This architecture shows the baseline recommendations for running a Linux VM in Azure.</span></span> <span data-ttu-id="fb27c-148">Wir raten jedoch davon ab, für unternehmenskritische Workloads nur eine VM zu verwenden, da so eine einzelne Fehlerquelle („Single Point of Failure“) entsteht.</span><span class="sxs-lookup"><span data-stu-id="fb27c-148">However, we don't recommend using a single VM for mission critical workloads because it creates a single point of failure.</span></span> <span data-ttu-id="fb27c-149">Stellen Sie mehrere VMs in einer [Verfügbarkeitsgruppe][availability-set] bereit, um eine höhere Verfügbarkeit zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-149">For higher availability, deploy multiple VMs in an [availability set][availability-set].</span></span> <span data-ttu-id="fb27c-150">Weitere Informationen finden Sie unter [Ausführen mehrerer VMs in Azure][multi-vm].</span><span class="sxs-lookup"><span data-stu-id="fb27c-150">For more information, see [Running multiple VMs on Azure][multi-vm].</span></span> 

### <a name="vm-recommendations"></a><span data-ttu-id="fb27c-151">Empfehlungen für virtuelle Computer</span><span class="sxs-lookup"><span data-stu-id="fb27c-151">VM recommendations</span></span>

<span data-ttu-id="fb27c-152">In Azure werden viele verschiedene VM-Größen angeboten. Wir raten aber zur DS- und GS-Serie, da für diese Computergrößen [Storage Premium][premium-storage] unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="fb27c-152">Azure offers many different virtual machine sizes, but we recommend the DS- and GS-series because these machine sizes support [Premium Storage][premium-storage].</span></span> <span data-ttu-id="fb27c-153">Wählen Sie eine dieser Computergrößen, falls bei Ihnen nicht eine spezielle Workload erforderlich ist, z.B. High Performance Computing.</span><span class="sxs-lookup"><span data-stu-id="fb27c-153">Select one of these machine sizes unless you have a specialized workload such as high-performance computing.</span></span> <span data-ttu-id="fb27c-154">Ausführliche Informationen finden Sie unter [Größen virtueller Computer][virtual-machine-sizes].</span><span class="sxs-lookup"><span data-stu-id="fb27c-154">For details, see [virtual machine sizes][virtual-machine-sizes].</span></span>

<span data-ttu-id="fb27c-155">Starten Sie beim Verschieben einer vorhandenen Workload in Azure mit der VM-Größe, die Ihren lokalen Servern am ehesten entspricht.</span><span class="sxs-lookup"><span data-stu-id="fb27c-155">If you are moving an existing workload to Azure, start with the VM size that's the closest match to your on-premises servers.</span></span> <span data-ttu-id="fb27c-156">Messen Sie dann die Leistung Ihres tatsächlichen Workloads hinsichtlich CPU, Arbeitsspeicher und Datenträger-IOPS (E/A-Vorgänge pro Sekunde), und passen Sie die Größe bei Bedarf an.</span><span class="sxs-lookup"><span data-stu-id="fb27c-156">Then measure the performance of your actual workload with respect to CPU, memory, and disk input/output operations per second (IOPS), and adjust the size if needed.</span></span> <span data-ttu-id="fb27c-157">Wenn Sie mehrere Netzwerkschnittstellenkarten für Ihre VM benötigen, sollten Sie sich darüber im Klaren sein, dass die maximale Anzahl von Netzwerkkarten eine Funktion der [VM-Größe][vm-size-tables] ist.</span><span class="sxs-lookup"><span data-stu-id="fb27c-157">If you require multiple NICs for your VM, be aware that the maximum number of NICs is a function of the [VM size][vm-size-tables].</span></span>

<span data-ttu-id="fb27c-158">Wenn Sie die VM und anderen Ressourcen bereitstellen, müssen Sie eine Region angeben.</span><span class="sxs-lookup"><span data-stu-id="fb27c-158">When you provision the VM and other resources, you must specify a region.</span></span> <span data-ttu-id="fb27c-159">Es ist im Allgemeinen ratsam, eine Region zu wählen, der sich in der Nähe Ihrer internen Benutzer oder Ihrer Kunden befindet.</span><span class="sxs-lookup"><span data-stu-id="fb27c-159">Generally, choose a region closest to your internal users or customers.</span></span> <span data-ttu-id="fb27c-160">Es sind aber nicht alle VM-Größen in allen Regionen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="fb27c-160">However, not all VM sizes may be available in all region.</span></span> <span data-ttu-id="fb27c-161">Weitere Informationen finden Sie unter [Dienste nach Region][services-by-region].</span><span class="sxs-lookup"><span data-stu-id="fb27c-161">For details, see [Services by region][services-by-region].</span></span> <span data-ttu-id="fb27c-162">Führen Sie den folgenden Befehl der Azure-Befehlszeilenschnittstelle (CLI) aus, um die in einer bestimmten Region verfügbaren VM-Größen aufzulisten:</span><span class="sxs-lookup"><span data-stu-id="fb27c-162">To list the VM sizes available in a specific region, run the following Azure command-line interface (CLI) command:</span></span>

```
az vm list-sizes --location <location>
```

<span data-ttu-id="fb27c-163">Informationen zum Auswählen eines veröffentlichten VM-Image finden Sie unter [Auswählen von Linux-VM-Images mit der Azure-CLI][select-vm-image].</span><span class="sxs-lookup"><span data-stu-id="fb27c-163">For information about choosing a published VM image, see [Select Linux VM images with the Azure CLI][select-vm-image].</span></span>

<span data-ttu-id="fb27c-164">Aktivieren Sie die Überwachung und Diagnose, einschließlich grundlegender Integritätsmetriken, Infrastrukturprotokolle zur Diagnose sowie [Startdiagnose][boot-diagnostics].</span><span class="sxs-lookup"><span data-stu-id="fb27c-164">Enable monitoring and diagnostics, including basic health metrics, diagnostics infrastructure logs, and [boot diagnostics][boot-diagnostics].</span></span> <span data-ttu-id="fb27c-165">Startdiagnosen dienen dazu, einen Fehler beim Startvorgang zu untersuchen, wenn Ihre VM einen nicht startfähigen Zustand hat.</span><span class="sxs-lookup"><span data-stu-id="fb27c-165">Boot diagnostics can help you diagnose boot failure if your VM gets into a non-bootable state.</span></span> <span data-ttu-id="fb27c-166">Weitere Informationen finden Sie unter [Aktivieren von Überwachung und Diagnose][enable-monitoring].</span><span class="sxs-lookup"><span data-stu-id="fb27c-166">For more information, see [Enable monitoring and diagnostics][enable-monitoring].</span></span>  

### <a name="disk-and-storage-recommendations"></a><span data-ttu-id="fb27c-167">Empfehlungen für Datenträger und Speicher</span><span class="sxs-lookup"><span data-stu-id="fb27c-167">Disk and storage recommendations</span></span>

<span data-ttu-id="fb27c-168">Zum Erzielen einer optimalen E/A-Leistung empfehlen wir [Storage Premium][premium-storage] zum Speichern von Daten auf SSDs (Solid State Drives).</span><span class="sxs-lookup"><span data-stu-id="fb27c-168">For best disk I/O performance, we recommend [Premium Storage][premium-storage], which stores data on solid-state drives (SSDs).</span></span> <span data-ttu-id="fb27c-169">Die Kosten basieren auf der Größe des bereitgestellten Datenträgers.</span><span class="sxs-lookup"><span data-stu-id="fb27c-169">Cost is based on the size of the provisioned disk.</span></span> <span data-ttu-id="fb27c-170">IOPS und Durchsatz (also die Datenübertragungsrate) richten sich ebenfalls nach der Datenträgergröße. Berücksichtigen Sie beim Bereitstellen eines Datenträgers also alle drei Faktoren (Kapazität, IOPS und Durchsatz).</span><span class="sxs-lookup"><span data-stu-id="fb27c-170">IOPS and throughput (that is, data transfer rate) also depend on disk size, so when you provision a disk, consider all three factors (capacity, IOPS, and throughput).</span></span> 

<span data-ttu-id="fb27c-171">Wir empfehlen auch die Verwendung von [verwalteten Datenträgern](/azure/storage/storage-managed-disks-overview).</span><span class="sxs-lookup"><span data-stu-id="fb27c-171">We also recommend the use of [managed disks](/azure/storage/storage-managed-disks-overview).</span></span> <span data-ttu-id="fb27c-172">Bei verwalteten Datenträgern ist kein Speicherkonto erforderlich.</span><span class="sxs-lookup"><span data-stu-id="fb27c-172">Managed disks do not require a storage account.</span></span> <span data-ttu-id="fb27c-173">Sie geben einfach die Größe und den Typ des Datenträgers an, und dieser wird mit Hochverfügbarkeit bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="fb27c-173">You simply specify the size and type of disk and it is deployed in a highly available way.</span></span>

<span data-ttu-id="fb27c-174">Wenn Sie keine verwalteten Datenträger verwenden, erstellen Sie separate Azure Storage-Konten für jeden virtuellen Computer, um die virtuellen Festplatten (VHDs) zu speichern und das Überschreiten der IOPS-Grenzwerte für Speicherkonten zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="fb27c-174">If you are not using managed disks, create separate Azure storage accounts for each VM to hold the virtual hard disks (VHDs) in order to avoid hitting the IOPS limits for storage accounts.</span></span>

<span data-ttu-id="fb27c-175">Fügen Sie einen oder mehrere Datenträger hinzu.</span><span class="sxs-lookup"><span data-stu-id="fb27c-175">Add one or more data disks.</span></span> <span data-ttu-id="fb27c-176">Wenn Sie eine virtuelle Festplatte (VHD) erstellen, ist sie nicht formatiert.</span><span class="sxs-lookup"><span data-stu-id="fb27c-176">When you create a VHD, it is unformatted.</span></span> <span data-ttu-id="fb27c-177">Melden Sie sich an der VM an, um den Datenträger zu formatieren.</span><span class="sxs-lookup"><span data-stu-id="fb27c-177">Log in to the VM to format the disk.</span></span> <span data-ttu-id="fb27c-178">In der Linux-Shell werden Datenträger für Daten als `/dev/sdc`, `/dev/sdd` usw. angezeigt.</span><span class="sxs-lookup"><span data-stu-id="fb27c-178">In the Linux shell, data disks are displayed as `/dev/sdc`, `/dev/sdd`, and so on.</span></span> <span data-ttu-id="fb27c-179">Sie können `lsblk` ausführen, um die Blockgeräte einschließlich der Datenträger aufzulisten.</span><span class="sxs-lookup"><span data-stu-id="fb27c-179">You can run `lsblk` to list the block devices, including the disks.</span></span> <span data-ttu-id="fb27c-180">Um einen Datenträger für Daten zu verwenden, erstellen Sie eine Partition und ein Dateisystem und binden den Datenträger ein.</span><span class="sxs-lookup"><span data-stu-id="fb27c-180">To use a data disk, create a partition and file system, and mount the disk.</span></span> <span data-ttu-id="fb27c-181">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="fb27c-181">For example:</span></span>

```bat
# Create a partition.
sudo fdisk /dev/sdc     # Enter 'n' to partition, 'w' to write the change.

# Create a file system.
sudo mkfs -t ext3 /dev/sdc1

# Mount the drive.
sudo mkdir /data1
sudo mount /dev/sdc1 /data1
```

<span data-ttu-id="fb27c-182">Wenn Sie keine [verwalteten Datenträger](/azure/storage/storage-managed-disks-overview) verwenden und über eine große Zahl von Datenträgern verfügen, sollten Sie sich der E/A-Grenzwerte des Speicherkontos bewusst sein.</span><span class="sxs-lookup"><span data-stu-id="fb27c-182">If you are not using [managed disks](/azure/storage/storage-managed-disks-overview) and have a large number of data disks, be aware of the total I/O limits of the storage account.</span></span> <span data-ttu-id="fb27c-183">Weitere Informationen finden Sie unter [Grenzwerte für Datenträger virtueller Computer][vm-disk-limits].</span><span class="sxs-lookup"><span data-stu-id="fb27c-183">For more information, see [virtual machine disk limits][vm-disk-limits].</span></span>

<span data-ttu-id="fb27c-184">Wenn Sie einen Datenträger für Daten hinzufügen, wird dem Datenträger eine logische Einheitennummer (Logical Unit Number, LUN) zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-184">When you add a data disk, a logical unit number (LUN) ID is assigned to the disk.</span></span> <span data-ttu-id="fb27c-185">Optional können Sie die LUN-ID angeben, z.B. wenn Sie einen Datenträger austauschen und dieselbe LUN-ID beibehalten möchten oder über eine Anwendung verfügen, die nach einer bestimmten LUN-ID sucht.</span><span class="sxs-lookup"><span data-stu-id="fb27c-185">Optionally, you can specify the LUN ID &mdash; for example, if you're replacing a disk and want to retain the same LUN ID, or you have an application that looks for a specific LUN ID.</span></span> <span data-ttu-id="fb27c-186">Beachten Sie jedoch, dass die LUN-IDs für jeden Datenträger eindeutig sein muss.</span><span class="sxs-lookup"><span data-stu-id="fb27c-186">However, remember that LUN IDs must be unique for each disk.</span></span>

<span data-ttu-id="fb27c-187">Es kann ratsam sein, den E/A-Scheduler zu ändern, um die Leistung auf SSDs zu optimieren. Bei den Datenträgern für VMs mit Storage Premium-Konten handelt es sich nämlich um SSDs.</span><span class="sxs-lookup"><span data-stu-id="fb27c-187">You may want to change the I/O scheduler to optimize for performance on SSDs because the disks for VMs with premium storage accounts are SSDs.</span></span> <span data-ttu-id="fb27c-188">Eine übliche Empfehlung ist die Verwendung des NOOP-Schedulers für SSDs. Sie sollten aber ein Tool wie [iostat] zur Überwachung der E/A-Datenträgerleistung für Ihre Workload einsetzen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-188">A common recommendation is to use the NOOP scheduler for SSDs, but you should use a tool such as [iostat] to monitor disk I/O performance for your workload.</span></span>

<span data-ttu-id="fb27c-189">Erstellen Sie ein separates Speicherkonto zum Speichern der Diagnoseprotokolle, um eine optimale Leistung zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-189">For best performance, create a separate storage account to hold diagnostic logs.</span></span> <span data-ttu-id="fb27c-190">Ein standardmäßiger lokal redundanter Speicher (LRS) reicht für Diagnoseprotokolle aus.</span><span class="sxs-lookup"><span data-stu-id="fb27c-190">A standard locally redundant storage (LRS) account is sufficient for diagnostic logs.</span></span>

### <a name="network-recommendations"></a><span data-ttu-id="fb27c-191">Netzwerkempfehlungen</span><span class="sxs-lookup"><span data-stu-id="fb27c-191">Network recommendations</span></span>

<span data-ttu-id="fb27c-192">Die öffentliche IP-Adresse kann dynamisch oder statisch sein.</span><span class="sxs-lookup"><span data-stu-id="fb27c-192">The public IP address can be dynamic or static.</span></span> <span data-ttu-id="fb27c-193">Die Standardeinstellung ist „Dynamisch“.</span><span class="sxs-lookup"><span data-stu-id="fb27c-193">The default is dynamic.</span></span>

* <span data-ttu-id="fb27c-194">Reservieren Sie eine [statische IP-Adresse][static-ip], falls Sie eine statische IP-Adresse benötigen, die sich nicht ändert – z.B. wenn Sie einen A-Eintrag in DNS erstellen oder die IP-Adresse auf eine Liste mit sicheren Adressen setzen müssen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-194">Reserve a [static IP address][static-ip] if you need a fixed IP address that won't change &mdash; for example, if you need to create an A record in DNS, or need the IP address to be added to a safe list.</span></span>
* <span data-ttu-id="fb27c-195">Sie können auch einen vollständig qualifizierten Domänennamen (FQDN) für die IP-Adresse erstellen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-195">You can also create a fully qualified domain name (FQDN) for the IP address.</span></span> <span data-ttu-id="fb27c-196">Sie können anschließend einen [CNAME-Eintrag][cname-record] in DNS registrieren, der auf den FQDN verweist.</span><span class="sxs-lookup"><span data-stu-id="fb27c-196">You can then register a [CNAME record][cname-record] in DNS that points to the FQDN.</span></span> <span data-ttu-id="fb27c-197">Weitere Informationen finden Sie unter [Erstellen eines vollqualifizierten Domänennamens im Azure-Portal][fqdn].</span><span class="sxs-lookup"><span data-stu-id="fb27c-197">For more information, see [create a fully qualified domain name in the Azure portal][fqdn].</span></span>

<span data-ttu-id="fb27c-198">Alle Netzwerksicherheitsgruppen enthalten eine Reihe von [Standardregeln][nsg-default-rules], einschließlich einer Regel, die den gesamten eingehenden Internetverkehr blockiert.</span><span class="sxs-lookup"><span data-stu-id="fb27c-198">All NSGs contain a set of [default rules][nsg-default-rules], including a rule that blocks all inbound Internet traffic.</span></span> <span data-ttu-id="fb27c-199">Die Standardregeln können nicht gelöscht, aber von anderen Regeln überschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="fb27c-199">The default rules cannot be deleted, but other rules can override them.</span></span> <span data-ttu-id="fb27c-200">Um Internetdatenverkehr zu ermöglichen, erstellen Sie Regeln, die eingehenden Datenverkehr an bestimmten Ports zulassen, z.B. Port 80 für HTTP.</span><span class="sxs-lookup"><span data-stu-id="fb27c-200">To enable Internet traffic, create rules that allow inbound traffic to specific ports &mdash; for example, port 80 for HTTP.</span></span>

<span data-ttu-id="fb27c-201">Fügen Sie zum Aktivieren von SSH der NSG eine Regel hinzu, die den eingehenden Datenverkehr am TCP-Port 22 zulässt.</span><span class="sxs-lookup"><span data-stu-id="fb27c-201">To enable SSH, add a rule to the NSG that allows inbound traffic to TCP port 22.</span></span>

## <a name="scalability-considerations"></a><span data-ttu-id="fb27c-202">Überlegungen zur Skalierbarkeit</span><span class="sxs-lookup"><span data-stu-id="fb27c-202">Scalability considerations</span></span>

<span data-ttu-id="fb27c-203">Sie können eine VM zentral hoch- oder herunterskalieren, indem Sie die [VM-Größe ändern][vm-resize].</span><span class="sxs-lookup"><span data-stu-id="fb27c-203">You can scale a VM up or down by [changing the VM size][vm-resize].</span></span> <span data-ttu-id="fb27c-204">Um horizontal hochzuskalieren, platzieren Sie zwei oder mehr VMs hinter einem Lastenausgleich.</span><span class="sxs-lookup"><span data-stu-id="fb27c-204">To scale out horizontally, put two or more VMs behind a load balancer.</span></span> <span data-ttu-id="fb27c-205">Weitere Informationen finden Sie unter [Running multiple VMs on Azure for scalability and availability][multi-vm] (Ausführen mehrerer VMs in Azure zur Steigerung von Skalierbarkeit und Verfügbarkeit).</span><span class="sxs-lookup"><span data-stu-id="fb27c-205">For details, see [Running multiple VMs on Azure for scalability and availability][multi-vm].</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="fb27c-206">Überlegungen zur Verfügbarkeit</span><span class="sxs-lookup"><span data-stu-id="fb27c-206">Availability considerations</span></span>

<span data-ttu-id="fb27c-207">Stellen Sie mehrere VMs in einer Verfügbarkeitsgruppe bereit, um eine höhere Verfügbarkeit zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-207">For higher availability, deploy multiple VMs in an availability set.</span></span> <span data-ttu-id="fb27c-208">Dies führt auch zu einer Erhöhung der [Vereinbarung zum Servicelevel][vm-sla] (SLA).</span><span class="sxs-lookup"><span data-stu-id="fb27c-208">This also provides a higher [service level agreement][vm-sla]  (SLA).</span></span>

<span data-ttu-id="fb27c-209">Ihr virtueller Computer kann von einer [geplanten Wartung][planned-maintenance] oder [ungeplanten Wartung][manage-vm-availability] betroffen sein.</span><span class="sxs-lookup"><span data-stu-id="fb27c-209">Your VM may be affected by [planned maintenance][planned-maintenance] or [unplanned maintenance][manage-vm-availability].</span></span> <span data-ttu-id="fb27c-210">Sie können [VM-Neustartprotokolle][reboot-logs] verwenden, um zu ermitteln, ob ein VM-Neustart durch einen geplanten Wartungsvorgang verursacht wurde.</span><span class="sxs-lookup"><span data-stu-id="fb27c-210">You can use [VM reboot logs][reboot-logs] to determine whether a VM reboot was caused by planned maintenance.</span></span>

<span data-ttu-id="fb27c-211">VHDs werden in [Azure-Speicher][azure-storage] gespeichert, und der Azure-Speicher wird repliziert, um Dauerhaftigkeit und Verfügbarkeit sicherzustellen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-211">VHDs are stored in [Azure storage][azure-storage], and Azure storage is replicated for durability and availability.</span></span>

<span data-ttu-id="fb27c-212">Als Schutz vor versehentlichen Datenverlusten während des normalen Betriebs (z.B. aufgrund eines Benutzerfehlers) sollten Sie auch Point-in-Time-Sicherungen implementieren, indem Sie [Blobmomentaufnahmen][blob-snapshot] oder ein anderes Tool verwenden.</span><span class="sxs-lookup"><span data-stu-id="fb27c-212">To protect against accidental data loss during normal operations (for example, because of user error), you should also implement point-in-time backups, using [blob snapshots][blob-snapshot] or another tool.</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="fb27c-213">Überlegungen zur Verwaltbarkeit</span><span class="sxs-lookup"><span data-stu-id="fb27c-213">Manageability considerations</span></span>

<span data-ttu-id="fb27c-214">**Ressourcengruppen.**</span><span class="sxs-lookup"><span data-stu-id="fb27c-214">**Resource groups.**</span></span> <span data-ttu-id="fb27c-215">Legen Sie eng miteinander verknüpfte Ressourcen mit demselben Lebenszyklus in derselben [Ressourcengruppe][resource-manager-overview] ab.</span><span class="sxs-lookup"><span data-stu-id="fb27c-215">Put tightly coupled resources that share the same life cycle into the same [resource group][resource-manager-overview].</span></span> <span data-ttu-id="fb27c-216">Ressourcengruppen ermöglichen Ihnen das Bereitstellen und Überwachen von Ressourcen und das Zusammenfassen von Abrechnungskosten nach Ressourcengruppe.</span><span class="sxs-lookup"><span data-stu-id="fb27c-216">Resource groups allow you to deploy and monitor resources as a group, and roll up billing costs by resource group.</span></span> <span data-ttu-id="fb27c-217">Sie können auch Ressourcen als Gruppe löschen, was für Testbereitstellungen sehr nützlich ist.</span><span class="sxs-lookup"><span data-stu-id="fb27c-217">You can also delete resources as a set, which is very useful for test deployments.</span></span> <span data-ttu-id="fb27c-218">Versehen Sie Ressourcen mit aussagekräftigen Namen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-218">Give resources meaningful names.</span></span> <span data-ttu-id="fb27c-219">Dies vereinfacht das Auffinden einer bestimmten Ressource und Verstehen ihrer Rolle.</span><span class="sxs-lookup"><span data-stu-id="fb27c-219">That makes it easier to locate a specific resource and understand its role.</span></span> <span data-ttu-id="fb27c-220">Siehe [Empfohlene Benennungskonventionen für Azure-Ressourcen][naming conventions].</span><span class="sxs-lookup"><span data-stu-id="fb27c-220">See [Recommended Naming Conventions for Azure Resources][naming conventions].</span></span>

<span data-ttu-id="fb27c-221">**SSH**.</span><span class="sxs-lookup"><span data-stu-id="fb27c-221">**SSH**.</span></span> <span data-ttu-id="fb27c-222">Bevor Sie eine Linux-VM erstellen, wird ein 2048-Bit-RSA-Paar aus privatem und öffentlichem Schlüssel generiert.</span><span class="sxs-lookup"><span data-stu-id="fb27c-222">Before you create a Linux VM, generate a 2048-bit RSA public-private key pair.</span></span> <span data-ttu-id="fb27c-223">Verwenden Sie die öffentliche Schlüsseldatei bei der Erstellung der VM.</span><span class="sxs-lookup"><span data-stu-id="fb27c-223">Use the public key file when you create the VM.</span></span> <span data-ttu-id="fb27c-224">Weitere Informationen finden Sie unter [Verwenden von SSH mit Linux und Mac in Azure][ssh-linux].</span><span class="sxs-lookup"><span data-stu-id="fb27c-224">For more information, see [How to Use SSH with Linux and Mac on Azure][ssh-linux].</span></span>

<span data-ttu-id="fb27c-225">**Beenden einer VM.**</span><span class="sxs-lookup"><span data-stu-id="fb27c-225">**Stopping a VM.**</span></span> <span data-ttu-id="fb27c-226">Unter Azure wird zwischen den Zuständen „Stopped“ (Beendet) und „Deallocated“ (Zuordnung aufgehoben) unterschieden.</span><span class="sxs-lookup"><span data-stu-id="fb27c-226">Azure makes a distinction between "stopped" and "deallocated" states.</span></span> <span data-ttu-id="fb27c-227">Ihnen werden nur Gebühren berechnet, wenn der VM-Status angehalten wird, aber nicht, wenn die Zuordnung für den virtuellen Computer aufgehoben wurde.</span><span class="sxs-lookup"><span data-stu-id="fb27c-227">You are charged when the VM status is stopped, but not when the VM is deallocated.</span></span> 

<span data-ttu-id="fb27c-228">Sie können die Zuordnung des virtuellen Computers auch mit der Schaltfläche **Beenden** im Azure-Portal aufheben.</span><span class="sxs-lookup"><span data-stu-id="fb27c-228">In the Azure portal, the **Stop** button deallocates the VM.</span></span> <span data-ttu-id="fb27c-229">Wenn das Herunterfahren über das Betriebssystem erfolgt, während Sie angemeldet sind, wird der virtuelle Computer zwar beendet, aber die Zuordnung wird *nicht* aufgehoben. Es fallen also weiter Kosten an.</span><span class="sxs-lookup"><span data-stu-id="fb27c-229">If you shut down through the OS while logged in, the VM is stopped but *not* deallocated, so you will still be charged.</span></span> 

<span data-ttu-id="fb27c-230">**Löschen einer VM.**</span><span class="sxs-lookup"><span data-stu-id="fb27c-230">**Deleting a VM.**</span></span> <span data-ttu-id="fb27c-231">Wenn Sie eine VM löschen, werden die VHDs nicht gelöscht.</span><span class="sxs-lookup"><span data-stu-id="fb27c-231">If you delete a VM, the VHDs are not deleted.</span></span> <span data-ttu-id="fb27c-232">Dies bedeutet, dass Sie die VM problemlos löschen können, ohne dass Daten verloren gehen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-232">That means you can safely delete the VM without losing data.</span></span> <span data-ttu-id="fb27c-233">Allerdings wird Ihnen der Speicherplatz weiter in Rechnung gestellt.</span><span class="sxs-lookup"><span data-stu-id="fb27c-233">However, you will still be charged for storage.</span></span> <span data-ttu-id="fb27c-234">Um die VHD zu löschen, löschen Sie die Datei aus dem [Blobspeicher][blob-storage].</span><span class="sxs-lookup"><span data-stu-id="fb27c-234">To delete the VHD, delete the file from [Blob storage][blob-storage].</span></span>

<span data-ttu-id="fb27c-235">Zur Verhinderung des versehentlichen Löschens verwenden Sie eine [Ressourcensperre][resource-lock], um die gesamte Ressourcengruppe oder einzelne Ressourcen, z.B. den virtuellen Computer, zu sperren.</span><span class="sxs-lookup"><span data-stu-id="fb27c-235">To prevent accidental deletion, use a [resource lock][resource-lock] to lock the entire resource group or lock individual resources, such as the VM.</span></span>

## <a name="security-considerations"></a><span data-ttu-id="fb27c-236">Sicherheitshinweise</span><span class="sxs-lookup"><span data-stu-id="fb27c-236">Security considerations</span></span>

<span data-ttu-id="fb27c-237">Verwenden Sie [Azure Security Center][security-center], um sich eine zentrale Übersicht über den Sicherheitszustand Ihrer Azure-Ressourcen zu verschaffen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-237">Use [Azure Security Center][security-center] to get a central view of the security state of your Azure resources.</span></span> <span data-ttu-id="fb27c-238">Mit Security Center werden potenzielle Sicherheitsprobleme überwacht, und Sie erhalten eine umfassende Darstellung des Sicherheitszustands Ihrer Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="fb27c-238">Security Center monitors potential security issues and provides a comprehensive picture of the security health of your deployment.</span></span> <span data-ttu-id="fb27c-239">Security Center wird für jedes Azure-Abonnement individuell konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="fb27c-239">Security Center is configured per Azure subscription.</span></span> <span data-ttu-id="fb27c-240">Aktivieren Sie die Sammlung von Sicherheitsdaten wie im [Schnellstarthandbuch zu Azure Security Center][security-center-get-started] beschrieben.</span><span class="sxs-lookup"><span data-stu-id="fb27c-240">Enable security data collection as described in [Azure Security Center quick start guide][security-center-get-started].</span></span> <span data-ttu-id="fb27c-241">Nachdem die Datensammlung aktiviert wurde, durchsucht Security Center VMs automatisch, die unter diesem Abonnement erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="fb27c-241">When data collection is enabled, Security Center automatically scans any VMs created under that subscription.</span></span>

<span data-ttu-id="fb27c-242">**Patchverwaltung.**</span><span class="sxs-lookup"><span data-stu-id="fb27c-242">**Patch management.**</span></span> <span data-ttu-id="fb27c-243">Falls aktiviert, prüft Security Center, ob kritische und Sicherheitsupdates fehlen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-243">If enabled, Security Center checks whether security and critical updates are missing.</span></span> 

<span data-ttu-id="fb27c-244">**Antimalware.**</span><span class="sxs-lookup"><span data-stu-id="fb27c-244">**Antimalware.**</span></span> <span data-ttu-id="fb27c-245">Falls aktiviert, prüft Security Center, ob Antischadsoftware installiert ist.</span><span class="sxs-lookup"><span data-stu-id="fb27c-245">If enabled, Security Center checks whether antimalware software is installed.</span></span> <span data-ttu-id="fb27c-246">Sie können auch das Security Center nutzen, um Antischadsoftware über das Azure-Portal zu installieren.</span><span class="sxs-lookup"><span data-stu-id="fb27c-246">You can also use Security Center to install antimalware software from inside the Azure portal.</span></span>

<span data-ttu-id="fb27c-247">**Vorgänge.**</span><span class="sxs-lookup"><span data-stu-id="fb27c-247">**Operations.**</span></span> <span data-ttu-id="fb27c-248">Arbeiten Sie mit der [rollenbasierten Zugriffssteuerung][rbac] (Role-Based Access Control, RBAC) um den Zugriff auf die von Ihnen bereitgestellten Azure-Ressourcen zu steuern.</span><span class="sxs-lookup"><span data-stu-id="fb27c-248">Use [role-based access control][rbac] (RBAC) to control access to the Azure resources that you deploy.</span></span> <span data-ttu-id="fb27c-249">Mithilfe der RBAC können Sie Mitglieder Ihres DevOps-Teams Autorisierungsrollen zuweisen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-249">RBAC lets you assign authorization roles to members of your DevOps team.</span></span> <span data-ttu-id="fb27c-250">Die Rolle „Leser“ kann beispielsweise Azure-Ressourcen anzeigen, diese aber nicht erstellen, verwalten oder löschen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-250">For example, the Reader role can view Azure resources but not create, manage, or delete them.</span></span> <span data-ttu-id="fb27c-251">Einige Rollen sind für bestimmte Azure-Ressourcentypen spezifisch.</span><span class="sxs-lookup"><span data-stu-id="fb27c-251">Some roles are specific to particular Azure resource types.</span></span> <span data-ttu-id="fb27c-252">Die VM-Rolle „Mitwirkender“ kann z.B. eine VM neu starten oder Ihre Zuordnung aufheben, das Administratorkennwort zurücksetzen, eine neue VM erstellen usw.</span><span class="sxs-lookup"><span data-stu-id="fb27c-252">For example, the Virtual Machine Contributor role can restart or deallocate a VM, reset the administrator password, create a new VM, and so forth.</span></span> <span data-ttu-id="fb27c-253">Andere [integrierte RBAC-Rollen][rbac-roles], die für diese Architektur nützlich sein können, sind u.a. [DevTest Labs-Benutzer][rbac-devtest] und [Netzwerkmitwirkender][rbac-network].</span><span class="sxs-lookup"><span data-stu-id="fb27c-253">Other [built-in RBAC roles][rbac-roles] that might be useful for this architecture include [DevTest Labs User][rbac-devtest] and [Network Contributor][rbac-network].</span></span> <span data-ttu-id="fb27c-254">Ein Benutzer kann mehreren Rollen zugewiesen werden. Außerdem können Sie für noch präzisere Berechtigungen benutzerdefinierte Rollen erstellen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-254">A user can be assigned to multiple roles, and you can create custom roles for even more fine-grained permissions.</span></span>

> [!NOTE]
> <span data-ttu-id="fb27c-255">Die RBAC schränkt nicht die Aktionen eines Benutzers ein, der bei einer VM angemeldet ist.</span><span class="sxs-lookup"><span data-stu-id="fb27c-255">RBAC does not limit the actions that a user logged into a VM can perform.</span></span> <span data-ttu-id="fb27c-256">Diese Berechtigungen werden vom Kontotyp im Gastbetriebssystem bestimmt.</span><span class="sxs-lookup"><span data-stu-id="fb27c-256">Those permissions are determined by the account type on the guest OS.</span></span>   

<span data-ttu-id="fb27c-257">Verwenden Sie [Überwachungsprotokolle][audit-logs], um Bereitstellungsaktionen und andere VM-Ereignisse anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-257">Use [audit logs][audit-logs] to see provisioning actions and other VM events.</span></span>

<span data-ttu-id="fb27c-258">**Datenverschlüsselung.**</span><span class="sxs-lookup"><span data-stu-id="fb27c-258">**Data encryption.**</span></span> <span data-ttu-id="fb27c-259">Ziehen Sie [Azure Disk Encryption][disk-encryption] in Betracht, wenn Sie die Datenträger für Betriebssystem und Daten verschlüsseln müssen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-259">Consider [Azure Disk Encryption][disk-encryption] if you need to encrypt the OS and data disks.</span></span> 

## <a name="deploy-the-solution"></a><span data-ttu-id="fb27c-260">Bereitstellen der Lösung</span><span class="sxs-lookup"><span data-stu-id="fb27c-260">Deploy the solution</span></span>

<span data-ttu-id="fb27c-261">Eine Bereitstellung für diese Architektur ist auf [GitHub][github-folder] verfügbar.</span><span class="sxs-lookup"><span data-stu-id="fb27c-261">A deployment for this architecture is available on [GitHub][github-folder].</span></span> <span data-ttu-id="fb27c-262">Folgendes wird bereitgestellt:</span><span class="sxs-lookup"><span data-stu-id="fb27c-262">It deploys the following:</span></span>

  * <span data-ttu-id="fb27c-263">Ein virtuelles Netzwerk mit einzelnem Subnetz namens **web**, auf dem die VM gehostet wird</span><span class="sxs-lookup"><span data-stu-id="fb27c-263">A virtual network with a single subnet named **web** used to host the VM.</span></span>
  * <span data-ttu-id="fb27c-264">Eine NSG mit zwei Regeln für den eingehenden Datenverkehr, die SSH- und HTTP-Datenverkehr an die VM zulassen</span><span class="sxs-lookup"><span data-stu-id="fb27c-264">An NSG with two incoming rules to allow SSH and HTTP traffic to the VM.</span></span>
  * <span data-ttu-id="fb27c-265">Ein virtueller Computer mit der neuesten Version von Ubuntu (16.04.3 LTS)</span><span class="sxs-lookup"><span data-stu-id="fb27c-265">A VM running the latest version of Ubuntu 16.04.3 LTS.</span></span>
  * <span data-ttu-id="fb27c-266">Eine benutzerdefinierte Beispielskripterweiterung, die Apache HTTP Server auf der Ubuntu-VM bereitstellt und die beiden Datenträger formatiert</span><span class="sxs-lookup"><span data-stu-id="fb27c-266">A sample custom script extension that deploys Apache HTTP Server to the Ubuntu VM, and formats the two data disks.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="fb27c-267">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="fb27c-267">Prerequisites</span></span>

<span data-ttu-id="fb27c-268">Bevor Sie die Referenzarchitektur in Ihrem eigenen Abonnement bereitstellen können, müssen Sie die folgenden Schritte ausführen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-268">Before you can deploy the reference architecture to your own subscription, you must perform the following steps.</span></span>

1. <span data-ttu-id="fb27c-269">Klonen oder Forken Sie das GitHub-Repository [AzureCAT-Referenzarchitekturen][ref-arch-repo], oder laden Sie die zugehörige ZIP-Datei herunter.</span><span class="sxs-lookup"><span data-stu-id="fb27c-269">Clone, fork, or download the zip file for the [AzureCAT reference architectures][ref-arch-repo] GitHub repository.</span></span>

2. <span data-ttu-id="fb27c-270">Vergewissern Sie sich, dass Azure CLI 2.0 auf Ihrem Computer installiert ist.</span><span class="sxs-lookup"><span data-stu-id="fb27c-270">Make sure you have the Azure CLI 2.0 installed on your computer.</span></span> <span data-ttu-id="fb27c-271">Um die Befehlszeilenschnittstelle zu installieren, befolgen Sie die Anweisungen unter [Installieren von Azure CLI 2.0][azure-cli-2].</span><span class="sxs-lookup"><span data-stu-id="fb27c-271">To install the CLI, follow the instructions in [Install Azure CLI 2.0][azure-cli-2].</span></span>

3. <span data-ttu-id="fb27c-272">Installieren Sie das npm-Paket mit den [Azure Bausteinen][azbb].</span><span class="sxs-lookup"><span data-stu-id="fb27c-272">Install the [Azure building blocks][azbb] npm package.</span></span>

4. <span data-ttu-id="fb27c-273">Melden Sie sich über eine Eingabeaufforderung, eine bash-Eingabeaufforderung oder die PowerShell-Eingabeaufforderung bei Ihrem Azure-Konto an. Verwenden Sie dazu die unten aufgeführten Befehle, und befolgen Sie die Anweisungen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-273">From a command prompt, bash prompt, or PowerShell prompt, login to your Azure account by using one of the commands below, and follow the prompts.</span></span>

  ```bash
  az login
  ```

### <a name="deploy-the-solution-using-azbb"></a><span data-ttu-id="fb27c-274">Bereitstellen der Lösung mit azbb</span><span class="sxs-lookup"><span data-stu-id="fb27c-274">Deploy the solution using azbb</span></span>

<span data-ttu-id="fb27c-275">Zum Bereitstellen der einzelnen VM-Beispielworkload gehen Sie folgendermaßen vor:</span><span class="sxs-lookup"><span data-stu-id="fb27c-275">To deploy the sample single VM workload, follow these steps:</span></span>

1. <span data-ttu-id="fb27c-276">Navigieren Sie zum Ordner `virtual-machines\single-vm\parameters\linux` für das Repository, das Sie im vorherigen Schritt „Voraussetzungen“ heruntergeladen haben.</span><span class="sxs-lookup"><span data-stu-id="fb27c-276">Navigate to the `virtual-machines\single-vm\parameters\linux` folder for the repository you downloaded in the pre-requisites step above.</span></span>

2. <span data-ttu-id="fb27c-277">Öffnen Sie die Datei `single-vm-v2.json`, geben Sie einen Benutzernamen und den SSH-Schlüssel wie unten dargestellt zwischen den Anführungszeichen an, und speichern Sie die Datei.</span><span class="sxs-lookup"><span data-stu-id="fb27c-277">Open the `single-vm-v2.json` file and enter a username and SSH key between the quotes, as shown below, then save the file.</span></span>

  ```bash
  "adminUsername": "",
  "adminsshPublicKey": "",
  ```

3. <span data-ttu-id="fb27c-278">Führen Sie `azbb` aus, um die Beispiel-VM wie unten dargestellt bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="fb27c-278">Run `azbb` to deploy the sample VM as shown below.</span></span>

  ```bash
  azbb -s <subscription_id> -g <resource_group_name> -l <location> -p single-vm-v2.json --deploy
  ```

<span data-ttu-id="fb27c-279">Weitere Informationen zum Bereitstellen dieser Beispielreferenzarchitektur finden Sie in unserem [GitHub-Repository][git].</span><span class="sxs-lookup"><span data-stu-id="fb27c-279">For more information on deploying this sample reference architecture, visit our [GitHub repository][git].</span></span>

## <a name="next-steps"></a><span data-ttu-id="fb27c-280">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="fb27c-280">Next steps</span></span>

- <span data-ttu-id="fb27c-281">Informieren Sie sich über unsere [Azure-Bausteine][azbbv2].</span><span class="sxs-lookup"><span data-stu-id="fb27c-281">Learn about our [Azure building Blocks][azbbv2].</span></span>
- <span data-ttu-id="fb27c-282">Stellen Sie [mehrere VMs][multi-vm] in Azure bereit.</span><span class="sxs-lookup"><span data-stu-id="fb27c-282">Deploy [multiple VMs][multi-vm] in Azure.</span></span>

<!-- links -->
[git]: https://github.com/mspnp/reference-architectures/tree/master/virtual-machines/single-vm
[multi-vm]: ../virtual-machines-linux/multi-vm.md
[naming conventions]: ../../best-practices/naming-conventions.md
[audit-logs]: https://azure.microsoft.com/blog/analyze-azure-audit-logs-in-powerbi-more/
[availability-set]: /azure/virtual-machines/virtual-machines-linux-manage-availability
[azbb]: https://github.com/mspnp/template-building-blocks/wiki/Install-Azure-Building-Blocks
[azbbv2]: https://github.com/mspnp/template-building-blocks
[azure-cli-2]: /cli/azure/install-azure-cli?view=azure-cli-latest
[azure-linux]: /azure/virtual-machines/virtual-machines-linux-azure-overview
[azure-storage]: /azure/storage/storage-introduction
[blob-snapshot]: /azure/storage/storage-blob-snapshots
[blob-storage]: /azure/storage/storage-introduction
[boot-diagnostics]: https://azure.microsoft.com/blog/boot-diagnostics-for-virtual-machines-v2/
[cname-record]: https://en.wikipedia.org/wiki/CNAME_record
[data-disk]: /azure/virtual-machines/virtual-machines-linux-about-disks-vhds
[disk-encryption]: /azure/security/azure-security-disk-encryption
[enable-monitoring]: /azure/monitoring-and-diagnostics/insights-how-to-use-diagnostics
[fqdn]: /azure/virtual-machines/virtual-machines-linux-portal-create-fqdn
[github-folder]: https://github.com/mspnp/reference-architectures/tree/master/virtual-machines/single-vm
[iostat]: https://en.wikipedia.org/wiki/Iostat
[manage-vm-availability]: /azure/virtual-machines/virtual-machines-linux-manage-availability
[nsg]: /azure/virtual-network/virtual-networks-nsg
[nsg-default-rules]: /azure/virtual-network/virtual-networks-nsg#default-rules
[OSPatching]: https://github.com/Azure/azure-linux-extensions/tree/master/OSPatching
[planned-maintenance]: /azure/virtual-machines/virtual-machines-linux-planned-maintenance
[premium-storage]: /azure/storage/storage-premium-storage
[rbac]: /azure/active-directory/role-based-access-control-what-is
[rbac-roles]: /azure/active-directory/role-based-access-built-in-roles
[rbac-devtest]: /azure/active-directory/role-based-access-built-in-roles#devtest-labs-user
[rbac-network]: /azure/active-directory/role-based-access-built-in-roles#network-contributor
[reboot-logs]: https://azure.microsoft.com/blog/viewing-vm-reboot-logs/
[ref-arch-repo]: https://github.com/mspnp/reference-architectures
[resource-lock]: /azure/resource-group-lock-resources
[resource-manager-overview]: /azure/azure-resource-manager/resource-group-overview
[security-center]: /azure/security-center/
[security-center-get-started]: /azure/security-center/security-center-get-started
[select-vm-image]: /azure/virtual-machines/virtual-machines-linux-cli-ps-findimage
[services-by-region]: https://azure.microsoft.com/regions/#services
[ssh-linux]: /azure/virtual-machines/virtual-machines-linux-mac-create-ssh-keys
[static-ip]: /azure/virtual-network/virtual-networks-reserved-public-ip
[virtual-machine-sizes]: /azure/virtual-machines/virtual-machines-linux-sizes
[visio-download]: https://archcenter.azureedge.net/cdn/vm-reference-architectures.vsdx
[vm-disk-limits]: /azure/azure-subscription-service-limits#virtual-machine-disk-limits
[vm-resize]: /azure/virtual-machines/virtual-machines-linux-change-vm-size
[vm-size-tables]: /azure/virtual-machines/virtual-machines-linux-sizes
[vm-sla]: https://azure.microsoft.com/support/legal/sla/virtual-machines
[readme]: https://github.com/mspnp/reference-architectures/blob/master/virtual-machines/single-vm/README.md
[0]: ./images/single-vm-diagram.png "Architektur einer einzelnen Linux-VM in Azure"

