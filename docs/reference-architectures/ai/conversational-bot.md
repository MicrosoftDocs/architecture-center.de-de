---
title: Erstellen eines für Unternehmen konzipierten interaktiven Bots
description: Erfahren Sie, wie Sie mit Azure Bot Framework einen für Unternehmen geeigneten interaktiven Bot (Chatbot) erstellen.
author: roalexan
ms.date: 01/24/2019
ms.topic: reference-architecture
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: azcat-ai
ms.openlocfilehash: 0f5de0eca6fbd35cca1a0e8443f363df09ffc6aa
ms.sourcegitcommit: 287344b6c220bdbd8076aed7a281eb02253e15be
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 02/04/2019
ms.locfileid: "55712149"
---
# <a name="enterprise-grade-conversational-bot"></a><span data-ttu-id="0389a-103">Für Unternehmen konzipierter interaktiver Bot</span><span class="sxs-lookup"><span data-stu-id="0389a-103">Enterprise-grade conversational bot</span></span>

<span data-ttu-id="0389a-104">Diese Referenzarchitektur beschreibt, wie Sie mit [Azure Bot Framework][bot-framework] einen für Unternehmen geeigneten interaktiven Bot (Chatbot) erstellen.</span><span class="sxs-lookup"><span data-stu-id="0389a-104">This reference architecture describes how to build an enterprise-grade conversational bot (chatbot) using the [Azure Bot Framework][bot-framework].</span></span> <span data-ttu-id="0389a-105">Jeder Bot ist anders, es gibt jedoch einige allgemeine Muster, Workflows und Technologien, die Ihnen bekannt sein sollten.</span><span class="sxs-lookup"><span data-stu-id="0389a-105">Each bot is different, but there are some common patterns, workflows, and technologies to be aware of.</span></span> <span data-ttu-id="0389a-106">Insbesondere bei einem Bot für Unternehmensworkloads müssen neben den Kernfunktionen viele Überlegungen zum Entwurf berücksichtigt werden.</span><span class="sxs-lookup"><span data-stu-id="0389a-106">Especially for a bot to serve enterprise workloads, there are many design considerations beyond just the core functionality.</span></span> <span data-ttu-id="0389a-107">In diesem Artikel werden die wichtigsten Entwurfsaspekte erläutert und die erforderlichen Tools zum Erstellen eines stabilen, sicheren Bots, der aktives Lernen unterstützt, vorgestellt.</span><span class="sxs-lookup"><span data-stu-id="0389a-107">This article covers the most essential design aspects, and introduces the tools needed to build a robust, secure, and actively learning bot.</span></span>

<span data-ttu-id="0389a-108">[![Diagramm der Architektur][0]][0]</span><span class="sxs-lookup"><span data-stu-id="0389a-108">[![Diagram of the architecture][0]][0]</span></span>

<span data-ttu-id="0389a-109">Bei den Hilfsprogrammbeispielen, die in dieser Architektur als bewährte Methoden verwendet werden, handelt es sich um reine Open-Source-Beispiele, die auf [GitHub][git-repo-base] verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="0389a-109">The best practice utility samples used in this architecture are fully open-sourced and available on [GitHub][git-repo-base].</span></span> 

## <a name="architecture"></a><span data-ttu-id="0389a-110">Architecture</span><span class="sxs-lookup"><span data-stu-id="0389a-110">Architecture</span></span>

<span data-ttu-id="0389a-111">Die hier gezeigte Architektur verwendet die folgenden Azure-Dienste.</span><span class="sxs-lookup"><span data-stu-id="0389a-111">The architecture shown here uses the following Azure services.</span></span> <span data-ttu-id="0389a-112">Ihr Bot kann beliebig viele dieser Dienste nutzen, und zudem können Sie zusätzliche Dienste einbinden.</span><span class="sxs-lookup"><span data-stu-id="0389a-112">Your own bot may not use all of these services, or may incorporate additional services.</span></span>

### <a name="bot-logic-and-user-experience"></a><span data-ttu-id="0389a-113">Botlogik und Benutzererfahrung</span><span class="sxs-lookup"><span data-stu-id="0389a-113">Bot logic and user experience</span></span>

- <span data-ttu-id="0389a-114">**[Bot Framework-Dienst][bot-framework-service]** (Bot Framework Service, BFS).</span><span class="sxs-lookup"><span data-stu-id="0389a-114">**[Bot Framework Service][bot-framework-service]** (BFS).</span></span> <span data-ttu-id="0389a-115">Dieser Dienst verbindet Ihren Bot mit einer Kommunikations-App wie Cortana, Facebook Messenger oder Slack.</span><span class="sxs-lookup"><span data-stu-id="0389a-115">This service connects your bot to a communication app such as Cortana, Facebook Messenger, or Slack.</span></span> <span data-ttu-id="0389a-116">Er ermöglicht die Kommunikation zwischen Ihrem Bot und dem Benutzer.</span><span class="sxs-lookup"><span data-stu-id="0389a-116">It facilitates communication between your bot and the user.</span></span>
- <span data-ttu-id="0389a-117">**[Azure App Service][app-service]**.</span><span class="sxs-lookup"><span data-stu-id="0389a-117">**[Azure App Service][app-service]**.</span></span> <span data-ttu-id="0389a-118">Die Anwendungslogik des Bots wird in Azure App Service gehostet.</span><span class="sxs-lookup"><span data-stu-id="0389a-118">The bot application logic is hosted in Azure App Service.</span></span>

### <a name="bot-cognition-and-intelligence"></a><span data-ttu-id="0389a-119">Kognitive und intelligente Funktionen des Bots</span><span class="sxs-lookup"><span data-stu-id="0389a-119">Bot cognition and intelligence</span></span>

- <span data-ttu-id="0389a-120">**[Language Understanding Intelligent Service][luis]** (LUIS).</span><span class="sxs-lookup"><span data-stu-id="0389a-120">**[Language Understanding][luis]** (LUIS).</span></span> <span data-ttu-id="0389a-121">LUIS ist Teil von [Azure Cognitive Services][cognitive-services]. Der Dienst identifiziert Absichten des Benutzers sowie Entitäten und ermöglicht Ihrem Bot so das Verständnis natürliche Sprache.</span><span class="sxs-lookup"><span data-stu-id="0389a-121">Part of [Azure Cognitive Services][cognitive-services], LUIS enables your bot to understand natural language by identifying user intents and entities.</span></span>
- <span data-ttu-id="0389a-122">**[Azure Search][search]**.</span><span class="sxs-lookup"><span data-stu-id="0389a-122">**[Azure Search][search]**.</span></span> <span data-ttu-id="0389a-123">Search ist ein verwalteter Dienst, der einen schnell durchsuchbaren Dokumentindex bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="0389a-123">Search is a managed service that provides a quick searchable document index.</span></span>
- <span data-ttu-id="0389a-124">**[QnA Maker][qna-maker]**.</span><span class="sxs-lookup"><span data-stu-id="0389a-124">**[QnA Maker][qna-maker]**.</span></span> <span data-ttu-id="0389a-125">QnA Maker ist ein cloudbasierter API-Dienst, mit dem eine Frage-und-Antwort-Ebene im Konversationsstil für Ihre Daten erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="0389a-125">QnA Maker is a cloud-based API service that creates a conversational, question-and-answer layer over your data.</span></span> <span data-ttu-id="0389a-126">In der Regel werden teilweise strukturierte Inhalte wie häufig gestellte Fragen (Frequently Asked Questions, FAQs) in den Dienst geladen.</span><span class="sxs-lookup"><span data-stu-id="0389a-126">Typically, it's loaded with semi-structured content such as FAQs.</span></span> <span data-ttu-id="0389a-127">Verwenden Sie QnA Maker, um eine Wissensdatenbank zum Beantworten von Fragen in natürlicher Sprache zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="0389a-127">Use it to create a knowledge base for answering natural-language questions.</span></span>
- <span data-ttu-id="0389a-128">**[Web-App][webapp]**.</span><span class="sxs-lookup"><span data-stu-id="0389a-128">**[Web app][webapp]**.</span></span> <span data-ttu-id="0389a-129">Wenn Ihr Bot KI-Lösungen (künstliche Intelligenz) erfordert, die nicht von einem vorhandenen Dienst bereitgestellt werden, können Sie Ihre eigene benutzerdefinierte KI implementieren und als Web-App hosten.</span><span class="sxs-lookup"><span data-stu-id="0389a-129">If your bot needs AI solutions not provided by an existing service, you can implement your own custom AI and host it as a web app.</span></span> <span data-ttu-id="0389a-130">Dadurch erhalten Sie einen Webendpunkt, der von Ihrem Bot aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="0389a-130">This provides a web endpoint for your bot to call.</span></span>

### <a name="data-ingestion"></a><span data-ttu-id="0389a-131">Datenerfassung</span><span class="sxs-lookup"><span data-stu-id="0389a-131">Data ingestion</span></span>

<span data-ttu-id="0389a-132">Der Bot basiert auf Rohdaten, die erfasst und vorbereitet werden müssen.</span><span class="sxs-lookup"><span data-stu-id="0389a-132">The bot will rely on raw data that must be ingested and prepared.</span></span> <span data-ttu-id="0389a-133">Folgende Optionen stehen Ihnen zum Orchestrieren dieses Prozesses zur Auswahl:</span><span class="sxs-lookup"><span data-stu-id="0389a-133">Consider any of the following options to orchestrate this process:</span></span>

- <span data-ttu-id="0389a-134">**[Azure Data Factory][data-factory]**.</span><span class="sxs-lookup"><span data-stu-id="0389a-134">**[Azure Data Factory][data-factory]**.</span></span> <span data-ttu-id="0389a-135">Data Factory orchestriert und automatisiert die Datenverschiebung und -transformation.</span><span class="sxs-lookup"><span data-stu-id="0389a-135">Data Factory orchestrates and automates data movement and data transformation.</span></span>
- <span data-ttu-id="0389a-136">**[Logic Apps][logic-apps]**.</span><span class="sxs-lookup"><span data-stu-id="0389a-136">**[Logic Apps][logic-apps]**.</span></span> <span data-ttu-id="0389a-137">Logic Apps ist eine serverlose Plattform zum Erstellen von Workflows, die Anwendungen, Daten und Dienste integrieren.</span><span class="sxs-lookup"><span data-stu-id="0389a-137">Logic Apps is a serverless platform for building workflows that integrate applications, data, and services.</span></span> <span data-ttu-id="0389a-138">Logic Apps bietet Datenconnectors für viele Anwendungen, einschließlich Office 365.</span><span class="sxs-lookup"><span data-stu-id="0389a-138">Logic Apps provides data connectors for many applications, including Office 365.</span></span>
- <span data-ttu-id="0389a-139">**[Azure Functions][functions]**.</span><span class="sxs-lookup"><span data-stu-id="0389a-139">**[Azure Functions][functions]**.</span></span> <span data-ttu-id="0389a-140">Mit Azure Functions können Sie benutzerdefinierten serverlosen Code schreiben, der von einem [Trigger][functions-triggers]&mdash; aufgerufen wird (z. B. jedes Mal, wenn ein Dokument in Blob Storage oder Cosmos DB hinzugefügt wird).</span><span class="sxs-lookup"><span data-stu-id="0389a-140">You can use Azure Functions to write custom serverless code that is invoked by a [trigger][functions-triggers] &mdash; for example, whenever a document is added to blob storage or Cosmos DB.</span></span>

### <a name="logging-and-monitoring"></a><span data-ttu-id="0389a-141">Protokollierung und Überwachung</span><span class="sxs-lookup"><span data-stu-id="0389a-141">Logging and monitoring</span></span>

- <span data-ttu-id="0389a-142">**[Application Insights][app-insights]**.</span><span class="sxs-lookup"><span data-stu-id="0389a-142">**[Application Insights][app-insights]**.</span></span> <span data-ttu-id="0389a-143">Mit Application Insights können Sie Anwendungsmetriken zur Überwachung und Diagnose sowie für analytische Zwecke protokollieren.</span><span class="sxs-lookup"><span data-stu-id="0389a-143">Use Application Insights to log the bot's application metrics for monitoring, diagnostic, and analytical purposes.</span></span>
- <span data-ttu-id="0389a-144">**[Azure Blob Storage][blob]**.</span><span class="sxs-lookup"><span data-stu-id="0389a-144">**[Azure Blob Storage][blob]**.</span></span> <span data-ttu-id="0389a-145">Blobspeicher ist für die Speicherung großer Mengen unstrukturierter Daten optimiert.</span><span class="sxs-lookup"><span data-stu-id="0389a-145">Blob storage is optimized for storing massive amounts of unstructured data.</span></span>
- <span data-ttu-id="0389a-146">**[Cosmos DB][cosmosdb]**.</span><span class="sxs-lookup"><span data-stu-id="0389a-146">**[Cosmos DB][cosmosdb]**.</span></span> <span data-ttu-id="0389a-147">Cosmos DB eignet sich gut zum Speichern von teilweise strukturierten Daten wie Konversationen.</span><span class="sxs-lookup"><span data-stu-id="0389a-147">Cosmos DB is well-suited for storing semi-structured log data such as conversations.</span></span>
- <span data-ttu-id="0389a-148">**[Power BI][power-bi]**.</span><span class="sxs-lookup"><span data-stu-id="0389a-148">**[Power BI][power-bi]**.</span></span> <span data-ttu-id="0389a-149">Verwenden Sie Power BI, um Überwachungsdashboards für Ihren Bot zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="0389a-149">Use Power BI to create monitoring dashboards for your bot.</span></span>

### <a name="security-and-governance"></a><span data-ttu-id="0389a-150">Sicherheit und Governance</span><span class="sxs-lookup"><span data-stu-id="0389a-150">Security and governance</span></span>

- <span data-ttu-id="0389a-151">**[Azure Active Directory][aad]** (Azure AD).</span><span class="sxs-lookup"><span data-stu-id="0389a-151">**[Azure Active Directory][aad]** (Azure AD).</span></span> <span data-ttu-id="0389a-152">Benutzer werden über einen Identitätsanbieter wie Azure AD authentifiziert.</span><span class="sxs-lookup"><span data-stu-id="0389a-152">Users will authenticate through an identity provider such as Azure AD.</span></span> <span data-ttu-id="0389a-153">Der Bot Service ist für den Authentifizierungsflow und die Verwaltung der OAuth-Token zuständig.</span><span class="sxs-lookup"><span data-stu-id="0389a-153">The Bot Service handles the authentication flow and OAuth token management.</span></span> <span data-ttu-id="0389a-154">Siehe [Hinzufügen von Authentifizierung zu Ihrem Bot über Azure Bot Service][bot-authentication].</span><span class="sxs-lookup"><span data-stu-id="0389a-154">See [Add authentication to your bot via Azure Bot Service][bot-authentication].</span></span>
- <span data-ttu-id="0389a-155">**[Azure Key Vault][key-vault]**.</span><span class="sxs-lookup"><span data-stu-id="0389a-155">**[Azure Key Vault][key-vault]**.</span></span> <span data-ttu-id="0389a-156">Speichern Sie Anmeldeinformationen und andere Geheimnisse mithilfe von Key Vault.</span><span class="sxs-lookup"><span data-stu-id="0389a-156">Store credentials and other secrets using Key Vault.</span></span>

### <a name="quality-assurance-and-enhancements"></a><span data-ttu-id="0389a-157">Qualitätssicherung und Verbesserungen</span><span class="sxs-lookup"><span data-stu-id="0389a-157">Quality assurance and enhancements</span></span>

- <span data-ttu-id="0389a-158">**[Azure DevOps][devops]**</span><span class="sxs-lookup"><span data-stu-id="0389a-158">**[Azure DevOps][devops]**.</span></span> <span data-ttu-id="0389a-159">bietet viele Dienste für die Verwaltung von Apps, darunter Quellcodeverwaltung, Erstellung, Tests, Bereitstellung und Projektnachverfolgung.</span><span class="sxs-lookup"><span data-stu-id="0389a-159">Provides many services for app management, including source control, building, testing, deployment, and project tracking.</span></span>
- <span data-ttu-id="0389a-160">**[VS Code][vscode]** ist ein reduzierter Code-Editor für die App-Entwicklung.</span><span class="sxs-lookup"><span data-stu-id="0389a-160">**[VS Code][vscode]** A lightweight code editor for app development.</span></span> <span data-ttu-id="0389a-161">Sie können eine beliebige andere integrierte Entwicklungsumgebung (Integrated Development Environment, IDE) mit ähnlichen Features verwenden.</span><span class="sxs-lookup"><span data-stu-id="0389a-161">You can use any other IDE with similar features.</span></span>

## <a name="design-considerations"></a><span data-ttu-id="0389a-162">Überlegungen zum Entwurf</span><span class="sxs-lookup"><span data-stu-id="0389a-162">Design considerations</span></span>

<span data-ttu-id="0389a-163">Allgemein betrachtet lässt sich ein interaktiver Bot in die Botfunktionalität (das „Gehirn“) und eine Gruppe von umgebenden Anforderungen (den „Körper“) unterteilen.</span><span class="sxs-lookup"><span data-stu-id="0389a-163">At a high level, a conversational bot can be divided into the bot functionality (the "brain") and a set of surrounding requirements (the "body").</span></span> <span data-ttu-id="0389a-164">Die Botfunktionalität umfasst die domänenfähigen Komponenten, einschließlich der Botlogik und ML-Funktionen (Machine Learning).</span><span class="sxs-lookup"><span data-stu-id="0389a-164">The brain includes the domain-aware components, including the bot logic and ML capabilities.</span></span> <span data-ttu-id="0389a-165">Andere Komponenten sind domänenagnostisch und dienen für nicht funktionsbezogenen Anforderungen, z. B. CI/CD, Qualitätssicherung und Sicherheit.</span><span class="sxs-lookup"><span data-stu-id="0389a-165">Other components are domain agnostic and address non-functional requirements such as CI/CD, quality assurance, and security.</span></span>

![Logisches Diagramm der Botfunktionalität](./_images/conversational-bot-logical.png)

<span data-ttu-id="0389a-167">Bevor wir uns mit den Details dieser Architektur befassen, werfen wir einen Blick auf den Datenfluss durch die einzelnen Unterkomponenten des Entwurfs.</span><span class="sxs-lookup"><span data-stu-id="0389a-167">Before getting into the specifics of this architecture, let's start with the data flow through each subcomponent of the design.</span></span> <span data-ttu-id="0389a-168">Der Datenfluss umfasst vom Benutzer initiierte und vom System initiierte Datenflüsse.</span><span class="sxs-lookup"><span data-stu-id="0389a-168">The data flow includes user-initiated and system-initiated data flows.</span></span>

### <a name="user-message-flow"></a><span data-ttu-id="0389a-169">Benutzernachrichtenfluss</span><span class="sxs-lookup"><span data-stu-id="0389a-169">User message flow</span></span>

<span data-ttu-id="0389a-170">**Authentifizierung**.</span><span class="sxs-lookup"><span data-stu-id="0389a-170">**Authentication**.</span></span> <span data-ttu-id="0389a-171">Benutzer authentifizieren sich zunächst anhand des von ihrem Kommunikationskanal bereitgestellten Mechanismus beim Bot.</span><span class="sxs-lookup"><span data-stu-id="0389a-171">Users start by authenticating themselves using whatever mechanism is provided by their channel of communication with the bot.</span></span> <span data-ttu-id="0389a-172">Bot Framework unterstützt viele Kommunikationskanäle, einschließlich Cortana, Microsoft Teams, Facebook Messenger, Kik und Slack.</span><span class="sxs-lookup"><span data-stu-id="0389a-172">The bot framework supports many communication channels, including Cortana, Microsoft Teams, Facebook Messenger, Kik, and Slack.</span></span> <span data-ttu-id="0389a-173">Eine Liste der Kanäle finden Sie unter [Verbinden eines Bots mit Kanälen](/azure/bot-service/bot-service-manage-channels).</span><span class="sxs-lookup"><span data-stu-id="0389a-173">For a list of channels, see [Connect a bot to channels](/azure/bot-service/bot-service-manage-channels).</span></span> <span data-ttu-id="0389a-174">Wenn Sie einen Bot mit Azure Bot Service erstellen, wird der [Webchatkanal][webchat] automatisch konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="0389a-174">When you create a bot with Azure Bot Service, the [Web Chat][webchat] channel is automatically configured.</span></span> <span data-ttu-id="0389a-175">Über diesen Kanal können Benutzer direkt auf einer Webseite mit Ihrem Bot interagieren.</span><span class="sxs-lookup"><span data-stu-id="0389a-175">This channel allows users to interact with your bot directly in a web page.</span></span> <span data-ttu-id="0389a-176">Sie können den Bot mithilfe des [Direct Line](/azure/bot-service/bot-service-channel-connect-directline)-Kanals auch mit einer benutzerdefinierten App verbinden.</span><span class="sxs-lookup"><span data-stu-id="0389a-176">You can also connect the bot to a custom app by using the [Direct Line](/azure/bot-service/bot-service-channel-connect-directline) channel.</span></span> <span data-ttu-id="0389a-177">Die Identität des Benutzers wird verwendet, um die rollenbasierte Zugriffssteuerung und personalisierte Inhalte bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="0389a-177">The user's identity is used to provide role-based access control, as well as to serve personalized content.</span></span>

<span data-ttu-id="0389a-178">**Benutzernachricht**.</span><span class="sxs-lookup"><span data-stu-id="0389a-178">**User message**.</span></span> <span data-ttu-id="0389a-179">Nach der Authentifizierung sendet der Benutzer eine Nachricht an den Bot.</span><span class="sxs-lookup"><span data-stu-id="0389a-179">Once authenticated, the user sends a message to the bot.</span></span> <span data-ttu-id="0389a-180">Der Bot liest die Nachricht und leitet sie an einen Dienst weiter, der natürliche Sprache versteht (beispielsweise [LUIS](/azure/cognitive-services/luis/)).</span><span class="sxs-lookup"><span data-stu-id="0389a-180">The bot reads the message and routes it to a natural language understanding service such as [LUIS](/azure/cognitive-services/luis/).</span></span> <span data-ttu-id="0389a-181">In diesem Schritt werden die **Absichten** (was der Benutzer tun möchte) und **Entitäten** (die Dinge, für die sich der Benutzer interessiert) ermittelt.</span><span class="sxs-lookup"><span data-stu-id="0389a-181">This step gets the **intents** (what the user wants to do) and **entities** (what things the user is interested in).</span></span> <span data-ttu-id="0389a-182">Der Bot erstellt dann eine Abfrage und übergibt sie an einen Dienst, der Informationen bereitstellt, beispielsweise [Azure Search][search] für den Dokumentabruf, [QnA Maker](https://www.qnamaker.ai/) für häufig gestellte Fragen oder eine benutzerdefinierte Wissensdatenbank.</span><span class="sxs-lookup"><span data-stu-id="0389a-182">The bot then builds a query that it passes to a service that serves information, such as [Azure Search][search] for document retrieval, [QnA Maker](https://www.qnamaker.ai/) for FAQs, or a custom knowledge base.</span></span> <span data-ttu-id="0389a-183">Anhand dieser Ergebnisse erstellt der Bot eine Antwort.</span><span class="sxs-lookup"><span data-stu-id="0389a-183">The bot uses these results to construct a response.</span></span> <span data-ttu-id="0389a-184">Um das bestmögliche Ergebnis für eine bestimmte Abfrage bereitzustellen, führt der Bot möglicherweise mehrere Aufrufe zwischen diesen Remotediensten aus.</span><span class="sxs-lookup"><span data-stu-id="0389a-184">To give the best result for a  given query, the bot might make several back-and-forth calls to these remote services.</span></span>

<span data-ttu-id="0389a-185">**Antwort**.</span><span class="sxs-lookup"><span data-stu-id="0389a-185">**Response**.</span></span> <span data-ttu-id="0389a-186">Der Bot hat die beste Antwort bestimmt und sendet sie nun an den Benutzer.</span><span class="sxs-lookup"><span data-stu-id="0389a-186">At this point, the bot has determined the best response and sends it to the user.</span></span> <span data-ttu-id="0389a-187">Wenn die Zuverlässigkeitsbewertung der besten Antwort niedrig ist, ist die Antwort u. U. eine Frage zur Klärung von Mehrdeutigkeiten oder eine Bestätigung, dass der Bot nicht angemessen antworten konnte.</span><span class="sxs-lookup"><span data-stu-id="0389a-187">If the confidence score of the best-matched answer is low, the response might be a disambiguation question or an acknowledgement that the bot could not reply adequately.</span></span>

<span data-ttu-id="0389a-188">**Protokollierung**:</span><span class="sxs-lookup"><span data-stu-id="0389a-188">**Logging**.</span></span> <span data-ttu-id="0389a-189">Wenn eine Benutzeranforderung empfangen oder eine Antwort gesendet wird, sollten alle Konversationsaktionen zusammen mit Leistungsmetriken und allgemeinen Fehlern von externen Diensten in einem Protokollspeicher protokolliert werden.</span><span class="sxs-lookup"><span data-stu-id="0389a-189">When a user request is received or a response is sent, all conversation actions should be logged to a logging store, along with performance metrics and general errors from external services.</span></span> <span data-ttu-id="0389a-190">Diese Protokolle sind später hilfreich beim Diagnostizieren von Problemen und Verbessern des Systems.</span><span class="sxs-lookup"><span data-stu-id="0389a-190">These logs will be useful later when diagnosing issues and improving the system.</span></span>

<span data-ttu-id="0389a-191">**Feedback**.</span><span class="sxs-lookup"><span data-stu-id="0389a-191">**Feedback**.</span></span> <span data-ttu-id="0389a-192">Eine weitere bewährte Methode ist das Erfassen von Feedback und Zufriedenheitsbewertungen der Benutzer.</span><span class="sxs-lookup"><span data-stu-id="0389a-192">Another good practice is to collect user feedback and satisfaction scores.</span></span> <span data-ttu-id="0389a-193">Als Folgeaktion sollte der Bot den Benutzer nach dem Senden der endgültigen Antwort auffordern, seine Zufriedenheit mit der Antwort zu bewerten.</span><span class="sxs-lookup"><span data-stu-id="0389a-193">As a follow up to the bot's final response, the bot should ask the user to rate their satisfaction with the reply.</span></span> <span data-ttu-id="0389a-194">Feedback kann Ihnen dabei helfen, das Kaltstartproblem beim Verstehen natürlicher Sprache zu beheben und die Genauigkeit von Antworten kontinuierlich zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="0389a-194">Feedback can help you to solve the cold start problem of natural language understanding, and continually improve the accuracy of responses.</span></span>

### <a name="system-data-flow"></a><span data-ttu-id="0389a-195">Systemdatenfluss</span><span class="sxs-lookup"><span data-stu-id="0389a-195">System Data Flow</span></span>

<span data-ttu-id="0389a-196">**ETL (Extrahieren, Transformieren und Laden)**.</span><span class="sxs-lookup"><span data-stu-id="0389a-196">**ETL**.</span></span> <span data-ttu-id="0389a-197">Die Informationen und das Wissen, auf denen der Bot beruht, werden von einem ETL-Prozess im Back-End aus den Rohdaten extrahiert.</span><span class="sxs-lookup"><span data-stu-id="0389a-197">The bot relies on information and knowledge extracted from the raw data by an ETL process in the backend.</span></span> <span data-ttu-id="0389a-198">Diese Daten können strukturiert (SQL-Datenbank), teilweise strukturiert (CRM-System, häufig gestellte Fragen) oder unstrukturiert (Word-Dokumente, PDF-Dateien, Webprotokolle) sein.</span><span class="sxs-lookup"><span data-stu-id="0389a-198">This data might be structured (SQL database), semi-structured (CRM system, FAQs), or unstructured (Word documents, PDFs, web logs).</span></span> <span data-ttu-id="0389a-199">Ein ETL-Subsystem extrahiert die Daten nach einem festen Zeitplan.</span><span class="sxs-lookup"><span data-stu-id="0389a-199">An ETL subsystem extracts the data on a fixed schedule.</span></span> <span data-ttu-id="0389a-200">Der Inhalt wird transformiert und angereichert und anschließend in einen Zwischendatenspeicher wie Cosmos DB oder Azure Blob Storage geladen.</span><span class="sxs-lookup"><span data-stu-id="0389a-200">The content is transformed and enriched, then loaded into an intermediary data store, such as Cosmos DB or Azure Blob Storage.</span></span>

<span data-ttu-id="0389a-201">Daten im Zwischenspeicher werden dann für den Dokumentabruf in Azure Search indiziert, in QnA Maker geladen, um Frage- und Antwort-Paare zu erstellen, oder in eine benutzerdefinierte Web-App zur Verarbeitung von unstrukturiertem Text geladen.</span><span class="sxs-lookup"><span data-stu-id="0389a-201">Data in the intermediary store is then indexed into Azure Search for document retrieval, loaded into QnA Maker to create question and answer pairs, or loaded into a custom web app for unstructured text processing.</span></span> <span data-ttu-id="0389a-202">Die Daten werden auch verwendet, um ein LUIS-Modell zum Extrahieren von Absichten und Entitäten zu trainieren.</span><span class="sxs-lookup"><span data-stu-id="0389a-202">The data is also used to train a LUIS model for intent and entity extraction.</span></span>

<span data-ttu-id="0389a-203">**Qualitätssicherung**.</span><span class="sxs-lookup"><span data-stu-id="0389a-203">**Quality assurance**.</span></span> <span data-ttu-id="0389a-204">Die Konversationsprotokolle werden zum Diagnostizieren und Beheben von Fehlern verwendet, liefern Erkenntnisse zur Nutzung des Bots und dienen zur Nachverfolgung der Gesamtleistung.</span><span class="sxs-lookup"><span data-stu-id="0389a-204">The conversation logs are used to diagnose and fix bugs, provide insight into how the bot is being used, and track overall performance.</span></span> <span data-ttu-id="0389a-205">Feedbackdaten können für das erneute Trainieren der KI-Modelle zum Verbessern der Leistung des Bots hilfreich sein.</span><span class="sxs-lookup"><span data-stu-id="0389a-205">Feedback data is useful for retraining the AI models to improve bot performance.</span></span>

## <a name="building-a-bot"></a><span data-ttu-id="0389a-206">Erstellen eines Bots</span><span class="sxs-lookup"><span data-stu-id="0389a-206">Building a bot</span></span>

<span data-ttu-id="0389a-207">Bevor Sie auch nur eine einzige Zeile Code schreiben, sollten Sie unbedingt eine Funktionsspezifikation verfassen, damit das Entwicklungsteam eine klare Vorstellung davon hat, welche Funktionen vom Bot erwartet werden.</span><span class="sxs-lookup"><span data-stu-id="0389a-207">Before you even write a single line of code, it's important to write a functional specification so the development team has a clear idea of what the bot is expected to do.</span></span> <span data-ttu-id="0389a-208">Die Spezifikation sollte eine angemessen umfassende Liste von Benutzereingaben und erwarteten Botantworten in verschiedenen Wissensgebieten enthalten.</span><span class="sxs-lookup"><span data-stu-id="0389a-208">The specification should include a reasonably comprehensive list of user inputs and expected bot responses in various knowledge domains.</span></span> <span data-ttu-id="0389a-209">Dieses dynamische Dokument ist ein wertvoller Leitfaden für das Entwickeln und Testen Ihres Bots.</span><span class="sxs-lookup"><span data-stu-id="0389a-209">This living document will be an invaluable guide for developing and testing your bot.</span></span>

### <a name="ingest-data"></a><span data-ttu-id="0389a-210">Erfassen von Daten</span><span class="sxs-lookup"><span data-stu-id="0389a-210">Ingest data</span></span>

<span data-ttu-id="0389a-211">Identifizieren Sie anschließend die Datenquellen, die dem Bot die intelligente Interaktion mit Benutzern ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="0389a-211">Next, identify the data sources that will enable the bot to interact intelligently with users.</span></span> <span data-ttu-id="0389a-212">Wie bereits erwähnt, können diese Datenquellen strukturierte, teilweise strukturierte oder unstrukturierte Datasets enthalten.</span><span class="sxs-lookup"><span data-stu-id="0389a-212">As mentioned earlier, these data sources could contain structured, semi-structured, or unstructured data sets.</span></span> <span data-ttu-id="0389a-213">Es empfiehlt sich, zu Beginn eine einmalige Kopie der Daten in einem zentralen Speicher (z. B. Cosmos DB oder Azure Storage) zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="0389a-213">When you're getting started, a good approach is to make a one-off copy of the data to a central store, such as Cosmos DB or Azure Storage.</span></span> <span data-ttu-id="0389a-214">Wenn die Erstellung Ihres Bots voranschreitet, sollten Sie eine automatisierte Datenerfassungspipeline erstellen, damit diese Daten stets aktuell sind.</span><span class="sxs-lookup"><span data-stu-id="0389a-214">As you progress, you should create an automated data ingestion pipeline to keep this data current.</span></span> <span data-ttu-id="0389a-215">Zu den verfügbaren Optionen für eine automatisierte Erfassungspipeline zählen Data Factory, Functions und Logic Apps.</span><span class="sxs-lookup"><span data-stu-id="0389a-215">Options for an automated ingestion pipeline include Data Factory, Functions, and Logic Apps.</span></span> <span data-ttu-id="0389a-216">Je nach Datenspeichern und Schemas können Sie eine Kombination dieser Ansätze nutzen.</span><span class="sxs-lookup"><span data-stu-id="0389a-216">Depending on the data stores and the schemas, you might use a combination of these approaches.</span></span>

<span data-ttu-id="0389a-217">Bei den ersten Schritten ist es sinnvoll, Azure-Ressourcen manuell im Azure-Portal zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="0389a-217">As you get started, it's reasonable to use the Azure portal to manually create Azure resources.</span></span> <span data-ttu-id="0389a-218">Später sollten Sie erwägen, die Bereitstellung dieser Ressourcen zu automatisieren.</span><span class="sxs-lookup"><span data-stu-id="0389a-218">Later on, you should put more thought into automating the deployment of these resources.</span></span>

### <a name="core-bot-logic-and-ux"></a><span data-ttu-id="0389a-219">Kernlogik und Benutzererfahrung (User Experience, UX) des Bots</span><span class="sxs-lookup"><span data-stu-id="0389a-219">Core bot logic and UX</span></span>

<span data-ttu-id="0389a-220">Sobald Sie eine Spezifikation erstellt haben und über einige Daten verfügen, ist es an der Zeit, mit der Realisierung Ihres Bots zu beginnen.</span><span class="sxs-lookup"><span data-stu-id="0389a-220">Once you have a specification and some data, it's time to start making your bot into reality.</span></span> <span data-ttu-id="0389a-221">Konzentrieren wir uns auf die Kernlogik des Bots.</span><span class="sxs-lookup"><span data-stu-id="0389a-221">Let's focus on the core bot logic.</span></span> <span data-ttu-id="0389a-222">Hierbei handelt es sich um den Code, der die Konversation mit dem Benutzer verwaltet, einschließlich der Routinglogik, der Mehrdeutigkeitsvermeidungslogik und Protokollierung.</span><span class="sxs-lookup"><span data-stu-id="0389a-222">This is the code that handles the conversation with the user, including the routing logic, disambiguation logic, and logging.</span></span> <span data-ttu-id="0389a-223">Machen Sie sich zunächst mit [Bot Framework][bot-framework] und Folgendem vertraut:</span><span class="sxs-lookup"><span data-stu-id="0389a-223">Start by familiarizing yourself with the [Bot Framework][bot-framework], including:</span></span>

- <span data-ttu-id="0389a-224">Grundlegende Konzepte und Terminologie des Frameworks, insbesondere [Konversationen], [Turns] und [Aktivitäten]</span><span class="sxs-lookup"><span data-stu-id="0389a-224">Basic concepts and terminology used in the framework, especially [conversations], [turns], and [activities].</span></span>
- <span data-ttu-id="0389a-225">Dem [Bot-Connectordienst](/azure/bot-service/rest-api/bot-framework-rest-connector-quickstart), der die Netzwerkverbindung zwischen dem Bot und Ihren Kanälen verwaltet</span><span class="sxs-lookup"><span data-stu-id="0389a-225">The [Bot Connector service](/azure/bot-service/rest-api/bot-framework-rest-connector-quickstart), which handles the networking between the bot and your channels.</span></span>
- <span data-ttu-id="0389a-226">Der Beibehaltung des [Konversationszustands](/azure/bot-service/bot-builder-concept-state) im Arbeitsspeicher oder besser noch in einem Speicher wie Azure Blob Storage oder Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="0389a-226">How conversation [state](/azure/bot-service/bot-builder-concept-state) is maintained, either in memory or better yet in a store such as Azure Blob Storage or Azure Cosmos DB.</span></span>
- <span data-ttu-id="0389a-227">[Middleware](/azure/bot-service/bot-builder-basics#middleware) und deren Verwendung zum Verbinden Ihres Bots mit externen Diensten wie Cognitive Services</span><span class="sxs-lookup"><span data-stu-id="0389a-227">[Middleware](/azure/bot-service/bot-builder-basics#middleware), and how it can be used to hook up your bot with external services, such as Cognitive Services.</span></span>

<span data-ttu-id="0389a-228">Zum Bereitstellen einer umfassenden [Benutzererfahrung](/azure/bot-service/bot-service-design-user-experience) stehen zahlreiche Optionen zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="0389a-228">For a rich [user experience](/azure/bot-service/bot-service-design-user-experience), there are many options.</span></span>

- <span data-ttu-id="0389a-229">Sie können [Karten](/azure/bot-service/bot-service-design-user-experience#cards) verwenden, um Schaltflächen, Bilder, Karusselle und Menüs einzubinden.</span><span class="sxs-lookup"><span data-stu-id="0389a-229">You can use [cards](/azure/bot-service/bot-service-design-user-experience#cards) to include buttons, images, carousels, and menus.</span></span>
- <span data-ttu-id="0389a-230">Ein Bot kann die Spracherkennung unterstützen.</span><span class="sxs-lookup"><span data-stu-id="0389a-230">A bot can support speech.</span></span>
- <span data-ttu-id="0389a-231">Sie können Ihren Bot sogar in eine App oder Website einbetten und die Funktionen der hostenden App nutzen.</span><span class="sxs-lookup"><span data-stu-id="0389a-231">You can even embed your bot in an app or website and use the capabilities of the app hosting it.</span></span>

<span data-ttu-id="0389a-232">Zum Einstieg können Sie Ihren Bot online mit dem [Azure Bot Service](/azure/bot-service/bot-service-quickstart) anhand der verfügbaren C#- und Node.js-Vorlagen erstellen.</span><span class="sxs-lookup"><span data-stu-id="0389a-232">To get started, you can build your bot online using the [Azure Bot Service](/azure/bot-service/bot-service-quickstart), selecting from the available C# and Node.js templates.</span></span> <span data-ttu-id="0389a-233">Wenn Ihr Bot komplexer wird, müssen Sie ihn jedoch lokal erstellen und anschließend im Web bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="0389a-233">As your bot gets more sophisticated, however, you will need to create your bot locally then deploy it to the web.</span></span> <span data-ttu-id="0389a-234">Wählen Sie eine IDE wie Visual Studio oder Visual Studio Code und eine Programmiersprache aus.</span><span class="sxs-lookup"><span data-stu-id="0389a-234">Choose an IDE, such as Visual Studio or Visual Studio Code, and a programming language.</span></span> <span data-ttu-id="0389a-235">SDKs sind für folgende Programmiersprachen verfügbar:</span><span class="sxs-lookup"><span data-stu-id="0389a-235">SDKs are available for the following languages:</span></span>

- [<span data-ttu-id="0389a-236">C#</span><span class="sxs-lookup"><span data-stu-id="0389a-236">C#</span></span>](https://github.com/microsoft/botbuilder-dotnet)
- [<span data-ttu-id="0389a-237">JavaScript</span><span class="sxs-lookup"><span data-stu-id="0389a-237">JavaScript</span></span>](https://github.com/microsoft/botbuilder-js)
- <span data-ttu-id="0389a-238">[Java](https://github.com/microsoft/botbuilder-java) (Vorschauversion)</span><span class="sxs-lookup"><span data-stu-id="0389a-238">[Java](https://github.com/microsoft/botbuilder-java) (preview)</span></span>
- <span data-ttu-id="0389a-239">[Python](https://github.com/microsoft/botbuilder-python) (Vorschauversion)</span><span class="sxs-lookup"><span data-stu-id="0389a-239">[Python](https://github.com/microsoft/botbuilder-python) (preview)</span></span>

<span data-ttu-id="0389a-240">Als Startpunkt können Sie den Quellcode für den mit dem Azure Bot Service erstellten Bot herunterladen.</span><span class="sxs-lookup"><span data-stu-id="0389a-240">As a starting point, you can download the source code for the bot you created using the Azure Bot Service.</span></span> <span data-ttu-id="0389a-241">Es ist auch [Beispielcode](https://github.com/Microsoft/BotBuilder-Samples/blob/master/README.md) für verschiedene Bottypen verfügbar, von einfachen Echobots bis hin zu komplexeren, in verschiedene KI-Dienste integrierten Bots.</span><span class="sxs-lookup"><span data-stu-id="0389a-241">You can also find [sample code](https://github.com/Microsoft/BotBuilder-Samples/blob/master/README.md), from simple echo bots to more sophisticated bots that integrate with various AI services.</span></span>

### <a name="add-smarts-to-your-bot"></a><span data-ttu-id="0389a-242">Hinzufügen von intelligenten Funktionen zum Bot</span><span class="sxs-lookup"><span data-stu-id="0389a-242">Add smarts to your bot</span></span>

<span data-ttu-id="0389a-243">Bei einem einfachen Bot mit einer klar definierten Liste von Befehlen können Sie möglicherweise einen regelbasierten Ansatz verwenden, um die Benutzereingabe über RegEx zu analysieren.</span><span class="sxs-lookup"><span data-stu-id="0389a-243">For a simple bot with a well-defined list of commands, you might be able to use a rules-based approach to parse the user input via regex.</span></span> <span data-ttu-id="0389a-244">Dieser Ansatz hat den Vorteil, dass er deterministisch und verständlich ist.</span><span class="sxs-lookup"><span data-stu-id="0389a-244">This has the advantage of being deterministic and understandable.</span></span> <span data-ttu-id="0389a-245">Wenn Ihr Bot jedoch die Absichten und Entitäten in einer Nachricht in natürlicherer Sprache verstehen muss, können Sie auf KI-Dienste zurückgreifen.</span><span class="sxs-lookup"><span data-stu-id="0389a-245">However, when your bot needs to understand the intents and entities of a more natural-language message, there are AI services that can help.</span></span>

- <span data-ttu-id="0389a-246">LUIS wurde eigens dafür entwickelt, Absichten des Benutzers und Entitäten zu verstehen.</span><span class="sxs-lookup"><span data-stu-id="0389a-246">LUIS is specifically designed to understand user intents and entities.</span></span> <span data-ttu-id="0389a-247">LUIS wird mit einer mittelgroßen Sammlung von relevanten [Benutzereingaben](/azure/cognitive-services/luis/luis-concept-utterance) und gewünschten Antworten trainiert und gibt die Absichten und Entitäten für eine bestimmte Benutzernachricht zurück.</span><span class="sxs-lookup"><span data-stu-id="0389a-247">You train it with a moderately sized collection of relevant [user input](/azure/cognitive-services/luis/luis-concept-utterance) and desired responses, and it returns the intents and entities for a user's given message.</span></span>

- <span data-ttu-id="0389a-248">Azure Search kann zusammen mit LUIS eingesetzt werden.</span><span class="sxs-lookup"><span data-stu-id="0389a-248">Azure Search can work alongside LUIS.</span></span> <span data-ttu-id="0389a-249">Mithilfe von Search erstellen Sie durchsuchbare Indizes für alle relevanten Daten.</span><span class="sxs-lookup"><span data-stu-id="0389a-249">Using Search, you create searchable indexes over all relevant data.</span></span> <span data-ttu-id="0389a-250">Der Bot fragt diese Indizes für die von LUIS extrahierten Entitäten ab.</span><span class="sxs-lookup"><span data-stu-id="0389a-250">The bot queries these indexes for the entities extracted by LUIS.</span></span> <span data-ttu-id="0389a-251">Azure Search unterstützt auch [Synonyme][synonyms] und bietet dadurch die Möglichkeit, die Auswahl an korrekten Wortzuordnungen zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="0389a-251">Azure Search also supports [synonyms][synonyms], which can widen the net of correct word mappings.</span></span>

- <span data-ttu-id="0389a-252">QnA Maker ist ein weiterer Dienst, der Antworten für bestimmte Fragen zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="0389a-252">QnA Maker is another service that is designed to return answers for given questions.</span></span> <span data-ttu-id="0389a-253">Der Dienst wird in der Regel mit teilweise strukturierten Daten wie häufig gestellten Fragen trainiert.</span><span class="sxs-lookup"><span data-stu-id="0389a-253">It's typically trained over semi-structured data such as FAQs.</span></span>

<span data-ttu-id="0389a-254">Ihr Bot kann auch andere KI-Dienste nutzen, um die Benutzererfahrung zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="0389a-254">Your bot can use other AI services to further enrich the user experience.</span></span> <span data-ttu-id="0389a-255">Die [Cognitive Services-Suite vorgefertigter KI](https://azure.microsoft.com/en-us/services/cognitive-services/?v=18.44a)-Dienste (beinhaltet LUIS und QnA Maker) umfasst Dienste für Bildanalyse, Spracherkennung, Suche und Standorterkennung.</span><span class="sxs-lookup"><span data-stu-id="0389a-255">The [Cognitive Services suite of pre-built AI](https://azure.microsoft.com/en-us/services/cognitive-services/?v=18.44a) services (which includes LUIS and QnA Maker) has services for vision, speech, language, search, and location.</span></span> <span data-ttu-id="0389a-256">Sie können schnell Funktionen wie Sprachübersetzung, Rechtschreibprüfung, Stimmungsanalyse, optische Zeichenerkennung (Optical Character Recognition, OCR), Standorterkennung und Inhaltsmoderation hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="0389a-256">You can quickly add functionality such as language translation, spell checking, sentiment analysis, OCR, location awareness, and content moderation.</span></span> <span data-ttu-id="0389a-257">Diese Dienste können als Middlewaremodule in Ihrem Bot eingerichtet werden, um auf natürlichere und intelligentere Weise mit dem Benutzer zu interagieren.</span><span class="sxs-lookup"><span data-stu-id="0389a-257">These services can be wired up as middleware modules in your bot to interact more naturally and intelligently with the user.</span></span>

<span data-ttu-id="0389a-258">Eine weitere Option ist die Integration eines eigenen benutzerdefinierten KI-Diensts.</span><span class="sxs-lookup"><span data-stu-id="0389a-258">Another option is to integrate your own custom AI service.</span></span> <span data-ttu-id="0389a-259">Dieser Ansatz ist komplexer, bietet Ihnen jedoch vollständige Flexibilität in Bezug auf den Machine Learning-Algorithmus, das Training und das Modell.</span><span class="sxs-lookup"><span data-stu-id="0389a-259">This approach is more complex, but gives you complete flexibility in terms of the machine learning algorithm, training, and model.</span></span> <span data-ttu-id="0389a-260">Sie können beispielsweise Ihre eigene Themenmodellierung implementieren und einen Algorithmus wie [LDA][lda] verwenden, um nach ähnlichen oder relevanten Dokumenten zu suchen.</span><span class="sxs-lookup"><span data-stu-id="0389a-260">For example, you could implement your own topic modeling and use algorithm such as [LDA][lda] to find similar or relevant documents.</span></span> <span data-ttu-id="0389a-261">Ein guter Ansatz ist es, Ihre benutzerdefinierte KI-Lösung als Webdienstendpunkt verfügbar zu machen und den Endpunkt über die Kernlogik des Bots aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="0389a-261">A good approach is to expose your custom AI solution as a web service endpoint, and call the endpoint from the core bot logic.</span></span> <span data-ttu-id="0389a-262">Der Webdienst kann in App Service oder in einem VM-Cluster gehostet werden.</span><span class="sxs-lookup"><span data-stu-id="0389a-262">The web service could be hosted in App Service or in a cluster of VMs.</span></span> <span data-ttu-id="0389a-263">[Azure Machine Learning][aml] bietet eine Reihe von Diensten und Bibliotheken, die Sie beim [Trainieren](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/training) und [Bereitstellen](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/deployment) Ihrer Modelle unterstützen.</span><span class="sxs-lookup"><span data-stu-id="0389a-263">[Azure Machine Learning][aml] provides a number of services and libraries to assist you in [training](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/training) and [deploying](https://github.com/Azure/MachineLearningNotebooks/tree/master/how-to-use-azureml/deployment) your models.</span></span>

## <a name="quality-assurance-and-enhancement"></a><span data-ttu-id="0389a-264">Qualitätssicherung und Verbesserung</span><span class="sxs-lookup"><span data-stu-id="0389a-264">Quality assurance and enhancement</span></span>

<span data-ttu-id="0389a-265">**Protokollierung**:</span><span class="sxs-lookup"><span data-stu-id="0389a-265">**Logging**.</span></span> <span data-ttu-id="0389a-266">Protokollieren Sie Benutzerkonversationen mit dem Bot sowie die zugrunde liegenden Leistungsmetriken und etwaige Fehler.</span><span class="sxs-lookup"><span data-stu-id="0389a-266">Log user conversations with the bot, including the underlying performance metrics and any errors.</span></span> <span data-ttu-id="0389a-267">Diese Protokolle liefern wertvolle Informationen für das Debuggen von Problemen, Verstehen von Benutzerinteraktionen und Verbessern des Systems.</span><span class="sxs-lookup"><span data-stu-id="0389a-267">These logs will prove invaluable for debugging issues, understanding user interactions, and improving the system.</span></span> <span data-ttu-id="0389a-268">Für die unterschiedlichen Protokolltypen können verschiedene Datenspeicher zweckmäßig sein.</span><span class="sxs-lookup"><span data-stu-id="0389a-268">Different data stores might be appropriate for different types of logs.</span></span> <span data-ttu-id="0389a-269">Erwägen Sie beispielsweise die Verwendung von Application Insights für Webprotokolle, Cosmos DB für Konversationen und Azure Storage für große Nutzlasten.</span><span class="sxs-lookup"><span data-stu-id="0389a-269">For example, consider Application Insights for web logs, Cosmos DB for conversations, and Azure Storage for large payloads.</span></span> <span data-ttu-id="0389a-270">Weitere Informationen finden Sie unter [Direktes Schreiben in Azure Storage][transcript-storage].</span><span class="sxs-lookup"><span data-stu-id="0389a-270">See [Write directly to Azure Storage][transcript-storage].</span></span>

<span data-ttu-id="0389a-271">**Feedback**.</span><span class="sxs-lookup"><span data-stu-id="0389a-271">**Feedback**.</span></span> <span data-ttu-id="0389a-272">Zu wissen, wie zufrieden Benutzer mit ihren Botinteraktionen sind, ist ebenfalls wichtig.</span><span class="sxs-lookup"><span data-stu-id="0389a-272">It's also important to understand how satisfied users are with their bot interactions.</span></span> <span data-ttu-id="0389a-273">Wenn Sie einen Datensatz mit Benutzerfeedback haben, können Sie Ihre Aktivitäten mithilfe dieser Daten auf die Verbesserung bestimmter Interaktionen ausrichten und die KI-Modelle zum Verbessern der Leistung erneut trainieren.</span><span class="sxs-lookup"><span data-stu-id="0389a-273">If you have a record of user feedback, you can use this data to focus your efforts on improving certain interactions and retraining the AI models for improved performance.</span></span> <span data-ttu-id="0389a-274">Verwenden Sie das Feedback zum erneuten Trainieren der Modelle (z. B. LUIS) in Ihrem System.</span><span class="sxs-lookup"><span data-stu-id="0389a-274">Use the feedback to retrain the models, such as LUIS, in your system.</span></span>

<span data-ttu-id="0389a-275">**Testen**.</span><span class="sxs-lookup"><span data-stu-id="0389a-275">**Testing**.</span></span> <span data-ttu-id="0389a-276">Das Testen eines Bots umfasst Komponententests, Integrationstests, Regressionstests und Funktionstests.</span><span class="sxs-lookup"><span data-stu-id="0389a-276">Testing a bot involves unit tests, integration tests, regression tests, and functional tests.</span></span> <span data-ttu-id="0389a-277">Wir empfehlen, zum Testen echte HTTP-Antworten von externen Diensten wie Azure Search oder QnA Maker aufzuzeichnen. Diese Antworten können dann bei Komponententests wiedergegeben werden, ohne tatsächliche Netzwerkaufrufe an externe Dienste durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="0389a-277">For testing, we recommend recording real HTTP responses from external services, such as Azure Search or QnA Maker, so they can be played back during unit testing without needing to make real network calls to external services.</span></span>

>[!NOTE]
> <span data-ttu-id="0389a-278">Sehen Sie sich die [Botbuilder-Hilfsprogramme für JavaScript][git-repo-base] an, die Ihnen bei der Entwicklung in diesen Bereichen als Einstiegshilfe dienen.</span><span class="sxs-lookup"><span data-stu-id="0389a-278">To jump-start your development in these areas, look at the [Botbuilder Utils for JavaScript][git-repo-base].</span></span> <span data-ttu-id="0389a-279">Das Repository enthält Hilfsprogramm-Beispielcode für Bots, die mit [Microsoft Bot Framework v4][bot-framework] erstellt werden und Node.js ausführen.</span><span class="sxs-lookup"><span data-stu-id="0389a-279">This repo contains sample utility code for bots built with [Microsoft Bot Framework v4][bot-framework] and running Node.js.</span></span> <span data-ttu-id="0389a-280">Es enthält die folgenden Pakete:</span><span class="sxs-lookup"><span data-stu-id="0389a-280">It includes the following packages:</span></span>
>
> - <span data-ttu-id="0389a-281">[Cosmos DB-Protokollspeicher][cosmosdb-logger]:</span><span class="sxs-lookup"><span data-stu-id="0389a-281">[Cosmos DB Logging Store][cosmosdb-logger].</span></span> <span data-ttu-id="0389a-282">Zeigt, wie Botprotokolle in Cosmos DB gespeichert und abgefragt werden.</span><span class="sxs-lookup"><span data-stu-id="0389a-282">Shows how to store and query bot logs in Cosmos DB.</span></span>
> - <span data-ttu-id="0389a-283">[Application Insights-Protokollspeicher][appinsights-logger]:</span><span class="sxs-lookup"><span data-stu-id="0389a-283">[Application Insights Logging Store][appinsights-logger].</span></span> <span data-ttu-id="0389a-284">Zeigt, wie Botprotokolle in Application Insights gespeichert und abgefragt werden.</span><span class="sxs-lookup"><span data-stu-id="0389a-284">Shows how to store and query bot logs in Application Insights.</span></span>
> - <span data-ttu-id="0389a-285">[Feedback Collection Middleware][feedback-util] (Middleware zur Feedbackerfassung):</span><span class="sxs-lookup"><span data-stu-id="0389a-285">[Feedback Collection Middleware][feedback-util].</span></span> <span data-ttu-id="0389a-286">Beispielmiddleware mit einem Mechanismus zum Anfordern von Feedback von Botbenutzern.</span><span class="sxs-lookup"><span data-stu-id="0389a-286">Sample middleware that provides a bot user feedback-request mechanism.</span></span>
> - <span data-ttu-id="0389a-287">[Http Test Recorder][testing util] (HTTP-Testaufzeichnung):</span><span class="sxs-lookup"><span data-stu-id="0389a-287">[Http Test Recorder][testing util].</span></span> <span data-ttu-id="0389a-288">Zeichnet HTTP-Datenverkehr von Diensten auf, die außerhalb des Bots verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="0389a-288">Records HTTP traffic from services external to the bot.</span></span> <span data-ttu-id="0389a-289">Das Paket umfasst vordefinierte Unterstützung für LUIS, Azure Search und QnAMaker, es sind jedoch Erweiterungen zur Unterstützung beliebiger Dienste verfügbar.</span><span class="sxs-lookup"><span data-stu-id="0389a-289">It comes pre-built with support for LUIS, Azure Search, and QnAMaker, but extensions are available to support any service.</span></span> <span data-ttu-id="0389a-290">Dies dient Ihnen als Hilfe beim Automatisieren von Bot-Tests.</span><span class="sxs-lookup"><span data-stu-id="0389a-290">This helps you automate bot testing.</span></span>
>
> <span data-ttu-id="0389a-291">Diese Pakete werden als Hilfsprogramm-Beispielcode ohne Garantie hinsichtlich Support oder Updates bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="0389a-291">These packages are provided as utility sample code, and come with no guarantee of support or updates.</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="0389a-292">Überlegungen zur Verfügbarkeit</span><span class="sxs-lookup"><span data-stu-id="0389a-292">Availability considerations</span></span>

<span data-ttu-id="0389a-293">Wenn Sie neue Features oder Fehlerbehebungen für Ihren Bot einführen, empfiehlt sich die Verwendung mehrerer Bereitstellungsumgebungen (z. B. Staging und Produktion).</span><span class="sxs-lookup"><span data-stu-id="0389a-293">As you roll out new features or bug fixes to your bot, it's best to use multiple deployment environments, such as staging and production.</span></span> <span data-ttu-id="0389a-294">Mithilfe der [Bereitstellungsslots][slots] von [Azure DevOps][devops] ist dies ohne Downtime möglich.</span><span class="sxs-lookup"><span data-stu-id="0389a-294">Using deployment [slots][slots] from [Azure DevOps][devops] allows you to do this with zero downtime.</span></span> <span data-ttu-id="0389a-295">Sie können Ihre neuesten Aktualisierungen in der Stagingumgebung testen, bevor Sie sie in der Produktionsumgebung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="0389a-295">You can test your latest upgrades in the staging environment before swapping them to the production environment.</span></span> <span data-ttu-id="0389a-296">In Bezug auf die Verarbeitung der Last ist App Service für manuelles oder automatisches zentrales Hochskalieren konzipiert.</span><span class="sxs-lookup"><span data-stu-id="0389a-296">In terms of handling load, App Service is designed to scale up or out manually or automatically.</span></span> <span data-ttu-id="0389a-297">Da Ihr Bot in der globalen Rechenzentrumsinfrastruktur von Microsoft gehostet wird, garantiert die App Service-SLA Hochverfügbarkeit.</span><span class="sxs-lookup"><span data-stu-id="0389a-297">Because your bot is hosted in Microsoft's global datacenter infrastructure, the App Service SLA promises high availability.</span></span>

## <a name="security-considerations"></a><span data-ttu-id="0389a-298">Sicherheitshinweise</span><span class="sxs-lookup"><span data-stu-id="0389a-298">Security considerations</span></span>

<span data-ttu-id="0389a-299">Wie jede andere Anwendung kann der Bot sensible Daten verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="0389a-299">As with any other application, the bot can be designed to handle sensitive data.</span></span> <span data-ttu-id="0389a-300">Daher müssen die Benutzer, die sich anmelden und den Bot nutzen können, eingeschränkt werden.</span><span class="sxs-lookup"><span data-stu-id="0389a-300">Therefore, restrict who can sign in and use the bot.</span></span> <span data-ttu-id="0389a-301">Schränken Sie auch die Daten, auf die zugegriffen werden kann, basierend auf der Identität oder Rolle des Benutzers ein.</span><span class="sxs-lookup"><span data-stu-id="0389a-301">Also limit which data can be accessed, based on the user's identity or role.</span></span> <span data-ttu-id="0389a-302">Verwenden Sie Azure AD für die Identitäts- und Zugriffsteuerung und Key Vault zum Verwalten von Schlüsseln und Geheimnissen.</span><span class="sxs-lookup"><span data-stu-id="0389a-302">Use Azure AD for identity and access control and Key Vault to manage keys and secrets.</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="0389a-303">Überlegungen zur Verwaltbarkeit</span><span class="sxs-lookup"><span data-stu-id="0389a-303">Manageability considerations</span></span>

### <a name="monitoring-and-reporting"></a><span data-ttu-id="0389a-304">Überwachung und Berichterstellung</span><span class="sxs-lookup"><span data-stu-id="0389a-304">Monitoring and reporting</span></span>

<span data-ttu-id="0389a-305">Wenn Ihr Bot in der Produktionsumgebung ausgeführt wird, benötigen Sie ein DevOps-Team, das für eine gleichbleibend hohe Leistung und einen unterbrechungsfreien Betrieb des Bots sorgt.</span><span class="sxs-lookup"><span data-stu-id="0389a-305">Once your bot is running in production, you will need a DevOps team to keep it that way.</span></span> <span data-ttu-id="0389a-306">Überwachen Sie das System lückenlos, um sicherzustellen, dass der Bot mit optimaler Leistung arbeitet.</span><span class="sxs-lookup"><span data-stu-id="0389a-306">Continually monitor the system to ensure the bot operates at peak performance.</span></span> <span data-ttu-id="0389a-307">Verwenden Sie die an Application Insights oder Cosmos DB gesendeten Protokolle, um mithilfe von Application Insights selbst oder mit Power BI Überwachungsdashboards oder ein benutzerdefiniertes Web-App-Dashboard zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="0389a-307">Use the logs sent to Application Insights or Cosmos DB to create monitoring dashboards, either using Application Insights itself, Power BI, or a custom web app dashboard.</span></span> <span data-ttu-id="0389a-308">Senden Sie Benachrichtigungen an das DevOps-Team, wenn schwerwiegende Fehler auftreten oder die Leistung unter einen akzeptablen Schwellenwert fällt.</span><span class="sxs-lookup"><span data-stu-id="0389a-308">Send alerts to the DevOps team if critical errors occur or performance falls below an acceptable threshold.</span></span>

### <a name="automated-resource-deployment"></a><span data-ttu-id="0389a-309">Automatisierte Bereitstellung von Ressourcen</span><span class="sxs-lookup"><span data-stu-id="0389a-309">Automated resource deployment</span></span>

<span data-ttu-id="0389a-310">Der Bot selbst ist nur ein Teil eines größeren Systems, das den Bot mit den neuesten Daten versorgt und seinen ordnungsgemäßen Betrieb sicherstellt.</span><span class="sxs-lookup"><span data-stu-id="0389a-310">The bot itself is only part of a larger system that provides it with the latest data and ensures its proper operation.</span></span> <span data-ttu-id="0389a-311">All diese anderen Azure-Ressourcen &mdash; Datenorchestrierungsdienste wie Data Factory, Speicherdienste wie Cosmos DB usw. &mdash; müssen bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="0389a-311">All of these other Azure resources &mdash; data orchestration services such as Data Factory, storage services such as Cosmos DB, and so forth &mdash; must be deployed.</span></span> <span data-ttu-id="0389a-312">Azure Resource Manager bietet eine einheitliche Verwaltungsebene, auf die Sie über das Azure-Portal, PowerShell oder die Azure-Befehlszeilenschnittstelle (Azure CLI) zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="0389a-312">Azure Resource Manager provides a consistent management layer that you can access through the Azure portal, PowerShell, or the Azure CLI.</span></span> <span data-ttu-id="0389a-313">Aus Gründen der Geschwindigkeit und Konsistenz empfiehlt es sich, die Bereitstellung mit einem dieser Ansätze zu automatisieren.</span><span class="sxs-lookup"><span data-stu-id="0389a-313">For speed and consistency, it's best to automate your deployment using one of these approaches.</span></span>

### <a name="continuous-bot-deployment"></a><span data-ttu-id="0389a-314">Kontinuierliche Botbereitstellung</span><span class="sxs-lookup"><span data-stu-id="0389a-314">Continuous bot deployment</span></span>

<span data-ttu-id="0389a-315">Sie können die Botlogik direkt über die IDE oder über eine Befehlszeile wie die Azure CLI bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="0389a-315">You can deploy the bot logic directly from your IDE or from a command line, such as the Azure CLI.</span></span> <span data-ttu-id="0389a-316">Bei fortschreitender Entwicklung Ihres Bots empfiehlt es sich jedoch, einen kontinuierlichen Bereitstellungsprozess mit einer CI/CD-Lösung wie Azure DevOps zu verwenden. Informationen dazu finden Sie im Artikel zum [Einrichten von Continuous Deployment](/azure/bot-service/bot-service-build-continuous-deployment).</span><span class="sxs-lookup"><span data-stu-id="0389a-316">As your bot matures, however, it's best to use a continual deployment process using a CI/CD solution such as Azure DevOps, as described in the article [Set up continuous deployment](/azure/bot-service/bot-service-build-continuous-deployment).</span></span> <span data-ttu-id="0389a-317">Auf diese Weise können Sie das Testen neuer Features und Fehlerbehebungen in Ihrem Bot in einer produktionsnahen Umgebung vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="0389a-317">This is a good way to ease the friction in testing new features and fixes in your bot in a near-production environment.</span></span> <span data-ttu-id="0389a-318">Es empfiehlt sich auch, mit mehreren Bereitstellungsumgebungen zu arbeiten (in der Regel mindestens eine Stagingumgebung und eine Produktionsumgebung).</span><span class="sxs-lookup"><span data-stu-id="0389a-318">It's also a good idea to have multiple deployment environments, typically at least staging and production.</span></span> <span data-ttu-id="0389a-319">Azure DevOps unterstützt diesen Ansatz.</span><span class="sxs-lookup"><span data-stu-id="0389a-319">Azure DevOps supports this approach.</span></span>

<!-- links -->

[0]: ./_images/conversational-bot.png
[aad]: /azure/active-directory/
[Aktivitäten]: /azure/bot-service/rest-api/bot-framework-rest-connector-activities
[activities]: /azure/bot-service/rest-api/bot-framework-rest-connector-activities
[aml]: /azure/machine-learning/service/
[app-insights]: /azure/azure-monitor/app/app-insights-overview
[app-service]: /azure/app-service/
[blob]: /azure/storage/blobs/storage-blobs-introduction
[bot-authentication]: /azure/bot-service/bot-builder-authentication
[bot-framework]: https://dev.botframework.com/
[bot-framework-service]: /azure/bot-service/bot-builder-basics
[cognitive-services]: /azure/cognitive-services/welcome
[Konversationen]: /azure/bot-service/bot-service-design-conversation-flow
[conversations]: /azure/bot-service/bot-service-design-conversation-flow
[cosmosdb]: /azure/cosmos-db/
[data-factory]: /azure/data-factory/
[data-factory-ref-arch]: ../data/enterprise-bi-adf.md
[devops]: https://azure.microsoft.com/solutions/devops/
[functions]: /azure/azure-functions/
[functions-triggers]: /azure/azure-functions/functions-triggers-bindings
[git-repo-appinsights-logger]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-transcript-app-insights
[git-repo-base]: https://github.com/Microsoft/botbuilder-utils-js
[git-repo-cosmosdb-logger]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-transcript-cosmosdb
[git-repo-feedback-util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-feedback
[git-repo-testing-util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-http-test-recorder
[testing-util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-http-test-recorder
[key-vault]: /azure/key-vault/
[lda]: https://wikipedia.org/wiki/Latent_Dirichlet_allocation/
[logic-apps]: /azure/logic-apps/logic-apps-overview
[luis]: /azure/cognitive-services/luis/
[power-bi]: /power-bi/
[qna-maker]: /azure/cognitive-services/QnAMaker/
[search]: /azure/search/
[slots]: /azure/app-service/deploy-staging-slots/
[synonyms]: /azure/search/search-synonyms
[transcript-storage]: /azure/bot-service/bot-builder-howto-v4-storage
[Turns]: /azure/bot-service/bot-builder-basics#defining-a-turn
[turns]: /azure/bot-service/bot-builder-basics#defining-a-turn
[vscode]: https://azure.microsoft.com/products/visual-studio-code/
[webapp]: /azure/app-service/overview
[webchat]: /azure/bot-service/bot-service-channel-connect-webchat?view=azure-bot-service-4.0/

[cosmosdb-logger]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-transcript-cosmosdb
[appinsights-logger]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-transcript-app-insights
[feedback-util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-feedback
[testing util]: https://github.com/Microsoft/botbuilder-utils-js/tree/master/packages/botbuilder-http-test-recorder

