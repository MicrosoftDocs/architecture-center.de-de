---
title: "Ausführen einer SharePoint Server 2016-Hochverfügbarkeitsfarm in Azure"
description: "Enthält eine Beschreibung der bewährten Methoden zum Einrichten einer SharePoint Server 2016-Hochverfügbarkeitsfarm in Azure."
author: njray
ms.date: 08/01/2017
ms.openlocfilehash: d16f8721c6edc8e5049766f13e2d3bc59524453f
ms.sourcegitcommit: 3d9ee03e2dda23753661a80c7106d1789f5223bb
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 02/23/2018
---
# <a name="run-a-high-availability-sharepoint-server-2016-farm-in-azure"></a><span data-ttu-id="15983-103">Ausführen einer SharePoint Server 2016-Hochverfügbarkeitsfarm in Azure</span><span class="sxs-lookup"><span data-stu-id="15983-103">Run a high availability SharePoint Server 2016 farm in Azure</span></span>

<span data-ttu-id="15983-104">In dieser Referenzarchitektur wird eine Reihe von bewährten Methoden zum Einrichten einer SharePoint Server 2016-Hochverfügbarkeitsfarm in Azure veranschaulicht, indem die MinRole-Topologie und SQL Server Always On-Verfügbarkeitsgruppen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="15983-104">This reference architecture shows a set of proven practices for setting up a high availability SharePoint Server 2016 farm on Azure, using MinRole topology and SQL Server Always On availability groups.</span></span> <span data-ttu-id="15983-105">Die SharePoint-Farm wird in einem geschützten virtuellen Netzwerk ohne Internetendpunkt bzw. -präsenz bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="15983-105">The SharePoint farm is deployed in a secured virtual network with no Internet-facing endpoint or presence.</span></span> [<span data-ttu-id="15983-106">**So stellen Sie diese Lösung bereit**.</span><span class="sxs-lookup"><span data-stu-id="15983-106">**Deploy this solution**.</span></span>](#deploy-the-solution) 

![](./images/sharepoint-ha.png)

<span data-ttu-id="15983-107">*Laden Sie eine [Visio-Datei][visio-download] mit dieser Architektur herunter.*</span><span class="sxs-lookup"><span data-stu-id="15983-107">*Download a [Visio file][visio-download] of this architecture.*</span></span>

## <a name="architecture"></a><span data-ttu-id="15983-108">Architecture</span><span class="sxs-lookup"><span data-stu-id="15983-108">Architecture</span></span>

<span data-ttu-id="15983-109">Diese Architektur baut auf der Architektur auf, die unter [Run Windows VMs for an N-tier application][windows-n-tier] (Ausführen von Windows-VMs für eine n-schichtige Anwendung) dargestellt ist.</span><span class="sxs-lookup"><span data-stu-id="15983-109">This architecture builds on the one shown in [Run Windows VMs for an N-tier application][windows-n-tier].</span></span> <span data-ttu-id="15983-110">Eine SharePoint Server 2016-Hochverfügbarkeitsfarm wird in einem virtuellen Azure-Netzwerk (VNet) bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="15983-110">It deploys a SharePoint Server 2016 farm with high availability inside an Azure virtual network (VNet).</span></span> <span data-ttu-id="15983-111">Diese Architektur ist für eine Test- oder Produktionsumgebung, eine SharePoint-Hybridinfrastruktur mit Office 365 oder als Basis für ein Szenario für die Notfallwiederherstellung geeignet.</span><span class="sxs-lookup"><span data-stu-id="15983-111">This architecture is suitable for a test or production environment, a SharePoint hybrid infrastructure with Office 365, or as the basis for a disaster recovery scenario.</span></span>

<span data-ttu-id="15983-112">Die Architektur umfasst die folgenden Komponenten:</span><span class="sxs-lookup"><span data-stu-id="15983-112">The architecture consists of the following components:</span></span>

- <span data-ttu-id="15983-113">**Ressourcengruppen**:</span><span class="sxs-lookup"><span data-stu-id="15983-113">**Resource groups**.</span></span> <span data-ttu-id="15983-114">Eine [Ressourcengruppe][resource-group] ist ein Container, der verwandte Azure-Ressourcen enthält.</span><span class="sxs-lookup"><span data-stu-id="15983-114">A [resource group][resource-group] is a container that holds related Azure resources.</span></span> <span data-ttu-id="15983-115">Eine Ressourcengruppe wird für die SharePoint-Server verwendet, und eine andere Ressourcengruppe wird für Infrastrukturkomponenten genutzt, die unabhängig von VMs sind, z.B. das virtuelle Netzwerk und Lastenausgleichsmodule.</span><span class="sxs-lookup"><span data-stu-id="15983-115">One resource group is used for the SharePoint servers, and another resource group is used for infrastructure components that are independent of VMs, such as the virtual network and load balancers.</span></span>

- <span data-ttu-id="15983-116">**Virtuelles Netzwerk (VNET)**.</span><span class="sxs-lookup"><span data-stu-id="15983-116">**Virtual network (VNet)**.</span></span> <span data-ttu-id="15983-117">Die VMs werden in einem VNet mit einem eindeutigen Intranetadressraum bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="15983-117">The VMs are deployed in a VNet with a unique intranet address space.</span></span> <span data-ttu-id="15983-118">Das VNet ist in Subnetze unterteilt.</span><span class="sxs-lookup"><span data-stu-id="15983-118">The VNet is further subdivided into subnets.</span></span> 

- <span data-ttu-id="15983-119">**Virtuelle Computer (Virtual Machines, VMs)**:</span><span class="sxs-lookup"><span data-stu-id="15983-119">**Virtual machines (VMs)**.</span></span> <span data-ttu-id="15983-120">Die VMs werden im VNet bereitgestellt, und private statische IP-Adressen werden allen VMs zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="15983-120">The VMs are deployed into the VNet, and private static IP addresses are assigned to all of the VMs.</span></span> <span data-ttu-id="15983-121">Statische IP-Adressen sind für die VMs zu empfehlen, auf denen SQL Server und SharePoint Server 2016 ausgeführt werden, um Probleme mit der Zwischenspeicherung von IP-Adressen und Adressänderungen nach einem Neustart zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="15983-121">Static IP addresses are recommended for the VMs running SQL Server and SharePoint Server 2016, to avoid issues with IP address caching and changes of addresses after a restart.</span></span>

- <span data-ttu-id="15983-122">**Verfügbarkeitsgruppen**:</span><span class="sxs-lookup"><span data-stu-id="15983-122">**Availability sets**.</span></span> <span data-ttu-id="15983-123">Ordnen Sie die VMs für jede SharePoint-Rolle in separaten [Verfügbarkeitsgruppen][availability-set] an, und stellen Sie mindestens zwei virtuelle Computer (VMs) für jede Rolle bereit.</span><span class="sxs-lookup"><span data-stu-id="15983-123">Place the VMs for each SharePoint role into separate [availability sets][availability-set], and provision at least two virtual machines (VMs) for each role.</span></span> <span data-ttu-id="15983-124">Auf diese Weise können die VMs für eine höhere Vereinbarung zum Servicelevel (SLA) genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="15983-124">This makes the VMs eligible for a higher service level agreement (SLA).</span></span> 

- <span data-ttu-id="15983-125">**Interner Load Balancer**.</span><span class="sxs-lookup"><span data-stu-id="15983-125">**Internal load balancer**.</span></span> <span data-ttu-id="15983-126">Über den [Lastenausgleich][load-balancer] wird Datenverkehr in Form von SharePoint-Anforderungen aus dem lokalen Netzwerk auf die Front-End-Webserver der SharePoint-Farm verteilt.</span><span class="sxs-lookup"><span data-stu-id="15983-126">The [load balancer][load-balancer] distributes SharePoint request traffic from the on-premises network to the front-end web servers of the SharePoint farm.</span></span> 

- <span data-ttu-id="15983-127">**Netzwerksicherheitsgruppen (NSGs)**:</span><span class="sxs-lookup"><span data-stu-id="15983-127">**Network security groups (NSGs)**.</span></span> <span data-ttu-id="15983-128">Für jedes Subnetz, das virtuelle Computer enthält, wird eine [Netzwerksicherheitsgruppe][nsg] erstellt.</span><span class="sxs-lookup"><span data-stu-id="15983-128">For each subnet that contains virtual machines, a [network security group][nsg] is created.</span></span> <span data-ttu-id="15983-129">Verwenden Sie NSGs zum Beschränken von Netzwerkdatenverkehr im VNet, um Subnetze zu isolieren.</span><span class="sxs-lookup"><span data-stu-id="15983-129">Use NSGs to restrict network traffic within the VNet, in order to isolate subnets.</span></span> 

- <span data-ttu-id="15983-130">**Gateway**:</span><span class="sxs-lookup"><span data-stu-id="15983-130">**Gateway**.</span></span> <span data-ttu-id="15983-131">Das Gateway stellt eine Verbindung zwischen Ihrem lokalen Netzwerk und dem virtuellen Azure-Netzwerk her.</span><span class="sxs-lookup"><span data-stu-id="15983-131">The gateway provides a connection between your on-premises network and the Azure virtual network.</span></span> <span data-ttu-id="15983-132">Hierfür kann eine ExpressRoute- oder eine Site-to-Site-VPN-Verbindung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="15983-132">Your connection can use ExpressRoute or site-to-site VPN.</span></span> <span data-ttu-id="15983-133">Weitere Informationen finden Sie unter [Connect an on-premises network to Azure][hybrid-ra] (Verbinden eines lokalen Netzwerks mit Azure).</span><span class="sxs-lookup"><span data-stu-id="15983-133">For more information, see [Connect an on-premises network to Azure][hybrid-ra].</span></span>

- <span data-ttu-id="15983-134">**Windows Server Active Directory-Domänencontroller**:</span><span class="sxs-lookup"><span data-stu-id="15983-134">**Windows Server Active Directory (AD) domain controllers**.</span></span> <span data-ttu-id="15983-135">Da SharePoint Server 2016 die Verwendung von Azure Active Directory Domain Services nicht unterstützt, müssen Sie Windows Server AD-Domänencontroller bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="15983-135">Because SharePoint Server 2016 does not support using Azure Active Directory Domain Services, you must deploy Windows Server AD domain controllers.</span></span> <span data-ttu-id="15983-136">Diese Domänencontroller werden im Azure VNet ausgeführt und verfügen über eine Vertrauensstellung mit der lokalen Windows Server AD-Gesamtstruktur.</span><span class="sxs-lookup"><span data-stu-id="15983-136">These domain controllers run in the Azure VNet and have a trust relationship with the on-premises Windows Server AD forest.</span></span> <span data-ttu-id="15983-137">Clientwebanforderungen für Ressourcen von SharePoint-Farmen werden im VNet authentifiziert, anstatt den Datenverkehr des Authentifizierungsvorgangs über die Gatewayverbindung an das lokale Netzwerk zu senden.</span><span class="sxs-lookup"><span data-stu-id="15983-137">Client web requests for SharePoint farm resources are authenticated in the VNet rather than sending that authentication traffic across the gateway connection to the on-premises network.</span></span> <span data-ttu-id="15983-138">In DNS werden A- oder CNAME-Intraneteinträge erstellt, damit Intranetbenutzer den Namen der SharePoint-Farm in die private IP-Adresse des internen Lastenausgleichs auflösen können.</span><span class="sxs-lookup"><span data-stu-id="15983-138">In DNS, intranet A or CNAME records are created so that intranet users can resolve the name of the SharePoint farm to the private IP address of the internal load balancer.</span></span>

- <span data-ttu-id="15983-139">**SQL Server Always On-Verfügbarkeitsgruppe**:</span><span class="sxs-lookup"><span data-stu-id="15983-139">**SQL Server Always On Availability Group**.</span></span> <span data-ttu-id="15983-140">Wir empfehlen die Verwendung von [SQL Server Always On-Verfügbarkeitsgruppen][sql-always-on], um für die SQL Server-Datenbank Hochverfügbarkeit zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="15983-140">For high availability of the SQL Server database, we recommend [SQL Server Always On Availability Groups][sql-always-on].</span></span> <span data-ttu-id="15983-141">Zwei virtuelle Computer werden für SQL Server verwendet.</span><span class="sxs-lookup"><span data-stu-id="15983-141">Two virtual machines are used for SQL Server.</span></span> <span data-ttu-id="15983-142">Einer enthält das primäre Datenbankreplikat, und der andere enthält das sekundäre Replikat.</span><span class="sxs-lookup"><span data-stu-id="15983-142">One contains the primary database replica and the other contains the secondary replica.</span></span> 

- <span data-ttu-id="15983-143">**Hauptknoten-VM**:</span><span class="sxs-lookup"><span data-stu-id="15983-143">**Majority node VM**.</span></span> <span data-ttu-id="15983-144">Mit dieser VM kann der Failovercluster ein Quorum festlegen.</span><span class="sxs-lookup"><span data-stu-id="15983-144">This VM allows the failover cluster to establish quorum.</span></span> <span data-ttu-id="15983-145">Weitere Informationen finden Sie unter [Grundlegendes zu Quorumkonfigurationen in einem Failovercluster][sql-quorum].</span><span class="sxs-lookup"><span data-stu-id="15983-145">For more information, see [Understanding Quorum Configurations in a Failover Cluster][sql-quorum].</span></span>

- <span data-ttu-id="15983-146">**SharePoint-Server**:</span><span class="sxs-lookup"><span data-stu-id="15983-146">**SharePoint servers**.</span></span> <span data-ttu-id="15983-147">Die SharePoint-Server übernehmen die Rollen für Web-Front-End, Caching, Anwendung und Suche.</span><span class="sxs-lookup"><span data-stu-id="15983-147">The SharePoint servers perform the web front-end, caching, application, and search roles.</span></span> 

- <span data-ttu-id="15983-148">**Jumpbox**:</span><span class="sxs-lookup"><span data-stu-id="15983-148">**Jumpbox**.</span></span> <span data-ttu-id="15983-149">Wird auch als [geschützter Host][bastion-host] bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="15983-149">Also called a [bastion host][bastion-host].</span></span> <span data-ttu-id="15983-150">Dies ist eine geschützte VM im Netzwerk, die von Administratoren zum Herstellen der Verbindung mit anderen VMs verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="15983-150">This is a secure VM on the network that administrators use to connect to the other VMs.</span></span> <span data-ttu-id="15983-151">Die Jumpbox verfügt über eine NSG, bei der Remotedatenverkehr nur von öffentlichen IP-Adressen zugelassen wird, die in einer Liste mit sicheren Adressen enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="15983-151">The jumpbox has an NSG that allows remote traffic only from public IP addresses on a safe list.</span></span> <span data-ttu-id="15983-152">Die NSG sollte Remotedesktop-Datenverkehr (RDP) zulassen.</span><span class="sxs-lookup"><span data-stu-id="15983-152">The NSG should permit remote desktop (RDP) traffic.</span></span>

## <a name="recommendations"></a><span data-ttu-id="15983-153">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="15983-153">Recommendations</span></span>

<span data-ttu-id="15983-154">Ihre Anforderungen können von der hier beschriebenen Architektur abweichen.</span><span class="sxs-lookup"><span data-stu-id="15983-154">Your requirements might differ from the architecture described here.</span></span> <span data-ttu-id="15983-155">Verwenden Sie diese Empfehlungen als Startpunkt.</span><span class="sxs-lookup"><span data-stu-id="15983-155">Use these recommendations as a starting point.</span></span>

### <a name="resource-group-recommendations"></a><span data-ttu-id="15983-156">Empfehlungen für Ressourcengruppen</span><span class="sxs-lookup"><span data-stu-id="15983-156">Resource group recommendations</span></span>

<span data-ttu-id="15983-157">Wir empfehlen Ihnen, Ressourcengruppen nach der Serverrolle zu trennen und eine separate Ressourcengruppe für Infrastrukturkomponenten zu verwenden, bei denen es sich um globale Ressourcen handelt.</span><span class="sxs-lookup"><span data-stu-id="15983-157">We recommend separating resource groups according to the server role, and having a separate resource group for infrastructure components that are global resources.</span></span> <span data-ttu-id="15983-158">Bei dieser Architektur bilden die SharePoint-Ressourcen eine Gruppe und SQL Server und andere Hilfsprogrammobjekte die andere Gruppe.</span><span class="sxs-lookup"><span data-stu-id="15983-158">In this architecture, the SharePoint resources form one group, while the SQL Server and other utility assets form another.</span></span>

### <a name="virtual-network-and-subnet-recommendations"></a><span data-ttu-id="15983-159">Empfehlungen für virtuelle Netzwerke und Subnetze</span><span class="sxs-lookup"><span data-stu-id="15983-159">Virtual network and subnet recommendations</span></span>

<span data-ttu-id="15983-160">Verwenden Sie ein Subnetz für jede SharePoint-Rolle sowie zusätzlich jeweils ein Subnetz für das Gateway und für die Jumpbox.</span><span class="sxs-lookup"><span data-stu-id="15983-160">Use one subnet for each SharePoint role, plus a subnet for the gateway and one for the jumpbox.</span></span> 

<span data-ttu-id="15983-161">Das Gatewaysubnetz muss den Namen *GatewaySubnet* haben.</span><span class="sxs-lookup"><span data-stu-id="15983-161">The gateway subnet must be named *GatewaySubnet*.</span></span> <span data-ttu-id="15983-162">Weisen Sie den Gatewaysubnetz-Adressraum basierend auf dem letzten Teil des VNet-Adressraums zu.</span><span class="sxs-lookup"><span data-stu-id="15983-162">Assign the gateway subnet address space from the last part of the virtual network address space.</span></span> <span data-ttu-id="15983-163">Weitere Informationen finden Sie unter [Connect an on-premises network to Azure using a VPN gateway][hybrid-vpn-ra] (Verbinden eines lokalen Netzwerks mit Azure per VPN Gateway).</span><span class="sxs-lookup"><span data-stu-id="15983-163">For more information, see [Connect an on-premises network to Azure using a VPN gateway][hybrid-vpn-ra].</span></span>

### <a name="vm-recommendations"></a><span data-ttu-id="15983-164">Empfehlungen für virtuelle Computer</span><span class="sxs-lookup"><span data-stu-id="15983-164">VM recommendations</span></span>

<span data-ttu-id="15983-165">Für VM-Größen vom Typ „Standard DSv2“ sind für diese Architektur mindestens 38 Kerne erforderlich:</span><span class="sxs-lookup"><span data-stu-id="15983-165">Based on Standard DSv2 virtual machine sizes, this architecture requires a minimum of 38 cores:</span></span>

- <span data-ttu-id="15983-166">8 SharePoint-Server mit Standard_DS3_v2 (jeweils vier Kerne) = 32 Kerne</span><span class="sxs-lookup"><span data-stu-id="15983-166">8 SharePoint servers on Standard_DS3_v2 (4 cores each) = 32 cores</span></span>
- <span data-ttu-id="15983-167">2 Active Directory-Domänencontroller mit Standard_DS1_v2 (jeweils ein Kern) = 2 Kerne</span><span class="sxs-lookup"><span data-stu-id="15983-167">2 Active Directory domain controllers on Standard_DS1_v2 (1 core each) = 2 cores</span></span>
- <span data-ttu-id="15983-168">2 SQL Server-VMs mit Standard_DS1_v2 = 2 Kerne</span><span class="sxs-lookup"><span data-stu-id="15983-168">2 SQL Server VMs on Standard_DS1_v2 = 2 cores</span></span>
- <span data-ttu-id="15983-169">1 Hauptknoten mit Standard_DS1_v2 = 1 Kern</span><span class="sxs-lookup"><span data-stu-id="15983-169">1 majority node on Standard_DS1_v2 = 1 core</span></span>
- <span data-ttu-id="15983-170">1 Verwaltungsserver mit Standard_DS1_v2 = 1 Kern</span><span class="sxs-lookup"><span data-stu-id="15983-170">1 management server on Standard_DS1_v2 = 1 core</span></span>

<span data-ttu-id="15983-171">Die Gesamtzahl von Kernen richtet sich nach den VM-Größen, die Sie wählen.</span><span class="sxs-lookup"><span data-stu-id="15983-171">The total number of cores will depend on the VM sizes that you select.</span></span> <span data-ttu-id="15983-172">Weitere Informationen finden Sie in diesem Artikel unter [SharePoint Server-Empfehlungen](#sharepoint-server-recommendations).</span><span class="sxs-lookup"><span data-stu-id="15983-172">For more information, see [SharePoint Server recommendations](#sharepoint-server-recommendations) below.</span></span>

<span data-ttu-id="15983-173">Stellen Sie sicher, dass Ihr Azure-Abonnement ein ausreichendes Kontingent von VM-Kernen für die Bereitstellung aufweist, da bei der Bereitstellung sonst ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="15983-173">Make sure your Azure subscription has enough VM core quota for the deployment, or the deployment will fail.</span></span> <span data-ttu-id="15983-174">Weitere Informationen finden Sie unter [Einschränkungen für Azure-Abonnements und Dienste, Kontingente und Einschränkungen][quotas].</span><span class="sxs-lookup"><span data-stu-id="15983-174">See [Azure subscription and service limits, quotas, and constraints][quotas].</span></span> 
 
### <a name="nsg-recommendations"></a><span data-ttu-id="15983-175">NSG-Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="15983-175">NSG recommendations</span></span>

<span data-ttu-id="15983-176">Wir empfehlen Ihnen die Verwendung von einer NSG pro Subnetz, in dem VMs enthalten sind, um die Subnetzisolation zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="15983-176">We recommend having one NSG for each subnet that contains VMs, to enable subnet isolation.</span></span> <span data-ttu-id="15983-177">Gehen Sie wie folgt vor, wenn Sie die Subnetzisolation konfigurieren möchten: Fügen Sie NSG-Regeln hinzu, mit denen der zulässige bzw. unzulässige ein- und ausgehende Datenverkehr für jedes Subnetz definiert wird.</span><span class="sxs-lookup"><span data-stu-id="15983-177">If you want to configure subnet isolation, add NSG rules that define the allowed or denied inbound or outbound traffic for each subnet.</span></span> <span data-ttu-id="15983-178">Weitere Informationen finden Sie unter [Filtern des Netzwerkdatenverkehrs mit Netzwerksicherheitsgruppen][virtual-networks-nsg].</span><span class="sxs-lookup"><span data-stu-id="15983-178">For more information, see [Filter network traffic with network security groups][virtual-networks-nsg].</span></span> 

<span data-ttu-id="15983-179">Weisen Sie dem Gatewaysubnetz keine NSG zu, da das Gateway sonst nicht mehr funktioniert.</span><span class="sxs-lookup"><span data-stu-id="15983-179">Do not assign an NSG to the gateway subnet, or the gateway will stop functioning.</span></span> 

### <a name="storage-recommendations"></a><span data-ttu-id="15983-180">Empfehlungen für Speicher</span><span class="sxs-lookup"><span data-stu-id="15983-180">Storage recommendations</span></span>

<span data-ttu-id="15983-181">Die Speicherkonfiguration für die VMs der Farm sollte den jeweiligen bewährten Methoden entsprechen, die für lokale Bereitstellungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="15983-181">The storage configuration of the VMs in the farm should match the appropriate best practices used for on-premises deployments.</span></span> <span data-ttu-id="15983-182">SharePoint-Server sollten über einen separaten Datenträger für Protokolle verfügen.</span><span class="sxs-lookup"><span data-stu-id="15983-182">SharePoint servers should have a separate disk for logs.</span></span> <span data-ttu-id="15983-183">Für SharePoint-Server, die Suchindexrollen hosten, wird zusätzlicher Speicherplatz zum Speichern des Suchindex benötigt.</span><span class="sxs-lookup"><span data-stu-id="15983-183">SharePoint servers hosting search index roles require additional disk space for the search index to be stored.</span></span> <span data-ttu-id="15983-184">Für SQL Server besteht das Standardverfahren darin, Daten und Protokolle zu trennen.</span><span class="sxs-lookup"><span data-stu-id="15983-184">For SQL Server, the standard practice is to separate data and logs.</span></span> <span data-ttu-id="15983-185">Fügen Sie weitere Datenträger für die Speicherung von Datenbanksicherungen hinzu, und verwenden Sie einen separaten Datenträger für [tempdb][tempdb].</span><span class="sxs-lookup"><span data-stu-id="15983-185">Add more disks for database backup storage, and use a separate disk for [tempdb][tempdb].</span></span>

<span data-ttu-id="15983-186">Wir empfehlen die Verwendung von [Azure Managed Disks][managed-disks], um die beste Zuverlässigkeit zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="15983-186">For best reliability, we recommend using [Azure Managed Disks][managed-disks].</span></span> <span data-ttu-id="15983-187">Mit Managed Disks (verwalteten Datenträgern) stellen Sie sicher, dass die Datenträger für VMs in einer Verfügbarkeitsgruppe isoliert sind, um Single Points of Failure zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="15983-187">Managed disks ensure that the disks for VMs within an availability set are isolated to avoid single points of failure.</span></span> 

> [!NOTE]
> <span data-ttu-id="15983-188">Derzeit werden für die Resource Manager-Vorlage für diese Referenzarchitektur keine verwalteten Datenträger verwendet.</span><span class="sxs-lookup"><span data-stu-id="15983-188">Currently the Resource Manager template for this reference architecture does not use managed disks.</span></span> <span data-ttu-id="15983-189">Es ist geplant, die Vorlage zu aktualisieren, um die Verwendung von verwalteten Datenträgern zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="15983-189">We are planning to update the template to use managed disks.</span></span>

<span data-ttu-id="15983-190">Verwenden Sie verwaltete Premium-Datenträger für alle SharePoint- und SQL Server-VMs.</span><span class="sxs-lookup"><span data-stu-id="15983-190">Use Premium managed disks for all SharePoint and SQL Server VMs.</span></span> <span data-ttu-id="15983-191">Sie können verwaltete Standard-Datenträger für den Hauptknotenserver, die Domänencontroller und den Verwaltungsserver nutzen.</span><span class="sxs-lookup"><span data-stu-id="15983-191">You can use Standard managed disks for the majority node server, the domain controllers, and the management server.</span></span> 

### <a name="sharepoint-server-recommendations"></a><span data-ttu-id="15983-192">SharePoint Server-Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="15983-192">SharePoint Server recommendations</span></span>

<span data-ttu-id="15983-193">Stellen Sie vor dem Konfigurieren der SharePoint-Farm sicher, dass Sie über ein Windows Server Active Directory-Dienstkonto pro Dienst verfügen.</span><span class="sxs-lookup"><span data-stu-id="15983-193">Before configuring the SharePoint farm, make sure you have one Windows Server Active Directory service account per service.</span></span> <span data-ttu-id="15983-194">Für diese Architektur benötigen Sie mindestens die folgenden Konten auf Domänenebene, um die Berechtigungen pro Rolle zu isolieren:</span><span class="sxs-lookup"><span data-stu-id="15983-194">For this architecture, you need at a minimum the following domain-level accounts to isolate privilege per role:</span></span>

- <span data-ttu-id="15983-195">SQL Server-Dienstkonto</span><span class="sxs-lookup"><span data-stu-id="15983-195">SQL Server Service account</span></span>
- <span data-ttu-id="15983-196">Konto für Setupbenutzer</span><span class="sxs-lookup"><span data-stu-id="15983-196">Setup User account</span></span>
- <span data-ttu-id="15983-197">Konto für Serverfarm</span><span class="sxs-lookup"><span data-stu-id="15983-197">Server Farm account</span></span>
- <span data-ttu-id="15983-198">Konto für Suchdienst</span><span class="sxs-lookup"><span data-stu-id="15983-198">Search Service account</span></span>
- <span data-ttu-id="15983-199">Konto für Inhaltszugriff</span><span class="sxs-lookup"><span data-stu-id="15983-199">Content Access account</span></span>
- <span data-ttu-id="15983-200">Web-App-Pool-Konten</span><span class="sxs-lookup"><span data-stu-id="15983-200">Web App Pool accounts</span></span>
- <span data-ttu-id="15983-201">Service App-Pool-Konten</span><span class="sxs-lookup"><span data-stu-id="15983-201">Service App Pool accounts</span></span>
- <span data-ttu-id="15983-202">Administratorkonto für Cache</span><span class="sxs-lookup"><span data-stu-id="15983-202">Cache Super User account</span></span>
- <span data-ttu-id="15983-203">Lese-Administratorkonto für Cache</span><span class="sxs-lookup"><span data-stu-id="15983-203">Cache Super Reader account</span></span>

<span data-ttu-id="15983-204">Für alle Rollen mit Ausnahme der Indexerstellung für die Suche empfehlen wir die Verwendung der VM-Größe [Standard_DS3_v2][vm-sizes-general].</span><span class="sxs-lookup"><span data-stu-id="15983-204">For all roles except the Search Indexer, we recommended using the [Standard_DS3_v2][vm-sizes-general] VM size.</span></span> <span data-ttu-id="15983-205">Die Indexerstellung für die Suche sollte mindestens die Größe [Standard_DS13_v2][vm-sizes-memory] haben.</span><span class="sxs-lookup"><span data-stu-id="15983-205">The Search Indexer should be at least the [Standard_DS13_v2][vm-sizes-memory] size.</span></span> 

> [!NOTE]
> <span data-ttu-id="15983-206">Für die Resource Manager-Vorlage dieser Referenzarchitektur wird die kleinere Größe DS3 für die Indexerstellung zu Suchzwecken verwendet, um die Bereitstellung zu testen.</span><span class="sxs-lookup"><span data-stu-id="15983-206">The Resource Manager template for this reference architecture uses the smaller DS3 size for the Search Indexer, for purposes of testing the deployment.</span></span> <span data-ttu-id="15983-207">Wählen Sie für eine Produktionsbereitstellung mindestens die Größe DS13.</span><span class="sxs-lookup"><span data-stu-id="15983-207">For a production deployment, use the DS13 size or larger.</span></span> 

<span data-ttu-id="15983-208">Informationen zu Produktionsworkloads finden Sie unter [Hardware- und Softwareanforderungen für SharePoint Server 2016][sharepoint-reqs].</span><span class="sxs-lookup"><span data-stu-id="15983-208">For production workloads, see [Hardware and software requirements for SharePoint Server 2016][sharepoint-reqs].</span></span> 

<span data-ttu-id="15983-209">Achten Sie darauf, die Search-Architektur richtig zu planen, um die Supportanforderung für den Datenträgerdurchsatz von mindestens 200 MB pro Sekunde zu erfüllen.</span><span class="sxs-lookup"><span data-stu-id="15983-209">To meet the support requirement for disk throughput of 200 MB per second minimum, make sure to plan the Search architecture.</span></span> <span data-ttu-id="15983-210">Informationen hierzu finden Sie unter [Planen der Architektur der Unternehmenssuche in SharePoint Server 2013][sharepoint-search].</span><span class="sxs-lookup"><span data-stu-id="15983-210">See [Plan enterprise search architecture in SharePoint Server 2013][sharepoint-search].</span></span> <span data-ttu-id="15983-211">Halten Sie sich auch an die Richtlinien unter [Best practices for crawling in SharePoint Server 2016][sharepoint-crawling] (Bewährte Methoden zum Durchsuchen per Crawler in SharePoint Server 2016).</span><span class="sxs-lookup"><span data-stu-id="15983-211">Also follow the guidelines in [Best practices for crawling in SharePoint Server 2016][sharepoint-crawling].</span></span>

<span data-ttu-id="15983-212">Speichern Sie außerdem die Suchkomponentendaten auf einem separaten Speichervolume oder einer Partition mit hoher Leistung.</span><span class="sxs-lookup"><span data-stu-id="15983-212">In addition, store the search component data on a separate storage volume or partition with high performance.</span></span> <span data-ttu-id="15983-213">Konfigurieren Sie die Objektcache-Benutzerkonten, die in dieser Architektur erforderlich sind, um die Last zu reduzieren und den Durchsatz zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="15983-213">To reduce load and improve throughput, configure the object cache user accounts, which are required in this architecture.</span></span> <span data-ttu-id="15983-214">Teilen Sie die Dateien des Windows Server-Betriebssystems, die SharePoint Server 2016-Programmdateien und die Diagnoseprotokolle auf drei separate Speichervolumes oder Partitionen mit normaler Leistung auf.</span><span class="sxs-lookup"><span data-stu-id="15983-214">Split the Windows Server operating system files, the SharePoint Server 2016 program files, and diagnostics logs across three separate storage volumes or partitions with normal performance.</span></span> 

<span data-ttu-id="15983-215">Weitere Informationen zu diesen Empfehlungen finden Sie unter [Erstmalige Bereitstellung von Administrator- und Dienstkonten in SharePoint Server][sharepoint-accounts].</span><span class="sxs-lookup"><span data-stu-id="15983-215">For more information about these recommendations, see [Initial deployment administrative and service accounts in SharePoint Server 2016][sharepoint-accounts].</span></span>

### <a name="hybrid-workloads"></a><span data-ttu-id="15983-216">Hybrid-Workloads</span><span class="sxs-lookup"><span data-stu-id="15983-216">Hybrid workloads</span></span>

<span data-ttu-id="15983-217">Mit dieser Referenzarchitektur wird eine SharePoint Server 2016-Farm bereitgestellt, die als [SharePoint-Hybridumgebung][sharepoint-hybrid] zur Erweiterung von SharePoint Server 2016 auf Office 365 SharePoint Online verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="15983-217">This reference architecture deploys a SharePoint Server 2016 farm that can be used as a [SharePoint hybrid environment][sharepoint-hybrid] &mdash; that is, extending SharePoint Server 2016 to Office 365 SharePoint Online.</span></span> <span data-ttu-id="15983-218">Wenn Sie über Office Online Server verfügen, helfen Ihnen die Informationen unter [Office Web Apps und Office Online Server-Unterstützung in Azure][office-web-apps] weiter.</span><span class="sxs-lookup"><span data-stu-id="15983-218">If you have Office Online Server, see [Office Web Apps and Office Online Server supportability in Azure][office-web-apps].</span></span>

<span data-ttu-id="15983-219">Die Standarddienstanwendungen dieser Bereitstellung sind für die Unterstützung von Hybrid-Workloads ausgelegt.</span><span class="sxs-lookup"><span data-stu-id="15983-219">The default service applications in this deployment are designed to support hybrid workloads.</span></span> <span data-ttu-id="15983-220">Alle SharePoint Server 2016- und Office 365-Hybrid-Workloads können bis auf eine Ausnahme ohne Änderungen der SharePoint-Infrastruktur für diese Farm bereitgestellt werden: Die Hybrid-Suchdienstanwendung für die Cloud darf nicht auf Servern bereitgestellt werden, die eine vorhandene Suchtopologie hosten.</span><span class="sxs-lookup"><span data-stu-id="15983-220">All SharePoint Server 2016 and Office 365 hybrid workloads can be deployed to this farm without changes to the SharePoint infrastructure, with one exception: The Cloud Hybrid Search Service Application must not be deployed onto servers hosting an existing search topology.</span></span> <span data-ttu-id="15983-221">Aus diesem Grund muss der Farm mindestens eine VM hinzugefügt werden, die auf Suchrollen basiert, um dieses Hybridszenario zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="15983-221">Therefore, one or more search-role-based VMs must be added to the farm to support this hybrid scenario.</span></span>

### <a name="sql-server-always-on-availability-groups"></a><span data-ttu-id="15983-222">SQL Server Always On-Verfügbarkeitsgruppen</span><span class="sxs-lookup"><span data-stu-id="15983-222">SQL Server Always On Availability Groups</span></span>

<span data-ttu-id="15983-223">Für diese Architektur werden virtuelle SQL Server-Computer genutzt, da Azure SQL-Datenbank für SharePoint Server 2016 nicht verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="15983-223">This architecture uses SQL Server virtual machines because SharePoint Server 2016 cannot use Azure SQL Database.</span></span> <span data-ttu-id="15983-224">Zur Unterstützung der Hochverfügbarkeit in SQL Server empfehlen wir die Verwendung von Always On-Verfügbarkeitsgruppen, mit denen eine Gruppe von Datenbanken angegeben wird, für die das Failover zusammen durchgeführt wird. Dies führt dazu, dass sie hoch verfügbar und wiederherstellbar sind.</span><span class="sxs-lookup"><span data-stu-id="15983-224">To support high availability in SQL Server, we recommend using Always On Availability Groups, which specify a set of databases that fail over together, making them highly-available and recoverable.</span></span> <span data-ttu-id="15983-225">In dieser Referenzarchitektur werden die Datenbanken während der Bereitstellung erstellt, aber Sie müssen Always On-Verfügbarkeitsgruppen manuell aktivieren und die SharePoint-Datenbanken einer Verfügbarkeitsgruppe hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="15983-225">In this reference architecture, the databases are created during deployment, but you must manually enable Always On Availability Groups and add the SharePoint databases to an availability group.</span></span> <span data-ttu-id="15983-226">Weitere Informationen finden Sie unter [Erstellen der Verfügbarkeitsgruppe und Hinzufügen der SharePoint-Datenbanken][create-availability-group].</span><span class="sxs-lookup"><span data-stu-id="15983-226">For more information, see [Create the availability group and add the SharePoint databases][create-availability-group].</span></span>

<span data-ttu-id="15983-227">Außerdem wird empfohlen, dem Cluster eine Listener-IP-Adresse hinzuzufügen, bei der es sich um die private IP-Adresse des internen Lastenausgleichs für die virtuellen SQL Server-Computer handelt.</span><span class="sxs-lookup"><span data-stu-id="15983-227">We also recommend adding a listener IP address to the cluster, which is the private IP address of the internal load balancer for the SQL Server virtual machines.</span></span>

<span data-ttu-id="15983-228">Die empfohlenen VM-Größen und andere Leistungsempfehlungen für SQL Server in Azure finden Sie unter [Bewährte Methoden zur Leistung für SQL Server auf virtuellen Azure-Computern][sql-performance].</span><span class="sxs-lookup"><span data-stu-id="15983-228">For recommended VM sizes and other performance recommendations for SQL Server running in Azure, see [Performance best practices for SQL Server in Azure Virtual Machines][sql-performance].</span></span> <span data-ttu-id="15983-229">Halten Sie sich auch an die Empfehlungen unter [Bewährte Methoden für SQL Server in einer SharePoint Server-Farm][sql-sharepoint-best-practices].</span><span class="sxs-lookup"><span data-stu-id="15983-229">Also follow the recommendations in [Best practices for SQL Server in a SharePoint Server 2016 farm][sql-sharepoint-best-practices].</span></span>

<span data-ttu-id="15983-230">Es wird empfohlen, den Hauptknotenserver auf einem andern Computer als die Replikationspartner anzuordnen.</span><span class="sxs-lookup"><span data-stu-id="15983-230">We recommend that the majority node server reside on a separate computer from the replication partners.</span></span> <span data-ttu-id="15983-231">Mit dem Server kann der sekundäre Replikationspartnerserver in einer Hochsicherheitsmodus-Sitzung erkennen, ob ein automatisches Failover initiiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="15983-231">The server enables the secondary replication partner server in a high-safety mode session to recognize whether to initiate an automatic failover.</span></span> <span data-ttu-id="15983-232">Im Gegensatz zu den beiden Partnern dient der Hauptknotenserver nicht als Server für die Datenbank, sondern unterstützt das automatische Failover.</span><span class="sxs-lookup"><span data-stu-id="15983-232">Unlike the two partners, the majority node server doesn't serve the database but rather supports automatic failover.</span></span> 

## <a name="scalability-considerations"></a><span data-ttu-id="15983-233">Überlegungen zur Skalierbarkeit</span><span class="sxs-lookup"><span data-stu-id="15983-233">Scalability considerations</span></span>

<span data-ttu-id="15983-234">Ändern Sie einfach die VM-Größe, um die vorhandenen Server zentral hochzuskalieren.</span><span class="sxs-lookup"><span data-stu-id="15983-234">To scale up the existing servers, simply change the VM size.</span></span> 

<span data-ttu-id="15983-235">Mit der Funktion [MinRoles][minroles] in SharePoint Server 2016 können Sie Server basierend auf der Rolle des Servers horizontal hochskalieren und außerdem Server aus einer Rolle entfernen.</span><span class="sxs-lookup"><span data-stu-id="15983-235">With the [MinRoles][minroles] capability in SharePoint Server 2016, you can scale out servers based on the server's role and also remove servers from a role.</span></span> <span data-ttu-id="15983-236">Wenn Sie die Server einer Rolle hinzufügen, können Sie beliebige einzelne Rollen oder eine kombinierte Rolle angeben.</span><span class="sxs-lookup"><span data-stu-id="15983-236">When you add servers to a role, you can specify any of the single roles or one of the combined roles.</span></span> <span data-ttu-id="15983-237">Sie müssen die Suchtopologie aber mit PowerShell neu konfigurieren, wenn Sie der Search-Rolle Server hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="15983-237">If you add servers to the Search role, however, you must also reconfigure the search topology using PowerShell.</span></span> <span data-ttu-id="15983-238">Sie können Rollen auch mit MinRoles konvertieren.</span><span class="sxs-lookup"><span data-stu-id="15983-238">You can also convert roles using MinRoles.</span></span> <span data-ttu-id="15983-239">Weitere Informationen finden Sie unter [Verwalten einer MinRole-Serverfarm in SharePoint Server 2016][sharepoint-minrole].</span><span class="sxs-lookup"><span data-stu-id="15983-239">For more information, see [Managing a MinRole Server Farm in SharePoint Server 2016][sharepoint-minrole].</span></span>

<span data-ttu-id="15983-240">Beachten Sie, dass SharePoint Server 2016 die Verwendung von VM-Skalierungsgruppen für die automatische Skalierung nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="15983-240">Note that SharePoint Server 2016 doesn't support using virtual machine scale sets for auto-scaling.</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="15983-241">Überlegungen zur Verfügbarkeit</span><span class="sxs-lookup"><span data-stu-id="15983-241">Availability considerations</span></span>

<span data-ttu-id="15983-242">Diese Referenzarchitektur unterstützt Hochverfügbarkeit in einer Azure-Region, da für jede Rolle in einer Verfügbarkeitsgruppe mindestens zwei VMs bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="15983-242">This reference architecture supports high availability within an Azure region, because each role has at least two VMs deployed in an availability set.</span></span>

<span data-ttu-id="15983-243">Erstellen Sie als Schutz vor einem regionalen Ausfall eine separate Farm für die Notfallwiederherstellung in einer anderen Azure-Region.</span><span class="sxs-lookup"><span data-stu-id="15983-243">To protect against a regional failure, create a separate disaster recovery farm in a different Azure region.</span></span> <span data-ttu-id="15983-244">Ihre Recovery Time Objectives (RTOs) und Recovery Point Objectives (RPOs) bestimmen die Anforderungen für die Einrichtung.</span><span class="sxs-lookup"><span data-stu-id="15983-244">Your recovery time objectives (RTOs) and recovery point objectives (RPOs) will determine the setup requirements.</span></span> <span data-ttu-id="15983-245">Ausführliche Informationen finden Sie unter [Wählen einer Notfallwiederherstellungsstrategie für SharePoint Server][sharepoint-dr].</span><span class="sxs-lookup"><span data-stu-id="15983-245">For details, see [Choose a disaster recovery strategy for SharePoint 2016][sharepoint-dr].</span></span> <span data-ttu-id="15983-246">Die sekundäre Region muss mit der primären Region *gekoppelt* sein und ein Regionspaar bilden.</span><span class="sxs-lookup"><span data-stu-id="15983-246">The secondary region should be a *paired region* with the primary region.</span></span> <span data-ttu-id="15983-247">Im Falle eines umfassenden Ausfalls hat bei jedem Regionspaar die Wiederherstellung einer der Regionen Priorität.</span><span class="sxs-lookup"><span data-stu-id="15983-247">In the event of a broad outage, recovery of one region is prioritized out of every pair.</span></span> <span data-ttu-id="15983-248">Weitere Informationen finden Sie unter [Geschäftskontinuität und Notfallwiederherstellung: Azure-Regionspaare][paired-regions].</span><span class="sxs-lookup"><span data-stu-id="15983-248">For more information, see [Business continuity and disaster recovery (BCDR): Azure Paired Regions][paired-regions].</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="15983-249">Überlegungen zur Verwaltbarkeit</span><span class="sxs-lookup"><span data-stu-id="15983-249">Manageability considerations</span></span>

<span data-ttu-id="15983-250">Befolgen Sie die empfohlenen Methoden für SharePoint-Vorgänge zum Betreiben und Verwalten von Servern, Serverfarmen und Sites.</span><span class="sxs-lookup"><span data-stu-id="15983-250">To operate and maintain servers, server farms, and sites, follow the recommended practices for SharePoint operations.</span></span> <span data-ttu-id="15983-251">Weitere Informationen finden Sie unter [Vorgänge für SharePoint Server][sharepoint-ops].</span><span class="sxs-lookup"><span data-stu-id="15983-251">For more information, see [Operations for SharePoint Server 2016][sharepoint-ops].</span></span>

<span data-ttu-id="15983-252">Die erforderlichen Aufgaben beim Verwalten von SQL Server in einer SharePoint-Umgebung können sich von den Aufgaben unterscheiden, die normalerweise für eine Datenbankanwendung anfallen.</span><span class="sxs-lookup"><span data-stu-id="15983-252">The tasks to consider when managing SQL Server in a SharePoint environment may differ from the ones typically considered for a database application.</span></span> <span data-ttu-id="15983-253">Eine bewährte Methode ist das vollständige Sichern aller SQL-Datenbanken einmal pro Woche mit inkrementellen Sicherungen jede Nacht.</span><span class="sxs-lookup"><span data-stu-id="15983-253">A best practice is to fully back up all SQL databases weekly with incremental nightly backups.</span></span> <span data-ttu-id="15983-254">Sichern Sie Transaktionsprotokolle alle 15 Minuten.</span><span class="sxs-lookup"><span data-stu-id="15983-254">Back up transaction logs every 15 minutes.</span></span> <span data-ttu-id="15983-255">Eine andere Methode ist das Implementieren von SQL Server-Wartungsaufgaben in den Datenbanken, während die integrierten SharePoint-Aufgaben deaktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="15983-255">Another practice is to implement SQL Server maintenance tasks on the databases while disabling the built-in SharePoint ones.</span></span> <span data-ttu-id="15983-256">Weitere Informationen finden Sie unter [Speicher- und SQL Server-Kapazitätsplanung und -Konfiguration (SharePoint Server)][sql-server-capacity-planning].</span><span class="sxs-lookup"><span data-stu-id="15983-256">For more information, see [Storage and SQL Server capacity planning and configuration][sql-server-capacity-planning].</span></span> 

## <a name="security-considerations"></a><span data-ttu-id="15983-257">Sicherheitshinweise</span><span class="sxs-lookup"><span data-stu-id="15983-257">Security considerations</span></span>

<span data-ttu-id="15983-258">Für die Dienstkonten der Domänenebene zum Ausführen von SharePoint Server 2016 sind Windows Server AD-Domänencontroller für den Domänenbeitritt und die Authentifizierung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="15983-258">The domain-level service accounts used to run SharePoint Server 2016 require Windows Server AD domain controllers for domain-join and authentication processes.</span></span> <span data-ttu-id="15983-259">Azure Active Directory Domain Services kann für diesen Zweck nicht verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="15983-259">Azure Active Directory Domain Services can't be used for this purpose.</span></span> <span data-ttu-id="15983-260">Zum Erweitern der Windows Server AD-Identitätsinfrastruktur, die im Intranet bereits vorhanden ist, nutzt diese Architektur zwei Windows Server AD-Replikatdomänencontroller einer vorhandenen lokalen Windows Server AD-Gesamtstruktur.</span><span class="sxs-lookup"><span data-stu-id="15983-260">To extend the Windows Server AD identity infrastructure already in place in the intranet, this architecture uses two Windows Server AD replica domain controllers of an existing on-premises Windows Server AD forest.</span></span>

<span data-ttu-id="15983-261">Außerdem ist es immer ratsam, mit Blick auf die Sicherheitshärtung zu planen.</span><span class="sxs-lookup"><span data-stu-id="15983-261">In addition, it's always wise to plan for security hardening.</span></span> <span data-ttu-id="15983-262">Weitere Empfehlungen sind:</span><span class="sxs-lookup"><span data-stu-id="15983-262">Other recommendations include:</span></span>

- <span data-ttu-id="15983-263">Fügen Sie NSGs Regeln hinzu, um Subnetze und Rollen zu isolieren.</span><span class="sxs-lookup"><span data-stu-id="15983-263">Add rules to NSGs to isolate subnets and roles.</span></span>
- <span data-ttu-id="15983-264">Vermeiden Sie es, VMs öffentliche IP-Adressen zuzuweisen.</span><span class="sxs-lookup"><span data-stu-id="15983-264">Don't assign public IP addresses to VMs.</span></span>
- <span data-ttu-id="15983-265">Erwägen Sie für die Angriffserkennung und die Analyse von Nutzlasten die Verwendung eines virtuellen Netzwerkgeräts vor den Front-End-Webservern anstelle eines internen Azure Load Balancers.</span><span class="sxs-lookup"><span data-stu-id="15983-265">For intrusion detection and analysis of payloads, consider using a network virtual appliance in front of the front-end web servers instead of an internal Azure load balancer.</span></span>
- <span data-ttu-id="15983-266">Sie können optional IPsec-Richtlinien für die Verschlüsselung von Klartext-Datenverkehr zwischen Servern verwenden.</span><span class="sxs-lookup"><span data-stu-id="15983-266">As an option, use IPsec policies for encryption of cleartext traffic between servers.</span></span> <span data-ttu-id="15983-267">Wenn Sie auch die Subnetzisolation durchführen, sollten Sie Ihre Netzwerksicherheitsgruppen-Regeln aktualisieren, um IPsec-Datenverkehr zuzulassen.</span><span class="sxs-lookup"><span data-stu-id="15983-267">If you are also doing subnet isolation, update your network security group rules to allow IPsec traffic.</span></span>
- <span data-ttu-id="15983-268">Installieren Sie Antischadsoftware-Agents für die VMs.</span><span class="sxs-lookup"><span data-stu-id="15983-268">Install anti-malware agents for the VMs.</span></span>

## <a name="deploy-the-solution"></a><span data-ttu-id="15983-269">Bereitstellen der Lösung</span><span class="sxs-lookup"><span data-stu-id="15983-269">Deploy the solution</span></span>

<span data-ttu-id="15983-270">Die Bereitstellungsskripts für diese Referenzarchitektur sind auf [GitHub][github] verfügbar.</span><span class="sxs-lookup"><span data-stu-id="15983-270">The deployment scripts for this reference architecture are available on [GitHub][github].</span></span> 

<span data-ttu-id="15983-271">Sie können diese Architektur inkrementell oder auf einmal bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="15983-271">You can deploy this architecture incrementally or all at once.</span></span> <span data-ttu-id="15983-272">Für die erste Bereitstellung empfehlen wir eine inkrementelle Vorgehensweise, damit Sie verfolgen können, was bei den einzelnen Bereitstellungsvorgängen passiert.</span><span class="sxs-lookup"><span data-stu-id="15983-272">The first time, we recommend an incremental deployment, so that you can see what each deployment does.</span></span> <span data-ttu-id="15983-273">Geben Sie das Inkrement an, indem Sie einen der folgenden *mode*-Parameter verwenden.</span><span class="sxs-lookup"><span data-stu-id="15983-273">Specify the increment using one of the following *mode* parameters.</span></span>

| <span data-ttu-id="15983-274">Mode</span><span class="sxs-lookup"><span data-stu-id="15983-274">Mode</span></span>           | <span data-ttu-id="15983-275">Funktionsbeschreibung</span><span class="sxs-lookup"><span data-stu-id="15983-275">What it does</span></span>                                                                                                            |
|----------------|-------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="15983-276">onprem</span><span class="sxs-lookup"><span data-stu-id="15983-276">onprem</span></span>         | <span data-ttu-id="15983-277">(Optional) Stellt eine simulierte lokale Netzwerkumgebung zum Testen oder Evaluieren bereit.</span><span class="sxs-lookup"><span data-stu-id="15983-277">(Optional) Deploys a simulated on-premises network environment, for testing or evaluation.</span></span> <span data-ttu-id="15983-278">Bei diesem Schritt wird keine Verbindung mit einem tatsächlichen lokalen Netzwerk hergestellt.</span><span class="sxs-lookup"><span data-stu-id="15983-278">This step does not connect to an actual on-premises network.</span></span> |
| <span data-ttu-id="15983-279">infrastructure</span><span class="sxs-lookup"><span data-stu-id="15983-279">infrastructure</span></span> | <span data-ttu-id="15983-280">Stellt die SharePoint 2016-Netzwerkinfrastruktur und die Jumpbox für Azure bereit.</span><span class="sxs-lookup"><span data-stu-id="15983-280">Deploys the SharePoint 2016 network infrastructure and jumpbox to Azure.</span></span>                                                |
| <span data-ttu-id="15983-281">createvpn</span><span class="sxs-lookup"><span data-stu-id="15983-281">createvpn</span></span>      | <span data-ttu-id="15983-282">Stellt ein virtuelles Netzwerkgateway für das SharePoint-Netzwerk und das lokale Netzwerk bereit und stellt dafür eine Verbindung her.</span><span class="sxs-lookup"><span data-stu-id="15983-282">Deploys a virtual network gateway for both the SharePoint and on-premises networks and connects them.</span></span> <span data-ttu-id="15983-283">Führen Sie diesen Schritt nur aus, wenn Sie zuvor den Schritt `onprem` ausgeführt haben.</span><span class="sxs-lookup"><span data-stu-id="15983-283">Run this step only if you ran the `onprem` step.</span></span>                |
| <span data-ttu-id="15983-284">workload</span><span class="sxs-lookup"><span data-stu-id="15983-284">workload</span></span>       | <span data-ttu-id="15983-285">Stellt die SharePoint-Server im SharePoint-Netzwerk bereit.</span><span class="sxs-lookup"><span data-stu-id="15983-285">Deploys the SharePoint servers to the SharePoint network.</span></span>                                                               |
| <span data-ttu-id="15983-286">security</span><span class="sxs-lookup"><span data-stu-id="15983-286">security</span></span>       | <span data-ttu-id="15983-287">Stellt die Netzwerksicherheitsgruppe im SharePoint-Netzwerk bereit.</span><span class="sxs-lookup"><span data-stu-id="15983-287">Deploys the network security group to the SharePoint network.</span></span>                                                           |
| <span data-ttu-id="15983-288">alle</span><span class="sxs-lookup"><span data-stu-id="15983-288">all</span></span>            | <span data-ttu-id="15983-289">Stellt alle vorherigen Bereitstellungen bereit.</span><span class="sxs-lookup"><span data-stu-id="15983-289">Deploys all the preceding deployments.</span></span>                            


<span data-ttu-id="15983-290">Führen Sie die folgenden Schritte in der unten angegebenen Reihenfolge aus, um die Architektur inkrementell mit einer simulierten lokalen Netzwerkumgebung bereitzustellen:</span><span class="sxs-lookup"><span data-stu-id="15983-290">To deploy the architecture incrementally with a simulated on-premises network environment, run the following steps in order:</span></span>

1. <span data-ttu-id="15983-291">onprem</span><span class="sxs-lookup"><span data-stu-id="15983-291">onprem</span></span>
2. <span data-ttu-id="15983-292">infrastructure</span><span class="sxs-lookup"><span data-stu-id="15983-292">infrastructure</span></span>
3. <span data-ttu-id="15983-293">createvpn</span><span class="sxs-lookup"><span data-stu-id="15983-293">createvpn</span></span>
4. <span data-ttu-id="15983-294">workload</span><span class="sxs-lookup"><span data-stu-id="15983-294">workload</span></span>
5. <span data-ttu-id="15983-295">security</span><span class="sxs-lookup"><span data-stu-id="15983-295">security</span></span>

<span data-ttu-id="15983-296">Führen Sie die folgenden Schritte in der unten angegebenen Reihenfolge aus, um die Architektur inkrementell ohne simulierte lokale Netzwerkumgebung bereitzustellen:</span><span class="sxs-lookup"><span data-stu-id="15983-296">To deploy the architecture incrementally without a simulated on-premises network environment, run the following steps in order:</span></span>

1. <span data-ttu-id="15983-297">infrastructure</span><span class="sxs-lookup"><span data-stu-id="15983-297">infrastructure</span></span>
2. <span data-ttu-id="15983-298">workload</span><span class="sxs-lookup"><span data-stu-id="15983-298">workload</span></span>
3. <span data-ttu-id="15983-299">security</span><span class="sxs-lookup"><span data-stu-id="15983-299">security</span></span>

<span data-ttu-id="15983-300">Verwenden Sie `all`, um alles innerhalb eines Schritts bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="15983-300">To deploy everything in one step, use `all`.</span></span> <span data-ttu-id="15983-301">Beachten Sie, dass der gesamte Prozess mehrere Stunden dauern kann.</span><span class="sxs-lookup"><span data-stu-id="15983-301">Note that the entire process may take several hours.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="15983-302">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="15983-302">Prerequisites</span></span>

* <span data-ttu-id="15983-303">Installieren Sie die neueste Version von [Azure PowerShell][azure-ps].</span><span class="sxs-lookup"><span data-stu-id="15983-303">Install the latest version of [Azure PowerShell][azure-ps].</span></span>

* <span data-ttu-id="15983-304">Überprüfen Sie vor dem Bereitstellen dieser Referenzarchitektur, ob Ihr Abonnement über das Mindestkontingent von 38 Kernen verfügt.</span><span class="sxs-lookup"><span data-stu-id="15983-304">Before deploying this reference architecture, verify that your subscription has sufficient quota—at least 38 cores.</span></span> <span data-ttu-id="15983-305">Verwenden Sie das Azure-Portal, um per Supportanfrage ein höheres Kontingent anzufordern, falls diese Voraussetzung nicht erfüllt ist.</span><span class="sxs-lookup"><span data-stu-id="15983-305">If you don't have enough, use the Azure portal to submit a support request for more quota.</span></span>

* <span data-ttu-id="15983-306">Sie können eine Schätzung für die Kosten dieser Bereitstellung erstellen, indem Sie den [Azure-Preisrechner][azure-pricing] nutzen.</span><span class="sxs-lookup"><span data-stu-id="15983-306">To estimate the cost of this deployment, see the [Azure Pricing Calculator][azure-pricing].</span></span>

### <a name="deploy-the-reference-architecture"></a><span data-ttu-id="15983-307">Bereitstellen der Referenzarchitektur</span><span class="sxs-lookup"><span data-stu-id="15983-307">Deploy the reference architecture</span></span>

1.  <span data-ttu-id="15983-308">Laden Sie das [GitHub-Repository][github] auf Ihren lokalen Computer herunter, oder klonen Sie es.</span><span class="sxs-lookup"><span data-stu-id="15983-308">Download or clone the [GitHub repo][github] to your local computer.</span></span>

2.  <span data-ttu-id="15983-309">Öffnen Sie ein PowerShell-Fenster, und navigieren Sie zum Ordner `/sharepoint/sharepoint-2016`.</span><span class="sxs-lookup"><span data-stu-id="15983-309">Open a PowerShell window and navigate to the `/sharepoint/sharepoint-2016` folder.</span></span>

3.  <span data-ttu-id="15983-310">Führen Sie den folgenden PowerShell-Befehl aus:</span><span class="sxs-lookup"><span data-stu-id="15983-310">Run the following PowerShell command.</span></span> <span data-ttu-id="15983-311">Verwenden Sie als \<subscription id\> die ID Ihres Azure-Abonnements.</span><span class="sxs-lookup"><span data-stu-id="15983-311">For \<subscription id\>, use your Azure subscription ID.</span></span> <span data-ttu-id="15983-312">Geben Sie für \<location\> eine Azure-Region an, z.B. `eastus` oder `westus`.</span><span class="sxs-lookup"><span data-stu-id="15983-312">For \<location\>, specify an Azure region, such as `eastus` or `westus`.</span></span> <span data-ttu-id="15983-313">Geben Sie für \<mode\> `onprem`, `infrastructure`, `createvpn`, `workload`, `security` oder `all` an.</span><span class="sxs-lookup"><span data-stu-id="15983-313">For \<mode\>, specify `onprem`, `infrastructure`, `createvpn`, `workload`, `security`, or `all`.</span></span>

    ```powershell
    .\Deploy-ReferenceArchitecture.ps1 <subscription id> <location> <mode>
    ```   
4. <span data-ttu-id="15983-314">Melden Sie sich an Ihrem Azure-Konto an, wenn die Aufforderung angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="15983-314">When prompted, log on to your Azure account.</span></span> <span data-ttu-id="15983-315">Je nach ausgewähltem Modus kann es mehrere Stunden dauern, bis die Bereitstellungsskripts abgeschlossen sind.</span><span class="sxs-lookup"><span data-stu-id="15983-315">The deployment scripts can take up to several hours to complete, depending on the mode you selected.</span></span>

5. <span data-ttu-id="15983-316">Führen Sie nach Abschluss der Bereitstellung die Skripts zum Konfigurieren von SQL Server Always On-Verfügbarkeitsgruppen aus.</span><span class="sxs-lookup"><span data-stu-id="15983-316">When the deployment completes, run the scripts to configure SQL Server Always On Availability Groups.</span></span> <span data-ttu-id="15983-317">Details hierzu finden Sie auf der Seite mit dem Inhalt der [Infodatei][readme].</span><span class="sxs-lookup"><span data-stu-id="15983-317">See the [readme][readme] for details.</span></span>

> [!WARNING]
> <span data-ttu-id="15983-318">Die Parameterdateien enthalten an verschiedenen Stellen ein hartcodiertes Kennwort (`AweS0me@PW`).</span><span class="sxs-lookup"><span data-stu-id="15983-318">The parameter files include a hard-coded password (`AweS0me@PW`) in various places.</span></span> <span data-ttu-id="15983-319">Ändern Sie diese Werte vor der Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="15983-319">Change these values before you deploy.</span></span>


## <a name="validate-the-deployment"></a><span data-ttu-id="15983-320">Überprüfen der Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="15983-320">Validate the deployment</span></span>

<span data-ttu-id="15983-321">Nachdem Sie diese Referenzarchitektur bereitgestellt haben, werden unter dem von Ihnen verwendeten Abonnement die folgenden Ressourcengruppen aufgeführt:</span><span class="sxs-lookup"><span data-stu-id="15983-321">After you deploy this reference architecture, the following resource groups are listed under the Subscription that you used:</span></span>

| <span data-ttu-id="15983-322">Ressourcengruppe</span><span class="sxs-lookup"><span data-stu-id="15983-322">Resource Group</span></span>        | <span data-ttu-id="15983-323">Zweck</span><span class="sxs-lookup"><span data-stu-id="15983-323">Purpose</span></span>                                                                                         |
|-----------------------|-------------------------------------------------------------------------------------------------|
| <span data-ttu-id="15983-324">ra-onprem-sp2016-rg</span><span class="sxs-lookup"><span data-stu-id="15983-324">ra-onprem-sp2016-rg</span></span>   | <span data-ttu-id="15983-325">Simuliertes lokales Netzwerk mit Active Directory, Verbund mit dem SharePoint 2016-Netzwerk</span><span class="sxs-lookup"><span data-stu-id="15983-325">Simulated on-premises network with Active Directory, federated with the SharePoint 2016 network</span></span> |
| <span data-ttu-id="15983-326">ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="15983-326">ra-sp2016-network-rg</span></span>  | <span data-ttu-id="15983-327">Infrastruktur zur Unterstützung der SharePoint-Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="15983-327">Infrastructure to support SharePoint deployment</span></span>                                                 |
| <span data-ttu-id="15983-328">ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="15983-328">ra-sp2016-workload-rg</span></span> | <span data-ttu-id="15983-329">SharePoint und unterstützende Ressourcen</span><span class="sxs-lookup"><span data-stu-id="15983-329">SharePoint and supporting resources</span></span>                                                             |

### <a name="validate-access-to-the-sharepoint-site-from-the-on-premises-network"></a><span data-ttu-id="15983-330">Überprüfen des Zugriffs auf die SharePoint-Website aus dem lokalen Netzwerk</span><span class="sxs-lookup"><span data-stu-id="15983-330">Validate access to the SharePoint site from the on-premises network</span></span>

1. <span data-ttu-id="15983-331">Wählen Sie im [Azure-Portal][azure-portal] unter **Ressourcengruppen** die Ressourcengruppe `ra-onprem-sp2016-rg`.</span><span class="sxs-lookup"><span data-stu-id="15983-331">In the [Azure portal][azure-portal], under **Resource groups**, select the `ra-onprem-sp2016-rg` resource group.</span></span>

2. <span data-ttu-id="15983-332">Wählen Sie in der Liste mit den Ressourcen die VM-Ressource mit dem Namen `ra-adds-user-vm1`.</span><span class="sxs-lookup"><span data-stu-id="15983-332">In the list of resources, select the VM resource named `ra-adds-user-vm1`.</span></span> 

3. <span data-ttu-id="15983-333">Stellen Sie eine Verbindung mit der VM her, wie unter [Herstellen der Verbindung mit dem virtuellen Computer][connect-to-vm] beschrieben.</span><span class="sxs-lookup"><span data-stu-id="15983-333">Connect to the VM, as described in [Connect to virtual machine][connect-to-vm].</span></span> <span data-ttu-id="15983-334">Der Benutzername lautet `\onpremuser`.</span><span class="sxs-lookup"><span data-stu-id="15983-334">The user name is `\onpremuser`.</span></span>

5.  <span data-ttu-id="15983-335">Nachdem die Remoteverbindung mit der VM eingerichtet wurde, können Sie auf der VM einen Browser öffnen und zu `http://portal.contoso.local` navigieren.</span><span class="sxs-lookup"><span data-stu-id="15983-335">When the remote connection to the VM is established, open a browser in the VM and navigate to `http://portal.contoso.local`.</span></span>

6.  <span data-ttu-id="15983-336">Melden Sie sich im Feld **Windows-Sicherheit** am SharePoint-Portal an, indem Sie `contoso.local\testuser` als Benutzername verwenden.</span><span class="sxs-lookup"><span data-stu-id="15983-336">In the **Windows Security** box, log on to the SharePoint portal using `contoso.local\testuser` for the user name.</span></span>

<span data-ttu-id="15983-337">Bei dieser Anmeldung wird ein Tunnel von der Domäne „Fabrikam.com“, die vom lokalen Netzwerk genutzt wird, zur Domäne „contoso.local“ des SharePoint-Portals erstellt.</span><span class="sxs-lookup"><span data-stu-id="15983-337">This logon tunnels from the Fabrikam.com domain used by the on-premises network to the contoso.local domain used by the SharePoint portal.</span></span> <span data-ttu-id="15983-338">Wenn die SharePoint-Website geöffnet wird, wird die Demo-Stammwebsite angezeigt.</span><span class="sxs-lookup"><span data-stu-id="15983-338">When the SharePoint site opens, you'll see the root demo site.</span></span>

### <a name="validate-jumpbox-access-to-vms-and-check-configuration-settings"></a><span data-ttu-id="15983-339">Überprüfen des Jumpbox-Zugriffs auf VMs und Prüfen der Konfigurationseinstellungen</span><span class="sxs-lookup"><span data-stu-id="15983-339">Validate jumpbox access to VMs and check configuration settings</span></span>

1.  <span data-ttu-id="15983-340">Wählen Sie im [Azure-Portal][azure-portal] unter **Ressourcengruppen** die Ressourcengruppe `ra-sp2016-network-rg`.</span><span class="sxs-lookup"><span data-stu-id="15983-340">In [Azure portal][azure-portal], under **Resource groups**, select the `ra-sp2016-network-rg` resource group.</span></span>

2.  <span data-ttu-id="15983-341">Wählen Sie in der Liste mit den Ressourcen die VM-Ressource mit dem Namen `ra-sp2016-jb-vm1` aus. Dies ist die Jumpbox.</span><span class="sxs-lookup"><span data-stu-id="15983-341">In the list of resources, select the VM resource named `ra-sp2016-jb-vm1`, which is the jumpbox.</span></span>

3. <span data-ttu-id="15983-342">Stellen Sie eine Verbindung mit der VM her, wie unter [Herstellen der Verbindung mit dem virtuellen Computer][connect-to-vm] beschrieben.</span><span class="sxs-lookup"><span data-stu-id="15983-342">Connect to the VM, as described in [Connect to virtual machine][connect-to-vm].</span></span> <span data-ttu-id="15983-343">Der Benutzername lautet `testuser`.</span><span class="sxs-lookup"><span data-stu-id="15983-343">The user name is `testuser`.</span></span>

4.  <span data-ttu-id="15983-344">Öffnen Sie nach dem Anmelden an der Jumpbox eine RDP-Sitzung aus der Jumpbox.</span><span class="sxs-lookup"><span data-stu-id="15983-344">After you log onto the jumpbox, open an RDP session from the jumpbox.</span></span> <span data-ttu-id="15983-345">Stellen Sie eine Verbindung mit anderen VMs im VNet her.</span><span class="sxs-lookup"><span data-stu-id="15983-345">Connect to any other VMs in the VNet.</span></span> <span data-ttu-id="15983-346">Der Benutzername lautet `testuser`.</span><span class="sxs-lookup"><span data-stu-id="15983-346">The username is `testuser`.</span></span> <span data-ttu-id="15983-347">Sie können die Warnung zum Sicherheitszertifikat des Remotecomputers ignorieren.</span><span class="sxs-lookup"><span data-stu-id="15983-347">You can ignore the warning about the remote computer's security certificate.</span></span>

5.  <span data-ttu-id="15983-348">Wenn die Remoteverbindung mit der VM geöffnet wird, können Sie die Konfiguration prüfen und Änderungen vornehmen, indem Sie Verwaltungstools verwenden, z.B. Server-Manager.</span><span class="sxs-lookup"><span data-stu-id="15983-348">When the remote connection to the VM opens, review the configuration and make changes using the administrative tools such as Server Manager.</span></span>

<span data-ttu-id="15983-349">Die folgende Tabelle enthält die bereitgestellten VMs.</span><span class="sxs-lookup"><span data-stu-id="15983-349">The following table shows the VMs that are deployed.</span></span> 

| <span data-ttu-id="15983-350">Ressourcenname</span><span class="sxs-lookup"><span data-stu-id="15983-350">Resource Name</span></span>      | <span data-ttu-id="15983-351">Zweck</span><span class="sxs-lookup"><span data-stu-id="15983-351">Purpose</span></span>                                   | <span data-ttu-id="15983-352">Ressourcengruppe</span><span class="sxs-lookup"><span data-stu-id="15983-352">Resource Group</span></span>        | <span data-ttu-id="15983-353">VM-Name</span><span class="sxs-lookup"><span data-stu-id="15983-353">VM Name</span></span>                       |
|--------------------|-------------------------------------------|-----------------------|-------------------------------|
| <span data-ttu-id="15983-354">Ra-sp2016-ad-vm1</span><span class="sxs-lookup"><span data-stu-id="15983-354">Ra-sp2016-ad-vm1</span></span>   | <span data-ttu-id="15983-355">Active Directory + DNS</span><span class="sxs-lookup"><span data-stu-id="15983-355">Active Directory + DNS</span></span>                    | <span data-ttu-id="15983-356">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="15983-356">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="15983-357">Ad1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="15983-357">Ad1.contoso.local</span></span>             |
| <span data-ttu-id="15983-358">Ra-sp2016-ad-vm2</span><span class="sxs-lookup"><span data-stu-id="15983-358">Ra-sp2016-ad-vm2</span></span>   | <span data-ttu-id="15983-359">Active Directory + DNS</span><span class="sxs-lookup"><span data-stu-id="15983-359">Active Directory + DNS</span></span>                    | <span data-ttu-id="15983-360">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="15983-360">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="15983-361">Ad2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="15983-361">Ad2.contoso.local</span></span>             |
| <span data-ttu-id="15983-362">Ra-sp2016-fsw-vm1</span><span class="sxs-lookup"><span data-stu-id="15983-362">Ra-sp2016-fsw-vm1</span></span>  | <span data-ttu-id="15983-363">SharePoint</span><span class="sxs-lookup"><span data-stu-id="15983-363">SharePoint</span></span>                                | <span data-ttu-id="15983-364">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="15983-364">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="15983-365">Fsw1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="15983-365">Fsw1.contoso.local</span></span>            |
| <span data-ttu-id="15983-366">Ra-sp2016-jb-vm1</span><span class="sxs-lookup"><span data-stu-id="15983-366">Ra-sp2016-jb-vm1</span></span>   | <span data-ttu-id="15983-367">Jumpbox</span><span class="sxs-lookup"><span data-stu-id="15983-367">Jumpbox</span></span>                                   | <span data-ttu-id="15983-368">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="15983-368">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="15983-369">Jb (öffentliche IP zum Anmelden verwenden)</span><span class="sxs-lookup"><span data-stu-id="15983-369">Jb (use public IP to log on)</span></span> |
| <span data-ttu-id="15983-370">Ra-sp2016-sql-vm1</span><span class="sxs-lookup"><span data-stu-id="15983-370">Ra-sp2016-sql-vm1</span></span>  | <span data-ttu-id="15983-371">SQL Always On – Failover</span><span class="sxs-lookup"><span data-stu-id="15983-371">SQL Always On - Failover</span></span>                  | <span data-ttu-id="15983-372">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="15983-372">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="15983-373">Sq1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="15983-373">Sq1.contoso.local</span></span>             |
| <span data-ttu-id="15983-374">Ra-sp2016-sql-vm2</span><span class="sxs-lookup"><span data-stu-id="15983-374">Ra-sp2016-sql-vm2</span></span>  | <span data-ttu-id="15983-375">SQL Always On – Primär</span><span class="sxs-lookup"><span data-stu-id="15983-375">SQL Always On - Primary</span></span>                   | <span data-ttu-id="15983-376">Ra-sp2016-network-rg</span><span class="sxs-lookup"><span data-stu-id="15983-376">Ra-sp2016-network-rg</span></span>  | <span data-ttu-id="15983-377">Sq2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="15983-377">Sq2.contoso.local</span></span>             |
| <span data-ttu-id="15983-378">Ra-sp2016-app-vm1</span><span class="sxs-lookup"><span data-stu-id="15983-378">Ra-sp2016-app-vm1</span></span>  | <span data-ttu-id="15983-379">SharePoint 2016-Anwendung – MinRole</span><span class="sxs-lookup"><span data-stu-id="15983-379">SharePoint 2016 Application MinRole</span></span>       | <span data-ttu-id="15983-380">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="15983-380">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="15983-381">App1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="15983-381">App1.contoso.local</span></span>            |
| <span data-ttu-id="15983-382">Ra-sp2016-app-vm2</span><span class="sxs-lookup"><span data-stu-id="15983-382">Ra-sp2016-app-vm2</span></span>  | <span data-ttu-id="15983-383">SharePoint 2016-Anwendung – MinRole</span><span class="sxs-lookup"><span data-stu-id="15983-383">SharePoint 2016 Application MinRole</span></span>       | <span data-ttu-id="15983-384">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="15983-384">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="15983-385">App2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="15983-385">App2.contoso.local</span></span>            |
| <span data-ttu-id="15983-386">Ra-sp2016-dch-vm1</span><span class="sxs-lookup"><span data-stu-id="15983-386">Ra-sp2016-dch-vm1</span></span>  | <span data-ttu-id="15983-387">SharePoint 2016 – Verteilter Cache – MinRole</span><span class="sxs-lookup"><span data-stu-id="15983-387">SharePoint 2016 Distributed Cache MinRole</span></span> | <span data-ttu-id="15983-388">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="15983-388">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="15983-389">Dch1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="15983-389">Dch1.contoso.local</span></span>            |
| <span data-ttu-id="15983-390">Ra-sp2016-dch-vm2</span><span class="sxs-lookup"><span data-stu-id="15983-390">Ra-sp2016-dch-vm2</span></span>  | <span data-ttu-id="15983-391">SharePoint 2016 – Verteilter Cache – MinRole</span><span class="sxs-lookup"><span data-stu-id="15983-391">SharePoint 2016 Distributed Cache MinRole</span></span> | <span data-ttu-id="15983-392">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="15983-392">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="15983-393">Dch2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="15983-393">Dch2.contoso.local</span></span>            |
| <span data-ttu-id="15983-394">Ra-sp2016-srch-vm1</span><span class="sxs-lookup"><span data-stu-id="15983-394">Ra-sp2016-srch-vm1</span></span> | <span data-ttu-id="15983-395">SharePoint 2016-Suche – MinRole</span><span class="sxs-lookup"><span data-stu-id="15983-395">SharePoint 2016 Search MinRole</span></span>            | <span data-ttu-id="15983-396">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="15983-396">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="15983-397">Srch1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="15983-397">Srch1.contoso.local</span></span>           |
| <span data-ttu-id="15983-398">Ra-sp2016-srch-vm2</span><span class="sxs-lookup"><span data-stu-id="15983-398">Ra-sp2016-srch-vm2</span></span> | <span data-ttu-id="15983-399">SharePoint 2016-Suche – MinRole</span><span class="sxs-lookup"><span data-stu-id="15983-399">SharePoint 2016 Search MinRole</span></span>            | <span data-ttu-id="15983-400">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="15983-400">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="15983-401">Srch2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="15983-401">Srch2.contoso.local</span></span>           |
| <span data-ttu-id="15983-402">Ra-sp2016-wfe-vm1</span><span class="sxs-lookup"><span data-stu-id="15983-402">Ra-sp2016-wfe-vm1</span></span>  | <span data-ttu-id="15983-403">SharePoint 2016-Web-Front-End – MinRole</span><span class="sxs-lookup"><span data-stu-id="15983-403">SharePoint 2016 Web Front End MinRole</span></span>     | <span data-ttu-id="15983-404">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="15983-404">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="15983-405">Wfe1.contoso.local</span><span class="sxs-lookup"><span data-stu-id="15983-405">Wfe1.contoso.local</span></span>            |
| <span data-ttu-id="15983-406">Ra-sp2016-wfe-vm2</span><span class="sxs-lookup"><span data-stu-id="15983-406">Ra-sp2016-wfe-vm2</span></span>  | <span data-ttu-id="15983-407">SharePoint 2016-Web-Front-End – MinRole</span><span class="sxs-lookup"><span data-stu-id="15983-407">SharePoint 2016 Web Front End MinRole</span></span>     | <span data-ttu-id="15983-408">Ra-sp2016-workload-rg</span><span class="sxs-lookup"><span data-stu-id="15983-408">Ra-sp2016-workload-rg</span></span> | <span data-ttu-id="15983-409">Wfe2.contoso.local</span><span class="sxs-lookup"><span data-stu-id="15983-409">Wfe2.contoso.local</span></span>            |


<span data-ttu-id="15983-410">**_Mitwirkende dieser Referenzarchitektur_** &mdash; Joe Davies, Bob Fox, Neil Hodgkinson, Paul Stork</span><span class="sxs-lookup"><span data-stu-id="15983-410">**_Contributors to this reference architecture_** &mdash;  Joe Davies, Bob Fox, Neil Hodgkinson, Paul Stork</span></span>

<!-- links -->

[availability-set]: /azure/virtual-machines/windows/manage-availability
[azure-portal]: https://portal.azure.com
[azure-ps]: /powershell/azure/overview
[azure-pricing]: https://azure.microsoft.com/pricing/calculator/
[bastion-host]: https://en.wikipedia.org/wiki/Bastion_host
[create-availability-group]: https://technet.microsoft.com/library/mt793548(v=office.16).aspx
[connect-to-vm]: /azure/virtual-machines/windows/quick-create-portal#connect-to-virtual-machine
[github]: https://github.com/mspnp/reference-architectures
[hybrid-ra]: ../hybrid-networking/index.md
[hybrid-vpn-ra]: ../hybrid-networking/vpn.md
[load-balancer]: /azure/load-balancer/load-balancer-internal-overview
[managed-disks]: /azure/storage/storage-managed-disks-overview
[minroles]: https://technet.microsoft.com/library/mt346114(v=office.16).aspx
[nsg]: /azure/virtual-network/virtual-networks-nsg
[office-web-apps]: https://support.microsoft.com/help/3199955/office-web-apps-and-office-online-server-supportability-in-azure
[paired-regions]: /azure/best-practices-availability-paired-regions
[readme]: https://github.com/mspnp/reference-architectures/tree/master/sharepoint/sharepoint-2016
[resource-group]: /azure/azure-resource-manager/resource-group-overview
[quotas]: /azure/azure-subscription-service-limits
[sharepoint-accounts]: https://technet.microsoft.com/library/ee662513(v=office.16).aspx
[sharepoint-crawling]: https://technet.microsoft.com/library/dn535606(v=office.16).aspx
[sharepoint-dr]: https://technet.microsoft.com/library/ff628971(v=office.16).aspx
[sharepoint-hybrid]: https://aka.ms/sphybrid
[sharepoint-minrole]: https://technet.microsoft.com/library/mt743705(v=office.16).aspx
[sharepoint-ops]: https://technet.microsoft.com/library/cc262289(v=office.16).aspx
[sharepoint-reqs]: https://technet.microsoft.com/library/cc262485(v=office.16).aspx
[sharepoint-search]: https://technet.microsoft.com/library/dn342836.aspx
[sql-always-on]: /sql/database-engine/availability-groups/windows/always-on-availability-groups-sql-server
[sql-performance]: /virtual-machines/windows/sql/virtual-machines-windows-sql-performance
[sql-server-capacity-planning]: https://technet.microsoft.com/library/cc298801(v=office.16).aspx
[sql-quorum]: https://technet.microsoft.com/library/cc731739(v=ws.11).aspx
[sql-sharepoint-best-practices]: https://technet.microsoft.com/library/hh292622(v=office.16).aspx
[tempdb]: /sql/relational-databases/databases/tempdb-database
[virtual-networks-nsg]: /azure/virtual-network/virtual-networks-nsg
[visio-download]: https://archcenter.azureedge.net/cdn/Sharepoint-2016.vsdx
[vm-sizes-general]: /azure/virtual-machines/windows/sizes-general
[vm-sizes-memory]: /azure/virtual-machines/windows/sizes-memory
[windows-n-tier]: ../virtual-machines-windows/n-tier.md
