---
title: Beschleunigen der digitalen bildbasierten Modellierung in Azure
titleSuffix: Azure Example Scenarios
description: Beschleunigen der digitalen bildbasierten Modellierung in Azure mit Avere und Agisoft PhotoScan
author: adamboeglin
ms.date: 01/11/2019
ms.topic: example-scenario
ms.service: architecture-center
ms.subservice: example-scenario
ms.custom: cat-team, Linux, HPC
social_image_url: /azure/architecture/example-scenario/infrastructure/media/architecture-image-modeling.png
ms.openlocfilehash: 981d9f01ef12f75d9b292196f754f3a0affa791a
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 04/17/2019
ms.locfileid: "59640378"
---
# <a name="accelerate-digital-image-based-modeling-on-azure"></a><span data-ttu-id="6c153-103">Beschleunigen der digitalen bildbasierten Modellierung in Azure</span><span class="sxs-lookup"><span data-stu-id="6c153-103">Accelerate digital image-based modeling on Azure</span></span>

<span data-ttu-id="6c153-104">Dieses Beispielszenario kann als Architektur- und Entwurfsleitfaden für jede Organisation dienen, die die bildbasierte Modellierung in Azure IaaS (Infrastructure-as-a-Service) durchführen möchte.</span><span class="sxs-lookup"><span data-stu-id="6c153-104">This example scenario provides architecture and design guidance for any organization that wants to perform image-based modeling on Azure infrastructure-as-a-service (IaaS).</span></span> <span data-ttu-id="6c153-105">Das Szenario ist für die Ausführung von Photogrammetriesoftware in Azure Virtual Machines (VMs) mit Hochleistungsspeicher zum Beschleunigen der Verarbeitung konzipiert.</span><span class="sxs-lookup"><span data-stu-id="6c153-105">The scenario is designed for running photogrammetry software on Azure Virtual Machines (VMs) using high-performance storage that accelerates processing time.</span></span> <span data-ttu-id="6c153-106">Die Umgebung kann ohne Kompromisse bei der Leistung nach Bedarf zentral hoch- und herunterskaliert werden und unterstützt Terabytes von Speicher.</span><span class="sxs-lookup"><span data-stu-id="6c153-106">The environment can be scaled up and down as needed and supports terabytes of storage without sacrificing performance.</span></span>

## <a name="relevant-use-cases"></a><span data-ttu-id="6c153-107">Relevante Anwendungsfälle</span><span class="sxs-lookup"><span data-stu-id="6c153-107">Relevant use cases</span></span>

<span data-ttu-id="6c153-108">Zu den relevanten Anwendungsfällen zählen:</span><span class="sxs-lookup"><span data-stu-id="6c153-108">Relevant use cases include:</span></span>

- <span data-ttu-id="6c153-109">Modellierung und Messung von Gebäuden und Bauwerken sowie Unfallorten zur forensischen Untersuchung</span><span class="sxs-lookup"><span data-stu-id="6c153-109">Modeling and measuring buildings, engineering structures, and forensic accident scenes.</span></span>
- <span data-ttu-id="6c153-110">Erstellung von visuellen Effekten für Computerspiele und Filme</span><span class="sxs-lookup"><span data-stu-id="6c153-110">Creating visual effects for computer games and movies.</span></span>
- <span data-ttu-id="6c153-111">Verwendung digitaler Bilder zum indirekten Generieren von Messungen von Objekten verschiedener Größen (z. B. bei der Stadtplanung und anderen Anwendungen)</span><span class="sxs-lookup"><span data-stu-id="6c153-111">Using digital images to indirectly generate measurements of objects of various scales as in urban planning and other applications.</span></span>

## <a name="architecture"></a><span data-ttu-id="6c153-112">Architecture</span><span class="sxs-lookup"><span data-stu-id="6c153-112">Architecture</span></span>

<span data-ttu-id="6c153-113">In diesem Beispiel wird die Verwendung der Photogrammetriesoftware Agisoft PhotoScan mit Avere vFXT-Speicher beschrieben.</span><span class="sxs-lookup"><span data-stu-id="6c153-113">This example describes the use of Agisoft PhotoScan photogrammetry software backed by Avere vFXT storage.</span></span> <span data-ttu-id="6c153-114">Die Software PhotoScan wurde aufgrund ihrer Beliebtheit im Bereich der GIS-Anwendungen (geografische Informationssysteme), der Dokumentation von Kulturgütern, Entwicklung von Spielen und Erzeugung visueller Effekte ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="6c153-114">PhotoScan was chosen for its popularity in geographic information system (GIS) applications, cultural heritage documentation, game development, and visual effects production.</span></span> <span data-ttu-id="6c153-115">Sie eignet sich sowohl für die Nahbereichsphotogrammetrie als auch die Luftphotogrammetrie.</span><span class="sxs-lookup"><span data-stu-id="6c153-115">It is suitable for both close-range photogrammetry and aerial photogrammetry.</span></span>

<span data-ttu-id="6c153-116">Die in diesem Artikel vorgestellten Konzepte gelten für alle HPC-Workloads (High Performance Computing) auf der Grundlage von Planer- und Workerknoten, die als Infrastruktur verwaltet werden.</span><span class="sxs-lookup"><span data-stu-id="6c153-116">The concepts in this article apply to any high-performance computing (HPC) workload based on a scheduler and worker nodes managed as infrastructure.</span></span>  <span data-ttu-id="6c153-117">Die Speicherlösung Avere vFXT wurde aufgrund ihrer herausragenden Leistung in Benchmarktests für diese Workload ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="6c153-117">For this workload, Avere vFXT was selected for its superior performance during benchmark tests.</span></span>  <span data-ttu-id="6c153-118">Da das Szenario den Speicher von der Verarbeitung entkoppelt, können jedoch auch andere Speicherlösungen verwendet werden (siehe [Alternativen](#alternatives) weiter unten in diesem Dokument).</span><span class="sxs-lookup"><span data-stu-id="6c153-118">However, the scenario decouples the storage from the processing so that other storage solutions can be used (see [alternatives](#alternatives) later in this document).</span></span>

<span data-ttu-id="6c153-119">Zum Steuern des Zugriffs auf Azure-Ressourcen und Bereitstellen der internen Namensauflösung durch das Domain Name System (DNS) enthält diese Architektur auch Active Directory-Domänencontroller.</span><span class="sxs-lookup"><span data-stu-id="6c153-119">This architecture also includes Active Directory domain controllers to control access to Azure resources and provide internal name resolution through the Domain Name System (DNS).</span></span> <span data-ttu-id="6c153-120">Jumpboxes bieten Administratoren Zugriff auf die Windows- und Linux-VMs, auf denen die Lösung ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="6c153-120">Jump boxes provide administrator access to the Windows and Linux VMs that run the solution.</span></span>

![Architekturdiagramm](./media/architecture-image-modeling.png)

1. <span data-ttu-id="6c153-122">Der Benutzer übermittelt eine Reihe von Bildern an PhotoScan.</span><span class="sxs-lookup"><span data-stu-id="6c153-122">User submits a number of images to PhotoScan.</span></span>
2. <span data-ttu-id="6c153-123">Der PhotoScan-Planer wird auf einer Windows-VM ausgeführt, die als Hauptknoten fungiert und die Verarbeitung der Bilder des Benutzers steuert.</span><span class="sxs-lookup"><span data-stu-id="6c153-123">The PhotoScan Scheduler runs on a Windows VM that serves as the head node and directs processing of the user's images.</span></span>
3. <span data-ttu-id="6c153-124">PhotoScan sucht nach allgemeinen Punkten in den Fotos und erstellt die Geometrie (Gittermodell) mithilfe der PhotoScan-Verarbeitungsknoten, die auf VMs mit Grafikprozessoren (Graphics Processing Unit, GPU) ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="6c153-124">PhotoScan searches for common points on the photographs and constructs the geometry (mesh) using the PhotoScan processing nodes running on VMs with graphics processing units (GPUs).</span></span>
4. <span data-ttu-id="6c153-125">Avere vFXT stellt eine Hochleistungsspeicherlösung in Azure bereit, die auf Network File System Version 3 (NFS V3) basiert und aus mindestens vier VMs besteht.</span><span class="sxs-lookup"><span data-stu-id="6c153-125">Avere vFXT provides a high-performance storage solution on Azure based on Network File System version 3 (NFSv3) and comprised of at least four VMs.</span></span>
5. <span data-ttu-id="6c153-126">PhotoScan rendert das Modell.</span><span class="sxs-lookup"><span data-stu-id="6c153-126">PhotoScan renders the model.</span></span>

### <a name="components"></a><span data-ttu-id="6c153-127">Komponenten</span><span class="sxs-lookup"><span data-stu-id="6c153-127">Components</span></span>

- <span data-ttu-id="6c153-128">[Agisoft PhotoScan](http://www.agisoft.com/): Der PhotoScan-Planer wird auf einer Windows Server 2016-VM ausgeführt, und die Verarbeitungsknoten nutzen fünf VMs mit GPUs unter CentOS Linux 7.5.</span><span class="sxs-lookup"><span data-stu-id="6c153-128">[Agisoft PhotoScan](http://www.agisoft.com/): The PhotoScan Scheduler runs on a Windows 2016 Server VM, and the processing nodes use five VMs with GPUs that run CentOS Linux 7.5.</span></span>
- <span data-ttu-id="6c153-129">[Avere vFXT](/azure/avere-vfxt/avere-vfxt-overview) ist eine Lösung zur Dateizwischenspeicherung, die Objektspeicher und herkömmlichen Network Attached Storage (NAS) verwendet, um die Speicherung großer Datasets zu optimieren.</span><span class="sxs-lookup"><span data-stu-id="6c153-129">[Avere vFXT](/azure/avere-vfxt/avere-vfxt-overview) is a file caching solution that uses object storage and traditional network-attached storage (NAS) to optimize storage of large datasets.</span></span> <span data-ttu-id="6c153-130">Sie hat folgenden Inhalt:</span><span class="sxs-lookup"><span data-stu-id="6c153-130">It includes:</span></span>
  - <span data-ttu-id="6c153-131">Avere-Controller.</span><span class="sxs-lookup"><span data-stu-id="6c153-131">Avere Controller.</span></span> <span data-ttu-id="6c153-132">Diese VM führt das Skript aus, durch das der Avere vFXT-Cluster installiert wird, und führt Ubuntu 18.04 LTS aus.</span><span class="sxs-lookup"><span data-stu-id="6c153-132">This VM executes the script that installs the Avere vFXT cluster and runs Ubuntu 18.04 LTS.</span></span> <span data-ttu-id="6c153-133">Die VM kann später zum Hinzufügen oder Entfernen von Clusterknoten und auch zum Zerstören des Clusters verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6c153-133">The VM can be used later to add or remove cluster nodes and to destroy the cluster as well.</span></span>
  - <span data-ttu-id="6c153-134">vFXT-Cluster.</span><span class="sxs-lookup"><span data-stu-id="6c153-134">vFXT cluster.</span></span> <span data-ttu-id="6c153-135">Es werden mindestens drei VMs verwendet, eine für jeden der auf Avere OS 5.0.2.1 basierenden Avere vFXT-Knoten.</span><span class="sxs-lookup"><span data-stu-id="6c153-135">At least three VMs are used, one for each of the Avere vFXT nodes based on Avere OS 5.0.2.1.</span></span> <span data-ttu-id="6c153-136">Diese VMs bilden den vFXT-Cluster, der an Azure Blob Storage angefügt wird.</span><span class="sxs-lookup"><span data-stu-id="6c153-136">These VMs form the vFXT cluster, which is attached to Azure Blob storage.</span></span>
- <span data-ttu-id="6c153-137">[Microsoft Active Directory-Domänencontroller](/windows/desktop/ad/active-directory-domain-services) ermöglichen den Hostzugriff auf Domänenressourcen und stellen die DNS-Namensauflösung bereit.</span><span class="sxs-lookup"><span data-stu-id="6c153-137">[Microsoft Active Directory domain controllers](/windows/desktop/ad/active-directory-domain-services) allow the host access to domain resources and provide DNS name resolution.</span></span> <span data-ttu-id="6c153-138">Avere vFXT fügt eine Reihe von A-Einträgen hinzu. Beispielsweise verweist jeder A-Eintrag in einem vFXT-Cluster auf die IP-Adresse der einzelnen Avere vFXT-Knoten.</span><span class="sxs-lookup"><span data-stu-id="6c153-138">Avere vFXT adds a number of A records &mdash; for example, each A record in a vFXT cluster points to the IP address of each Avere vFXT node.</span></span> <span data-ttu-id="6c153-139">In dieser Konfiguration greifen alle VMs mit dem Roundrobin-Muster auf vFXT-Exporte zu.</span><span class="sxs-lookup"><span data-stu-id="6c153-139">In this setup, all VMs use the round-robin pattern to access vFXT exports.</span></span>
- <span data-ttu-id="6c153-140">[Andere VMs](/azure/virtual-machines/) dienen als Jumpboxes, über die der Administrator auf die Planer- und Verarbeitungsknoten zugreift.</span><span class="sxs-lookup"><span data-stu-id="6c153-140">[Other VMs](/azure/virtual-machines/) serve as jump boxes used by the administrator to access the scheduler and processing nodes.</span></span> <span data-ttu-id="6c153-141">Die Windows-Jumpbox ist erforderlich, damit der Administrator über das Remotedesktopprotokoll auf den Hauptknoten zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="6c153-141">The Windows jumpbox is mandatory to allow the administrator to access the head node via remote desktop protocol.</span></span> <span data-ttu-id="6c153-142">Die zweite Jumpbox ist optional und führt zur Verwaltung der Workerknoten Linux aus.</span><span class="sxs-lookup"><span data-stu-id="6c153-142">The second jumpbox is optional and runs Linux for administration of the worker nodes.</span></span>
- <span data-ttu-id="6c153-143">[Netzwerksicherheitsgruppen](/azure/virtual-network/manage-network-security-group) (NSGs) beschränken den Zugriff auf die öffentliche IP-Adresse (PIP) und lassen die Ports 3389 und 22 für den Zugriff auf die VMs zu, die an das Subnetz der Jumpbox angefügt sind.</span><span class="sxs-lookup"><span data-stu-id="6c153-143">[Network security groups](/azure/virtual-network/manage-network-security-group) (NSGs) limit access to the public IP address (PIP) and allow ports 3389 and 22 for access to the VMs attached to the Jumpbox subnet.</span></span>
- <span data-ttu-id="6c153-144">Per [Peering in virtuellen Netzwerken](/azure/virtual-network/virtual-network-peering-overview) wird ein virtuelles PhotoScan-Netzwerk mit einem virtuellen Avere-Netzwerk verbunden.</span><span class="sxs-lookup"><span data-stu-id="6c153-144">[Virtual network peering](/azure/virtual-network/virtual-network-peering-overview) connects a PhotoScan virtual network to an Avere virtual network.</span></span>
- <span data-ttu-id="6c153-145">[Azure Blob Storage](/azure/storage/blobs/storage-blobs-introduction) arbeitet mit Avere vFXT als Kernspeichereinheit, um die committeten Daten zu speichern, die verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="6c153-145">[Azure Blob storage](/azure/storage/blobs/storage-blobs-introduction) works with Avere vFXT as the core filer to store the committed data being processed.</span></span> <span data-ttu-id="6c153-146">Avere vFXT identifiziert die in Azure Blob Storage gespeicherten aktiven Daten und verschiebt sie per Tiering auf SSD-Datenträger (Solid State Drive), die während der Ausführung eines PhotoScan-Auftrags zum Zwischenspeichern in den Computeknoten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6c153-146">Avere vFXT identifies the active data stored in Azure Blob and tiers it into solid-state drives (SSD) used for caching in its compute nodes while a PhotoScan job is running.</span></span> <span data-ttu-id="6c153-147">Wenn Änderungen vorgenommen werden, werden die Daten asynchron zurück an die Kernspeichereinheit committet.</span><span class="sxs-lookup"><span data-stu-id="6c153-147">If changes are made, the data is asynchronously committed back to the core filer.</span></span>
- <span data-ttu-id="6c153-148">[Azure Key Vault](/azure/key-vault/key-vault-overview) wird zum Speichern der Administratorkennwörter und des PhotoScan-Aktivierungscodes verwendet.</span><span class="sxs-lookup"><span data-stu-id="6c153-148">[Azure Key Vault](/azure/key-vault/key-vault-overview) is used to store the administrator passwords and PhotoScan activation code.</span></span>

### <a name="alternatives"></a><span data-ttu-id="6c153-149">Alternativen</span><span class="sxs-lookup"><span data-stu-id="6c153-149">Alternatives</span></span>

- <span data-ttu-id="6c153-150">Wenn Sie Azure-Dienste für die Verwaltung eines HPC-Clusters nutzen möchten, können Sie Tools wie Azure CycleCloud oder Azure Batch verwenden, anstatt die Ressourcen über Vorlagen oder Skripts zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="6c153-150">To take advantage of Azure services for managing an HPC cluster, use tools such as Azure CycleCloud or Azure Batch instead of managing the resources through templates or scripts.</span></span>
- <span data-ttu-id="6c153-151">Stellen Sie anstelle Avere vFXT das parallele virtuelle BeeGFS-Dateisystem als Back-End-Speicher in Azure bereit.</span><span class="sxs-lookup"><span data-stu-id="6c153-151">Deploy the BeeGFS parallel virtual file system as the back-end storage on Azure instead of Avere vFXT.</span></span> <span data-ttu-id="6c153-152">Verwenden Sie die [BeeGFS-Vorlage](https://github.com/paulomarquesc/beegfs-template), um diese End-to-End-Lösung in Azure bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="6c153-152">Use the [BeeGFS template](https://github.com/paulomarquesc/beegfs-template) to deploy this end-to-end solution on Azure.</span></span>
- <span data-ttu-id="6c153-153">Stellen Sie die Speicherlösung Ihrer Wahl bereit, z. B. GlusterFS, Lustre oder direkte Windows-Speicherplätze.</span><span class="sxs-lookup"><span data-stu-id="6c153-153">Deploy the storage solution of your choice, such as GlusterFS, Lustre, or Windows Storage Spaces Direct.</span></span> <span data-ttu-id="6c153-154">Bearbeiten Sie dazu die [PhotoScan-Vorlage](https://github.com/paulomarquesc/photoscan-template) zur Verwendung der gewünschten Speicherlösung.</span><span class="sxs-lookup"><span data-stu-id="6c153-154">To do this, edit the [PhotoScan template](https://github.com/paulomarquesc/photoscan-template) to work with the storage solution you want.</span></span>
- <span data-ttu-id="6c153-155">Stellen Sie die Workerknoten nicht mit Linux (Standardoption), sondern mit dem Windows-Betriebssystem bereit.</span><span class="sxs-lookup"><span data-stu-id="6c153-155">Deploy the worker nodes with the Windows operating system instead of Linux, the default option.</span></span> <span data-ttu-id="6c153-156">Wenn Sie sich für Windows-Knoten entscheiden, werden die Optionen für die Speicherintegration nicht von den Bereitstellungsvorlagen ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="6c153-156">When choosing Windows nodes, storage integration options are not executed by the deployment templates.</span></span> <span data-ttu-id="6c153-157">Sie müssen die Umgebung manuell in eine vorhandene Speicherlösung integrieren oder die PhotoScan-Vorlage anpassen, um eine solche Automatisierung zu implementieren (Informationen dazu finden Sie im [Repository](https://github.com/paulomarquesc/photoscan-template/blob/master/docs/AverePostDeploymentSteps.md)).</span><span class="sxs-lookup"><span data-stu-id="6c153-157">You must manually integrate the environment with an existing storage solution, or customize the PhotoScan template to provide such automation, as described in the [repository](https://github.com/paulomarquesc/photoscan-template/blob/master/docs/AverePostDeploymentSteps.md).</span></span>

## <a name="considerations"></a><span data-ttu-id="6c153-158">Überlegungen</span><span class="sxs-lookup"><span data-stu-id="6c153-158">Considerations</span></span>

<span data-ttu-id="6c153-159">Dieses Szenario ist speziell für die Bereitstellung von Hochleistungsspeicher für eine HPC-Workload unter Windows oder Linux konzipiert.</span><span class="sxs-lookup"><span data-stu-id="6c153-159">This scenario is designed specifically to provide high-performance storage for an HPC workload, whether it is deployed on Windows or Linux.</span></span> <span data-ttu-id="6c153-160">Im Allgemeinen sollte die Speicherkonfiguration der HPC-Workload den jeweiligen bewährten Methoden entsprechen, die für lokale Bereitstellungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6c153-160">In general, the storage configuration of the HPC workload should match the appropriate best practices used for on-premises deployments.</span></span>

<span data-ttu-id="6c153-161">Die Überlegungen zur Bereitstellung hängen von den verwendeten Anwendungen und Diensten ab. Folgendes ist jedoch zu beachten:</span><span class="sxs-lookup"><span data-stu-id="6c153-161">Deployment considerations depend on the applications and services used, but a few notes apply:</span></span>

- <span data-ttu-id="6c153-162">Verwenden Sie beim Erstellen von Hochleistungsanwendungen Azure Storage Premium, und [optimieren Sie die Anwendungsschicht](/azure/virtual-machines/windows/premium-storage-performance).</span><span class="sxs-lookup"><span data-stu-id="6c153-162">When building high-performance applications, use Azure Premium Storage and [optimize the application layer](/azure/virtual-machines/windows/premium-storage-performance).</span></span> <span data-ttu-id="6c153-163">Optimieren Sie den Speicher für den häufigen Zugriff mit der [heißen Zugriffsebene](/azure/storage/blobs/storage-blob-storage-tiers) von Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="6c153-163">Optimize storage for frequent access using Azure Blob [hot tier access](/azure/storage/blobs/storage-blob-storage-tiers).</span></span>
- <span data-ttu-id="6c153-164">Verwenden Sie eine [Replikationsoption](/azure/storage/common/storage-redundancy) für den Speicher, die Ihre Anforderungen in Bezug auf die Verfügbarkeit und Leistung erfüllt.</span><span class="sxs-lookup"><span data-stu-id="6c153-164">Use a storage [replication option](/azure/storage/common/storage-redundancy) that meets your availability and performance requirements.</span></span> <span data-ttu-id="6c153-165">In diesem Beispiel wird Avere vFXT standardmäßig mit lokal redundantem Speicher (Locally Redundant Storage, LRS) für Hochverfügbarkeit konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="6c153-165">In this example, Avere vFXT is configured for high availability by default, with locally redundant storage (LRS).</span></span> <span data-ttu-id="6c153-166">Zum Bereitstellen eines Lastenausgleichs greifen in dieser Konfiguration alle VMs mit dem Roundrobin-Muster auf vFXT-Exporte zu.</span><span class="sxs-lookup"><span data-stu-id="6c153-166">For load balancing, all VMs in this setup use the round-robin pattern to access vFXT exports.</span></span>
- <span data-ttu-id="6c153-167">Verwenden Sie Samba-Server zum Unterstützen der Windows-Knoten, wenn der Back-End-Speicher sowohl von Windows- als auch Linux-Clients genutzt wird.</span><span class="sxs-lookup"><span data-stu-id="6c153-167">If the backend storage will be consumed by both Windows clients and Linux clients, use Samba servers to support the Windows nodes.</span></span> <span data-ttu-id="6c153-168">Eine auf BeeGFS beruhende [Version](https://github.com/paulomarquesc/beegfs-template) dieses Beispielszenarios verwendet Samba, um den Planerknoten der unter Windows ausgeführten HPC-Workload (PhotoScan) zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="6c153-168">A [version](https://github.com/paulomarquesc/beegfs-template) of this example scenario based on BeeGFS uses Samba to support the scheduler node of the HPC workload (PhotoScan) running on Windows.</span></span> <span data-ttu-id="6c153-169">Ein Lastenausgleich wird als intelligenter Ersatz für den DNS-Roundrobin bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="6c153-169">A load balancer is deployed to act like a smart replacement for DNS round robin.</span></span>
- <span data-ttu-id="6c153-170">Führen Sie HPC-Anwendungen mit dem VM-Typ aus, der sich am besten für Ihre [Windows](/azure/virtual-machines/windows/sizes-hpc)- oder [Linux](/azure/virtual-machines/linux/sizes?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json)-Workload eignet.</span><span class="sxs-lookup"><span data-stu-id="6c153-170">Run HPC applications using the VM type best suited for your [Windows](/azure/virtual-machines/windows/sizes-hpc) or [Linux](/azure/virtual-machines/linux/sizes?toc=%2fazure%2fvirtual-machines%2flinux%2ftoc.json) workload.</span></span>
- <span data-ttu-id="6c153-171">Isolieren Sie die HPC-Workload von den Speicherressourcen, indem Sie sie jeweils in einem eigenen virtuellen Netzwerk bereitstellen, und verbinden Sie die beiden Komponenten dann per [Peering](/azure/virtual-network/virtual-network-peering-overview) in virtuellen Netzwerken.</span><span class="sxs-lookup"><span data-stu-id="6c153-171">To isolate the HPC workload from the storage resources, deploy each in its own virtual network, then use virtual network [peering](/azure/virtual-network/virtual-network-peering-overview) to connect the two.</span></span> <span data-ttu-id="6c153-172">Durch das Peering wird eine Verbindung mit geringer Wartezeit und hoher Bandbreite zwischen Ressourcen in unterschiedlichen virtuellen Netzwerken erstellt und Datenverkehr durch die Microsoft-Backbone-Infrastruktur nur über private IP-Adressen weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="6c153-172">Peering creates a low-latency, high-bandwidth connection between resources in different virtual networks and routes traffic through the Microsoft backbone infrastructure through private IP addresses only.</span></span>

### <a name="security"></a><span data-ttu-id="6c153-173">Sicherheit</span><span class="sxs-lookup"><span data-stu-id="6c153-173">Security</span></span>

<span data-ttu-id="6c153-174">In diesem Beispiel geht es in erster Linie um die Bereitstellung einer Hochleistungsspeicherlösung für eine HPC-Workload. Die vorgestellte Lösung ist daher keine Sicherheitslösung.</span><span class="sxs-lookup"><span data-stu-id="6c153-174">This example focuses on deploying a high-performance storage solution for an HPC workload and is not a security solution.</span></span> <span data-ttu-id="6c153-175">Ziehen Sie bei allen Änderungen Ihr Sicherheitsteam hinzu.</span><span class="sxs-lookup"><span data-stu-id="6c153-175">Make sure to involve your security team for any changes.</span></span>

<span data-ttu-id="6c153-176">Die Beispielinfrastruktur ermöglicht es, alle Windows-VMs in eine Domäne einzubinden, und verwendet Active Directory für die zentrale Authentifizierung, um die Sicherheit zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="6c153-176">For added security, this example infrastructure enables all the Windows VMs to be domain-joined and uses Active Directory for central authentication.</span></span> <span data-ttu-id="6c153-177">Zudem bietet sie benutzerdefinierte DNS-Dienste für alle VMs.</span><span class="sxs-lookup"><span data-stu-id="6c153-177">It also provides custom DNS services for all VMs.</span></span> <span data-ttu-id="6c153-178">Um die Umgebung zu schützen, beruht diese Vorlage auf [Netzwerksicherheitsgruppen (NSGs)](/azure/virtual-network/security-overview).</span><span class="sxs-lookup"><span data-stu-id="6c153-178">To help protect the environment, this template relies on [network security groups (NSGs)](/azure/virtual-network/security-overview).</span></span> <span data-ttu-id="6c153-179">NSGs bieten grundlegende Datenverkehrsfilter und Sicherheitsregeln.</span><span class="sxs-lookup"><span data-stu-id="6c153-179">NSGs offer basic traffic filters and security rules.</span></span>

<span data-ttu-id="6c153-180">Die Sicherheit kann in diesem Szenario mit den folgenden Optionen zusätzlich erhöht werden:</span><span class="sxs-lookup"><span data-stu-id="6c153-180">Consider the following options to further improve security in this scenario:</span></span>

- <span data-ttu-id="6c153-181">Verwenden von virtuellen Netzwerkgeräten wie Fortinet, Checkpoint und Juniper</span><span class="sxs-lookup"><span data-stu-id="6c153-181">Use network virtual appliances such as Fortinet, Checkpoint, and Juniper.</span></span>
- <span data-ttu-id="6c153-182">Anwenden der [rollenbasierten Zugriffssteuerung](/azure/role-based-access-control/overview) auf die Ressourcengruppen</span><span class="sxs-lookup"><span data-stu-id="6c153-182">Apply [role-based access control](/azure/role-based-access-control/overview) to the resource groups.</span></span>
- <span data-ttu-id="6c153-183">Aktivieren des VM-[JIT](/azure/security-center/security-center-just-in-time)-Zugriffs, wenn über das Internet auf Jumpboxes zugegriffen wird</span><span class="sxs-lookup"><span data-stu-id="6c153-183">Enable VM [JIT](/azure/security-center/security-center-just-in-time) access if jump boxes are accessed via the Internet.</span></span>
- <span data-ttu-id="6c153-184">Verwenden von [Azure Key Vault](/azure/key-vault/quick-create-portal) zum Speichern der Kennwörter von Administratorkonten</span><span class="sxs-lookup"><span data-stu-id="6c153-184">Use [Azure Key Vault](/azure/key-vault/quick-create-portal) to store the passwords used by administrator accounts.</span></span>

## <a name="pricing"></a><span data-ttu-id="6c153-185">Preise</span><span class="sxs-lookup"><span data-stu-id="6c153-185">Pricing</span></span>

<span data-ttu-id="6c153-186">Die Kosten für die Umsetzung dieses Szenarios hängen von mehreren Faktoren ab und können erheblich variieren.</span><span class="sxs-lookup"><span data-stu-id="6c153-186">The cost of running this scenario can vary greatly depending on multiple factors.</span></span>  <span data-ttu-id="6c153-187">Die Anzahl und Größe der VMs, der erforderliche Speicherplatz und die zum Ausführen eines Auftrags benötigte Zeit bestimmen die Kosten.</span><span class="sxs-lookup"><span data-stu-id="6c153-187">The number and size of VMs, how much storage is required, and the amount of time to complete a job will determine your cost.</span></span>

<span data-ttu-id="6c153-188">Das folgende Beispielkostenprofil im [Azure-Preisrechner](https://azure.com/e/42362ddfd2e245a28a8e78bc609c80f3) basiert auf einer typischen Konfiguration für Avere vFXT und PhotoScan:</span><span class="sxs-lookup"><span data-stu-id="6c153-188">The following sample cost profile in the [Azure pricing calculator](https://azure.com/e/42362ddfd2e245a28a8e78bc609c80f3) is based on a typical configuration for Avere vFXT and PhotoScan:</span></span>

- <span data-ttu-id="6c153-189">Eine A1\_v2-Ubuntu-VM zum Ausführen des Avere-Controllers</span><span class="sxs-lookup"><span data-stu-id="6c153-189">1 A1\_v2 Ubuntu VM to run the Avere controller.</span></span>
- <span data-ttu-id="6c153-190">Drei D16s\_v3-Avere OS-VMs (eine für jeden der Avere vFXT-Knoten, aus denen der vFXT-Cluster besteht)</span><span class="sxs-lookup"><span data-stu-id="6c153-190">3 D16s\_v3 Avere OS VMs, one for each of the Avere vFXT nodes that form the vFXT cluster.</span></span>
- <span data-ttu-id="6c153-191">Fünf NC24\_v2-Linux-VMs zum Bereitstellen der erforderlichen GPUs für die PhotoScan-Verarbeitungsknoten</span><span class="sxs-lookup"><span data-stu-id="6c153-191">5 NC24\_v2 Linux VMs to provide the GPUs needed by the PhotoScan processing nodes.</span></span>
- <span data-ttu-id="6c153-192">Eine D8s\_v3-CentOS-VM für den PhotoScan-Planerknoten</span><span class="sxs-lookup"><span data-stu-id="6c153-192">1 D8s\_v3 CentOS VM for the PhotoScan scheduler node.</span></span>
- <span data-ttu-id="6c153-193">Eine DS2\_v2-CentOS-VM zur Verwendung als Administrator-Jumpbox</span><span class="sxs-lookup"><span data-stu-id="6c153-193">1 DS2\_v2 CentOS used as administrator jumpbox.</span></span>
- <span data-ttu-id="6c153-194">Zwei DS2\_v2-VMs für die Active Directory-Domänencontroller</span><span class="sxs-lookup"><span data-stu-id="6c153-194">2 DS2\_v2 VMs for the Active Directory domain controllers.</span></span>
- <span data-ttu-id="6c153-195">Verwaltete Premium-Datenträger</span><span class="sxs-lookup"><span data-stu-id="6c153-195">Premium managed disks.</span></span>
- <span data-ttu-id="6c153-196">Universeller v2 (GPv2)-Blobspeicher mit lokal redundantem Speicher und heißer Zugriffsebene (das Zugriffsebenenattribut ist nur bei GPv2-Speicherkonten verfügbar)</span><span class="sxs-lookup"><span data-stu-id="6c153-196">General purpose v2 (GPv2) Blob storage with LRS and hot tier access (only GPv2 storage accounts expose the Access Tier attribute).</span></span>
- <span data-ttu-id="6c153-197">Virtuelles Netzwerk mit Unterstützung für die 10 TB-Datenübertragung</span><span class="sxs-lookup"><span data-stu-id="6c153-197">Virtual network with support for 10 TB data transfer.</span></span>

<span data-ttu-id="6c153-198">Ausführliche Informationen zu dieser Architektur finden Sie im [E-Book](https://azure.microsoft.com/en-us/resources/deploy-agisoft-photoscan-on-azure-with-azere-vfxt-for-azure-or-beegfs/).</span><span class="sxs-lookup"><span data-stu-id="6c153-198">For details about this architecture, see the [ebook](https://azure.microsoft.com/en-us/resources/deploy-agisoft-photoscan-on-azure-with-azere-vfxt-for-azure-or-beegfs/).</span></span> <span data-ttu-id="6c153-199">Wenn Sie wissen möchten, welche Kosten für Ihren spezifischen Anwendungsfall entstehen, wählen Sie im Preisrechner die unterschiedlichen VM-Größen für Ihre erwartete Bereitstellung aus.</span><span class="sxs-lookup"><span data-stu-id="6c153-199">To see how the pricing would change for your particular use case, choose different VM sizes in the pricing calculator to match your expected deployment.</span></span>

## <a name="deployment"></a><span data-ttu-id="6c153-200">Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="6c153-200">Deployment</span></span>

<span data-ttu-id="6c153-201">Ausführliche Anweisungen zum Bereitstellen dieser Architektur (einschließlich aller Voraussetzungen für die Verwendung von Avere FXT oder BeeGFS) finden Sie in dem zum Download verfügbaren E-Book: [Deploy Agisoft PhotoScan on Azure With Avere vFXT for Azure or BeeGFS](https://azure.microsoft.com/en-us/resources/deploy-agisoft-photoscan-on-azure-with-azere-vfxt-for-azure-or-beegfs/) (Bereitstellen von Agisoft PhotoScan in Azure mit Avere vFXT for Azure oder BeeGFS)</span><span class="sxs-lookup"><span data-stu-id="6c153-201">For step-by-step instructions for deploying this architecture, including all the prerequisites for using either Avere FxT or BeeGFS, download the ebook: [Deploy Agisoft PhotoScan on Azure With Avere vFXT for Azure or BeeGFS](https://azure.microsoft.com/en-us/resources/deploy-agisoft-photoscan-on-azure-with-azere-vfxt-for-azure-or-beegfs/).</span></span>

## <a name="related-resources"></a><span data-ttu-id="6c153-202">Zugehörige Ressourcen</span><span class="sxs-lookup"><span data-stu-id="6c153-202">Related resources</span></span>

<span data-ttu-id="6c153-203">In den folgenden Ressourcen finden Sie weitere Informationen zu den in diesem Szenario verwendeten Komponenten und alternative Ansätze für das Batchcomputing in Azure.</span><span class="sxs-lookup"><span data-stu-id="6c153-203">The following resources will provide more information on the components utilized in this scenario, along with alternative approaches for batch computing on Azure.</span></span>

- <span data-ttu-id="6c153-204">Übersicht über [Avere vFXT for Azure](/azure/avere-vfxt/avere-vfxt-overview)</span><span class="sxs-lookup"><span data-stu-id="6c153-204">Overview of [Avere vFXT for Azure](/azure/avere-vfxt/avere-vfxt-overview)</span></span>
- <span data-ttu-id="6c153-205">Homepage von [Agisoft PhotoScan](https://www.agisoft.com/)</span><span class="sxs-lookup"><span data-stu-id="6c153-205">[Agisoft PhotoScan](https://www.agisoft.com/) home Page</span></span>
- [<span data-ttu-id="6c153-206">Checkliste zu Leistung und Skalierbarkeit von Microsoft Azure Storage</span><span class="sxs-lookup"><span data-stu-id="6c153-206">Azure Storage Performance and Scalability Checklist</span></span>](/azure/storage/common/storage-performance-checklist)
- <span data-ttu-id="6c153-207">[Parallel Virtual File Systems on Microsoft Azure: Performance tests of Lustre, GlusterFS, and BeeGFS](https://azure.microsoft.com/mediahandler/files/resourcefiles/parallel-virtual-file-systems-on-microsoft-azure/Parallel_Virtual_File_Systems_on_Microsoft_Azure.pdf) (Parallele virtuelle Dateisysteme in Microsoft Azure: Leistungstests von Lustre, GlusterFS und BeeGFS (PDF))</span><span class="sxs-lookup"><span data-stu-id="6c153-207">[Parallel Virtual File Systems on Microsoft Azure: Performance tests of Lustre, GlusterFS, and BeeGFS](https://azure.microsoft.com/mediahandler/files/resourcefiles/parallel-virtual-file-systems-on-microsoft-azure/Parallel_Virtual_File_Systems_on_Microsoft_Azure.pdf) (PDF)</span></span>
- <span data-ttu-id="6c153-208">Beispielszenario für einen [CAE-Dienst in Azure](/azure/architecture/example-scenario/apps/hpc-saas)</span><span class="sxs-lookup"><span data-stu-id="6c153-208">An example scenario for [computer-aided engineering (CAE) on Azure](/azure/architecture/example-scenario/apps/hpc-saas)</span></span>
- <span data-ttu-id="6c153-209">Homepage von [HPC in Azure](https://azure.microsoft.com/en-us/solutions/high-performance-computing/)</span><span class="sxs-lookup"><span data-stu-id="6c153-209">[HPC on Azure](https://azure.microsoft.com/en-us/solutions/high-performance-computing/) home page</span></span>
- <span data-ttu-id="6c153-210">Übersicht über [Big Compute: HPC &amp; Microsoft Batch](https://azure.microsoft.com/en-us/solutions/big-compute/)</span><span class="sxs-lookup"><span data-stu-id="6c153-210">Overview of [Big Compute: HPC &amp; Microsoft Batch](https://azure.microsoft.com/en-us/solutions/big-compute/)</span></span>