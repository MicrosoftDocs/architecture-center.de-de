---
title: Schützen von Windows-Webanwendungen für Branchen mit Regulierung
description: Bewährtes Szenario für die Erstellung einer sicheren Webanwendung mit mehreren Ebenen mithilfe von Windows Server in Azure, für die Skalierungsgruppen, Application Gateway und Lastenausgleichsmodule verwendet werden.
author: iainfoulds
ms.date: 07/11/2018
ms.openlocfilehash: 3572f215d9134a6650d76e1b14458226334c6f42
ms.sourcegitcommit: c49aeef818d7dfe271bc4128b230cfc676f05230
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 09/11/2018
ms.locfileid: "44389277"
---
# <a name="secure-windows-web-application-for-regulated-industries"></a><span data-ttu-id="ca1c3-103">Schützen von Windows-Webanwendungen für Branchen mit Regulierung</span><span class="sxs-lookup"><span data-stu-id="ca1c3-103">Secure Windows web application for regulated industries</span></span>

<span data-ttu-id="ca1c3-104">Dieses Beispielszenario gilt für Branchen mit Regulierung, in denen Anwendungen mit mehreren Ebenen geschützt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-104">This sample scenario is applicable to regulated industries that have a need to secure multi-tier applications.</span></span> <span data-ttu-id="ca1c3-105">In diesem Szenario stellt eine Front-End-ASP.NET-Anwendung eine sichere Verbindung mit einem geschützten Microsoft SQL Server-Back-End-Cluster her.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-105">In this scenario, a front-end ASP.NET application securely connects to a protected back-end Microsoft SQL Server cluster.</span></span>

<span data-ttu-id="ca1c3-106">Zu den Beispielszenarien für Anwendungen gehören die Ausführung von Anwendungen für Operationssäle, Patiententermine und -aufzeichnungen oder Medikamentenabholung und -bestellung auf Rezeptbasis.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-106">Example application scenarios include running operating room applications, patient appointments and records keeping, or prescription refills and ordering.</span></span> <span data-ttu-id="ca1c3-107">Bisher mussten Organisationen für diese Zwecke lokale Legacyanwendungen und -dienste betreiben.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-107">Traditionally, organizations had to maintain legacy on-premises applications and services for these scenarios.</span></span> <span data-ttu-id="ca1c3-108">Da diese Windows Server-Anwendungen auf sichere und skalierbare Weise in Azure bereitgestellt werden können, können Organisationen ihre Bereitstellungen modernisieren und die lokalen Betriebskosten und den Verwaltungsaufwand reduzieren.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-108">With a secure way and scalable way to deploy these Windows Server applications in Azure, organizations can modernize their deployments are reduce their on-premises operating costs and management overhead.</span></span>

## <a name="related-use-cases"></a><span data-ttu-id="ca1c3-109">Verwandte Anwendungsfälle</span><span class="sxs-lookup"><span data-stu-id="ca1c3-109">Related use cases</span></span>

<span data-ttu-id="ca1c3-110">Erwägen Sie dieses Szenario für folgende Anwendungsfälle:</span><span class="sxs-lookup"><span data-stu-id="ca1c3-110">Consider this scenario for the following use cases:</span></span>

* <span data-ttu-id="ca1c3-111">Modernisieren von Anwendungsbereitstellungen in einer sicheren Cloudumgebung</span><span class="sxs-lookup"><span data-stu-id="ca1c3-111">Modernizing application deployments in a secure cloud environment.</span></span>
* <span data-ttu-id="ca1c3-112">Reduzieren der Verwaltung von lokalen Legacyanwendungen und -diensten</span><span class="sxs-lookup"><span data-stu-id="ca1c3-112">Reducing legacy on-premises application and service management.</span></span>
* <span data-ttu-id="ca1c3-113">Verbessern der Gesundheitsversorgung für Patienten und der Benutzerfreundlichkeit neuer Anwendungsplattformen</span><span class="sxs-lookup"><span data-stu-id="ca1c3-113">Improving patient healthcare and experience with new application platforms.</span></span>

## <a name="architecture"></a><span data-ttu-id="ca1c3-114">Architecture</span><span class="sxs-lookup"><span data-stu-id="ca1c3-114">Architecture</span></span>

![Übersicht über die Architektur der Azure-Komponenten von Windows Server-Anwendungen mit mehreren Ebenen für Branchen mit Regulierung][architecture]

<span data-ttu-id="ca1c3-116">In diesem Szenario geht es um eine Anwendung mit mehreren Ebenen für Branchen mit Regulierung, für die ASP.NET und Microsoft SQL Server verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-116">This scenario covers a multi-tier regulated industries application that uses ASP.NET and Microsoft SQL Server.</span></span> <span data-ttu-id="ca1c3-117">Die Daten durchlaufen das Szenario wie folgt:</span><span class="sxs-lookup"><span data-stu-id="ca1c3-117">The data flows through the scenario as follows:</span></span>

1. <span data-ttu-id="ca1c3-118">Benutzer greifen auf die ASP.NET-Front-End-Anwendung für Branchen mit Regulierung über ein Azure Application Gateway zu.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-118">Users access the frontend ASP.NET regulated industries application through an Azure Application Gateway.</span></span>
2. <span data-ttu-id="ca1c3-119">Das Application Gateway verteilt Datenverkehr auf VM-Instanzen in einer Azure-VM-Skalierungsgruppe.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-119">The Application Gateway distributes traffic to VM instances within an Azure virtual machine scale set.</span></span>
3. <span data-ttu-id="ca1c3-120">Die ASP.NET-Anwendung stellt eine Verbindung mit dem Microsoft SQL Server-Cluster auf einer Back-End-Ebene über einen Azure Load Balancer her.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-120">The ASP.NET application connects to Microsoft SQL Server cluster in a backend tier via an Azure load balancer.</span></span> <span data-ttu-id="ca1c3-121">Diese SQL Server-Back-End-Instanzen befinden sich in einem separaten virtuellen Azure-Netzwerk, die durch Netzwerksicherheitsgruppen-Regeln zur Beschränkung des Datenverkehrsflusses geschützt sind.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-121">These backend SQL Server instances are in a separate Azure virtual network, secured by network security group rules that limit traffic flow.</span></span>
4. <span data-ttu-id="ca1c3-122">Das Lastenausgleichsmodul verteilt SQL Server-Datenverkehr auf VM-Instanzen in einer anderen VM-Skalierungsgruppe.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-122">The load balancer distributes SQL Server traffic to VM instances in another virtual machine scale set.</span></span>
5. <span data-ttu-id="ca1c3-123">Azure Blob Storage dient als Cloudzeuge für den SQL Server-Cluster auf der Back-End-Ebene.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-123">Azure Blob Storage acts as a Cloud Witness for the SQL Server cluster in the backend tier.</span></span>  <span data-ttu-id="ca1c3-124">Die Verbindung aus dem VNET wird mit einem VNET-Dienstendpunkt für Azure Storage aktiviert.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-124">The connection from within the VNet is enabled with a VNet Service Endpoint for Azure Storage.</span></span>

### <a name="components"></a><span data-ttu-id="ca1c3-125">Komponenten</span><span class="sxs-lookup"><span data-stu-id="ca1c3-125">Components</span></span>

* <span data-ttu-id="ca1c3-126">[Azure Application Gateway][appgateway-docs] ist ein Layer-7-Lastenausgleichsmodul für Webdatenverkehr, das anwendungsorientiert ist und Datenverkehr basierend auf spezifischen Routingregeln verteilen kann.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-126">[Azure Application Gateway][appgateway-docs] is a layer 7 web traffic load balancer that is application-aware and can distribute traffic based on specific routing rules.</span></span> <span data-ttu-id="ca1c3-127">Per App Gateway kann auch die SSL-Abladung zur Verbesserung der Webserverleistung verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-127">App Gateway can also handle SSL offloading for improved web server performance.</span></span>
* <span data-ttu-id="ca1c3-128">Mit [Azure Virtual Network][vnet-docs] können Ressourcen, z.B. VMs, auf sichere Weise miteinander, im Internet und mit lokalen Netzwerken kommunizieren.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-128">[Azure Virtual Network][vnet-docs] allows resources such as VMs to securely communicate with each other, the Internet, and on-premises networks.</span></span> <span data-ttu-id="ca1c3-129">Virtuelle Netzwerke ermöglichen Isolation und Segmentierung, die Filterung und Weiterleitung von Datenverkehr und die Verbindungsherstellung zwischen Standorten.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-129">Virtual networks provide isolation and segmentation, filter and route traffic, and allow connection between locations.</span></span> <span data-ttu-id="ca1c3-130">In diesem Szenario werden zwei virtuelle Netzwerke in Kombination mit den entsprechenden NSGs verwendet, um eine [demilitarisierte Zone][dmz] (DMZ) bereitzustellen und für die Isolation der Anwendungskomponenten zu sorgen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-130">Two virtual networks combined with the appropriate NSGs are used in this scenario to provide a [demilitarized zone][dmz] (DMZ) and isolation of the application components.</span></span> <span data-ttu-id="ca1c3-131">Per VNET-Peering werden die beiden Netzwerke verbunden.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-131">Virtual network peering connects the two networks together.</span></span>
* <span data-ttu-id="ca1c3-132">Mit [Azure-VM-Skalierungsgruppen][scaleset-docs] können Sie eine Gruppe von identischen virtuellen Computern mit Lastenausgleich erstellen und verwalten.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-132">[Azure virtual machine scale set][scaleset-docs] lets you create and manager a group of identical, load balanced, VMs.</span></span> <span data-ttu-id="ca1c3-133">Die Anzahl von VM-Instanzen kann automatisch erhöht oder verringert werden, wenn sich der Bedarf ändert, oder es kann ein Zeitplan festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-133">The number of VM instances can automatically increase or decrease in response to demand or a defined schedule.</span></span> <span data-ttu-id="ca1c3-134">In diesem Szenario werden zwei separate virtuelle VM-Skalierungsgruppen verwendet: eine für die ASP.NET-Front-End-Anwendungsinstanzen und eine für die VM-Instanzen des SQL Server-Back-End-Clusters.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-134">Two separate virtual machine scale sets are used in this scenario - one for the frontend ASP.NET application instances, and one for the backend SQL Server cluster VM instances.</span></span> <span data-ttu-id="ca1c3-135">PowerShell DSC (Desired State Configuration, Konfiguration des gewünschten Zustands) oder die benutzerdefinierte Azure-Skripterweiterung können verwendet werden, um die VM-Instanzen mit der erforderlichen Software und den Konfigurationseinstellungen bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-135">PowerShell desired state configuration (DSC) or the Azure custom script extension can be used to provision the VM instances with the required software and configuration settings.</span></span>
* <span data-ttu-id="ca1c3-136">[Azure-Netzwerksicherheitsgruppen][nsg-docs] enthalten eine Liste mit Sicherheitsregeln, die ein- oder ausgehenden Netzwerkdatenverkehr basierend auf IP-Adresse, Port und Protokoll (für die Quelle bzw. das Ziel) zulassen oder ablehnen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-136">[Azure network security groups][nsg-docs] contain a list of security rules that allow or deny inbound or outbound network traffic based on source or destination IP address, port, and protocol.</span></span> <span data-ttu-id="ca1c3-137">Die virtuellen Netzwerke in diesem Szenario sind durch Netzwerksicherheitsgruppen-Regeln geschützt, mit denen der Datenverkehrsfluss zwischen den Anwendungskomponenten eingeschränkt wird.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-137">The virtual networks in this scenario are secured with network security group rules that restrict the flow of traffic between the application components.</span></span>
* <span data-ttu-id="ca1c3-138">Per [Azure Load Balancer][loadbalancer-docs] wird der eingehende Datenverkehr gemäß den Regeln und Integritätstests verteilt.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-138">[Azure load balancer][loadbalancer-docs] distributes inbound traffic according to rules and health probes.</span></span> <span data-ttu-id="ca1c3-139">Ein Lastenausgleichsmodul sorgt für niedrige Latenzen und einen hohen Durchsatz und kann eine Skalierung auf Millionen von Datenflüssen für alle TCP- und UDP-Anwendungen durchführen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-139">A load balancer provides low latency and high throughput, and scales up to millions of flows for all TCP and UDP applications.</span></span> <span data-ttu-id="ca1c3-140">In diesem Szenario wird ein internes Lastenausgleichsmodul genutzt, um Datenverkehr von der Front-End-Anwendungsebene auf den SQL Server-Back-End-Cluster zu verteilen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-140">An internal load balancer is used in this scenario to distribute traffic from the frontend application tier to the backend SQL Server cluster.</span></span>
* <span data-ttu-id="ca1c3-141">[Azure Blob Storage][cloudwitness-docs] fungiert als Cloudzeugenstandort für den SQL Server-Cluster.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-141">[Azure Blob Storage][cloudwitness-docs] acts a Cloud Witness location for the SQL Server cluster.</span></span> <span data-ttu-id="ca1c3-142">Dieser Zeuge wird für Clustervorgänge und Entscheidungen verwendet, für die eine zusätzliche Abstimmung zum Treffen der Quorumentscheidung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-142">This witness is used for cluster operations and decisions that require an additional vote to decide quorum.</span></span> <span data-ttu-id="ca1c3-143">Bei der Nutzung von Cloudzeugen ist es nicht mehr erforderlich, dass eine zusätzliche VM als herkömmlicher Dateifreigabenzeuge fungiert.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-143">Using Cloud Witness removes the need for an additional VM to act as a traditional File Share Witness.</span></span>

### <a name="alternatives"></a><span data-ttu-id="ca1c3-144">Alternativen</span><span class="sxs-lookup"><span data-stu-id="ca1c3-144">Alternatives</span></span>

* <span data-ttu-id="ca1c3-145">\*nix/Windows kann problemlos durch verschiedene andere Betriebssysteme ersetzt werden, da die Infrastruktur nicht vom Betriebssystem abhängig ist.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-145">\*nix, windows can easily be replaced by a variety of other operating systems as nothing in the infrastructure depends on the operating system.</span></span>

* <span data-ttu-id="ca1c3-146">[SQL Server für Linux][sql-linux] kann den Back-End-Datenspeicher ersetzen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-146">[SQL Server for Linux][sql-linux] can replace the backend data store.</span></span>

* <span data-ttu-id="ca1c3-147">[Cosmos DB][cosmos] ist eine weitere Alternative für den Datenspeicher.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-147">[Cosmos DB][cosmos] is another alternative for the data store.</span></span>

## <a name="considerations"></a><span data-ttu-id="ca1c3-148">Überlegungen</span><span class="sxs-lookup"><span data-stu-id="ca1c3-148">Considerations</span></span>

### <a name="availability"></a><span data-ttu-id="ca1c3-149">Verfügbarkeit</span><span class="sxs-lookup"><span data-stu-id="ca1c3-149">Availability</span></span>

<span data-ttu-id="ca1c3-150">Die VM-Instanzen in diesem Szenario werden für Verfügbarkeitszonen übergreifend bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-150">The VM instances in this scenario are deployed across Availability Zones.</span></span> <span data-ttu-id="ca1c3-151">Jede Zone besteht aus mindestens einem Rechenzentrum, dessen Stromversorgung, Kühlung und Netzwerkbetrieb unabhängig funktionieren.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-151">Each zone is made up of one or more datacenters equipped with independent power, cooling, and networking.</span></span> <span data-ttu-id="ca1c3-152">Mindestens drei Zonen sind in allen aktivierten Regionen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-152">A minimum of three zones are available in all enabled regions.</span></span> <span data-ttu-id="ca1c3-153">Diese zonenübergreifende Verteilung von VM-Instanzen sorgt für Hochverfügbarkeit auf den Anwendungsebenen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-153">This distribution of VM instances across zones provides high availability to the application tiers.</span></span> <span data-ttu-id="ca1c3-154">Weitere Informationen finden Sie unter [Was sind Verfügbarkeitszonen in Azure?][azureaz-docs].</span><span class="sxs-lookup"><span data-stu-id="ca1c3-154">For more information, see [what are Availability Zones in Azure?][azureaz-docs]</span></span>

<span data-ttu-id="ca1c3-155">Die Datenbankebene kann so konfiguriert werden, dass Always On-Verfügbarkeitsgruppen konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-155">The database tier can be configured to use Always On availability groups.</span></span> <span data-ttu-id="ca1c3-156">Mit dieser SQL Server-Konfiguration wird eine primäre Datenbank in einem Cluster mit bis zu acht sekundären Datenbanken konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-156">With this SQL Server configuration, one primary database within a cluster is configured with up to eight secondary databases.</span></span> <span data-ttu-id="ca1c3-157">Falls für die primäre Datenbank ein Problem besteht, führt der Cluster ein Failover auf eine der sekundären Datenbanken aus, damit die Anwendung weiterhin verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-157">If an issue occurs with the primary database, the cluster fails over to one of the secondary databases, which allows the application to continue to be available.</span></span> <span data-ttu-id="ca1c3-158">Weitere Informationen finden Sie unter [Übersicht über Always On-Verfügbarkeitsgruppen für SQL Server][sqlalwayson-docs].</span><span class="sxs-lookup"><span data-stu-id="ca1c3-158">For more information, see [Overview of Always On availability groups for SQL Server][sqlalwayson-docs].</span></span>

<span data-ttu-id="ca1c3-159">Weitere Verfügbarkeitsthemen finden Sie im Azure Architecture Center in der [Checkliste für die Verfügbarkeit][availability].</span><span class="sxs-lookup"><span data-stu-id="ca1c3-159">For other availability topics, see the [availability checklist][availability] in the Azure Architecture Center.</span></span>

### <a name="scalability"></a><span data-ttu-id="ca1c3-160">Skalierbarkeit</span><span class="sxs-lookup"><span data-stu-id="ca1c3-160">Scalability</span></span>

<span data-ttu-id="ca1c3-161">In diesem Szenario werden VM-Skalierungsgruppen für die Front-End- und Back-End-Komponenten verwendet.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-161">This scenario uses virtual machine scale sets for the frontend and backend components.</span></span> <span data-ttu-id="ca1c3-162">Mit Skalierungsgruppen kann die Anzahl von VM-Instanzen, die auf der Front-End-Anwendungsebene ausgeführt werden, als Reaktion auf eine veränderte Kundennachfrage oder basierend auf einem definierten Zeitplan automatisch skaliert werden.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-162">With scale sets, the number of VM instances that run the frontend application tier can automatically scale in response to customer demand, or based on a defined schedule.</span></span> <span data-ttu-id="ca1c3-163">Weitere Informationen finden Sie unter [Übersicht über die automatische Skalierung mit VM-Skalierungsgruppen][vmssautoscale-docs].</span><span class="sxs-lookup"><span data-stu-id="ca1c3-163">For more information, see [Overview of autoscale with virtual machine scale sets][vmssautoscale-docs].</span></span>

<span data-ttu-id="ca1c3-164">Weitere Skalierbarkeitsthemen finden Sie im Azure Architecture Center in der [Checkliste für die Skalierbarkeit][scalability].</span><span class="sxs-lookup"><span data-stu-id="ca1c3-164">For other scalability topics, see the [scalability checklist][scalability] in the Azure Architecture Center.</span></span>

### <a name="security"></a><span data-ttu-id="ca1c3-165">Sicherheit</span><span class="sxs-lookup"><span data-stu-id="ca1c3-165">Security</span></span>

<span data-ttu-id="ca1c3-166">Der gesamte Datenverkehr von virtuellen Netzwerken fließt über die Front-End-Anwendungsebene und wird mit Netzwerksicherheitsgruppen geschützt.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-166">All the virtual network traffic into the frontend application tier and protected by network security groups.</span></span> <span data-ttu-id="ca1c3-167">Anhand von Regeln wird der Datenverkehrsfluss eingeschränkt, sodass nur die VM-Instanzen der Front-End-Anwendungsebene auf die Back-End-Datenbankebene zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-167">Rules limit the flow of traffic so that only the frontend application tier VM instances can access the backend database tier.</span></span> <span data-ttu-id="ca1c3-168">Es ist kein ausgehender Internetdatenverkehr von der Datenbankebene zulässig.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-168">No outbound Internet traffic is allowed from the database tier.</span></span> <span data-ttu-id="ca1c3-169">Es werden keine Ports für die direkte Remoteverwaltung geöffnet, um die Angriffsfläche zu reduzieren.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-169">To reduce the attack footprint, no direct remote management ports are open.</span></span> <span data-ttu-id="ca1c3-170">Weitere Informationen finden Sie unter [Azure-Netzwerksicherheitsgruppen][nsg-docs].</span><span class="sxs-lookup"><span data-stu-id="ca1c3-170">For more information, see [Azure network security groups][nsg-docs].</span></span>

<span data-ttu-id="ca1c3-171">Zeigen Sie die Anleitung zur Bereitstellung von PCI-DSS 3.2 (Payment Card Industry Data Security Standards) über eine [konforme Infrastruktur][pci-dss] an.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-171">To view guidance on deploying Payment Card Industry Data Security Standards (PCI DSS 3.2) [compliant infrastructure][pci-dss].</span></span> <span data-ttu-id="ca1c3-172">Allgemeine Informationen zur Entwicklung sicherer Szenarien finden Sie in der [Dokumentation zur Azure-Sicherheit][security].</span><span class="sxs-lookup"><span data-stu-id="ca1c3-172">For general guidance on designing secure scenarios, see the [Azure Security Documentation][security].</span></span>

### <a name="resiliency"></a><span data-ttu-id="ca1c3-173">Resilienz</span><span class="sxs-lookup"><span data-stu-id="ca1c3-173">Resiliency</span></span>

<span data-ttu-id="ca1c3-174">In Kombination mit der Nutzung von Verfügbarkeitszonen und VM-Skalierungsgruppen werden in diesem Szenario Azure Application Gateway und ein Lastenausgleichsmodul verwendet.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-174">In combination with the use of Availability Zones and virtual machine scale sets, this scenario uses Azure Application Gateway and load balancer.</span></span> <span data-ttu-id="ca1c3-175">Über diese beiden Netzwerkkomponenten wird Datenverkehr auf die verbundenen VM-Instanzen verteilt, und es werden Integritätstests eingebunden, mit denen sichergestellt wird, dass Datenverkehr nur auf fehlerfreie VMs verteilt wird.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-175">These two networking components distribute traffic to the connected VM instances, and include health probes that ensure traffic is only distributed to healthy VMs.</span></span> <span data-ttu-id="ca1c3-176">Zwei Application Gateway-Instanzen werden in einer Aktiv-Passiv-Konfiguration konfiguriert, und es wird ein zonenredundantes Lastenausgleichsmodul verwendet.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-176">Two Application Gateway instances are configured in an active-passive configuration, and a zone-redundant load balancer is used.</span></span> <span data-ttu-id="ca1c3-177">Mit dieser Konfiguration verfügen die Netzwerkressourcen und die Anwendung über Resilienz gegenüber Problemen, die andernfalls zu einer Störung des Datenverkehrs und zu Auswirkungen auf den Zugriff durch Endbenutzer führen würden.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-177">This configuration makes the networking resources and application resilient to issues that would otherwise disrupt traffic and impact end-user access.</span></span>

<span data-ttu-id="ca1c3-178">Allgemeine Informationen zur Entwicklung robuster Szenarien finden Sie unter [Entwerfen robuster Anwendungen für Azure][resiliency].</span><span class="sxs-lookup"><span data-stu-id="ca1c3-178">For general guidance on designing resilient scenarios, see [Designing resilient applications for Azure][resiliency].</span></span>

## <a name="deploy-the-scenario"></a><span data-ttu-id="ca1c3-179">Bereitstellen des Szenarios</span><span class="sxs-lookup"><span data-stu-id="ca1c3-179">Deploy the scenario</span></span>

<span data-ttu-id="ca1c3-180">**Voraussetzungen:**</span><span class="sxs-lookup"><span data-stu-id="ca1c3-180">**Prerequisites.**</span></span>

* <span data-ttu-id="ca1c3-181">Sie benötigen ein bestehendes Azure-Konto.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-181">You must have an existing Azure account.</span></span> <span data-ttu-id="ca1c3-182">Wenn Sie kein Azure-Abonnement besitzen, können Sie ein [kostenloses Konto](https://azure.microsoft.com/free/?WT.mc_id=A261C142F) erstellen, bevor Sie beginnen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-182">If you don't have an Azure subscription, create a [free account](https://azure.microsoft.com/free/?WT.mc_id=A261C142F) before you begin.</span></span>
* <span data-ttu-id="ca1c3-183">Sie benötigen eine Domäne in Azure Active Directory (AD) Domain Services, um einen SQL Server-Cluster in der Back-End-Skalierungsgruppe bereitstellen zu können.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-183">To deploy a SQL Server cluster into the backend scale set, you would need a domain in Azure Active Directory (AD) Domain Services.</span></span>

<span data-ttu-id="ca1c3-184">Führen Sie die unten angegebenen Schritte aus, um die Kerninfrastruktur für dieses Szenario mit einer Azure Resource Manager-Vorlage bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-184">To deploy the core infrastructure for this scenario with an Azure Resource Manager template, perform the following steps.</span></span>

1. <span data-ttu-id="ca1c3-185">Wählen Sie die Schaltfläche **Deploy to Azure** (In Azure bereitstellen):</span><span class="sxs-lookup"><span data-stu-id="ca1c3-185">Select the **Deploy to Azure** button:</span></span><br><a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Fmspnp%2Fsolution-architectures%2Fmaster%2Finfrastructure%2Fregulated-multitier-app%2Fazuredeploy.json" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a>
2. <span data-ttu-id="ca1c3-186">Warten Sie, bis die Vorlagenbereitstellung im Azure-Portal geöffnet wurde, und führen Sie anschließend folgende Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="ca1c3-186">Wait for the template deployment to open in the Azure portal, then complete the following steps:</span></span>
   * <span data-ttu-id="ca1c3-187">Erstellen Sie über **Neu erstellen** eine neue Ressourcengruppe, und geben Sie einen Namen (beispielsweise *myWindowsscenario*) in das Textfeld ein.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-187">Choose to **Create new** resource group, then provide a name such as *myWindowsscenario* in the text box.</span></span>
   * <span data-ttu-id="ca1c3-188">Wählen Sie im Dropdownfeld **Standort** eine Region aus.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-188">Select a region from the **Location** drop-down box.</span></span>
   * <span data-ttu-id="ca1c3-189">Geben Sie einen Benutzernamen und ein sicheres Kennwort für die VM-Skalierungsgruppeninstanzen an.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-189">Provide a username and secure password for the virtual machine scale set instances.</span></span>
   * <span data-ttu-id="ca1c3-190">Lesen Sie die allgemeinen Geschäftsbedingungen, und aktivieren Sie dann das Kontrollkästchen **Ich stimme den oben genannten Geschäftsbedingungen zu**.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-190">Review the terms and conditions, then check **I agree to the terms and conditions stated above**.</span></span>
   * <span data-ttu-id="ca1c3-191">Klicken Sie auf die Schaltfläche **Kaufen**.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-191">Select the **Purchase** button.</span></span>

<span data-ttu-id="ca1c3-192">Der Bereitstellungsvorgang kann zwischen 15 und 20 Minuten dauern.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-192">It can take 15-20 minutes for the deployment to complete.</span></span>

## <a name="pricing"></a><span data-ttu-id="ca1c3-193">Preise</span><span class="sxs-lookup"><span data-stu-id="ca1c3-193">Pricing</span></span>

<span data-ttu-id="ca1c3-194">Zur Ermittlung der Betriebskosten für dieses Szenario sind alle Dienste im Kostenrechner vorkonfiguriert.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-194">To explore the cost of running this scenario, all of the services are pre-configured in the cost calculator.</span></span>  <span data-ttu-id="ca1c3-195">Wenn Sie wissen möchten, welche Kosten für Ihren spezifischen Anwendungsfall entstehen, passen Sie die entsprechenden Variablen an Ihren voraussichtlichen Datenverkehr an.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-195">To see how the pricing would change for your particular use case, change the appropriate variables to match your expected traffic.</span></span>

<span data-ttu-id="ca1c3-196">Wir haben basierend auf der Anzahl von VM-Instanzen, über die Ihre Anwendungen ausgeführt werden, drei Beispielkostenprofile bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-196">We have provided three sample cost profiles based on the number of scale set VM instances that run your applications.</span></span>

* <span data-ttu-id="ca1c3-197">[Klein][small-pricing]: Dieses Preisbeispiel entspricht zwei Front-End- und zwei Back-End-VM-Instanzen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-197">[Small][small-pricing]: this pricing example correlates to two frontend and two backend VM instances.</span></span>
* <span data-ttu-id="ca1c3-198">[Mittel][medium-pricing]: Dieses Preisbeispiel entspricht 20 Front-End- und fünf Back-End-VM-Instanzen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-198">[Medium][medium-pricing]: this pricing example correlates to 20 frontend and 5 backend VM instances.</span></span>
* <span data-ttu-id="ca1c3-199">[Groß][large-pricing]: Dieses Preisbeispiel entspricht 100 Front-End- und 10 Back-End-VM-Instanzen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-199">[Large][large-pricing]: this pricing example correlates to 100 frontend and 10 backend VM instances.</span></span>

## <a name="related-resources"></a><span data-ttu-id="ca1c3-200">Zugehörige Ressourcen</span><span class="sxs-lookup"><span data-stu-id="ca1c3-200">Related Resources</span></span>

<span data-ttu-id="ca1c3-201">In diesem Szenario wurde eine VM-Back-End-Skalierungsgruppe verwendet, über die ein Microsoft SQL Server-Cluster ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-201">This scenario used a backend virtual machine scale set that runs a Microsoft SQL Server cluster.</span></span> <span data-ttu-id="ca1c3-202">Azure Cosmos DB kann auch als skalierbare und sichere Datenbankebene für die Anwendungsdaten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-202">Azure Cosmos DB could also be used as a scalable and secure database tier for the application data.</span></span> <span data-ttu-id="ca1c3-203">Ein [Azure-VNET-Dienstendpunkt][vnetendpoint-docs] ermöglicht es Ihnen, Ihre kritischen Azure-Dienstressourcen auf Ihre virtuellen Netzwerke zu beschränken und so zu schützen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-203">An [Azure virtual network service endpoint][vnetendpoint-docs] allows you to secure your critical Azure service resources to only your virtual networks.</span></span> <span data-ttu-id="ca1c3-204">In diesem Szenario können Sie mit VNET-Endpunkten Datenverkehr zwischen der Front-End-Anwendungsebene und Cosmos DB schützen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-204">In this scenario, VNet endpoints allow you to secure traffic between the frontend application tier and Cosmos DB.</span></span> <span data-ttu-id="ca1c3-205">Weitere Informationen zu Cosmos DB finden Sie unter [Übersicht über Azure Cosmos DB][azurecosmosdb-docs].</span><span class="sxs-lookup"><span data-stu-id="ca1c3-205">For more information on Cosmos DB, see [Azure Cosmos DB overview][azurecosmosdb-docs].</span></span>

<span data-ttu-id="ca1c3-206">Sie können auch eine eingehende [Referenzarchitektur für eine generische Anwendung mit n-Schichten mit SQL Server][ntiersql-ra] anzeigen.</span><span class="sxs-lookup"><span data-stu-id="ca1c3-206">You also view a thorough [reference architecture for a generic N-tier application with SQL Server][ntiersql-ra].</span></span>

<!-- links -->
[appgateway-docs]: /azure/application-gateway/overview
[architecture]: ./media/regulated-multitier-app/architecture-regulated-multitier-app.png
[autoscaling]: /azure/architecture/best-practices/auto-scaling
[availability]: /architecture/checklist/availability
[azureaz-docs]: /azure/availability-zones/az-overview
[azurecosmosdb-docs]: /azure/cosmos-db/introduction
[cloudwitness-docs]: /windows-server/failover-clustering/deploy-cloud-witness
[loadbalancer-docs]: /azure/load-balancer/load-balancer-overview
[nsg-docs]: /azure/virtual-network/security-overview
[ntiersql-ra]: /azure/architecture/reference-architectures/n-tier/n-tier-sql-server
[resiliency]: /azure/architecture/resiliency/ 
[security]: /azure/security/
[scalability]: /azure/architecture/checklist/scalability 
[scaleset-docs]: /azure/virtual-machine-scale-sets/overview
[sqlalwayson-docs]: /sql/database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server
[vmssautoscale-docs]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview
[vnet-docs]: /azure/virtual-network/virtual-networks-overview
[vnetendpoint-docs]: /azure/virtual-network/virtual-network-service-endpoints-overview
[pci-dss]: /azure/security/blueprints/pcidss-iaaswa-overview
[dmz]: /azure/virtual-network/virtual-networks-dmz-nsg
[cosmos]: /azure/cosmos-db/
[sql-linux]: /sql/linux/sql-server-linux-overview?view=sql-server-linux-2017

[small-pricing]: https://azure.com/e/711bbfcbbc884ef8aa91cdf0f2caff72
[medium-pricing]: https://azure.com/e/b622d82d79b34b8398c4bce35477856f
[large-pricing]: https://azure.com/e/1d99d8b92f90496787abecffa1473a93