---
title: Überwachung von Webanwendungen in Azure
description: Überwachen Sie eine in Azure App Service gehostete Webanwendung.
author: adamboeglin
ms.date: 09/12/2018
ms.openlocfilehash: b1beb5cf5e29ab1ceb760bf95eab85d819b69342
ms.sourcegitcommit: 62945777e519d650159f0f963a2489b6bb6ce094
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 10/09/2018
ms.locfileid: "48876850"
---
# <a name="web-application-monitoring-on-azure"></a><span data-ttu-id="3e5b4-103">Überwachung von Webanwendungen in Azure</span><span class="sxs-lookup"><span data-stu-id="3e5b4-103">Web application monitoring on Azure</span></span>

<span data-ttu-id="3e5b4-104">Mit den PaaS-Angeboten (Platform-as-a-Service) von Azure werden Computeressourcen für Sie verwaltet, und sie bewirken teilweise einer Veränderung der Vorgehensweise, die Sie für das Überwachen von Bereitstellungen nutzen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-104">Platform as a service (PaaS) offerings on Azure manage compute resources for you and in some ways change how you monitor deployments.</span></span> <span data-ttu-id="3e5b4-105">Azure umfasst mehrere Überwachungsdienste, die jeweils eine bestimmte Rolle haben.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-105">Azure includes multiple monitoring services, each of which performs a specific role.</span></span> <span data-ttu-id="3e5b4-106">Zusammen bieten diese Dienste eine umfassende Lösung für das Sammeln, Übertragen und Analysieren von Telemetriedaten aus Ihrer Anwendung und den zugrunde liegenden Azure-Ressourcen, die verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-106">Together, these services deliver a comprehensive solution for collecting, analyzing, and acting on telemetry from your applications and the Azure resources they use.</span></span>

<span data-ttu-id="3e5b4-107">In diesem Szenario geht es um die Überwachungsdienste, die Sie nutzen können, und es wird ein Datenflussmodell für die Verwendung mit mehreren Datenquellen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-107">This scenario addresses the monitoring services you can use and describes a dataflow model for use with multiple data sources.</span></span> <span data-ttu-id="3e5b4-108">In Bezug auf die Überwachung funktionieren viele Tools und Dienste für Azure-Bereitstellungen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-108">When it comes to monitoring, many tools and services work with Azure deployments.</span></span> <span data-ttu-id="3e5b4-109">In diesem Szenario wählen wir gezielt problemlos verfügbare Dienste aus, da sie auf einfache Weise genutzt werden können.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-109">In this scenario, we choose readily available services precisely because they are easy to consume.</span></span> <span data-ttu-id="3e5b4-110">Weitere Überwachungsoptionen werden weiter unten in diesem Artikel beschrieben.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-110">Other monitoring options are discussed later in this article.</span></span>

## <a name="relevant-use-cases"></a><span data-ttu-id="3e5b4-111">Relevante Anwendungsfälle</span><span class="sxs-lookup"><span data-stu-id="3e5b4-111">Relevant use cases</span></span>

<span data-ttu-id="3e5b4-112">Erwägen Sie dieses Szenario für folgende Anwendungsfälle:</span><span class="sxs-lookup"><span data-stu-id="3e5b4-112">Consider this scenario for the following use cases:</span></span>

- <span data-ttu-id="3e5b4-113">Instrumentieren einer Webanwendung für die Überwachung von Telemetriedaten</span><span class="sxs-lookup"><span data-stu-id="3e5b4-113">Instrumenting a web application for monitoring telemetry.</span></span>
- <span data-ttu-id="3e5b4-114">Sammeln von Front-End- und Back-End-Telemetriedaten für eine unter Azure bereitgestellte Anwendung</span><span class="sxs-lookup"><span data-stu-id="3e5b4-114">Collecting front-end and back-end telemetry for an application deployed on Azure.</span></span>
- <span data-ttu-id="3e5b4-115">Überwachen von Metriken und Kontingenten, die Diensten unter Azure zugeordnet sind</span><span class="sxs-lookup"><span data-stu-id="3e5b4-115">Monitoring metrics and quotas associated with services on Azure.</span></span>

## <a name="architecture"></a><span data-ttu-id="3e5b4-116">Architektur</span><span class="sxs-lookup"><span data-stu-id="3e5b4-116">Architecture</span></span>

![App-Überwachungsarchitektur – Diagramm][architecture]

<span data-ttu-id="3e5b4-118">In diesem Szenario wird eine verwaltete Azure-Umgebung verwendet, um eine Anwendung und eine Datenebene zu hosten.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-118">This scenario uses a managed Azure environment to host an application and data tier.</span></span> <span data-ttu-id="3e5b4-119">Die Daten durchlaufen das Szenario wie folgt:</span><span class="sxs-lookup"><span data-stu-id="3e5b4-119">The data flows through the scenario as follows:</span></span>

1. <span data-ttu-id="3e5b4-120">Ein Benutzer interagiert mit der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-120">A user interacts with the application.</span></span>
2. <span data-ttu-id="3e5b4-121">Der Browser und App Service geben Telemetriedaten aus.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-121">The browser and app service emit telemetry.</span></span>
3. <span data-ttu-id="3e5b4-122">Application Insights sammelt und analysiert Integritäts-, Leistungs- und Nutzungsdaten von Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-122">Application Insights collects and analyzes application health, performance, and usage data.</span></span>
4. <span data-ttu-id="3e5b4-123">Entwickler und Administratoren können die Informationen zur Integrität, Leistung und Nutzung überprüfen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-123">Developers and administrators can review health, performance, and usage information.</span></span>
5. <span data-ttu-id="3e5b4-124">Azure SQL-Datenbank gibt Telemetriedaten aus.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-124">Azure SQL Database emits telemetry.</span></span>
6. <span data-ttu-id="3e5b4-125">Azure Monitor sammelt und analysiert Infrastrukturmetriken und -kontingente.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-125">Azure Monitor collects and analyzes infrastructure metrics and quotas.</span></span>
7. <span data-ttu-id="3e5b4-126">Log Analytics erfasst und analysiert Protokolle und Metriken.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-126">Log Analytics collects and analyzes logs and metrics.</span></span>
8. <span data-ttu-id="3e5b4-127">Entwickler und Administratoren können die Informationen zur Integrität, Leistung und Nutzung überprüfen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-127">Developers and administrators can review health, performance, and usage information.</span></span>

### <a name="components"></a><span data-ttu-id="3e5b4-128">Komponenten</span><span class="sxs-lookup"><span data-stu-id="3e5b4-128">Components</span></span>

- <span data-ttu-id="3e5b4-129">[Azure App Service](/azure/app-service/) ist ein PaaS-Dienst zum Erstellen und Hosten von Apps auf verwalteten virtuellen Computern.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-129">[Azure App Service](/azure/app-service/) is a PaaS service for building and hosting apps in managed virtual machines.</span></span> <span data-ttu-id="3e5b4-130">Die zugrunde liegenden Infrastrukturen, in denen Ihre Apps ausgeführt werden, werden für Sie verwaltet.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-130">The underlying compute infrastructures on which your apps run is managed for you.</span></span> <span data-ttu-id="3e5b4-131">App Service ermöglicht das Überwachen von Kontingenten zur Ressourcenverwendung und App-Metriken, Protokollieren von Diagnoseinformationen und Anzeigen von Warnungen basierend auf Metriken.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-131">App Service provides monitoring of resource usage quotas and app metrics, logging of diagnostic information, and alerts based on metrics.</span></span> <span data-ttu-id="3e5b4-132">Noch besser ist, dass Sie Application Insights zum Erstellen von [Verfügbarkeitstests][availability-tests] verwenden können, um Ihre Anwendung von unterschiedlichen Regionen aus zu testen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-132">Even better, you can use Application Insights to create [availability tests][availability-tests] for testing your application from different regions.</span></span>
- <span data-ttu-id="3e5b4-133">[Application Insights][application-insights] ist ein erweiterbarer, für Entwickler konzipierter Dienst zur Verwaltung der Anwendungsleistung (Application Performance Management, APM), der mehrere Plattformen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-133">[Application Insights][application-insights] is an extensible Application Performance Management (APM) service for developers and supports multiple platforms.</span></span> <span data-ttu-id="3e5b4-134">Er dient zum Überwachen der Anwendung, Erkennen von Anwendungsanomalien, z.B. schlechte Leistung und Fehler, und Senden von Telemetriedaten an das Azure-Portal.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-134">It monitors the application, detects application anomalies such as poor performance and failures, and sends telemetry to the Azure portal.</span></span> <span data-ttu-id="3e5b4-135">Application Insights kann auch für die Protokollierung, die verteilte Ablaufverfolgung und benutzerdefinierte Anwendungsmetriken verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-135">Application Insights can also be used for logging, distributed tracing, and custom application metrics.</span></span>
- <span data-ttu-id="3e5b4-136">[Azure Monitor][azure-monitor] stellt grundlegende [Metriken und Protokolle][metrics] der Infrastruktur für die meisten Dienste in Azure bereit.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-136">[Azure Monitor][azure-monitor] provides base-level infrastructure [metrics and logs][metrics] for most services in Azure.</span></span> <span data-ttu-id="3e5b4-137">Sie können auf unterschiedliche Weise mit den Metriken interagieren, z.B. die Diagrammdarstellung im Azure-Portal, den Zugriff über die REST-API oder die Abfrage über PowerShell oder die CLI.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-137">You can interact with the metrics in several ways, including charting them in Azure portal, accessing them through the REST API, or querying them using PowerShell or CLI.</span></span> <span data-ttu-id="3e5b4-138">Azure Monitor bietet seine Daten auch direkt für [Log Analytics und andere Dienste] an, wo Sie diese abfragen und mit Daten aus anderen lokalen Quellen oder Cloudquellen kombinieren können.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-138">Azure Monitor also offers its data directly into [Log Analytics and other services], where you can query and combine it with data from other sources on premises or in the cloud.</span></span>
- <span data-ttu-id="3e5b4-139">[Log Analytics][log-analytics] dient als Hilfe beim Korrelieren der von Application Insights gesammelten Nutzungs- und Leistungsdaten mit Konfigurations- und Leistungsdaten der Azure-Ressourcen, die die App unterstützen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-139">[Log Analytics][log-analytics] helps correlate the usage and performance data collected by Application Insights with configuration and performance data across the Azure resources that support the app.</span></span> <span data-ttu-id="3e5b4-140">In diesem Szenario wird der [Azure Log Analytics-Agent][Azure Log Analytics agent] verwendet, um SQL Server-Überwachungsprotokolle per Pushvorgang an Log Analytics zu übertragen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-140">This scenario uses the [Azure Log Analytics agent][Azure Log Analytics agent] to push SQL Server audit logs into Log Analytics.</span></span> <span data-ttu-id="3e5b4-141">Sie können im Azure-Portal auf dem Blatt „Log Analytics“ Abfragen schreiben und Daten anzeigen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-141">You can write queries and view data in the Log Analytics blade of the Azure portal.</span></span>

## <a name="considerations"></a><span data-ttu-id="3e5b4-142">Überlegungen</span><span class="sxs-lookup"><span data-stu-id="3e5b4-142">Considerations</span></span>

<span data-ttu-id="3e5b4-143">Eine bewährte Methode besteht darin, Ihrem Code während der Entwicklung Application Insights hinzuzufügen, indem Sie die [Application Insights SDKs][Application Insights SDKs] verwenden, und die Anpassung pro Anwendung durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-143">A best practice is to add Application Insights to your code at development using the [Application Insights SDKs][Application Insights SDKs], and customize per application.</span></span> <span data-ttu-id="3e5b4-144">Diese Open-Source-SDKs sind für die meisten Anwendungsframeworks verfügbar.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-144">These open source SDKs are available for most application frameworks.</span></span> <span data-ttu-id="3e5b4-145">Binden Sie die Nutzung der SDKs sowohl für Test- als auch für Produktionsbereitstellungen in Ihren Entwicklungsprozess ein, um die von Ihnen gesammelten Daten zu erweitern und zu steuern.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-145">To enrich and control the data you collect, incorporate the use of the SDKs both for testing and production deployments into your development process.</span></span> <span data-ttu-id="3e5b4-146">Die wichtigste Voraussetzung besteht darin, dass für die App eine direkte oder indirekte „Sichtverbindung“ mit dem Applications Insights-Erfassungsendpunkt besteht, der mit einer über das Internet zugänglichen Adresse gehostet wird.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-146">The main requirement is for the app to have a direct or indirect line of sight to the Applications Insights ingestion endpoint hosted with an Internet-facing address.</span></span> <span data-ttu-id="3e5b4-147">Sie können dann Telemetriedaten hinzufügen oder eine vorhandene Telemetriedatensammlung erweitern.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-147">You can then add telemetry or enrich an existing telemetry collection.</span></span>

<span data-ttu-id="3e5b4-148">Die Überwachung der Laufzeit ist eine weitere einfache Einstiegsmöglichkeit.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-148">Runtime monitoring is another easy way to get started.</span></span> <span data-ttu-id="3e5b4-149">Die gesammelten Telemetriedaten müssen mit Konfigurationsdateien gesteuert werden.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-149">The telemetry that is collected must be controlled through configuration files.</span></span> <span data-ttu-id="3e5b4-150">Beispielsweise können Sie Laufzeitmethoden einfügen, mit denen Tools, z.B. [Application Insights-Statusmonitor][Application Insights Status Monitor], die SDKs im richtigen Ordner bereitstellen und die richtigen Konfigurationen hinzufügen können, um mit der Überwachung zu beginnen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-150">For example, you can include runtime methods that enable tools such as [Application Insights Status Monitor][Application Insights Status Monitor] to deploy the SDKs into the correct folder and add the right configurations to begin monitoring.</span></span>

<span data-ttu-id="3e5b4-151">Wie Application Insights auch, verfügt Log Analytics über Tools zum [Analysieren von Daten über mehrere Quellen hinweg][analyzing data across sources], Erstellen von komplexen Abfragen und [Senden von proaktiven Warnungen][sending proactive alerts] basierend auf den jeweils angegebenen Bedingungen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-151">Like Application Insights, Log Analytics provides tools for [analyzing data across sources][analyzing data across sources], creating complex queries, and [sending proactive alerts][sending proactive alerts] on specified conditions.</span></span> <span data-ttu-id="3e5b4-152">Darüber hinaus können Sie Telemetriedaten im [Azure-Portal][the Azure portal] anzeigen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-152">You can also view telemetry in [the Azure portal][the Azure portal].</span></span> <span data-ttu-id="3e5b4-153">Log Analytics erhöht den Nutzen von vorhandenen Überwachungsdiensten wie [Azure Monitor][Azure Monitor] und kann auch zum Überwachen von lokalen Umgebungen genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-153">Log Analytics adds value to existing monitoring services such as [Azure Monitor][Azure Monitor] and can also monitor on-premises environments.</span></span>

<span data-ttu-id="3e5b4-154">Sowohl für Application Insights als auch für Log Analytics wird die [Azure Log Analytics-Abfragesprache][Azure Log Analytics Query Language] verwendet.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-154">Both Application Insights and Log Analytics use [Azure Log Analytics Query Language][Azure Log Analytics Query Language].</span></span> <span data-ttu-id="3e5b4-155">Sie können auch [ressourcenübergreifende Abfragen](https://azure.microsoft.com/blog/query-across-resources) verwenden, um die Telemetriedaten, die von Application Insights und Log Analytics gesammelt werden, in einer einzelnen Abfrage zu analysieren.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-155">You can also use [cross-resource queries](https://azure.microsoft.com/blog/query-across-resources) to analyze the telemetry gathered by Application Insights and Log Analytics in a single query.</span></span>

<span data-ttu-id="3e5b4-156">Azure Monitor, Application Insights und Log Analytics senden [Warnungen](/azure/monitoring-and-diagnostics/monitoring-overview-alerts).</span><span class="sxs-lookup"><span data-stu-id="3e5b4-156">Azure Monitor, Application Insights, and Log Analytics all send [alerts](/azure/monitoring-and-diagnostics/monitoring-overview-alerts).</span></span> <span data-ttu-id="3e5b4-157">Beispielsweise sendet Azure Monitor Warnungen für Metriken auf Plattformebene, z.B. zur CPU-Auslastung, während Application Insights Warnungen für Metriken auf Anwendungsebene sendet, z.B. zur Serverreaktionszeit.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-157">For example, Azure Monitor alerts on platform-level metrics such as CPU utilization, while Application Insights alerts on application-level metrics such as server response time.</span></span> <span data-ttu-id="3e5b4-158">Azure Monitor sendet Warnungen für neue Ereignisse im Azure-Aktivitätsprotokoll, während Log Analytics Warnungen zu Metriken oder Ereignisdaten für die Dienste ausgeben kann, für die die Nutzung konfiguriert ist.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-158">Azure Monitor alerts on new events in the Azure Activity Log, while Log Analytics can issue alerts about metrics or event data for the services configured to use it.</span></span> <span data-ttu-id="3e5b4-159">[Einheitliche Warnungen in Azure Monitor](/azure/monitoring-and-diagnostics/monitoring-overview-unified-alerts) ist eine neue einheitliche Benutzeroberfläche für Warnungen in Azure, für die eine andere Taxonomie verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-159">[Unified alerts in Azure Monitor](/azure/monitoring-and-diagnostics/monitoring-overview-unified-alerts) is a new, unified alerting experience in Azure that uses a different taxonomy.</span></span>

### <a name="alternatives"></a><span data-ttu-id="3e5b4-160">Alternativen</span><span class="sxs-lookup"><span data-stu-id="3e5b4-160">Alternatives</span></span>

<span data-ttu-id="3e5b4-161">In diesem Artikel werden problemlos verfügbare Überwachungsoptionen mit beliebten Features beschrieben, aber Sie haben eine große Auswahl, z.B. die Option zur Erstellung Ihrer eigenen Protokollierungsmechanismen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-161">This article describes conveniently available monitoring options with popular features, but you have many choices, including the option to create your own logging mechanisms.</span></span> <span data-ttu-id="3e5b4-162">Eine bewährte Methode ist das Hinzufügen von Überwachungsdiensten, wenn Sie in einer Lösung Ebenen erstellen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-162">A best practice is to add monitoring services as you build out tiers in a solution.</span></span> <span data-ttu-id="3e5b4-163">Hier sind einige mögliche Erweiterungen und Alternativen aufgeführt:</span><span class="sxs-lookup"><span data-stu-id="3e5b4-163">Here are some possible extensions and alternatives:</span></span>

- <span data-ttu-id="3e5b4-164">Konsolidieren von Azure Monitor- und Application Insights-Metriken in Grafana per [Azure Monitor Data Source For Grafana][Azure Monitor Data Source For Grafana] (Azure Monitor-Datenquelle für Grafana)</span><span class="sxs-lookup"><span data-stu-id="3e5b4-164">Consolidate Azure Monitor and Application Insights metrics in Grafana using the [Azure Monitor Data Source For Grafana][Azure Monitor Data Source For Grafana].</span></span>
- <span data-ttu-id="3e5b4-165">[Data Dog][data-dog] enthält einen Connector für Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="3e5b4-165">[Data Dog][data-dog] features a connector for Azure Monitor</span></span>
- <span data-ttu-id="3e5b4-166">Automatisieren von Überwachungsfunktionen mit [Azure Automation][Azure Automation]</span><span class="sxs-lookup"><span data-stu-id="3e5b4-166">Automate monitoring functions using [Azure Automation][Azure Automation].</span></span>
- <span data-ttu-id="3e5b4-167">Hinzufügen der Kommunikation mit [ITSM-Lösungen][ITSM solutions]</span><span class="sxs-lookup"><span data-stu-id="3e5b4-167">Add communication with [ITSM solutions][ITSM solutions].</span></span>
- <span data-ttu-id="3e5b4-168">Erweitern von Log Analytics mit einer [Verwaltungslösung][management solution]</span><span class="sxs-lookup"><span data-stu-id="3e5b4-168">Extend Log Analytics with a [management solution][management solution].</span></span>

### <a name="scalability-and-availability"></a><span data-ttu-id="3e5b4-169">Skalierbarkeit und Verfügbarkeit</span><span class="sxs-lookup"><span data-stu-id="3e5b4-169">Scalability and availability</span></span>

<span data-ttu-id="3e5b4-170">In diesem Szenario liegt der Schwerpunkt vor allem auf PaaS-Lösungen für die Überwachung, da Sie damit bequem für Verfügbarkeit und Skalierbarkeit sorgen können und dafür Vereinbarungen zum Servicelevel (SLAs) vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-170">This scenario focuses on PaaS solutions for monitoring in large part because they conveniently handle availability and scalability for you and are backed by service-level agreements (SLAs).</span></span> <span data-ttu-id="3e5b4-171">App Services verfügt beispielsweise über eine garantierte [SLA][SLA] für die Verfügbarkeit.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-171">For example, App Services provides a guaranteed [SLA][SLA] for its availability.</span></span>

<span data-ttu-id="3e5b4-172">Für Application Insights gelten [Grenzwerte][app-insights-limits] für die Anzahl von Anforderungen, die pro Sekunde verarbeitet werden können.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-172">Application Insights has [limits][app-insights-limits] on how many requests can be processed per second.</span></span> <span data-ttu-id="3e5b4-173">Wenn der Grenzwert für die Anforderungen überschritten wird, kommt es ggf. zu einer Drosselung der Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-173">If you exceed the request limit, you may experience message throttling.</span></span> <span data-ttu-id="3e5b4-174">Sie können dies verhindern, indem Sie die [Filterung][message-filtering] oder [Stichprobenentnahme][message-sampling] implementieren, um die Datenrate zu reduzieren.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-174">To prevent this, implement [filtering][message-filtering] or [sampling][message-sampling] to reduce the data rate</span></span>

<span data-ttu-id="3e5b4-175">Für die Aspekte der Hochverfügbarkeit für die von Ihnen ausgeführte App ist aber der Entwickler verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-175">High availability considerations for the app you run, however, are the developer's responsibility.</span></span> <span data-ttu-id="3e5b4-176">Informationen zur Skalierung finden Sie beispielsweise im Abschnitt [Überlegungen zur Skalierbarkeit](#scalability-considerations) in der Referenzarchitektur für einfache Webanwendungen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-176">For information about scale, for example, see the [Scalability considerations](#scalability-considerations) section in the basic web application reference architecture.</span></span> <span data-ttu-id="3e5b4-177">Nachdem eine App bereitgestellt wurde, können Sie Tests zum [Überwachen der Verfügbarkeit][monitor its availability] einrichten, indem Sie Application Insights verwenden.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-177">After an app is deployed, you can set up tests to [monitor its availability][monitor its availability] using Application Insights.</span></span>

### <a name="security"></a><span data-ttu-id="3e5b4-178">Sicherheit</span><span class="sxs-lookup"><span data-stu-id="3e5b4-178">Security</span></span>

<span data-ttu-id="3e5b4-179">Die Anforderungen in Bezug auf vertrauliche Informationen und Konformität wirken sich auf die Sammlung, Aufbewahrung und Speicherung von Daten aus.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-179">Sensitive information and compliance requirements affect data collection, retention, and storage.</span></span> <span data-ttu-id="3e5b4-180">Erfahren Sie mehr dazu, wie [Application Insights][application-insights] und [Log Analytics][log-analytics] Telemetriedaten verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-180">Learn more about how [Application Insights][application-insights] and [Log Analytics][log-analytics] handle telemetry.</span></span>

<span data-ttu-id="3e5b4-181">Unter Umständen gelten auch die folgenden Sicherheitsaspekte:</span><span class="sxs-lookup"><span data-stu-id="3e5b4-181">The following security considerations may also apply:</span></span>

- <span data-ttu-id="3e5b4-182">Entwickeln Sie einen Plan zur Verarbeitung von persönlichen Informationen, wenn es für Entwickler zulässig ist, eigene Daten zu sammeln oder vorhandene Telemetriedaten zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-182">Develop a plan to handle personal information if developers are allowed to collect their own data or enrich existing telemetry.</span></span>
- <span data-ttu-id="3e5b4-183">Berücksichtigen Sie die Datenaufbewahrung.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-183">Consider data retention.</span></span> <span data-ttu-id="3e5b4-184">Für Application Insights werden Telemetriedaten beispielsweise 90 Tage lang aufbewahrt.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-184">For example, Application Insights retains telemetry data for 90 days.</span></span> <span data-ttu-id="3e5b4-185">Archivieren Sie Daten, auf die der Zugriff längere Zeit möglich sein soll, mit Microsoft Power BI, dem fortlaufenden Export oder der REST-API.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-185">Archive data you want access to for longer periods using Microsoft Power BI, Continuous Export, or the REST API.</span></span> <span data-ttu-id="3e5b4-186">Hierfür gelten die Speichergebühren.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-186">Storage rates apply.</span></span>
- <span data-ttu-id="3e5b4-187">Beschränken Sie den Zugriff auf Azure-Ressourcen, um den Datenzugriff zu steuern und festzulegen, wer Telemetriedaten über eine bestimmte Anwendung anzeigen kann.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-187">Limit access to Azure resources to control access to data and who can view telemetry from a specific application.</span></span> <span data-ttu-id="3e5b4-188">Informationen zum Sperren des Zugriffs auf Telemetriedaten der Überwachung finden Sie unter [Ressourcen, Rollen und Zugriffssteuerung in Application Insights][Resources, roles, and access control in Application Insights].</span><span class="sxs-lookup"><span data-stu-id="3e5b4-188">To help lock down access to monitoring telemetry, see [Resources, roles, and access control in Application Insights][Resources, roles, and access control in Application Insights].</span></span>
- <span data-ttu-id="3e5b4-189">Überlegen Sie, ob der Lese-/Schreibzugriff im Anwendungscode gesteuert werden sollte. So wird verhindert, dass Benutzer Versions- oder Tagmarkierungen hinzufügen, mit denen die Datenerfassung für die Anwendung eingeschränkt wird.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-189">Consider whether to control read/write access in application code to prevent users from adding version or tag markers that limit data ingestion from the application.</span></span> <span data-ttu-id="3e5b4-190">Bei Application Insights können einzelne Datenelemente nach dem Senden an eine Ressource nicht mehr gesteuert werden. Wenn ein Benutzer also Zugriff auf Daten hat, hat er auch Zugriff auf alle Daten einer einzelnen Ressource.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-190">With Application Insights, there is no control over individual data items once they are sent to a resource, so if a user has access to any data, they have access to all data in an individual resource.</span></span>
- <span data-ttu-id="3e5b4-191">Fügen Sie Mechanismen für [Governance](/azure/security/governance-in-azure) hinzu, um bei Bedarf Richtlinien- oder Kostenkontrollen für Azure-Ressourcen zu erzwingen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-191">Add [governance](/azure/security/governance-in-azure) mechanisms to enforce policy or cost controls over Azure resources if needed.</span></span> <span data-ttu-id="3e5b4-192">Nutzen Sie beispielsweise Log Analytics für die sicherheitsbezogene Überwachung, z.B. Richtlinien und die rollenbasierte Zugriffssteuerung, oder verwenden Sie [Azure Policy](/azure/azure-policy/azure-policy-introduction), um Richtliniendefinitionen zu erstellen, zuzuweisen und zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-192">For example, use Log Analytics for security-related monitoring such as policies and role based access control, or use [Azure Policy](/azure/azure-policy/azure-policy-introduction) to create, assign and, manage policy definitions.</span></span>
- <span data-ttu-id="3e5b4-193">Zum Überwachen potenzieller Sicherheitsprobleme und Erlangen eines zentralen Überblicks über den Sicherheitszustand Ihrer Azure-Ressourcen können Sie auch [Azure Security Center](/azure/security-center/security-center-intro) nutzen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-193">To monitor potential security issues and get a central view of the security state of your Azure resources, consider using [Azure Security Center](/azure/security-center/security-center-intro).</span></span>

## <a name="pricing"></a><span data-ttu-id="3e5b4-194">Preise</span><span class="sxs-lookup"><span data-stu-id="3e5b4-194">Pricing</span></span>

<span data-ttu-id="3e5b4-195">Die Gebühren für die Überwachung können sich schnell zu einem höheren Betrag anwachsen. Daher sollten Sie sich die Preise im Voraus ansehen, sich im Klaren darüber sein, was Sie überwachen, und die entsprechenden Gebühren für jeden Dienst prüfen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-195">Monitoring charges can add up quickly, so consider pricing up front, understand what you are monitoring, and check the associated fees for each service.</span></span> <span data-ttu-id="3e5b4-196">Azure Monitor stellt [einfache Metriken][basic metrics] kostenlos bereit, während sich die Überwachungskosten für [Application Insights][application-insights-pricing] und [Log Analytics][log-analytics] nach der Menge der erfassten Daten und der Anzahl von durchgeführten Tests richten.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-196">Azure Monitor provides [basic metrics][basic metrics] at no cost, while monitoring costs for [Application Insights][application-insights-pricing] and [Log Analytics][log-analytics] are based on the amount of data ingested and the number of tests you run.</span></span>

<span data-ttu-id="3e5b4-197">Verwenden Sie als Einstiegshilfe den [Preisrechner][pricing], um die Kosten zu schätzen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-197">To help you get started, use the [pricing calculator][pricing] to estimate costs.</span></span> <span data-ttu-id="3e5b4-198">Wenn Sie wissen möchten, welche Kosten für Ihren spezifischen Anwendungsfall entstehen, können Sie die unterschiedlichen Optionen ändern und an Ihre erwartete Bereitstellung anpassen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-198">To see how the pricing would change for your particular use case, change the various options to match your expected deployment.</span></span>

<span data-ttu-id="3e5b4-199">Telemetriedaten von Application Insights werden beim Debuggen und nach dem Veröffentlichen Ihrer App an das Azure-Portal gesendet.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-199">Telemetry from Application Insights is sent to the Azure portal during debugging and after you have published your app.</span></span> <span data-ttu-id="3e5b4-200">Zu Testzwecken und zur Vermeidung von Gebühren wird eine begrenzte Menge von Telemetriedaten instrumentiert.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-200">For testing purposes and to avoid charges, a limited volume of telemetry is instrumented.</span></span> <span data-ttu-id="3e5b4-201">Sie können den Grenzwert für die Telemetriedaten erhöhen, um weitere Indikatoren hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-201">To add more indicators, you can raise the telemetry limit.</span></span> <span data-ttu-id="3e5b4-202">Informationen zu einer präziseren Steuerung finden Sie unter [Erstellen von Stichproben in Application Insights][Sampling in Application Insights].</span><span class="sxs-lookup"><span data-stu-id="3e5b4-202">For more granular control, see [Sampling in Application Insights][Sampling in Application Insights].</span></span>

<span data-ttu-id="3e5b4-203">Nach der Bereitstellung können Sie sich einen [Live Metrics Stream][Live Metrics Stream] mit Leistungsindikatoren ansehen.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-203">After deployment, you can watch a [Live Metrics Stream][Live Metrics Stream] of performance indicators.</span></span> <span data-ttu-id="3e5b4-204">Diese Daten werden nicht gespeichert – Sie zeigen Echtzeitmetriken an –, aber die Telemetriedaten können gesammelt und später analysiert werden.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-204">This data is not stored---you are viewing real-time metrics---but the telemetry can be collected and analyzed later.</span></span> <span data-ttu-id="3e5b4-205">Für Live Stream-Daten fallen keine Gebühren an.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-205">There is no charge for Live Stream data.</span></span>

<span data-ttu-id="3e5b4-206">Die Abrechnung von Log Analytics erfolgt pro GB an Daten, die im Dienst erfasst werden.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-206">Log Analytics is billed per gigabyte (GB) of data ingested into the service.</span></span> <span data-ttu-id="3e5b4-207">Die ersten 5 GB an Daten, die jeden Monat mit dem Azure Log Analytics-Dienst erfasst werden, sind kostenlos. Die Daten werden für die ersten 31 Tage ohne Gebühren in Ihrem Log Analytics-Arbeitsbereich aufbewahrt.</span><span class="sxs-lookup"><span data-stu-id="3e5b4-207">The first 5 GB of data ingested to the Azure Log Analytics service every month is offered free, and the data is retained at no charge for first 31 days in your Log Analytics workspace.</span></span>

## <a name="next-steps"></a><span data-ttu-id="3e5b4-208">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="3e5b4-208">Next steps</span></span>

<span data-ttu-id="3e5b4-209">Nutzen Sie diese Ressourcen als Hilfe bei den ersten Schritten mit Ihrer eigenen Überwachungslösung:</span><span class="sxs-lookup"><span data-stu-id="3e5b4-209">Check out these resources designed to help you get started with your own monitoring solution:</span></span>

<span data-ttu-id="3e5b4-210">[Referenzarchitektur für einfache Webanwendungen][Basic web application reference architecture]</span><span class="sxs-lookup"><span data-stu-id="3e5b4-210">[Basic web application reference architecture][Basic web application reference architecture]</span></span>

<span data-ttu-id="3e5b4-211">[Starten der Überwachung Ihrer ASP.NET-Webanwendung][Start monitoring your ASP.NET Web Application]</span><span class="sxs-lookup"><span data-stu-id="3e5b4-211">[Start monitoring your ASP.NET Web Application][Start monitoring your ASP.NET Web Application]</span></span>

<span data-ttu-id="3e5b4-212">[Sammeln von Daten über virtuelle Azure-Computer][Collect data about Azure Virtual Machines]</span><span class="sxs-lookup"><span data-stu-id="3e5b4-212">[Collect data about Azure Virtual Machines][Collect data about Azure Virtual Machines]</span></span>

## <a name="related-resources"></a><span data-ttu-id="3e5b4-213">Zugehörige Ressourcen</span><span class="sxs-lookup"><span data-stu-id="3e5b4-213">Related resources</span></span>

<span data-ttu-id="3e5b4-214">[Überwachen von Azure-Anwendungen und -Ressourcen][Monitoring Azure applications and resources]</span><span class="sxs-lookup"><span data-stu-id="3e5b4-214">[Monitoring Azure applications and resources][Monitoring Azure applications and resources]</span></span>

<span data-ttu-id="3e5b4-215">[Suchen und Diagnostizieren von Laufzeitausnahmen mit Azure Application Insights][Find and diagnose run-time exceptions with Azure Application Insights]</span><span class="sxs-lookup"><span data-stu-id="3e5b4-215">[Find and diagnose run-time exceptions with Azure Application Insights][Find and diagnose run-time exceptions with Azure Application Insights]</span></span>

<!-- links -->
[architecture]: ./media/architecture-app-monitoring.png
[availability-tests]: /azure/application-insights/app-insights-monitor-web-app-availability
[application-insights]: /azure/application-insights/app-insights-overview
[azure-monitor]: /azure/monitoring-and-diagnostics/monitoring-overview-azure-monitor
[metrics]: /azure/monitoring-and-diagnostics/monitoring-supported-metrics
[Log Analytics und andere Dienste]: /azure/log-analytics/log-analytics-azure-storage
[Log Analytics and other services]: /azure/log-analytics/log-analytics-azure-storage
[log-analytics]: /azure/log-analytics/log-analytics-overview
[Azure Log Analytics agent]: https://blogs.msdn.microsoft.com/sqlsecurity/2017/12/28/azure-log-analytics-oms-agent-now-collects-sql-server-audit-logs/
[application-insights-pricing]: https://azure.microsoft.com/pricing/details/application-insights/
[Application Insights SDKs]: /azure/application-insights/app-insights-asp-net
[Application Insights Status Monitor]: https://azure.microsoft.com/updates/application-insights-status-monitor-and-sdk-updated/
[analyzing data across sources]: /azure/log-analytics/log-analytics-dashboards
[sending proactive alerts]: /azure/log-analytics/log-analytics-alerts
[the Azure portal]: /azure/log-analytics/log-analytics-tutorial-dashboards
[Azure Log Analytics Query Language]: https://docs.loganalytics.io/docs/Learn
[cross-resource queries]: https://azure.microsoft.com/blog/query-across-resources/
[alerts]: /azure/monitoring-and-diagnostics/monitoring-overview-alerts
[Alerts (Preview)]: /azure/monitoring-and-diagnostics/monitoring-overview-unified-alerts
[Azure Monitor Data Source For Grafana]: https://grafana.com/plugins/grafana-azure-monitor-datasource
[Azure Automation]: /azure/automation/automation-intro
[ITSM solutions]: https://azure.microsoft.com/blog/itsm-connector-for-azure-is-now-generally-available/
[management solution]: /azure/monitoring/monitoring-solutions
[SLA]: https://azure.microsoft.com/support/legal/sla/app-service/v1_4/
[monitor its availability]: /azure/application-insights/app-insights-monitor-web-app-availability
[Resources, roles, and access control in Application Insights]: /azure/application-insights/app-insights-resources-roles-access-control
[basic metrics]: /azure/monitoring-and-diagnostics/monitoring-supported-metrics
[pricing]: https://azure.microsoft.com/pricing/calculator/#log-analyticsc126d8c1-ec9c-4e5b-9b51-4db95d06a9b1
[Sampling in Application Insights]: /azure/application-insights/app-insights-sampling
[Live Metrics Stream]: /azure/application-insights/app-insights-live-stream
[Basic web application reference architecture]: /azure/architecture/reference-architectures/app-service-web-app/basic-web-app#scalability-considerations
[Start monitoring your ASP.NET Web Application]: /azure/application-insights/quick-monitor-portal
[Collect data about Azure Virtual Machines]: /azure/log-analytics/log-analytics-quick-collect-azurevm
[Monitoring Azure applications and resources]: /azure/monitoring-and-diagnostics/monitoring-overview
[Find and diagnose run-time exceptions with Azure Application Insights]: /azure/application-insights/app-insights-tutorial-runtime-exceptions
[data-dog]: https://www.datadoghq.com/blog/azure-monitoring-enhancements/
[app-insights-limits]: /azure/azure-subscription-service-limits#application-insights-limits
[message-filtering]: /azure/application-insights/app-insights-api-filtering-sampling
[message-sampling]: /azure/application-insights/app-insights-sampling
