---
title: "Checkliste für Resilienz"
description: "Checkliste, die Hinweise zu Überlegungen hinsichtlich der Resilienz während des Entwurfs bereitstellt."
author: petertaylor9999
ms.date: 01/10/2018
ms.custom: resiliency, checklist
ms.openlocfilehash: 51f807715d0ac929806b9a5a13da4efa00566592
ms.sourcegitcommit: a7aae13569e165d4e768ce0aaaac154ba612934f
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 01/30/2018
---
# <a name="resiliency-checklist"></a><span data-ttu-id="52a63-103">Checkliste für Resilienz</span><span class="sxs-lookup"><span data-stu-id="52a63-103">Resiliency checklist</span></span>

<span data-ttu-id="52a63-104">Resilienz ist die Fähigkeit des Systems, nach Ausfällen für ein System eine Wiederherstellung durchzuführen und die Betriebsbereitschaft sicherzustellen. Sie gehört zu den [Säulen der Softwarequalität](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="52a63-104">Resiliency is the ability of a system to recover from failures and continue to function, and is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="52a63-105">Damit Sie Ihre Anwendung für Resilienz entwerfen können, müssen Sie eine Vielzahl von Fehlermodi, die auftreten können, einplanen und entschärfen.</span><span class="sxs-lookup"><span data-stu-id="52a63-105">Designing your application for resiliency requires planning for and mitigating a variety of failure modes that could occur.</span></span> <span data-ttu-id="52a63-106">Verwenden Sie diese Prüfliste, um Ihre Anwendungsarchitektur vom Standpunkt der Resilienz aus zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="52a63-106">Use this checklist to review your application architecture from a resiliency standpoint.</span></span> 

## <a name="requirements"></a><span data-ttu-id="52a63-107">Requirements (Anforderungen)</span><span class="sxs-lookup"><span data-stu-id="52a63-107">Requirements</span></span>

<span data-ttu-id="52a63-108">**Definieren Sie die Verfügbarkeitsanforderungen Ihrer Kunden.**</span><span class="sxs-lookup"><span data-stu-id="52a63-108">**Define your customer's availability requirements.**</span></span> <span data-ttu-id="52a63-109">Ihre Kunden haben Anforderungen an die Verfügbarkeit der Komponenten in der Anwendung, die Entwurf der Anwendung beeinflussen.</span><span class="sxs-lookup"><span data-stu-id="52a63-109">Your customer will have availability requirements for the components in your application and this will affect your application's design.</span></span> <span data-ttu-id="52a63-110">Vereinbaren Sie mit den Kunden Verfügbarkeitsziele für die einzelnen Bestandteile der Anwendung, andernfalls erfüllt der Entwurf die Kundenerwartungen möglicherweise nicht.</span><span class="sxs-lookup"><span data-stu-id="52a63-110">Get agreement from your customer for the availability targets of each piece of your application, otherwise your design may not meet the customer's expectations.</span></span> <span data-ttu-id="52a63-111">Weitere Informationen finden Sie unter [Definieren Ihrer Anforderungen an die Resilienz](../resiliency/index.md#defining-your-resiliency-requirements).</span><span class="sxs-lookup"><span data-stu-id="52a63-111">For more information, see [Defining your resiliency requirements](../resiliency/index.md#defining-your-resiliency-requirements).</span></span>

## <a name="application-design"></a><span data-ttu-id="52a63-112">Anwendungsentwurf</span><span class="sxs-lookup"><span data-stu-id="52a63-112">Application Design</span></span>

<span data-ttu-id="52a63-113">**Führen Sie eine Analyse im Fehlermodus (FMA) für die Anwendung durch.**</span><span class="sxs-lookup"><span data-stu-id="52a63-113">**Perform a failure mode analysis (FMA) for your application.**</span></span> <span data-ttu-id="52a63-114">FMA ist ein Verfahren, um zu einem frühen Zeitpunkt in der Entwurfsphase Resilienz in einer Anwendung zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="52a63-114">FMA is a process for building resiliency into an application early in the design stage.</span></span> <span data-ttu-id="52a63-115">Weitere Informationen finden Sie unter [Analyse im Fehlermodus][fma].</span><span class="sxs-lookup"><span data-stu-id="52a63-115">For more information, see [Failure mode analysis][fma].</span></span> <span data-ttu-id="52a63-116">Ziele von FMA:</span><span class="sxs-lookup"><span data-stu-id="52a63-116">The goals of an FMA include:</span></span>  

* <span data-ttu-id="52a63-117">Identifizieren, welche Arten von Fehlern in einer Anwendung auftreten können.</span><span class="sxs-lookup"><span data-stu-id="52a63-117">Identify what types of failures an application might experience.</span></span>
* <span data-ttu-id="52a63-118">Erfassen möglicher Einflüsse und Auswirkungen der einzelnen Arten von Fehlern auf die Anwendung.</span><span class="sxs-lookup"><span data-stu-id="52a63-118">Capture the potential effects and impact of each type of failure on the application.</span></span>
* <span data-ttu-id="52a63-119">Identifizieren von Strategien für die Wiederherstellung.</span><span class="sxs-lookup"><span data-stu-id="52a63-119">Identify recovery strategies.</span></span>
  

<span data-ttu-id="52a63-120">**Stellen Sie mehrere Instanzen von Diensten bereit.**</span><span class="sxs-lookup"><span data-stu-id="52a63-120">**Deploy multiple instances of services.**</span></span> <span data-ttu-id="52a63-121">Wenn Ihre Anwendung von einer einzelnen Instanz eines Diensts abhängig ist, entsteht dadurch ein Single Point of Failure.</span><span class="sxs-lookup"><span data-stu-id="52a63-121">If your application depends on a single instance of a service, it creates a single point of failure.</span></span> <span data-ttu-id="52a63-122">Durch die Bereitstellung von mehreren Instanzen werden Resilienz und Skalierbarkeit verbessert.</span><span class="sxs-lookup"><span data-stu-id="52a63-122">Provisioning multiple instances improves both resiliency and scalability.</span></span> <span data-ttu-id="52a63-123">Wählen Sie für [Azure App Service](/azure/app-service/app-service-value-prop-what-is/) einen [App Service-Plan](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) aus, der mehrere Instanzen bietet.</span><span class="sxs-lookup"><span data-stu-id="52a63-123">For [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), select an [App Service Plan](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) that offers multiple instances.</span></span> <span data-ttu-id="52a63-124">Konfigurieren Sie für Azure Cloud Services alle Rollen so, dass sie [mehrere Instanzen](/azure/cloud-services/cloud-services-choose-me/#scaling-and-management) verwenden.</span><span class="sxs-lookup"><span data-stu-id="52a63-124">For Azure Cloud Services, configure each of your roles to use [multiple instances](/azure/cloud-services/cloud-services-choose-me/#scaling-and-management).</span></span> <span data-ttu-id="52a63-125">Stellen Sie für [Azure Virtual Machines (VMs)](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) sicher, dass die VM-Architektur mehr als eine VM enthält und dass jede VM zu einer [Verfügbarkeitsgruppe][availability-sets] gehört.</span><span class="sxs-lookup"><span data-stu-id="52a63-125">For [Azure Virtual Machines (VMs)](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), ensure that your VM architecture includes more than one VM and that each VM is included in an [availability set][availability-sets].</span></span>   

<span data-ttu-id="52a63-126">**Verwenden Sie die automatische Skalierung, um auf den Anstieg der Last zu reagieren.**</span><span class="sxs-lookup"><span data-stu-id="52a63-126">**Use autoscaling to respond to increases in load.**</span></span> <span data-ttu-id="52a63-127">Wenn Ihre Anwendung nicht so konfiguriert ist, dass sie beim Anstieg der Last automatisch horizontal hochskaliert wird, ist es möglich, dass Dienste der Anwendung fehlschlagen, wenn zu viele Benutzeranforderungen auftreten.</span><span class="sxs-lookup"><span data-stu-id="52a63-127">If your application is not configured to scale out automatically as load increases, it's possible that your application's services will fail if they become saturated with user requests.</span></span> <span data-ttu-id="52a63-128">Weitere Informationen finden Sie hier:</span><span class="sxs-lookup"><span data-stu-id="52a63-128">For more details, see the following:</span></span>

* <span data-ttu-id="52a63-129">Allgemein: [Checkliste für die Skalierbarkeit](./scalability.md)</span><span class="sxs-lookup"><span data-stu-id="52a63-129">General: [Scalability checklist](./scalability.md)</span></span>
* <span data-ttu-id="52a63-130">Azure App Service: [Manuelles oder automatisches Skalieren der Instanzenzahl][app-service-autoscale]</span><span class="sxs-lookup"><span data-stu-id="52a63-130">Azure App Service: [Scale instance count manually or automatically][app-service-autoscale]</span></span>
* <span data-ttu-id="52a63-131">Cloud Services: [Automatisches Skalieren eines Clouddiensts][cloud-service-autoscale]</span><span class="sxs-lookup"><span data-stu-id="52a63-131">Cloud Services: [How to auto scale a cloud service][cloud-service-autoscale]</span></span>
* <span data-ttu-id="52a63-132">Virtual Machines: [Automatische Skalierung und Skalierungsgruppen für virtuelle Computer][vmss-autoscale]</span><span class="sxs-lookup"><span data-stu-id="52a63-132">Virtual Machines: [Automatic scaling and virtual machine scale sets][vmss-autoscale]</span></span>

<span data-ttu-id="52a63-133">**Verwenden Sie den Lastenausgleich, um Anforderungen zu verteilen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-133">**Use load balancing to distribute requests.**</span></span> <span data-ttu-id="52a63-134">Mit dem Lastenausgleich werden die Anforderungen Ihrer Anwendung auf fehlerfreie Dienstinstanzen verteilt, indem fehlerhafte Instanzen aus der Rotation entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-134">Load balancing distributes your application's requests to healthy service instances by removing unhealthy instances from rotation.</span></span> <span data-ttu-id="52a63-135">Wenn der Dienst Azure App Service oder Azure Cloud Services verwendet, erfolgt bereits ein Lastenausgleich.</span><span class="sxs-lookup"><span data-stu-id="52a63-135">If your service uses Azure App Service or Azure Cloud Services, it is already load balanced for you.</span></span> <span data-ttu-id="52a63-136">Wenn Ihre Anwendung allerdings Azure-VMs verwendet, müssen Sie einen Lastenausgleich bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="52a63-136">However, if your application uses Azure VMs, you will need to provision a load balancer.</span></span> <span data-ttu-id="52a63-137">Weitere Informationen finden Sie in der Übersicht über [Azure Load Balancer](/azure/load-balancer/load-balancer-overview/).</span><span class="sxs-lookup"><span data-stu-id="52a63-137">See the [Azure Load Balancer](/azure/load-balancer/load-balancer-overview/) overview for more details.</span></span>

<span data-ttu-id="52a63-138">**Konfigurieren Sie Azure-Anwendungsgateways für die Verwendung mehrerer Instanzen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-138">**Configure Azure Application Gateways to use multiple instances.**</span></span> <span data-ttu-id="52a63-139">Abhängig von den Anforderungen Ihrer Anwendung kann [Azure Application Gateway](/azure/application-gateway/application-gateway-introduction/) für die Verteilung von Anforderungen an die Dienste der Anwendung besser geeignet sein.</span><span class="sxs-lookup"><span data-stu-id="52a63-139">Depending on your application's requirements, an [Azure Application Gateway](/azure/application-gateway/application-gateway-introduction/) may be better suited to distributing requests to your application's services.</span></span> <span data-ttu-id="52a63-140">Allerdings sind einzelne Instanzen des Application Gateway-Diensts nicht durch einen SLA garantiert. Daher ist es möglich, dass bei einem Ausfall der Application Gateway-Instanz die Anwendung ausfällt.</span><span class="sxs-lookup"><span data-stu-id="52a63-140">However, single instances of the Application Gateway service are not guaranteed by an SLA so it's possible that your application could fail if the Application Gateway instance fails.</span></span> <span data-ttu-id="52a63-141">Stellen Sie mehr als eine mittlere oder größere Application Gateway-Instanz bereit, um die Verfügbarkeit des Diensts gemäß den Bedingungen der [SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/v1_0/) zu gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="52a63-141">Provision more than one medium or larger Application Gateway instance to guarantee availability of the service under the terms of the [SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/v1_0/).</span></span>

<span data-ttu-id="52a63-142">**Verwenden Sie Verfügbarkeitsgruppen für jede Logikschicht.**</span><span class="sxs-lookup"><span data-stu-id="52a63-142">**Use Availability Sets for each application tier.**</span></span> <span data-ttu-id="52a63-143">Das Platzieren Ihrer Instanzen in einer [Verfügbarkeitsgruppe][availability-sets] bietet eine höhere [SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines/).</span><span class="sxs-lookup"><span data-stu-id="52a63-143">Placing your instances in an [availability set][availability-sets] provides a higher [SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines/).</span></span> 

<span data-ttu-id="52a63-144">**Erwägen Sie die Bereitstellung Ihrer Anwendung in mehreren Regionen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-144">**Consider deploying your application across multiple regions.**</span></span> <span data-ttu-id="52a63-145">Wenn Ihre Anwendung in einer einzelnen Region bereitgestellt wird, ist Ihre Anwendung nicht mehr verfügbar, falls doch einmal die gesamte Region ausfällt.</span><span class="sxs-lookup"><span data-stu-id="52a63-145">If your application is deployed to a single region, in the rare event the entire region becomes unavailable, your application will also be unavailable.</span></span> <span data-ttu-id="52a63-146">Dies kann unter den Bestimmungen der SLA für Ihre Anwendung nicht akzeptabel sein.</span><span class="sxs-lookup"><span data-stu-id="52a63-146">This may be unacceptable under the terms of your application's SLA.</span></span> <span data-ttu-id="52a63-147">Wenn dies der Fall ist, erwägen Sie die Bereitstellung Ihrer Anwendung und der zugehörigen Dienste in mehreren Regionen.</span><span class="sxs-lookup"><span data-stu-id="52a63-147">If so, consider deploying your application and its services across multiple regions.</span></span> <span data-ttu-id="52a63-148">Für eine Bereitstellung in mehreren Regionen kann ein Aktiv/Aktiv-Muster (Verteilung von Anforderungen über mehrere aktive Instanzen) oder ein Aktiv/Passiv-Muster (eine "warme" Instanz wird für den Fall, dass die primäre Instanz ausfällt, als Reserve vorgehalten) verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-148">A multi-region deployment can use an active-active pattern (distributing requests across multiple active instances) or an active-passive pattern (keeping a "warm" instance in reserve, in case the primary instance fails).</span></span> <span data-ttu-id="52a63-149">Es wird empfohlen, dass Sie mehrere Instanzen der Dienste Ihrer Anwendung in Regionspaaren bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="52a63-149">We recommend that you deploy multiple instances of your application's services across regional pairs.</span></span> <span data-ttu-id="52a63-150">Weitere Informationen finden Sie unter [Geschäftskontinuität und Notfallwiederherstellung: Azure-Regionspaare](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="52a63-150">For more information, see [Business continuity and disaster recovery (BCDR): Azure Paired Regions](/azure/best-practices-availability-paired-regions).</span></span>

<span data-ttu-id="52a63-151">**Verwenden Sie Azure Traffic Manager zum Weiterleiten des Datenverkehrs für Ihre Anwendung an verschiedene Regionen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-151">**Use Azure Traffic Manager to route your application's traffic to different regions.**</span></span>  <span data-ttu-id="52a63-152">[Azure Traffic Manager][traffic-manager] führt den Lastenausgleich auf DNS-Ebene durch und leitet den Datenverkehr an verschiedene Regionen weiter. Die Weiterleitung basiert auf der angegebenen Methode für das [Datenverkehrrouting][traffic-manager-routing] und der Integrität der Endpunkte Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="52a63-152">[Azure Traffic Manager][traffic-manager] performs load balancing at the DNS level and will route traffic to different regions based on the [traffic routing][traffic-manager-routing] method you specify and the health of your application's endpoints.</span></span> <span data-ttu-id="52a63-153">Ohne Traffic Manager ist Ihre Bereitstellung auf eine Region beschränkt. Dadurch wird die Skalierung eingeschränkt und die Latenz für einige Benutzer erhöht. Zudem entstehen Ausfallzeiten der Anwendung, falls in der gesamten Region der Dienst unterbrochen wird.</span><span class="sxs-lookup"><span data-stu-id="52a63-153">Without Traffic Manager, you are limited to a single region for your deployment, which limits scale, increases latency for some users, and causes application downtime in the case of a region-wide service disruption.</span></span>

<span data-ttu-id="52a63-154">**Konfigurieren und testen Sie Integritätstest für Ihre Lastenausgleichsmodule und Traffic Manager.**</span><span class="sxs-lookup"><span data-stu-id="52a63-154">**Configure and test health probes for your load balancers and traffic managers.**</span></span> <span data-ttu-id="52a63-155">Stellen Sie sicher, dass Ihre Integritätslogik die kritischen Teile des Systems überprüft und in geeigneter Weise auf Integritätstests reagiert.</span><span class="sxs-lookup"><span data-stu-id="52a63-155">Ensure that your health logic checks the critical parts of the system and responds appropriately to health probes.</span></span>

* <span data-ttu-id="52a63-156">Die Integritätstest für [Azure Traffic Manager][traffic-manager] und [Azure Load Balancer][load-balancer] dienen einem bestimmten Zweck.</span><span class="sxs-lookup"><span data-stu-id="52a63-156">The health probes for [Azure Traffic Manager][traffic-manager] and [Azure Load Balancer][load-balancer] serve a specific function.</span></span> <span data-ttu-id="52a63-157">Bei Traffic Manager bestimmt der Integritätstest, ob ein Failover auf eine andere Region erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="52a63-157">For Traffic Manager, the health probe determines whether to fail over to another region.</span></span> <span data-ttu-id="52a63-158">Beim Lastenausgleich bestimmt er, ob eine VM aus der Rotation entfernt werden muss.</span><span class="sxs-lookup"><span data-stu-id="52a63-158">For a load balancer, it determines whether to remove a VM from rotation.</span></span>      
* <span data-ttu-id="52a63-159">Bei einem Traffic Manager-Test sollte Ihr Integritätsendpunkt alle kritischen Abhängigkeiten überprüfen, die innerhalb der gleichen Region bereitgestellt wurden und deren Ausfall ein Failover auf eine andere Region auslösen sollte.</span><span class="sxs-lookup"><span data-stu-id="52a63-159">For a Traffic Manager probe, your health endpoint should check any critical dependencies that are deployed within the same region, and whose failure should trigger a failover to another region.</span></span>  
* <span data-ttu-id="52a63-160">Bei einem Lastenausgleich sollte der Integritätsendpunkt die Integrität der VM melden.</span><span class="sxs-lookup"><span data-stu-id="52a63-160">For a load balancer, the health endpoint should report the health of the VM.</span></span> <span data-ttu-id="52a63-161">Nehmen Sie keine weiteren Schichten oder externen Dienste auf.</span><span class="sxs-lookup"><span data-stu-id="52a63-161">Don't include other tiers or external services.</span></span> <span data-ttu-id="52a63-162">Andernfalls verursacht ein Fehler, der außerhalb der VM auftritt, dass der Lastenausgleich die VM aus der Rotation entfernt.</span><span class="sxs-lookup"><span data-stu-id="52a63-162">Otherwise, a failure that occurs outside the VM will cause the load balancer to remove the VM from rotation.</span></span>
* <span data-ttu-id="52a63-163">Anweisungen zum Implementieren der Integritätsüberwachung in Ihrer Anwendung finden Sie unter [Überwachungsmuster für den Integritätsendpunkt](https://msdn.microsoft.com/library/dn589789.aspx).</span><span class="sxs-lookup"><span data-stu-id="52a63-163">For guidance on implementing health monitoring in your application, see [Health Endpoint Monitoring Pattern](https://msdn.microsoft.com/library/dn589789.aspx).</span></span>

<span data-ttu-id="52a63-164">**Überwachen Sie Dienste von Drittanbietern.**</span><span class="sxs-lookup"><span data-stu-id="52a63-164">**Monitor third-party services.**</span></span> <span data-ttu-id="52a63-165">Wenn Ihre Anwendung Abhängigkeiten von den Diensten von Drittanbietern aufweist, identifizieren Sie, wo und wie Fehler in diesen Diensten von Drittanbietern auftreten können und welche Auswirkungen diese Fehler auf die Anwendung haben.</span><span class="sxs-lookup"><span data-stu-id="52a63-165">If your application has dependencies on third-party services, identify where and how these third-party services can fail and what effect those failures will have on your application.</span></span> <span data-ttu-id="52a63-166">Der Dienst eines Drittanbieters weist möglicherweise keine Überwachungs- und Diagnosefunktionen auf. Daher ist es wichtig, dass Ihre Aufrufe dieser Dienste protokolliert werden und über einen eindeutigen Bezeichner mit der Integritäts- und Diagnoseprotokollierung Ihrer Anwendung korreliert werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-166">A third-party service may not include monitoring and diagnostics, so it's important to log your invocations of them and correlate them with your application's health and diagnostic logging using a unique identifier.</span></span> <span data-ttu-id="52a63-167">Weitere Informationen zu bewährten Verfahren für Überwachung und Diagnose finden Sie unter [Anleitung zur Überwachung und Diagnose][monitoring-and-diagnostics-guidance].</span><span class="sxs-lookup"><span data-stu-id="52a63-167">For more information on proven practices for monitoring and diagnostics, see [Monitoring and Diagnostics guidance][monitoring-and-diagnostics-guidance].</span></span>

<span data-ttu-id="52a63-168">**Stellen Sie sicher, dass alle von Ihnen genutzten Dienste von Drittanbietern eine SLA bereitstellen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-168">**Ensure that any third-party service you consume provides an SLA.**</span></span> <span data-ttu-id="52a63-169">Wenn Ihre Anwendung von einem Dienst eines Drittanbieters abhängt, der Drittanbieter aber keine Garantie für die Verfügbarkeit in Form einer SLA bietet, kann die Verfügbarkeit Ihrer Anwendung auch nicht garantiert werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-169">If your application depends on a third-party service, but the third party provides no guarantee of availability in the form of an SLA, your application's availability also cannot be guaranteed.</span></span> <span data-ttu-id="52a63-170">Ihre SLA ist nur so gut wie die Komponente mit der geringsten Verfügbarkeit in Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="52a63-170">Your SLA is only as good as the least available component of your application.</span></span>

<span data-ttu-id="52a63-171">**Implementieren Sie ggf. Resilienzmuster für Remotevorgänge.**</span><span class="sxs-lookup"><span data-stu-id="52a63-171">**Implement resiliency patterns for remote operations where appropriate.**</span></span> <span data-ttu-id="52a63-172">Wenn Ihre Anwendung von der Kommunikation zwischen Remotediensten abhängig ist, folgen Sie den Entwurfsmustern für den Umgang mit vorübergehenden Fehlern wie z.B. [Wiederholungsmuster][retry-pattern] und [Trennschalter-Muster][circuit-breaker].</span><span class="sxs-lookup"><span data-stu-id="52a63-172">If your application depends on communication between remote services, follow design patterns for dealing with transient failures, such as [Retry Pattern][retry-pattern], and [Circuit Breaker Pattern][circuit-breaker].</span></span> <span data-ttu-id="52a63-173">Weitere Informationen finden Sie unter [Resilienzstrategien](../resiliency/index.md#resiliency-strategies).</span><span class="sxs-lookup"><span data-stu-id="52a63-173">For more information, see [Resiliency strategies](../resiliency/index.md#resiliency-strategies).</span></span>

<span data-ttu-id="52a63-174">**Implementieren Sie nach Möglichkeit asynchrone Vorgänge.**</span><span class="sxs-lookup"><span data-stu-id="52a63-174">**Implement asynchronous operations whenever possible.**</span></span> <span data-ttu-id="52a63-175">Synchrone Vorgänge können zu einer Monopolisierung von Ressourcen führen und andere Vorgänge blockieren, während der Aufrufer auf den Abschluss des Vorgangs wartet.</span><span class="sxs-lookup"><span data-stu-id="52a63-175">Synchronous operations can monopolize resources and block other operations while the caller waits for the process to complete.</span></span> <span data-ttu-id="52a63-176">Entwerfen Sie die einzelnen Teile der Anwendung so, dass nach Möglichkeit asynchrone Vorgänge genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-176">Design each part of your application to allow for asynchronous operations whenever possible.</span></span> <span data-ttu-id="52a63-177">Weitere Informationen zum Implementieren der asynchronen Programmierung in C# finden Sie unter [Asynchrone Programmierung mit Async und Await][asynchronous-c-sharp].</span><span class="sxs-lookup"><span data-stu-id="52a63-177">For more information on how to implement asynchronous programming in C#, see [Asynchronous Programming with async and await][asynchronous-c-sharp].</span></span>

## <a name="data-management"></a><span data-ttu-id="52a63-178">Datenverwaltung</span><span class="sxs-lookup"><span data-stu-id="52a63-178">Data management</span></span>

<span data-ttu-id="52a63-179">**Untersuchen Sie die Replikationsmethoden für die Datenquellen Ihrer Anwendung.**</span><span class="sxs-lookup"><span data-stu-id="52a63-179">**Understand the replication methods for your application's data sources.**</span></span> <span data-ttu-id="52a63-180">Ihre Anwendungsdaten werden in unterschiedlichen Datenquellen gespeichert und weisen unterschiedliche Anforderungen an die Verfügbarkeit auf.</span><span class="sxs-lookup"><span data-stu-id="52a63-180">Your application data will be stored in different data sources and have different availability requirements.</span></span> <span data-ttu-id="52a63-181">Bewerten Sie die Replikationsmethoden für jeden Typ von Datenspeicher in Azure, beispielsweise die [Azure-Speicherreplikation](/azure/storage/storage-redundancy/) und die [aktive Georeplikation in Azure SQL-Datenbank](/azure/sql-database/sql-database-geo-replication-overview/), um sicherzustellen, dass die Datenanforderungen Ihrer Anwendung erfüllt werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-181">Evaluate the replication methods for each type of data storage in Azure, including [Azure Storage Replication](/azure/storage/storage-redundancy/) and [SQL Database Active Geo-Replication](/azure/sql-database/sql-database-geo-replication-overview/) to ensure that your application's data requirements are satisfied.</span></span>

<span data-ttu-id="52a63-182">**Stellen Sie sicher, dass kein einzelnes Benutzerkonto Zugriff auf Produktions- und Sicherungsdaten hat.**</span><span class="sxs-lookup"><span data-stu-id="52a63-182">**Ensure that no single user account has access to both production and backup data.**</span></span> <span data-ttu-id="52a63-183">Die Datensicherungen sind gefährdet, wenn ein einzelnes Benutzerkonto über die Berechtigung zum Schreiben in Produktions- und Sicherungsquellen verfügt.</span><span class="sxs-lookup"><span data-stu-id="52a63-183">Your data backups are compromised if one single user account has permission to write to both production and backup sources.</span></span> <span data-ttu-id="52a63-184">Ein böswilliger Benutzer könnte absichtlich alle Daten löschen, einem normalen Benutzer könnte dies versehentlich passieren.</span><span class="sxs-lookup"><span data-stu-id="52a63-184">A malicious user could purposely delete all your data, while a regular user could accidentally delete it.</span></span> <span data-ttu-id="52a63-185">Entwerfen Sie Ihre Anwendung mit Einschränkungen der Berechtigungen für jedes Benutzerkonto, sodass nur die Benutzer, für die Schreibzugriff erforderlich ist, über Schreibzugriff verfügen, und auch nur auf Produktions- oder Sicherungsquellen, aber nicht auf beide.</span><span class="sxs-lookup"><span data-stu-id="52a63-185">Design your application to limit the permissions of each user account so that only the users that require write access have write access and it's only to either production or backup, but not both.</span></span>

<span data-ttu-id="52a63-186">**Dokumentieren Sie den Failover- und Failbackprozess der Datenquellen, und testen Sie ihn.**</span><span class="sxs-lookup"><span data-stu-id="52a63-186">**Document your data source fail over and fail back process and test it.**</span></span> <span data-ttu-id="52a63-187">Bei einem schwerwiegenden Ausfall der Datenquelle muss ein menschlicher Operator einer Reihe von dokumentierten Anweisungen folgen, um ein Failover auf eine neue Datenquelle auszuführen.</span><span class="sxs-lookup"><span data-stu-id="52a63-187">In the case where your data source fails catastrophically, a human operator will have to follow a set of documented instructions to fail over to a new data source.</span></span> <span data-ttu-id="52a63-188">Wenn die dokumentierten Schritte Fehler aufweisen, kann ein Operator sie nicht erfolgreich befolgen und kein Failover für die Ressource ausführen.</span><span class="sxs-lookup"><span data-stu-id="52a63-188">If the documented steps have errors, an operator will not be able to successfully follow them and fail over the resource.</span></span> <span data-ttu-id="52a63-189">Testen Sie die Schritte der Anweisung regelmäßig, um sicherzustellen, dass ein Operator, der sie befolgt, erfolgreich ein Failover und ein Failback der Datenquelle ausführen kann.</span><span class="sxs-lookup"><span data-stu-id="52a63-189">Regularly test the instruction steps to verify that an operator following them is able to successfully fail over and fail back the data source.</span></span>

<span data-ttu-id="52a63-190">**Überprüfen Sie die Datensicherungen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-190">**Validate your data backups.**</span></span> <span data-ttu-id="52a63-191">Überprüfen Sie regelmäßig, ob Ihre Sicherungsdaten den Erwartungen entsprechen, indem Sie mit einem Skript Datenintegrität, Schema und Abfragen überprüfen.</span><span class="sxs-lookup"><span data-stu-id="52a63-191">Regularly verify that your backup data is what you expect by running a script to validate data integrity, schema, and queries.</span></span> <span data-ttu-id="52a63-192">Eine Sicherung ist nur sinnvoll, wenn sie verwendet werden kann, um Ihre Datenquellen wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="52a63-192">There's no point having a backup if it's not useful to restore your data sources.</span></span> <span data-ttu-id="52a63-193">Protokollieren und melden Sie Inkonsistenzen, damit der Sicherungsdienst repariert werden kann.</span><span class="sxs-lookup"><span data-stu-id="52a63-193">Log and report any inconsistencies so the backup service can be repaired.</span></span>

<span data-ttu-id="52a63-194">**Erwägen Sie die Verwendung eines Speicherkontotyps, der georedundant ist.**</span><span class="sxs-lookup"><span data-stu-id="52a63-194">**Consider using a storage account type that is geo-redundant.**</span></span> <span data-ttu-id="52a63-195">Daten, die in einem Azure-Speicherkonto gespeichert sind, werden immer lokal repliziert.</span><span class="sxs-lookup"><span data-stu-id="52a63-195">Data stored in an Azure Storage account is always replicated locally.</span></span> <span data-ttu-id="52a63-196">Bei der Bereitstellung eines Speicherkontos können Sie jedoch aus mehreren Replikationsstrategien auswählen.</span><span class="sxs-lookup"><span data-stu-id="52a63-196">However, there are multiple replication strategies to choose from when a Storage Account is provisioned.</span></span> <span data-ttu-id="52a63-197">Wählen Sie einen [georedundanten Speicher mit Lesezugriff (RA-GRS) in Azure](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage) aus, um Ihre Anwendungsdaten für den seltenen Fall zu schützen, dass eine vollständige Region nicht mehr verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="52a63-197">Select [Azure Read-Access Geo Redundant Storage (RA-GRS)](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage) to protect your application data against the rare case when an entire region becomes unavailable.</span></span>

> [!NOTE]
> <span data-ttu-id="52a63-198">Verlassen Sie sich für VMs nicht auf die RA-GRS-Replikation, um die VM-Datenträger (VHD-Dateien) wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="52a63-198">For VMs, do not rely on RA-GRS replication to restore the VM disks (VHD files).</span></span> <span data-ttu-id="52a63-199">Verwenden Sie stattdessen [Azure Backup][azure-backup].</span><span class="sxs-lookup"><span data-stu-id="52a63-199">Instead, use [Azure Backup][azure-backup].</span></span>   
>
>

## <a name="security"></a><span data-ttu-id="52a63-200">Sicherheit</span><span class="sxs-lookup"><span data-stu-id="52a63-200">Security</span></span>

<span data-ttu-id="52a63-201">**Implementieren Sie Schutz auf Anwendungsebene vor verteilten Denial-of-Service-Angriffen (DDoS).**</span><span class="sxs-lookup"><span data-stu-id="52a63-201">**Implement application-level protection against distributed denial of service (DDoS) attacks.**</span></span> <span data-ttu-id="52a63-202">Azure-Dienste sind auf Netzwerkebene vor DDos-Angriffen geschützt.</span><span class="sxs-lookup"><span data-stu-id="52a63-202">Azure services are protected against DDos attacks at the network layer.</span></span> <span data-ttu-id="52a63-203">Allerdings kann Azure nicht vor Angriffen auf Anwendungsebene schützten, da es schwierig ist, zwischen echten und böswilligen Benutzeranforderungen zu unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="52a63-203">However, Azure cannot protect against application-layer attacks, because it is difficult to distinguish between true user requests from malicious user requests.</span></span> <span data-ttu-id="52a63-204">Weitere Informationen zum Schutz vor DDoS-Angriffen auf Anwendungsebene finden Sie im Abschnitt über den Schutz vor DDoS im Dokument [Microsoft Azure-Netzwerksicherheit](http://download.microsoft.com/download/C/A/3/CA3FC5C0-ECE0-4F87-BF4B-D74064A00846/AzureNetworkSecurity_v3_Feb2015.pdf) (PDF-Download).</span><span class="sxs-lookup"><span data-stu-id="52a63-204">For more information on how to protect against application-layer DDoS attacks, see the "Protecting against DDoS" section of [Microsoft Azure Network Security](http://download.microsoft.com/download/C/A/3/CA3FC5C0-ECE0-4F87-BF4B-D74064A00846/AzureNetworkSecurity_v3_Feb2015.pdf) (PDF download).</span></span>

<span data-ttu-id="52a63-205">**Implementieren Sie das Prinzip der geringsten Rechte für den Zugriff auf die Ressourcen der Anwendung.**</span><span class="sxs-lookup"><span data-stu-id="52a63-205">**Implement the principle of least privilege for access to the application's resources.**</span></span> <span data-ttu-id="52a63-206">Die Standardeinstellung für den Zugriff auf die Ressourcen der Anwendung sollte möglichst restriktiv sein.</span><span class="sxs-lookup"><span data-stu-id="52a63-206">The default for access to the application's resources should be as restrictive as possible.</span></span> <span data-ttu-id="52a63-207">Erteilen Sie höhere Berechtigungen über spezielle Genehmigungen.</span><span class="sxs-lookup"><span data-stu-id="52a63-207">Grant higher level permissions on an approval basis.</span></span> <span data-ttu-id="52a63-208">Das standardmäßige Gewähren von übermäßigem Zugriff auf Ressourcen der Anwendung kann dazu führen, dass eine Person absichtlich oder versehentlich Ressourcen löscht.</span><span class="sxs-lookup"><span data-stu-id="52a63-208">Granting overly permissive access to your application's resources by default can result in someone purposely or accidentally deleting resources.</span></span> <span data-ttu-id="52a63-209">Azure bietet [rollenbasierte Zugriffssteuerung](/azure/active-directory/role-based-access-built-in-roles/) zum Verwalten von Benutzerberechtigungen. Aber es ist wichtig sicherzustellen, dass die geringsten Berechtigungen für solche Ressourcen gewährt werden, die eigene Berechtigungssysteme aufweisen, wie z.B. SQL Server.</span><span class="sxs-lookup"><span data-stu-id="52a63-209">Azure provides [role-based access control](/azure/active-directory/role-based-access-built-in-roles/) to manage user privileges, but it's important to verify least privilege permissions for other resources that have their own permissions systems such as SQL Server.</span></span>

## <a name="testing"></a><span data-ttu-id="52a63-210">Testen</span><span class="sxs-lookup"><span data-stu-id="52a63-210">Testing</span></span>

<span data-ttu-id="52a63-211">**Führen Sie Failover- und Failbacktests für die Anwendung aus.**</span><span class="sxs-lookup"><span data-stu-id="52a63-211">**Perform failover and failback testing for your application.**</span></span> <span data-ttu-id="52a63-212">Wenn Sie Failover und Failback nicht vollständig getestet haben, können Sie nicht sicher sein, dass die abhängigen Dienste in der Anwendung bei einer Notfallwiederherstellung in synchronisierter Weise wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-212">If you haven't fully tested failover and failback, you can't be certain that the dependent services in your application come back up in a synchronized manner during disaster recovery.</span></span> <span data-ttu-id="52a63-213">Stellen Sie sicher, dass für die abhängigen Dienste Ihrer Anwendung Failover und Failback in der richtigen Reihenfolge ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-213">Ensure that your application's dependent services failover and fail back in the correct order.</span></span>

<span data-ttu-id="52a63-214">**Führen Sie Fault Injection-Tests für Ihre Anwendung aus.**</span><span class="sxs-lookup"><span data-stu-id="52a63-214">**Perform fault-injection testing for your application.**</span></span> <span data-ttu-id="52a63-215">Die Anwendung kann aus vielen verschiedenen Ursachen ausfallen, z.B. Ablauf des Zertifikats, Auslastung der Systemressourcen in einer VM oder Speicherfehler.</span><span class="sxs-lookup"><span data-stu-id="52a63-215">Your application can fail for many different reasons, such as certificate expiration, exhaustion of system resources in a VM, or storage failures.</span></span> <span data-ttu-id="52a63-216">Testen Sie Ihre Anwendung in einer Umgebung, die der Produktion möglichst ähnlich ist, indem Sie echte Fehler simulieren oder auslösen.</span><span class="sxs-lookup"><span data-stu-id="52a63-216">Test your application in an environment as close as possible to production, by simulating or triggering real failures.</span></span> <span data-ttu-id="52a63-217">Löschen Sie z.B Zertifikate, beanspruchen Sie die Systemressourcen künstlich, oder löschen Sie eine Speicherquelle.</span><span class="sxs-lookup"><span data-stu-id="52a63-217">For example, delete certificates, artificially consume system resources, or delete a storage source.</span></span> <span data-ttu-id="52a63-218">Überprüfen Sie die Fähigkeit Ihrer Anwendung zur Wiederherstellung nach allen Typen von Fehlern, allein und in Kombination.</span><span class="sxs-lookup"><span data-stu-id="52a63-218">Verify your application's ability to recover from all types of faults, alone and in combination.</span></span> <span data-ttu-id="52a63-219">Stellen Sie sicher, dass Fehler nicht im System weitergegeben oder kaskadiert werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-219">Check that failures are not propagating or cascading through your system.</span></span>

<span data-ttu-id="52a63-220">**Führen Sie Tests in der Produktion mithilfe von synthetischen und echten Benutzerdaten aus.**</span><span class="sxs-lookup"><span data-stu-id="52a63-220">**Run tests in production using both synthetic and real user data.**</span></span> <span data-ttu-id="52a63-221">Test und Produktion sind selten identisch, daher ist es wichtig, eine Blau/Grün- oder eine Canary-Bereitstellung zu verwenden und Ihre Anwendung in der Produktion zu testen.</span><span class="sxs-lookup"><span data-stu-id="52a63-221">Test and production are rarely identical, so it's important to use blue/green or a canary deployment and test your application in production.</span></span> <span data-ttu-id="52a63-222">Dadurch können Sie Ihre Anwendung in der Produktion unter echter Last testen und sicherstellen, dass sie wie erwartet funktioniert, wenn sie vollständig bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="52a63-222">This allows you to test your application in production under real load and ensure it will function as expected when fully deployed.</span></span>

## <a name="deployment"></a><span data-ttu-id="52a63-223">Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="52a63-223">Deployment</span></span>

<span data-ttu-id="52a63-224">**Dokumentieren Sie den Freigabeprozess für Ihre Anwendung.**</span><span class="sxs-lookup"><span data-stu-id="52a63-224">**Document the release process for your application.**</span></span> <span data-ttu-id="52a63-225">Ohne detaillierte Dokumentation des Freigabeprozesses kann ein Operator ein fehlerhaftes Update bereitstellen oder Einstellungen für Ihre Anwendung nicht ordnungsgemäß konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="52a63-225">Without detailed release process documentation, an operator might deploy a bad update or improperly configure settings for your application.</span></span> <span data-ttu-id="52a63-226">Definieren und dokumentieren Sie den Freigabeprozess eindeutig, und stellen Sie sicher, dass er für das gesamte Betriebsteam verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="52a63-226">Clearly define and document your release process, and ensure that it's available to the entire operations team.</span></span> 

<span data-ttu-id="52a63-227">**Automatisieren Sie den Bereitstellungsprozess für Ihre Anwendung.**</span><span class="sxs-lookup"><span data-stu-id="52a63-227">**Automate your application's deployment process.**</span></span> <span data-ttu-id="52a63-228">Wenn Ihr Betriebspersonal zum manuellen Bereitstellen der Anwendung erforderlich ist, können Benutzerfehler dazu führen, dass die Bereitstellung fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="52a63-228">If your operations staff is required to manually deploy your application, human error can cause the deployment to fail.</span></span> 

<span data-ttu-id="52a63-229">**Entwerfen Sie den Freigabeprozess so, dass die Verfügbarkeit der Anwendung maximiert wird.**</span><span class="sxs-lookup"><span data-stu-id="52a63-229">**Design your release process to maximize application availability.**</span></span> <span data-ttu-id="52a63-230">Wenn es für Ihren Freigabeprozess erforderlich ist, dass Dienste während der Bereitstellung offline geschaltet werden, ist die Anwendung erst wieder verfügbar, wenn sie wieder online geschaltet werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-230">If your release process requires services to go offline during deployment, your application will be unavailable until they come back online.</span></span> <span data-ttu-id="52a63-231">Verwenden Sie die Bereitstellungsverfahren [Blau/Grün](http://martinfowler.com/bliki/BlueGreenDeployment.html) oder [Canary-Release](http://martinfowler.com/bliki/CanaryRelease.html) zum Bereitstellen der Anwendung in der Produktion.</span><span class="sxs-lookup"><span data-stu-id="52a63-231">Use the [blue/green](http://martinfowler.com/bliki/BlueGreenDeployment.html) or [canary release](http://martinfowler.com/bliki/CanaryRelease.html) deployment technique to deploy your application to production.</span></span> <span data-ttu-id="52a63-232">Beide Verfahren umfassen das Bereitstellen des Freigabecodes zusammen mit dem Produktionscode, damit Benutzer des Freigabecodes im Fall eines Fehlers an den Produktionscode umgeleitet werden können.</span><span class="sxs-lookup"><span data-stu-id="52a63-232">Both of these techniques involve deploying your release code alongside production code so users of release code can be redirected to production code in the event of a failure.</span></span>

<span data-ttu-id="52a63-233">**Protokollieren und überwachen Sie die Bereitstellungen Ihrer Anwendung.**</span><span class="sxs-lookup"><span data-stu-id="52a63-233">**Log and audit your application's deployments.**</span></span> <span data-ttu-id="52a63-234">Bei Verwendung der Verfahren für Stagingbereitstellungen wie Blau/Grün oder Canary-Releases gibt es mehr als eine Version der Anwendung, die in der Produktion ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="52a63-234">If you use staged deployment techniques such as blue/green or canary releases there will be more than one version of your application running in production.</span></span> <span data-ttu-id="52a63-235">Wenn ein Problem auftreten sollte, ist es entscheidend zu ermitteln, welche Version der Anwendung ein Problem verursacht.</span><span class="sxs-lookup"><span data-stu-id="52a63-235">If a problem should occur, it's critical to determine which version of your application is causing a problem.</span></span> <span data-ttu-id="52a63-236">Implementieren Sie eine stabile Protokollierungsstrategie, um so viele versionsspezifische Informationen wie möglich zu erfassen.</span><span class="sxs-lookup"><span data-stu-id="52a63-236">Implement a robust logging strategy to capture as much version-specific information as possible.</span></span>

<span data-ttu-id="52a63-237">**Bereiten Sie einen Zurücksetzungsplan für die Bereitstellung vor.**</span><span class="sxs-lookup"><span data-stu-id="52a63-237">**Have a rollback plan for deployment.**</span></span> <span data-ttu-id="52a63-238">Es ist möglich, dass Ihre Anwendungsbereitstellung fehlschlägt und dazu führt, dass Ihre Anwendung nicht mehr verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="52a63-238">It's possible that your application deployment could fail and cause your application to become unavailable.</span></span> <span data-ttu-id="52a63-239">Entwerfen Sie einen Zurücksetzungsprozess, um zur letzten als funktionierend bekannten Version zurückzukehren und Ausfallzeiten zu minimieren.</span><span class="sxs-lookup"><span data-stu-id="52a63-239">Design a rollback process to go back to a last known good version and minimize downtime.</span></span> 

## <a name="operations"></a><span data-ttu-id="52a63-240">Vorgänge</span><span class="sxs-lookup"><span data-stu-id="52a63-240">Operations</span></span>

<span data-ttu-id="52a63-241">**Implementieren Sie bewährte Methoden für die Überwachung und Warnungen in Ihrer Anwendung.**</span><span class="sxs-lookup"><span data-stu-id="52a63-241">**Implement best practices for monitoring and alerting in your application.**</span></span> <span data-ttu-id="52a63-242">Ohne ordnungsgemäße Überwachung, Diagnose und Warnungen gibt es keine Möglichkeit, Fehler in der Anwendung zu erkennen und einen Operator aufzufordern, sie zu beheben.</span><span class="sxs-lookup"><span data-stu-id="52a63-242">Without proper monitoring, diagnostics, and alerting, there is no way to detect failures in your application and alert an operator to fix them.</span></span> <span data-ttu-id="52a63-243">Weitere Informationen finden Sie unter [Anleitung zur Überwachung und Diagnose][monitoring-and-diagnostics-guidance].</span><span class="sxs-lookup"><span data-stu-id="52a63-243">For more information, see [Monitoring and Diagnostics guidance][monitoring-and-diagnostics-guidance].</span></span>

<span data-ttu-id="52a63-244">**Messen Sie Statistiken zu Remoteaufrufen, und stellen Sie die Informationen dem Anwendungsteam zur Verfügung.**</span><span class="sxs-lookup"><span data-stu-id="52a63-244">**Measure remote call statistics and make the information available to the application team.**</span></span>  <span data-ttu-id="52a63-245">Wenn Sie Statistiken zu Remoteaufrufen nicht in Echtzeit nachverfolgen und melden und keine einfache Möglichkeit bieten, diese Informationen zu überprüfen, verfügt das Betriebsteam nicht über unmittelbare Einblicke in die Integrität Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="52a63-245">If you don't track and report remote call statistics in real time and provide an easy way to review this information, the operations team will not have an instantaneous view into the health of your application.</span></span> <span data-ttu-id="52a63-246">Und wenn Sie nur Durchschnittszeiten von Remoteaufrufen messen, haben Sie nicht genügend Informationen, um Probleme in den Diensten aufzudecken.</span><span class="sxs-lookup"><span data-stu-id="52a63-246">And if you only measure average remote call time, you will not have enough information to reveal issues in the services.</span></span> <span data-ttu-id="52a63-247">Fassen Sie Metriken zu Remoteaufrufen wie Latenz, Durchsatz und Fehler in den 99 und 95 Quantilen zusammen.</span><span class="sxs-lookup"><span data-stu-id="52a63-247">Summarize remote call metrics such as latency, throughput, and errors in the 99 and 95 percentiles.</span></span> <span data-ttu-id="52a63-248">Führen Sie statistische Analysen von Metriken durch, um Fehler zu erkennen, die in den einzelnen Quantilen auftreten.</span><span class="sxs-lookup"><span data-stu-id="52a63-248">Perform statistical analysis on the metrics to uncover errors that occur within each percentile.</span></span>

<span data-ttu-id="52a63-249">**Verfolgen Sie die Anzahl der vorübergehenden Ausnahmen und Wiederholungsversuche in einem geeigneten Zeitrahmen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-249">**Track the number of transient exceptions and retries over an appropriate timeframe.**</span></span> <span data-ttu-id="52a63-250">Wenn Sie vorübergehende Ausnahmen und Wiederholungsversuche im Zeitverlauf nicht nachverfolgen und überwachen, ist es möglich, dass ein Problem oder Fehler durch die Wiederholungslogik Ihrer Anwendung verborgen bleibt.</span><span class="sxs-lookup"><span data-stu-id="52a63-250">If you don't track and monitor transient exceptions and retry attempts over time, it's possible that an issue or failure could be hidden by your application's retry logic.</span></span> <span data-ttu-id="52a63-251">Anders ausgedrückt: Wenn Ihre Überwachung und Protokollierung nur den Erfolg oder das Fehlschlagen eines Vorgangs aufzeigt, bleibt die Tatsache verborgen, dass der Vorgang aufgrund von Ausnahmen mehrere Male wiederholt werden musste.</span><span class="sxs-lookup"><span data-stu-id="52a63-251">That is, if your monitoring and logging only shows success or failure of an operation, the fact that the operation had to be retried multiple times due to exceptions will be hidden.</span></span> <span data-ttu-id="52a63-252">Ein Trend zunehmender Ausnahmen im Zeitverlauf weist darauf hin, dass der Dienst möglicherweise ein Problem hat und ausfallen kann.</span><span class="sxs-lookup"><span data-stu-id="52a63-252">A trend of increasing exceptions over time indicates that the service is having an issue and may fail.</span></span> <span data-ttu-id="52a63-253">Weitere Informationen finden Sie unter [Anleitung zu dienstspezifischen Wiederholungsmechanismen][retry-service-guidance].</span><span class="sxs-lookup"><span data-stu-id="52a63-253">For more information, see [Retry service specific guidance][retry-service-guidance].</span></span>

<span data-ttu-id="52a63-254">**Implementieren Sie ein Frühwarnsystem, das einen Operator benachrichtigt.**</span><span class="sxs-lookup"><span data-stu-id="52a63-254">**Implement an early warning system that alerts an operator.**</span></span> <span data-ttu-id="52a63-255">Identifizieren Sie Key Performance Indicators für die Integrität Ihrer Anwendung, z.B. vorübergehende Ausnahmen und Latenz von Remoteaufrufen, und legen Sie jeweils entsprechende Schwellenwerte fest.</span><span class="sxs-lookup"><span data-stu-id="52a63-255">Identify the key performance indicators of your application's health, such as transient exceptions and remote call latency, and set appropriate threshold values for each of them.</span></span> <span data-ttu-id="52a63-256">Senden Sie eine Warnung an Operatoren, wenn der Schwellenwert erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="52a63-256">Send an alert to operations when the threshold value is reached.</span></span> <span data-ttu-id="52a63-257">Legen Sie diese Schwellenwerte auf Ebenen fest, auf denen Probleme identifiziert werden, bevor sie kritisch werden und eine Wiederherstellung erfordern.</span><span class="sxs-lookup"><span data-stu-id="52a63-257">Set these thresholds at levels that identify issues before they become critical and require a recovery response.</span></span>

<span data-ttu-id="52a63-258">**Stellen Sie sicher, dass mehrere Personen im Team geschult sind, die Anwendung zu überwachen und manuelle Wiederherstellungsschritte auszuführen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-258">**Ensure that more than one person on the team is trained to monitor the application and perform any manual recovery steps.**</span></span> <span data-ttu-id="52a63-259">Wenn nur ein einziger Operator im Team die Anwendung überwachen und Wiederherstellungsschritte starten kann, wird diese Person zu einem Single Point of Failure.</span><span class="sxs-lookup"><span data-stu-id="52a63-259">If you only have a single operator on the team who can monitor the application and kick off recovery steps, that person becomes a single point of failure.</span></span> <span data-ttu-id="52a63-260">Arbeiten Sie mehrere Personen in die Erkennung und Wiederherstellung ein, und stellen Sie sicher, dass immer mindestens eine dieser Personen verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="52a63-260">Train multiple individuals on detection and recovery and make sure there is always at least one active at any time.</span></span>

<span data-ttu-id="52a63-261">**Stellen Sie sicher, dass mit Ihrer Anwendung keine [Grenzwerte des Azure-Abonnements](/azure/azure-subscription-service-limits/) überschritten werden.**</span><span class="sxs-lookup"><span data-stu-id="52a63-261">**Ensure that your application does not run up against [Azure subscription limits](/azure/azure-subscription-service-limits/).**</span></span> <span data-ttu-id="52a63-262">Bei Azure-Abonnements gelten Grenzwerte für bestimmte Ressourcentypen, z.B. die Anzahl von Ressourcengruppen, die Anzahl von Kernen und die Anzahl von Speicherkonten.</span><span class="sxs-lookup"><span data-stu-id="52a63-262">Azure subscriptions have limits on certain resource types, such as number of resource groups, number of cores, and number of storage accounts.</span></span>  <span data-ttu-id="52a63-263">Wenn mit den Anforderungen Ihrer Anwendung Grenzwerte des Azure-Abonnements überschritten werden, erstellen Sie ein weiteres Azure-Abonnement für zusätzliche Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="52a63-263">If your application requirements exceed Azure subscription limits, create another Azure subscription and provision sufficient resources there.</span></span>

<span data-ttu-id="52a63-264">**Stellen Sie sicher, dass mit Ihrer Anwendung keine [Grenzwerte von Diensten](/azure/azure-subscription-service-limits/) überschritten werden.**</span><span class="sxs-lookup"><span data-stu-id="52a63-264">**Ensure that your application does not run up against [per-service limits](/azure/azure-subscription-service-limits/).**</span></span> <span data-ttu-id="52a63-265">Für einzelne Azure-Dienste gelten Nutzungsgrenzwerte, beispielsweise Grenzwerte für Speicher, Durchsatz, die Anzahl der Verbindungen, Anforderungen pro Sekunde und weitere Metriken.</span><span class="sxs-lookup"><span data-stu-id="52a63-265">Individual Azure services have consumption limits &mdash; for example, limits on storage, throughput, number of connections, requests per second, and other metrics.</span></span> <span data-ttu-id="52a63-266">Ihre Anwendung schlägt fehl, wenn sie versucht, jenseits dieser Grenzwerte Ressourcen zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="52a63-266">Your application will fail if it attempts to use resources beyond these limits.</span></span> <span data-ttu-id="52a63-267">Dies führt zu Diensteinschränkungen und möglicherweise zu Ausfallzeiten für die betroffenen Benutzer.</span><span class="sxs-lookup"><span data-stu-id="52a63-267">This will result in service throttling and possible downtime for affected users.</span></span> <span data-ttu-id="52a63-268">Abhängig vom spezifischen Dienst und den Anforderungen Ihrer Anwendung können Sie diese Grenzwerte häufig durch zentrales Hochskalieren (z.B. die Auswahl eines anderen Tarifs) oder horizontales Skalieren (Hinzufügen neuer Instanzen) vermeiden.</span><span class="sxs-lookup"><span data-stu-id="52a63-268">Depending on the specific service and your application requirements, you can often avoid these limits by scaling up (for example, choosing another pricing tier) or scaling out (adding new instances).</span></span>  

<span data-ttu-id="52a63-269">**Entwerfen Sie die Speicheranforderungen Ihrer Anwendung so, dass sie innerhalb der Skalierbarkeits- und Leistungsziele für Azure-Speicher liegen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-269">**Design your application's storage requirements to fall within Azure storage scalability and performance targets.**</span></span> <span data-ttu-id="52a63-270">Azure-Speicher ist so konzipiert, dass er in vordefinierten Skalierbarkeits- und Leistungszielen verwendet werden kann. Entwerfen Sie Ihre Anwendung also für die Speichernutzung innerhalb dieser Ziele.</span><span class="sxs-lookup"><span data-stu-id="52a63-270">Azure storage is designed to function within predefined scalability and performance targets, so design your application to utilize storage within those targets.</span></span> <span data-ttu-id="52a63-271">Wenn Sie diese Ziele überschreiten, wird für Ihre Anwendung der Speicher eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="52a63-271">If you exceed these targets your application will experience storage throttling.</span></span> <span data-ttu-id="52a63-272">Um dieses Problem zu beheben, stellen Sie zusätzliche Speicherkonten bereit.</span><span class="sxs-lookup"><span data-stu-id="52a63-272">To fix this, provision additional Storage Accounts.</span></span> <span data-ttu-id="52a63-273">Wenn Sie den Grenzwert für Speicherkonten erreichen, stellen Sie zusätzliche Azure-Abonnements für zusätzliche Speicherkonten bereit.</span><span class="sxs-lookup"><span data-stu-id="52a63-273">If you run up against the Storage Account limit, provision additional Azure Subscriptions and then provision additional Storage Accounts there.</span></span> <span data-ttu-id="52a63-274">Weitere Informationen finden Sie unter [Skalierbarkeits- und Leistungszielen für Azure Storage](/azure/storage/storage-scalability-targets/).</span><span class="sxs-lookup"><span data-stu-id="52a63-274">For more information, see [Azure Storage Scalability and Performance Targets](/azure/storage/storage-scalability-targets/).</span></span>

<span data-ttu-id="52a63-275">**Wählen Sie die richtige VM-Größe für Ihre Anwendung aus.**</span><span class="sxs-lookup"><span data-stu-id="52a63-275">**Select the right VM size for your application.**</span></span> <span data-ttu-id="52a63-276">Messen Sie die tatsächlichen Werte für CPU, Arbeitsspeicher, Datenträger und E/A Ihrer VMs in der Produktion, und stellen Sie sicher, dass die ausgewählte VM-Größe ausreichend ist.</span><span class="sxs-lookup"><span data-stu-id="52a63-276">Measure the actual CPU, memory, disk, and I/O of your VMs in production and verify that the VM size you've selected is sufficient.</span></span> <span data-ttu-id="52a63-277">Falls nicht, können in Ihrer Anwendung Kapazitätsprobleme auftreten, wenn die VMs ihre Grenzwerte erreichen.</span><span class="sxs-lookup"><span data-stu-id="52a63-277">If not, your application may experience capacity issues as the VMs approach their limits.</span></span> <span data-ttu-id="52a63-278">VM-Größen werden ausführlich unter [Größen für virtuelle Computer in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) beschrieben.</span><span class="sxs-lookup"><span data-stu-id="52a63-278">VM sizes are described in detail in [Sizes for virtual machines in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="52a63-279">**Bestimmen Sie, ob die Workload der Anwendung im Zeitverlauf stabil ist oder schwankt.**</span><span class="sxs-lookup"><span data-stu-id="52a63-279">**Determine if your application's workload is stable or fluctuating over time.**</span></span> <span data-ttu-id="52a63-280">Wenn Ihre Workload im Zeitverlauf schwankt, verwenden Sie Azure-VM-Skalierungsgruppen, um die Anzahl der VM-Instanzen automatisch zu skalieren.</span><span class="sxs-lookup"><span data-stu-id="52a63-280">If your workload fluctuates over time, use Azure VM scale sets to automatically scale the number of VM instances.</span></span> <span data-ttu-id="52a63-281">Andernfalls müssen Sie die VM-Anzahl manuell erhöhen oder verringern.</span><span class="sxs-lookup"><span data-stu-id="52a63-281">Otherwise, you will have to manually increase or decrease the number of VMs.</span></span> <span data-ttu-id="52a63-282">Weitere Informationen finden Sie unter [Übersicht über VM-Skalierungsgruppen](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/).</span><span class="sxs-lookup"><span data-stu-id="52a63-282">For more information, see the [Virtual Machine Scale Sets Overview](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/).</span></span>

<span data-ttu-id="52a63-283">**Wählen Sie die richtige Dienstebene für Azure SQL-Datenbank aus.**</span><span class="sxs-lookup"><span data-stu-id="52a63-283">**Select the right service tier for Azure SQL Database.**</span></span> <span data-ttu-id="52a63-284">Wenn Ihre Anwendung Azure SQL-Datenbank verwendet, stellen Sie sicher, dass Sie die geeignete Dienstebene ausgewählt haben.</span><span class="sxs-lookup"><span data-stu-id="52a63-284">If your application uses Azure SQL Database, ensure that you have selected the appropriate service tier.</span></span> <span data-ttu-id="52a63-285">Wenn Sie eine Ebene auswählen, die die Anforderungen Ihrer Anwendung an die Datenbanktransaktionseinheiten (DTU) nicht verarbeiten kann, wird die Datenverwendung eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="52a63-285">If you select a tier that is not able to handle your application's database transaction unit (DTU) requirements, your data use will be throttled.</span></span> <span data-ttu-id="52a63-286">Weitere Informationen zur Auswahl des richtigen Dienstplans finden Sie unter [SQL-Datenbankoptionen und -leistung: Grundlegendes zum Angebot in den einzelnen Tarifen](/azure/sql-database/sql-database-service-tiers/).</span><span class="sxs-lookup"><span data-stu-id="52a63-286">For more information on selecting the correct service plan, see [SQL Database options and performance: Understand what's available in each service tier](/azure/sql-database/sql-database-service-tiers/).</span></span>

<span data-ttu-id="52a63-287">**Erstellen Sie einen Prozess für die Interaktion mit dem Azure-Support.**</span><span class="sxs-lookup"><span data-stu-id="52a63-287">**Create a process for interacting with Azure support.**</span></span> <span data-ttu-id="52a63-288">Wenn kein Prozess für die Kontaktaufnahme mit dem [Azure-Support](https://azure.microsoft.com/support/plans/) festgelegt ist, bevor der Bedarf entsteht, den Support zu kontaktieren, verlängert sich die Ausfallzeit, da der Supportprozess zum ersten Mal ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="52a63-288">If the process for contacting [Azure support](https://azure.microsoft.com/support/plans/) is not set before the need to contact support arises, downtime will be prolonged as the support process is navigated for the first time.</span></span> <span data-ttu-id="52a63-289">Machen Sie den Prozess für die Kontaktaufnahme mit dem Support und die Eskalation von Problemen von Anfang an zu einem Teil der Resilienz Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="52a63-289">Include the process for contacting support and escalating issues as part of your application's resiliency from the outset.</span></span>

<span data-ttu-id="52a63-290">**Stellen Sie sicher, dass Ihre Anwendung nicht mehr als die maximale Anzahl von Speicherkonten pro Abonnement verwendet.**</span><span class="sxs-lookup"><span data-stu-id="52a63-290">**Ensure that your application doesn't use more than the maximum number of storage accounts per subscription.**</span></span> <span data-ttu-id="52a63-291">Azure lässt maximal 200 Speicherkonten pro Abonnement zu.</span><span class="sxs-lookup"><span data-stu-id="52a63-291">Azure allows a maximum of 200 storage accounts per subscription.</span></span> <span data-ttu-id="52a63-292">Wenn Ihre Anwendung mehr Speicherkonten erfordert, als derzeit im Abonnement verfügbar sind, müssen Sie ein neues Abonnement für zusätzliche Speicherkonten erstellen.</span><span class="sxs-lookup"><span data-stu-id="52a63-292">If your application requires more storage accounts than are currently available in your subscription, you will have to create a new subscription and create additional storage accounts there.</span></span> <span data-ttu-id="52a63-293">Weitere Informationen finden Sie unter [Grenzwerte für Azure-Abonnements, -Dienste und -Kontingente sowie allgemeine Beschränkungen](/azure/azure-subscription-service-limits/#storage-limits).</span><span class="sxs-lookup"><span data-stu-id="52a63-293">For more information, see [Azure subscription and service limits, quotas, and constraints](/azure/azure-subscription-service-limits/#storage-limits).</span></span>

<span data-ttu-id="52a63-294">**Stellen Sie sicher, dass Ihre Anwendung die Skalierbarkeitsziele für VM-Datenträger nicht überschreitet.**</span><span class="sxs-lookup"><span data-stu-id="52a63-294">**Ensure that your application doesn't exceed the scalability targets for virtual machine disks.**</span></span> <span data-ttu-id="52a63-295">Eine Azure-IaaS-VM unterstützt das Anfügen von mehreren Datenträgern. Dies ist abhängig von verschiedenen Faktoren wie der VM-Größe und des Typs von Speicherkonto.</span><span class="sxs-lookup"><span data-stu-id="52a63-295">An Azure IaaS VM supports attaching a number of data disks depending on several factors, including the VM size and type of storage account.</span></span> <span data-ttu-id="52a63-296">Wenn Ihre Anwendung die Skalierbarkeitsziele für VM-Datenträger überschreitet, stellen Sie zusätzliche Speicherkonten für die VM-Datenträger bereit.</span><span class="sxs-lookup"><span data-stu-id="52a63-296">If your application exceeds the scalability targets for virtual machine disks, provision additional storage accounts and create the virtual machine disks there.</span></span> <span data-ttu-id="52a63-297">Weitere Informationen finden Sie unter [Skalierbarkeits- und Leistungsziele für Azure Storage](/azure/storage/storage-scalability-targets/#scalability-targets-for-virtual-machine-disks).</span><span class="sxs-lookup"><span data-stu-id="52a63-297">For more information, see [Azure Storage Scalability and Performance Targets](/azure/storage/storage-scalability-targets/#scalability-targets-for-virtual-machine-disks)</span></span>

## <a name="telemetry"></a><span data-ttu-id="52a63-298">Telemetrie</span><span class="sxs-lookup"><span data-stu-id="52a63-298">Telemetry</span></span>

<span data-ttu-id="52a63-299">**Protokollieren Sie Telemetriedaten, während die Anwendung in der Produktionsumgebung ausgeführt wird.**</span><span class="sxs-lookup"><span data-stu-id="52a63-299">**Log telemetry data while the application is running in the production environment.**</span></span> <span data-ttu-id="52a63-300">Erfassen Sie zuverlässige Telemetrieinformationen, während die Anwendung in der Produktionsumgebung ausgeführt wird. Andernfalls verfügen Sie nicht über ausreichende Informationen, um die Ursache von Problemen zu diagnostizieren, während Benutzer die Anwendung aktiv nutzen.</span><span class="sxs-lookup"><span data-stu-id="52a63-300">Capture robust telemetry information while the application is running in the production environment or you will not have sufficient information to diagnose the cause of issues while it's actively serving users.</span></span> <span data-ttu-id="52a63-301">Weitere Informationen finden Sie unter [Überwachung und Diagnose][monitoring-and-diagnostics-guidance].</span><span class="sxs-lookup"><span data-stu-id="52a63-301">For more information, see [Monitoring and Diagnostics][monitoring-and-diagnostics-guidance].</span></span>

<span data-ttu-id="52a63-302">**Implementieren Sie die Protokollierung mithilfe eines asynchronen Musters.**</span><span class="sxs-lookup"><span data-stu-id="52a63-302">**Implement logging using an asynchronous pattern.**</span></span> <span data-ttu-id="52a63-303">Wenn Protokollierungsvorgänge synchron sind, können sie Anwendungscode blockieren.</span><span class="sxs-lookup"><span data-stu-id="52a63-303">If logging operations are synchronous, they might block your application code.</span></span> <span data-ttu-id="52a63-304">Stellen Sie sicher, dass die Protokollierungsvorgänge als asynchrone Vorgänge implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-304">Ensure that your logging operations are implemented as asynchronous operations.</span></span>

<span data-ttu-id="52a63-305">**Korrelieren Sie Protokolldaten über Dienstgrenzen hinweg.**</span><span class="sxs-lookup"><span data-stu-id="52a63-305">**Correlate log data across service boundaries.**</span></span> <span data-ttu-id="52a63-306">In einer typischen Anwendung mit n-Schichten kann eine Benutzeranforderung mehrere Dienstgrenzen überqueren.</span><span class="sxs-lookup"><span data-stu-id="52a63-306">In a typical n-tier application, a user request may traverse several service boundaries.</span></span> <span data-ttu-id="52a63-307">Beispiel: Eine Benutzeranforderung entsteht in der Regel in der Webebene, wird an die Geschäftsebene übergeben und schließlich in der Datenebene beibehalten.</span><span class="sxs-lookup"><span data-stu-id="52a63-307">For example, a user request typically originates in the web tier and is passed to the business tier and finally persisted in the data tier.</span></span> <span data-ttu-id="52a63-308">In komplexeren Szenarien kann eine Benutzeranforderung an viele verschiedene Dienste und Datenspeicher verteilt werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-308">In more complex scenarios, a user request may be distributed to many different services and data stores.</span></span> <span data-ttu-id="52a63-309">Stellen Sie sicher, dass Ihr Protokollierungssystem Aufrufe über Dienstgrenzen hinweg korreliert, damit Sie die Anforderung in der gesamten Anwendung verfolgen können.</span><span class="sxs-lookup"><span data-stu-id="52a63-309">Ensure that your logging system correlates calls across service boundaries so you can track the request throughout your application.</span></span>

## <a name="azure-resources"></a><span data-ttu-id="52a63-310">Azure-Ressourcen</span><span class="sxs-lookup"><span data-stu-id="52a63-310">Azure Resources</span></span>

<span data-ttu-id="52a63-311">**Verwenden Sie Azure Resource Manager-Vorlagen für die von Bereitstellung von Ressourcen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-311">**Use Azure Resource Manager templates to provision resources.**</span></span> <span data-ttu-id="52a63-312">Resource Manager-Vorlagen erleichtern das Automatisieren von Bereitstellungen über PowerShell oder die Azure-CLI, wodurch ein zuverlässigerer Bereitstellungsprozess erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="52a63-312">Resource Manager templates make it easier to automate deployments via PowerShell or the Azure CLI, which leads to a more reliable deployment process.</span></span> <span data-ttu-id="52a63-313">Weitere Informationen finden Sie unter [Übersicht über den Azure Resource Manager][resource-manager].</span><span class="sxs-lookup"><span data-stu-id="52a63-313">For more information, see [Azure Resource Manager overview][resource-manager].</span></span>

<span data-ttu-id="52a63-314">**Versehen Sie Ressourcen mit aussagekräftigen Namen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-314">**Give resources meaningful names.**</span></span> <span data-ttu-id="52a63-315">Aussagekräftige Namen vereinfachen das Auffinden einer bestimmten Ressource und das Verstehen ihrer Rolle.</span><span class="sxs-lookup"><span data-stu-id="52a63-315">Giving resources meaningful names makes it easier to locate a specific resource and understand its role.</span></span> <span data-ttu-id="52a63-316">Weitere Informationen finden Sie unter [Namenskonventionen für Azure-Ressourcen](../best-practices/naming-conventions.md).</span><span class="sxs-lookup"><span data-stu-id="52a63-316">For more information, see [Naming conventions for Azure resources](../best-practices/naming-conventions.md)</span></span>

<span data-ttu-id="52a63-317">**Verwenden Sie die rollenbasierte Zugriffssteuerung (Role-Based Access Control, RBAC).**</span><span class="sxs-lookup"><span data-stu-id="52a63-317">**Use role-based access control (RBAC).**</span></span> <span data-ttu-id="52a63-318">Kontrollieren Sie den Zugriff auf die von Ihnen bereitgestellten Azure-Ressourcen mit RBAC.</span><span class="sxs-lookup"><span data-stu-id="52a63-318">Use RBAC to control access to the Azure resources that you deploy.</span></span> <span data-ttu-id="52a63-319">Mit RBAC können Sie Mitgliedern Ihres DevOps-Teams Autorisierungsrollen zuweisen, um das versehentliche Löschen oder Ändern von bereitgestellten Ressourcen zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="52a63-319">RBAC lets you assign authorization roles to members of your DevOps team, to prevent accidental deletion or changes to deployed resources.</span></span> <span data-ttu-id="52a63-320">Weitere Informationen finden Sie unter [Erste Schritte mit der Zugriffsverwaltung im Azure-Portal](/azure/active-directory/role-based-access-control-what-is/).</span><span class="sxs-lookup"><span data-stu-id="52a63-320">For more information, see [Get started with access management in the Azure portal](/azure/active-directory/role-based-access-control-what-is/)</span></span>

<span data-ttu-id="52a63-321">**Verwenden Sie Ressourcensperren für kritische Ressourcen wie VMs.**</span><span class="sxs-lookup"><span data-stu-id="52a63-321">**Use resource locks for critical resources, such as VMs.**</span></span> <span data-ttu-id="52a63-322">Ressourcensperren verhindern, dass ein Operator versehentlich eine Ressource löscht.</span><span class="sxs-lookup"><span data-stu-id="52a63-322">Resource locks prevent an operator from accidentally deleting a resource.</span></span> <span data-ttu-id="52a63-323">Weitere Informationen finden Sie unter [Sperren von Ressourcen mit Azure Resource Manager](/azure/azure-resource-manager/resource-group-lock-resources/).</span><span class="sxs-lookup"><span data-stu-id="52a63-323">For more information, see [Lock resources with Azure Resource Manager](/azure/azure-resource-manager/resource-group-lock-resources/)</span></span>

<span data-ttu-id="52a63-324">**Wählen Sie Regionspaare aus.**</span><span class="sxs-lookup"><span data-stu-id="52a63-324">**Choose regional pairs.**</span></span> <span data-ttu-id="52a63-325">Wählen Sie bei der Bereitstellung in zwei Regionen die Regionen aus dem gleichen Regionspaar aus.</span><span class="sxs-lookup"><span data-stu-id="52a63-325">When deploying to two regions, choose regions from the same regional pair.</span></span> <span data-ttu-id="52a63-326">Im Falle eines umfassenden Ausfalls hat bei jedem Regionspaar die Wiederherstellung einer der Regionen Priorität.</span><span class="sxs-lookup"><span data-stu-id="52a63-326">In the event of a broad outage, recovery of one region is prioritized out of every pair.</span></span> <span data-ttu-id="52a63-327">Einige Dienste, beispielsweise georedundanter Speicher, bieten eine automatische Replikation im Regionspaar.</span><span class="sxs-lookup"><span data-stu-id="52a63-327">Some services such as Geo-Redundant Storage provide automatic replication to the paired region.</span></span> <span data-ttu-id="52a63-328">Weitere Informationen finden Sie unter [Geschäftskontinuität und Notfallwiederherstellung: Azure-Regionspaare](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="52a63-328">For more information, see [Business continuity and disaster recovery (BCDR): Azure Paired Regions](/azure/best-practices-availability-paired-regions)</span></span>

<span data-ttu-id="52a63-329">**Organisieren Sie Ressourcengruppen nach Lebenszyklus und Funktion.**</span><span class="sxs-lookup"><span data-stu-id="52a63-329">**Organize resource groups by function and lifecycle.**</span></span>  <span data-ttu-id="52a63-330">Im Allgemeinen sollte eine Ressourcengruppe Ressourcen enthalten, die den gleichen Lebenszyklus aufweisen.</span><span class="sxs-lookup"><span data-stu-id="52a63-330">In general, a resource group should contain resources that share the same lifecycle.</span></span> <span data-ttu-id="52a63-331">Dies erleichtert das Verwalten von Bereitstellungen, das Löschen von Testbereitstellungen und das Zuweisen von Zugriffsrechten. Dadurch wird die Wahrscheinlichkeit verringert, dass eine Produktionsbereitstellung versehentlich gelöscht oder geändert wird.</span><span class="sxs-lookup"><span data-stu-id="52a63-331">This makes it easier to manage deployments, delete test deployments, and assign access rights, reducing the chance that a production deployment is accidentally deleted or modified.</span></span> <span data-ttu-id="52a63-332">Erstellen Sie separate Ressourcengruppen für Produktions-, Entwicklungs- und Testumgebungen.</span><span class="sxs-lookup"><span data-stu-id="52a63-332">Create separate resource groups for production, development, and test environments.</span></span> <span data-ttu-id="52a63-333">Nehmen Sie in einer Bereitstellung für mehrere Regionen Ressourcen für jede Region in separate Ressourcengruppen auf.</span><span class="sxs-lookup"><span data-stu-id="52a63-333">In a multi-region deployment, put resources for each region into separate resource groups.</span></span> <span data-ttu-id="52a63-334">Dies erleichtert die erneute Bereitstellung einer Region ohne Auswirkungen auf die anderen Regionen.</span><span class="sxs-lookup"><span data-stu-id="52a63-334">This makes it easier to redeploy one region without affecting the other region(s).</span></span>

## <a name="azure-services"></a><span data-ttu-id="52a63-335">Azure-Dienste</span><span class="sxs-lookup"><span data-stu-id="52a63-335">Azure Services</span></span>
<span data-ttu-id="52a63-336">Die folgenden Elemente der Checkliste beziehen sich auf bestimmte Dienste in Azure.</span><span class="sxs-lookup"><span data-stu-id="52a63-336">The following checklist items apply to specific services in Azure.</span></span>

- [<span data-ttu-id="52a63-337">App Service</span><span class="sxs-lookup"><span data-stu-id="52a63-337">App Service</span></span>](#app-service)
- [<span data-ttu-id="52a63-338">Application Gateway</span><span class="sxs-lookup"><span data-stu-id="52a63-338">Application Gateway</span></span>](#application-gateway)
- [<span data-ttu-id="52a63-339">Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="52a63-339">Cosmos DB</span></span>](#cosmos-db)
- [<span data-ttu-id="52a63-340">Redis Cache</span><span class="sxs-lookup"><span data-stu-id="52a63-340">Redis Cache</span></span>](#redis-cache)
- [<span data-ttu-id="52a63-341">Suchen,</span><span class="sxs-lookup"><span data-stu-id="52a63-341">Search</span></span>](#search)
- [<span data-ttu-id="52a63-342">Storage</span><span class="sxs-lookup"><span data-stu-id="52a63-342">Storage</span></span>](#storage)
- [<span data-ttu-id="52a63-343">SQL-Datenbank</span><span class="sxs-lookup"><span data-stu-id="52a63-343">SQL Database</span></span>](#sql-database)
- [<span data-ttu-id="52a63-344">SQL Server auf einem virtuellen Computer</span><span class="sxs-lookup"><span data-stu-id="52a63-344">SQL Server running in a VM</span></span>](#sql-server-running-in-a-vm)
- [<span data-ttu-id="52a63-345">Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="52a63-345">Traffic Manager</span></span>](#traffic-manager)
- [<span data-ttu-id="52a63-346">Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="52a63-346">Virtual Machines</span></span>](#virtual-machines)
- [<span data-ttu-id="52a63-347">Virtual Network</span><span class="sxs-lookup"><span data-stu-id="52a63-347">Virtual Network</span></span>](#virtual-network)

### <a name="app-service"></a><span data-ttu-id="52a63-348">App Service</span><span class="sxs-lookup"><span data-stu-id="52a63-348">App Service</span></span>

<span data-ttu-id="52a63-349">**Verwenden Sie den Standard- oder Premium-Tarif.**</span><span class="sxs-lookup"><span data-stu-id="52a63-349">**Use Standard or Premium tier.**</span></span> <span data-ttu-id="52a63-350">Diese Tarife unterstützen Stagingslots und automatisierte Sicherungen.</span><span class="sxs-lookup"><span data-stu-id="52a63-350">These tiers support staging slots and automated backups.</span></span> <span data-ttu-id="52a63-351">Weitere Informationen hierzu finden Sie unter [Azure App Service-Pläne – Detaillierte Übersicht](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/).</span><span class="sxs-lookup"><span data-stu-id="52a63-351">For more information, see [Azure App Service plans in-depth overview](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/)</span></span>

<span data-ttu-id="52a63-352">**Vermeiden Sie zentrales Hoch- oder Herunterskalieren.**</span><span class="sxs-lookup"><span data-stu-id="52a63-352">**Avoid scaling up or down.**</span></span> <span data-ttu-id="52a63-353">Wählen Sie stattdessen einen Tarif und eine Instanzgröße aus, der bzw. die Ihre Leistungsanforderungen unter typischer Last erfüllt, und [skalieren Sie die Instanzen horizontal hoch](/azure/app-service-web/web-sites-scale/), um Änderungen beim Datenverkehrsvolumen zu bewältigen.</span><span class="sxs-lookup"><span data-stu-id="52a63-353">Instead, select a tier and instance size that meet your performance requirements under typical load, and then [scale out](/azure/app-service-web/web-sites-scale/) the instances to handle changes in traffic volume.</span></span> <span data-ttu-id="52a63-354">Durch zentrales Hoch- oder Herunterskalieren kann ein Neustart der Anwendung ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-354">Scaling up and down may trigger an application restart.</span></span>  

<span data-ttu-id="52a63-355">**Speichern Sie die Konfiguration als App-Einstellungen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-355">**Store configuration as app settings.**</span></span> <span data-ttu-id="52a63-356">Verwenden Sie App-Einstellungen, um die Konfigurationseinstellungen als App-Einstellungen zu speichern.</span><span class="sxs-lookup"><span data-stu-id="52a63-356">Use app settings to hold configuration settings as app settings.</span></span> <span data-ttu-id="52a63-357">Definieren Sie die Einstellungen in den Resource Manager-Vorlagen oder mithilfe von PowerShell, sodass Sie sie als Teil einer automatisierten Bereitstellung/Aktualisierung anwenden können, um die Zuverlässigkeit zu erhöhen.</span><span class="sxs-lookup"><span data-stu-id="52a63-357">Define the settings in your Resource Manager templates, or using PowerShell, so that you can apply them as part of an automated deployment / update process, which is more reliable.</span></span> <span data-ttu-id="52a63-358">Weitere Informationen finden Sie unter [Konfigurieren von Web-Apps in Azure App Service](/azure/app-service-web/web-sites-configure/).</span><span class="sxs-lookup"><span data-stu-id="52a63-358">For more information, see [Configure web apps in Azure App Service](/azure/app-service-web/web-sites-configure/).</span></span>

<span data-ttu-id="52a63-359">**Erstellen Sie separate App Service-Pläne für die Produktion und für Tests.**</span><span class="sxs-lookup"><span data-stu-id="52a63-359">**Create separate App Service plans for production and test.**</span></span> <span data-ttu-id="52a63-360">Verwenden Sie keine Slots Ihrer Produktionsbereitstellung zu Testzwecken.</span><span class="sxs-lookup"><span data-stu-id="52a63-360">Don't use slots on your production deployment for testing.</span></span>  <span data-ttu-id="52a63-361">Alle Apps in einem App Service-Plan nutzen die gleichen VM-Instanzen.</span><span class="sxs-lookup"><span data-stu-id="52a63-361">All apps within the same App Service plan share the same VM instances.</span></span> <span data-ttu-id="52a63-362">Wenn Sie Produktions- und Testbereitstellungen in den gleichen Plan aufnehmen, kann sich dies negativ auf die Produktionsbereitstellung auswirken.</span><span class="sxs-lookup"><span data-stu-id="52a63-362">If you put production and test deployments in the same plan, it can negatively affect the production deployment.</span></span> <span data-ttu-id="52a63-363">Auslastungstests können z.B. den aktiven Produktionsstandort beeinträchtigen.</span><span class="sxs-lookup"><span data-stu-id="52a63-363">For example, load tests might degrade the live production site.</span></span> <span data-ttu-id="52a63-364">Wenn Sie Testbereitstellungen in einen separaten Plan aufnehmen, isolieren Sie sie von der Produktionsversion.</span><span class="sxs-lookup"><span data-stu-id="52a63-364">By putting test deployments into a separate plan, you isolate them from the production version.</span></span>  

<span data-ttu-id="52a63-365">**Trennen Sie Web-Apps von Web-APIs.**</span><span class="sxs-lookup"><span data-stu-id="52a63-365">**Separate web apps from web APIs.**</span></span> <span data-ttu-id="52a63-366">Wenn zu Ihrer Lösung ein Web-Front-End und eine Web-API gehören, sollten Sie sie in getrennte App Service-Apps aufnehmen.</span><span class="sxs-lookup"><span data-stu-id="52a63-366">If your solution has both a web front-end and a web API, consider decomposing them into separate App Service apps.</span></span> <span data-ttu-id="52a63-367">Dieser Entwurf erleichtert es, die Lösung nach Workloads zu zerlegen.</span><span class="sxs-lookup"><span data-stu-id="52a63-367">This design makes it easier to decompose the solution by workload.</span></span> <span data-ttu-id="52a63-368">Sie können dann die Web-App und die API in separaten App Service-Plänen ausführen, sodass sie unabhängig skaliert werden können.</span><span class="sxs-lookup"><span data-stu-id="52a63-368">You can run the web app and the API in separate App Service plans, so they can be scaled independently.</span></span> <span data-ttu-id="52a63-369">Wenn Sie diesen Grad an Skalierbarkeit anfänglich nicht benötigen, können Sie die Apps im gleichen Plan bereitstellen und sie später bei Bedarf in separate Pläne verschieben.</span><span class="sxs-lookup"><span data-stu-id="52a63-369">If you don't need that level of scalability at first, you can deploy the apps into the same plan, and move them into separate plans later, if needed.</span></span>

<span data-ttu-id="52a63-370">**Vermeiden Sie die Verwendung der App Service-Sicherungsfunktion, um Azure SQL-Datenbanken zu sichern.**</span><span class="sxs-lookup"><span data-stu-id="52a63-370">**Avoid using the App Service backup feature to back up Azure SQL databases.**</span></span> <span data-ttu-id="52a63-371">Verwenden Sie stattdessen [automatisierte SQL-Datenbanksicherungen][sql-backup].</span><span class="sxs-lookup"><span data-stu-id="52a63-371">Instead, use [SQL Database automated backups][sql-backup].</span></span> <span data-ttu-id="52a63-372">Bei der App Service-Sicherung wird die Datenbank in eine SQL-BACPAC-Datei exportiert, und dies kostet DTUs.</span><span class="sxs-lookup"><span data-stu-id="52a63-372">App Service backup exports the database to a SQL .bacpac file, which costs DTUs.</span></span>  

<span data-ttu-id="52a63-373">**Führen Sie die Bereitstellung in einem Stagingslot durch.**</span><span class="sxs-lookup"><span data-stu-id="52a63-373">**Deploy to a staging slot.**</span></span> <span data-ttu-id="52a63-374">Erstellen Sie einen Bereitstellungsslot für das Staging.</span><span class="sxs-lookup"><span data-stu-id="52a63-374">Create a deployment slot for staging.</span></span> <span data-ttu-id="52a63-375">Stellen Sie Anwendungsupdates im Stagingslot bereit, und überprüfen Sie die Bereitstellung, bevor Sie sie in die Produktion übertragen.</span><span class="sxs-lookup"><span data-stu-id="52a63-375">Deploy application updates to the staging slot, and verify the deployment before swapping it into production.</span></span> <span data-ttu-id="52a63-376">Dies reduziert die Wahrscheinlichkeit fehlerhafter Updates in der Produktion.</span><span class="sxs-lookup"><span data-stu-id="52a63-376">This reduces the chance of a bad update in production.</span></span> <span data-ttu-id="52a63-377">Darüber hinaus wird sichergestellt, dass alle Instanzen vorbereitet sind, bevor sie in die Produktion übertragen werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-377">It also ensures that all instances are warmed up before being swapped into production.</span></span> <span data-ttu-id="52a63-378">Viele Anwendungen weisen eine erhebliche Aufwärmdauer und Kaltstartzeit auf.</span><span class="sxs-lookup"><span data-stu-id="52a63-378">Many applications have a significant warmup and cold-start time.</span></span> <span data-ttu-id="52a63-379">Weitere Informationen finden Sie unter [Einrichten von Stagingumgebungen für Web-Apps in Azure App Service](/azure/app-service-web/web-sites-staged-publishing/).</span><span class="sxs-lookup"><span data-stu-id="52a63-379">For more information, see [Set up staging environments for web apps in Azure App Service](/azure/app-service-web/web-sites-staged-publishing/).</span></span>

<span data-ttu-id="52a63-380">**Erstellen Sie einen Bereitstellungsslot, um die letzte als funktionierend bekannte (LKG) Bereitstellung zu speichern.**</span><span class="sxs-lookup"><span data-stu-id="52a63-380">**Create a deployment slot to hold the last-known-good (LKG) deployment.**</span></span> <span data-ttu-id="52a63-381">Wenn Sie ein Update in der Produktion bereitstellen, verschieben Sie die vorherige Produktionsbereitstellung in den LKG-Slot.</span><span class="sxs-lookup"><span data-stu-id="52a63-381">When you deploy an update to production, move the previous production deployment into the LKG slot.</span></span> <span data-ttu-id="52a63-382">Dies erleichtert die Zurücksetzung einer fehlerhaften Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="52a63-382">This makes it easier to roll back a bad deployment.</span></span> <span data-ttu-id="52a63-383">Wenn Sie später ein Problem feststellen, können Sie schnell die LKG-Version wiederherstellen.</span><span class="sxs-lookup"><span data-stu-id="52a63-383">If you discover a problem later, you can quickly revert to the LKG version.</span></span> <span data-ttu-id="52a63-384">Weitere Informationen finden Sie unter [Einfache Webanwendung](../reference-architectures/app-service-web-app/basic-web-app.md).</span><span class="sxs-lookup"><span data-stu-id="52a63-384">For more information, see [Basic web application](../reference-architectures/app-service-web-app/basic-web-app.md).</span></span>

<span data-ttu-id="52a63-385">**Aktivieren Sie die Diagnoseprotokollierung**, einschließlich der Anwendungsprotokollierung und der Webserverprotokollierung.</span><span class="sxs-lookup"><span data-stu-id="52a63-385">**Enable diagnostics logging**, including application logging and web server logging.</span></span> <span data-ttu-id="52a63-386">Protokollierung ist wichtig für die Überwachung und die Diagnose.</span><span class="sxs-lookup"><span data-stu-id="52a63-386">Logging is important for monitoring and diagnostics.</span></span> <span data-ttu-id="52a63-387">Weitere Informationen finden Sie unter [Aktivieren der Diagnoseprotokollierung für Web-Apps in Azure App Service](/azure/app-service-web/web-sites-enable-diagnostic-log/).</span><span class="sxs-lookup"><span data-stu-id="52a63-387">See [Enable diagnostics logging for web apps in Azure App Service](/azure/app-service-web/web-sites-enable-diagnostic-log/)</span></span>

<span data-ttu-id="52a63-388">**Speichern Sie Protokolle im Blobspeicher.**</span><span class="sxs-lookup"><span data-stu-id="52a63-388">**Log to blob storage.**</span></span> <span data-ttu-id="52a63-389">Dies erleichtert das Erfassen und Analysieren der Daten.</span><span class="sxs-lookup"><span data-stu-id="52a63-389">This makes it easier to collect and analyze the data.</span></span>

<span data-ttu-id="52a63-390">**Erstellen Sie ein separates Speicherkonto für Protokolle.**</span><span class="sxs-lookup"><span data-stu-id="52a63-390">**Create a separate storage account for logs.**</span></span> <span data-ttu-id="52a63-391">Verwenden Sie nicht das gleiche Speicherkonto für Protokolle und Anwendungsdaten.</span><span class="sxs-lookup"><span data-stu-id="52a63-391">Don't use the same storage account for logs and application data.</span></span> <span data-ttu-id="52a63-392">Dadurch wird verhindert, dass die Protokollierung die Anwendungsleistung verringert.</span><span class="sxs-lookup"><span data-stu-id="52a63-392">This helps to prevent logging from reducing application performance.</span></span>

<span data-ttu-id="52a63-393">**Überwachen Sie die Leistung.**</span><span class="sxs-lookup"><span data-stu-id="52a63-393">**Monitor performance.**</span></span> <span data-ttu-id="52a63-394">Verwenden Sie einen Leistungsüberwachungsdienst wie [New Relic](http://newrelic.com/) oder [Application Insights](/azure/application-insights/app-insights-overview/), um Leistung und Verhalten der Anwendung unter Last zu überwachen.</span><span class="sxs-lookup"><span data-stu-id="52a63-394">Use a performance monitoring service such as [New Relic](http://newrelic.com/) or [Application Insights](/azure/application-insights/app-insights-overview/) to monitor application performance and behavior under load.</span></span>  <span data-ttu-id="52a63-395">Durch die Leistungsüberwachung erhalten Sie in Echtzeit Einblicke in die Anwendung.</span><span class="sxs-lookup"><span data-stu-id="52a63-395">Performance monitoring gives you real-time insight into the application.</span></span> <span data-ttu-id="52a63-396">Dadurch können Sie Probleme diagnostizieren und eine Ursachenanalyse von Fehlern durchführen.</span><span class="sxs-lookup"><span data-stu-id="52a63-396">It enables you to diagnose issues and perform root-cause analysis of failures.</span></span>

### <a name="application-gateway"></a><span data-ttu-id="52a63-397">Application Gateway</span><span class="sxs-lookup"><span data-stu-id="52a63-397">Application Gateway</span></span>

<span data-ttu-id="52a63-398">**Stellen Sie mindestens zwei Instanzen bereit.**</span><span class="sxs-lookup"><span data-stu-id="52a63-398">**Provision at least two instances.**</span></span> <span data-ttu-id="52a63-399">Stellen Sie Application Gateway mit mindestens zwei Instanzen bereit.</span><span class="sxs-lookup"><span data-stu-id="52a63-399">Deploy Application Gateway with at least two instances.</span></span> <span data-ttu-id="52a63-400">Eine einzelne Instanz ist ein Single Point of Failure.</span><span class="sxs-lookup"><span data-stu-id="52a63-400">A single instance is a single point of failure.</span></span> <span data-ttu-id="52a63-401">Verwenden Sie zwei oder mehr Instanzen für Redundanz und Skalierbarkeit.</span><span class="sxs-lookup"><span data-stu-id="52a63-401">Use two or more instances for redundancy and scalability.</span></span> <span data-ttu-id="52a63-402">Um sich für die [SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/v1_0/) zu qualifizieren, müssen Sie zwei oder mehr mittelgroße oder größere Instanzen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="52a63-402">In order to qualify for the [SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/v1_0/), you must provision two or more medium or larger instances.</span></span>

### <a name="cosmos-db"></a><span data-ttu-id="52a63-403">Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="52a63-403">Cosmos DB</span></span>

<span data-ttu-id="52a63-404">**Replizieren Sie die Datenbank zwischen Regionen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-404">**Replicate the database across regions.**</span></span> <span data-ttu-id="52a63-405">Mit Cosmos DB können Sie einem Cosmos DB-Datenbankkonto eine beliebige Anzahl von Azure-Regionen zuordnen.</span><span class="sxs-lookup"><span data-stu-id="52a63-405">Cosmos DB allows you to associate any number of Azure regions with a Cosmos DB database account.</span></span> <span data-ttu-id="52a63-406">Eine Cosmos-DB-Datenbank kann eine Schreibregion und mehrere Leseregionen aufweisen.</span><span class="sxs-lookup"><span data-stu-id="52a63-406">A Cosmos DB database can have one write region and multiple read regions.</span></span> <span data-ttu-id="52a63-407">Bei einem Fehler in der Schreibregion können Sie ein anderes Replikat für Lesezugriff verwenden.</span><span class="sxs-lookup"><span data-stu-id="52a63-407">If there is a failure in the write region, you can read from another replica.</span></span> <span data-ttu-id="52a63-408">Das Client-SDK verarbeitet dies automatisch.</span><span class="sxs-lookup"><span data-stu-id="52a63-408">The Client SDK handles this automatically.</span></span> <span data-ttu-id="52a63-409">Sie können auch ein Failover der Schreibregion auf eine andere Region ausführen.</span><span class="sxs-lookup"><span data-stu-id="52a63-409">You can also fail over the write region to another region.</span></span> <span data-ttu-id="52a63-410">Weitere Informationen finden Sie unter [Wie werden Daten mit Azure Cosmos DB global verteilt?](/azure/cosmos-db/distribute-data-globally).</span><span class="sxs-lookup"><span data-stu-id="52a63-410">For more information, see [How to distribute data globally with Azure Cosmos DB](/azure/cosmos-db/distribute-data-globally).</span></span>

### <a name="redis-cache"></a><span data-ttu-id="52a63-411">Redis-Cache</span><span class="sxs-lookup"><span data-stu-id="52a63-411">Redis Cache</span></span>

<span data-ttu-id="52a63-412">**Konfigurieren der Georeplikation.**</span><span class="sxs-lookup"><span data-stu-id="52a63-412">**Configure Geo-replication**.</span></span> <span data-ttu-id="52a63-413">Die Georeplikation bietet einen Mechanismus zum Verknüpfen von zwei Azure Redis Cache-Instanzen im Premium-Tarif.</span><span class="sxs-lookup"><span data-stu-id="52a63-413">Geo-replication provides a mechanism for linking two Premium tier Azure Redis Cache instances.</span></span> <span data-ttu-id="52a63-414">In den primären Cache geschriebene Daten werden in einen sekundären schreibgeschützten Cache repliziert.</span><span class="sxs-lookup"><span data-stu-id="52a63-414">Data written to the primary cache is replicated to a secondary read-only cache.</span></span> <span data-ttu-id="52a63-415">Weitere Informationen finden Sie unter [Konfigurieren der Georeplikation für Azure Redis Cache](/azure/redis-cache/cache-how-to-geo-replication).</span><span class="sxs-lookup"><span data-stu-id="52a63-415">For more information, see [How to configure Geo-replication for Azure Redis Cache](/azure/redis-cache/cache-how-to-geo-replication)</span></span>

<span data-ttu-id="52a63-416">**Konfigurieren der Redis-Datenpersistenz.**</span><span class="sxs-lookup"><span data-stu-id="52a63-416">**Configure data persistence.**</span></span> <span data-ttu-id="52a63-417">Mithilfe der Redis-Persistenz können Sie die in Redis gespeicherten Daten dauerhaft speichern.</span><span class="sxs-lookup"><span data-stu-id="52a63-417">Redis persistence allows you to persist data stored in Redis.</span></span> <span data-ttu-id="52a63-418">Sie können zudem Momentaufnahmen erstellen und die Daten sichern, die Sie dann im Fall eines Hardwarefehlers laden können.</span><span class="sxs-lookup"><span data-stu-id="52a63-418">You can also take snapshots and back up the data, which you can load in case of a hardware failure.</span></span> <span data-ttu-id="52a63-419">Weitere Informationen finden Sie unter [Konfigurieren von Datenpersistenz für Azure Redis Cache vom Typ „Premium“](/azure/redis-cache/cache-how-to-premium-persistence).</span><span class="sxs-lookup"><span data-stu-id="52a63-419">For more information, see [How to configure data persistence for a Premium Azure Redis Cache](/azure/redis-cache/cache-how-to-premium-persistence)</span></span>

<span data-ttu-id="52a63-420">Wenn Sie Redis Cache als temporären Zwischenspeicher für Daten und nicht als permanenten Speicher verwenden, sind diese Empfehlungen möglicherweise nicht relevant.</span><span class="sxs-lookup"><span data-stu-id="52a63-420">If you are using Redis Cache as a temporary data cache and not as a persistent store, these recommendations may not apply.</span></span> 

### <a name="search"></a><span data-ttu-id="52a63-421">Suchen,</span><span class="sxs-lookup"><span data-stu-id="52a63-421">Search</span></span>

<span data-ttu-id="52a63-422">**Stellen Sie mehr als ein Replikat bereit.**</span><span class="sxs-lookup"><span data-stu-id="52a63-422">**Provision more than one replica.**</span></span> <span data-ttu-id="52a63-423">Verwenden Sie mindestens zwei Replikate für hohe Verfügbarkeit für Lesezugriff oder drei für hohe Verfügbarkeit für Lese-/Schreibzugriff.</span><span class="sxs-lookup"><span data-stu-id="52a63-423">Use at least two replicas for read high-availability, or three for read-write high-availability.</span></span>

<span data-ttu-id="52a63-424">**Konfigurieren Sie Indexer für Bereitstellungen in mehreren Regionen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-424">**Configure indexers for multi-region deployments.**</span></span> <span data-ttu-id="52a63-425">Für eine Bereitstellung in mehreren Regionen sollten Sie die Optionen für Kontinuität bei der Indizierung in Betracht ziehen.</span><span class="sxs-lookup"><span data-stu-id="52a63-425">If you have a multi-region deployment, consider your options for continuity in indexing.</span></span>

  * <span data-ttu-id="52a63-426">Wenn die Datenquelle georepliziert wird, sollten Sie im Allgemeinen die Indexer der einzelnen regionalen Azure Search-Dienste auf das eigene lokale Datenquellenreplikat verweisen.</span><span class="sxs-lookup"><span data-stu-id="52a63-426">If the data source is geo-replicated, you should generally point each indexer of each regional Azure Search service to its local data source replica.</span></span> <span data-ttu-id="52a63-427">Dieser Ansatz wird jedoch für große Datasets, die in Azure SQL-Datenbank gespeichert sind, nicht empfohlen.</span><span class="sxs-lookup"><span data-stu-id="52a63-427">However, that approach is not recommended for large datasets stored in Azure SQL Database.</span></span> <span data-ttu-id="52a63-428">Der Grund ist, dass Azure Search keine inkrementelle Indizierung für sekundäre SQL-Datenbankreplikate ausführen kann. Dies ist nur für primäre Replikate möglich.</span><span class="sxs-lookup"><span data-stu-id="52a63-428">The reason is that Azure Search cannot perform incremental indexing from secondary SQL Database replicas, only from primary replicas.</span></span> <span data-ttu-id="52a63-429">Verweisen Sie stattdessen alle Indexer auf das primäre Replikat.</span><span class="sxs-lookup"><span data-stu-id="52a63-429">Instead, point all indexers to the primary replica.</span></span> <span data-ttu-id="52a63-430">Verweisen Sie den Azure Search-Indexer nach einem Failover auf das neue primäre Replikat.</span><span class="sxs-lookup"><span data-stu-id="52a63-430">After a failover, point the Azure Search indexers at the new primary replica.</span></span>  
  * <span data-ttu-id="52a63-431">Wenn die Datenquelle nicht georepliziert wird, verweisen Sie mehrere Indexer auf die gleiche Datenquelle, damit Azure Search-Dienste in mehreren Regionen kontinuierlich und unabhängig die Datenquelle indizieren.</span><span class="sxs-lookup"><span data-stu-id="52a63-431">If the data source is not geo-replicated, point multiple indexers at the same data source, so that Azure Search services in multiple regions continuously and independently index from the data source.</span></span> <span data-ttu-id="52a63-432">Weitere Informationen finden Sie unter [Überlegungen zur Leistung und Optimierung von Azure Search][search-optimization].</span><span class="sxs-lookup"><span data-stu-id="52a63-432">For more information, see [Azure Search performance and optimization considerations][search-optimization].</span></span>

### <a name="storage"></a><span data-ttu-id="52a63-433">Speicher</span><span class="sxs-lookup"><span data-stu-id="52a63-433">Storage</span></span>

<span data-ttu-id="52a63-434">**Verwenden Sie für Anwendungsdaten georedundanten Speicher mit Lesezugriff (RA-GRS).**</span><span class="sxs-lookup"><span data-stu-id="52a63-434">**For application data, use read-access geo-redundant storage (RA-GRS).**</span></span> <span data-ttu-id="52a63-435">Bei einem RA-GRS-Speicher werden die Daten in eine sekundäre Region repliziert, und er bietet schreibgeschützten Zugriff aus der sekundären Region.</span><span class="sxs-lookup"><span data-stu-id="52a63-435">RA-GRS storage replicates the data to a secondary region, and provides read-only access from the secondary region.</span></span> <span data-ttu-id="52a63-436">Wenn in der primären Region der Speicher ausfällt, kann die Anwendung die Daten über die sekundäre Region lesen.</span><span class="sxs-lookup"><span data-stu-id="52a63-436">If there is a storage outage in the primary region, the application can read the data from the secondary region.</span></span> <span data-ttu-id="52a63-437">Weitere Informationen finden Sie unter [Azure Storage-Replikation](/azure/storage/storage-redundancy/).</span><span class="sxs-lookup"><span data-stu-id="52a63-437">For more information, see [Azure Storage replication](/azure/storage/storage-redundancy/).</span></span>

<span data-ttu-id="52a63-438">**Verwenden Sie Managed Disks für VM-Datenträger.**</span><span class="sxs-lookup"><span data-stu-id="52a63-438">**For VM disks, use Managed Disks.**</span></span> <span data-ttu-id="52a63-439">[Managed Disks][managed-disks] ermöglicht eine höhere Zuverlässigkeit für VMs in einer Verfügbarkeitsgruppe, da die Datenträger ausreichend voneinander isoliert sind, um Single Points of Failure zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="52a63-439">[Managed Disks][managed-disks] provide better reliability for VMs in an availability set, because the disks are sufficiently isolated from each other to avoid single points of failure.</span></span> <span data-ttu-id="52a63-440">Zudem gelten für Managed Disks keine IOPS-Grenzwerte von VHDs, die in einem Speicherkonto erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="52a63-440">Also, Managed Disks aren't subject to the IOPS limits of VHDs created in a storage account.</span></span> <span data-ttu-id="52a63-441">Weitere Informationen finden Sie unter [Verwalten der Verfügbarkeit virtueller Windows-Computer in Azure][vm-manage-availability].</span><span class="sxs-lookup"><span data-stu-id="52a63-441">For more information, see [Manage the availability of Windows virtual machines in Azure][vm-manage-availability].</span></span>

<span data-ttu-id="52a63-442">**Erstellen Sie für Queue Storage eine Sicherungswarteschlange in einer anderen Region.**</span><span class="sxs-lookup"><span data-stu-id="52a63-442">**For Queue storage, create a backup queue in another region.**</span></span> <span data-ttu-id="52a63-443">Für Queue Storage hat ein schreibgeschütztes Replikat eingeschränkten Nutzen, da Sie Elemente nicht in die Warteschlange aufnehmen oder daraus entfernen können.</span><span class="sxs-lookup"><span data-stu-id="52a63-443">For Queue storage, a read-only replica has limited use, because you can't queue or dequeue items.</span></span> <span data-ttu-id="52a63-444">Erstellen Sie stattdessen eine Sicherungswarteschlange in einem Speicherkonto in einer anderen Region.</span><span class="sxs-lookup"><span data-stu-id="52a63-444">Instead, create a backup queue in a storage account in another region.</span></span> <span data-ttu-id="52a63-445">Bei einem Speicherausfall kann die Anwendung die Sicherungswarteschlange verwenden, bis die primäre Region wieder verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="52a63-445">If there is a storage outage, the application can use the backup queue, until the primary region becomes available again.</span></span> <span data-ttu-id="52a63-446">Auf diese Weise kann die Anwendung weiterhin neue Anforderungen verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="52a63-446">That way, the application can still process new requests.</span></span>  

### <a name="sql-database"></a><span data-ttu-id="52a63-447">SQL-Datenbank</span><span class="sxs-lookup"><span data-stu-id="52a63-447">SQL Database</span></span>

<span data-ttu-id="52a63-448">**Verwenden Sie den Standard- oder Premium-Tarif.**</span><span class="sxs-lookup"><span data-stu-id="52a63-448">**Use Standard or Premium tier.**</span></span> <span data-ttu-id="52a63-449">Diese Tarife bieten einen längeren Zeitraum für die Point-in-Time-Wiederherstellung (35 Tage).</span><span class="sxs-lookup"><span data-stu-id="52a63-449">These tiers provide a longer point-in-time restore period (35 days).</span></span> <span data-ttu-id="52a63-450">Weitere Informationen finden Sie unter [SQL-Datenbankoptionen und -leistung](/azure/sql-database/sql-database-service-tiers/).</span><span class="sxs-lookup"><span data-stu-id="52a63-450">For more information, see [SQL Database options and performance](/azure/sql-database/sql-database-service-tiers/).</span></span>

<span data-ttu-id="52a63-451">**Aktivieren Sie die SQL-Datenbanküberwachung.**</span><span class="sxs-lookup"><span data-stu-id="52a63-451">**Enable SQL Database auditing.**</span></span> <span data-ttu-id="52a63-452">Die Überwachung kann verwendet werden, um böswillige Angriffe oder Benutzerfehler zu diagnostizieren.</span><span class="sxs-lookup"><span data-stu-id="52a63-452">Auditing can be used to diagnose malicious attacks or human error.</span></span> <span data-ttu-id="52a63-453">Weitere Informationen finden Sie unter [Erste Schritte mit der SQL-Datenbanküberwachung](/azure/sql-database/sql-database-auditing-get-started/).</span><span class="sxs-lookup"><span data-stu-id="52a63-453">For more information, see [Get started with SQL database auditing](/azure/sql-database/sql-database-auditing-get-started/).</span></span>

<span data-ttu-id="52a63-454">**Verwenden Sie die aktive Georeplikation**, um ein lesbares sekundäres Replikat in einer anderen Region zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="52a63-454">**Use Active Geo-Replication** Use Active Geo-Replication to create a readable secondary in a different region.</span></span>  <span data-ttu-id="52a63-455">Falls Ihre primäre Datenbank ausfällt oder einfach offline geschaltet werden muss, können Sie ein manuelles Failover auf die sekundäre Datenbank ausführen.</span><span class="sxs-lookup"><span data-stu-id="52a63-455">If your primary database fails, or simply needs to be taken offline, perform a manual failover to the secondary database.</span></span>  <span data-ttu-id="52a63-456">Bis Sie ein Failover ausführen, bleibt die sekundäre Datenbank schreibgeschützt.</span><span class="sxs-lookup"><span data-stu-id="52a63-456">Until you fail over, the secondary database remains read-only.</span></span>  <span data-ttu-id="52a63-457">Weitere Informationen finden Sie unter [Aktive Georeplikation in Azure SQL-Datenbank](/azure/sql-database/sql-database-geo-replication-overview/).</span><span class="sxs-lookup"><span data-stu-id="52a63-457">For more information, see [SQL Database Active Geo-Replication](/azure/sql-database/sql-database-geo-replication-overview/).</span></span>

<span data-ttu-id="52a63-458">**Verwenden Sie Sharding.**</span><span class="sxs-lookup"><span data-stu-id="52a63-458">**Use sharding.**</span></span> <span data-ttu-id="52a63-459">Erwägen Sie die Verwendung von Sharding, um die Datenbank horizontal zu partitionieren.</span><span class="sxs-lookup"><span data-stu-id="52a63-459">Consider using sharding to partition the database horizontally.</span></span> <span data-ttu-id="52a63-460">Sharding kann Fehlerisolation bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="52a63-460">Sharding can provide fault isolation.</span></span> <span data-ttu-id="52a63-461">Weitere Informationen finden Sie unter [Horizontales Hochskalieren mit Azure SQL-Datenbank](/azure/sql-database/sql-database-elastic-scale-introduction/).</span><span class="sxs-lookup"><span data-stu-id="52a63-461">For more information, see [Scaling out with Azure SQL Database](/azure/sql-database/sql-database-elastic-scale-introduction/).</span></span>

<span data-ttu-id="52a63-462">**Verwenden Sie die Point-in-Time-Wiederherstellung für eine Wiederherstellung nach einem menschlichen Fehler.**</span><span class="sxs-lookup"><span data-stu-id="52a63-462">**Use point-in-time restore to recover from human error.**</span></span>  <span data-ttu-id="52a63-463">Mit der Point-in-Time-Wiederherstellung wird Ihre Datenbank zu einem früheren Zeitpunkt wiederhergestellt.</span><span class="sxs-lookup"><span data-stu-id="52a63-463">Point-in-time restore returns your database to an earlier point in time.</span></span> <span data-ttu-id="52a63-464">Weitere Informationen finden Sie unter [Wiederherstellen einer Azure SQL-Datenbank mit automatisierten Datenbanksicherungen][sql-restore].</span><span class="sxs-lookup"><span data-stu-id="52a63-464">For more information, see [Recover an Azure SQL database using automated database backups][sql-restore].</span></span>

<span data-ttu-id="52a63-465">**Verwenden Sie die Geowiederherstellung für die Wiederherstellung nach einem Dienstausfall.**</span><span class="sxs-lookup"><span data-stu-id="52a63-465">**Use geo-restore to recover from a service outage.**</span></span> <span data-ttu-id="52a63-466">Mit der Geowiederherstellung wird eine Datenbank auf der Basis einer georedundanten Sicherung wiederhergestellt.</span><span class="sxs-lookup"><span data-stu-id="52a63-466">Geo-restore restores a database from a geo-redundant backup.</span></span>  <span data-ttu-id="52a63-467">Weitere Informationen finden Sie unter [Wiederherstellen einer Azure SQL-Datenbank mit automatisierten Datenbanksicherungen][sql-restore].</span><span class="sxs-lookup"><span data-stu-id="52a63-467">For more information, see [Recover an Azure SQL database using automated database backups][sql-restore].</span></span>

### <a name="sql-server-running-in-a-vm"></a><span data-ttu-id="52a63-468">SQL Server auf einem virtuellen Computer</span><span class="sxs-lookup"><span data-stu-id="52a63-468">SQL Server running in a VM</span></span>

<span data-ttu-id="52a63-469">**Replizieren Sie die Datenbank.**</span><span class="sxs-lookup"><span data-stu-id="52a63-469">**Replicate the database.**</span></span> <span data-ttu-id="52a63-470">Verwenden Sie SQL Server AlwaysOn-Verfügbarkeitsgruppen, um die Datenbank zu replizieren.</span><span class="sxs-lookup"><span data-stu-id="52a63-470">Use SQL Server Always On Availability Groups to replicate the database.</span></span> <span data-ttu-id="52a63-471">Dadurch erreichen Sie hohe Verfügbarkeit, wenn eine SQL Server-Instanz ausfällt.</span><span class="sxs-lookup"><span data-stu-id="52a63-471">Provides high availability if one SQL Server instance fails.</span></span> <span data-ttu-id="52a63-472">Weitere Informationen finden Sie unter [Ausführen von Windows-VMs für eine n-schichtige Anwendung](../reference-architectures/virtual-machines-windows/n-tier.md).</span><span class="sxs-lookup"><span data-stu-id="52a63-472">For more information, see [Run Windows VMs for an N-tier application](../reference-architectures/virtual-machines-windows/n-tier.md)</span></span>

<span data-ttu-id="52a63-473">**Sichern Sie die Datenbank**.</span><span class="sxs-lookup"><span data-stu-id="52a63-473">**Back up the database**.</span></span> <span data-ttu-id="52a63-474">Wenn Sie bereits [Azure Backup](https://azure.microsoft.com/documentation/services/backup/) zum Sichern Ihrer VMs verwenden, erwägen Sie die Nutzung von [Azure Backup für SQL Server-Workloads mit DPM](/azure/backup/backup-azure-backup-sql/).</span><span class="sxs-lookup"><span data-stu-id="52a63-474">If you are already using [Azure Backup](https://azure.microsoft.com/documentation/services/backup/) to back up your VMs, consider using [Azure Backup for SQL Server workloads using DPM](/azure/backup/backup-azure-backup-sql/).</span></span> <span data-ttu-id="52a63-475">Bei dieser Vorgehensweise gibt es eine Sicherungsadministratorrolle für die Organisation und ein einheitliches Wiederherstellungsverfahren für VMs und SQL Server.</span><span class="sxs-lookup"><span data-stu-id="52a63-475">With this approach, there is one backup administrator role for the organization and a unified recovery procedure for VMs and SQL Server.</span></span> <span data-ttu-id="52a63-476">Verwenden Sie andernfalls die [verwaltete SQL Server-Sicherung in Microsoft Azure](https://msdn.microsoft.com/library/dn449496.aspx).</span><span class="sxs-lookup"><span data-stu-id="52a63-476">Otherwise, use [SQL Server Managed Backup to Microsoft Azure](https://msdn.microsoft.com/library/dn449496.aspx).</span></span>

### <a name="traffic-manager"></a><span data-ttu-id="52a63-477">Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="52a63-477">Traffic Manager</span></span>

<span data-ttu-id="52a63-478">**Führen Sie manuelle Failbacks aus.**</span><span class="sxs-lookup"><span data-stu-id="52a63-478">**Perform manual failback.**</span></span> <span data-ttu-id="52a63-479">Führen Sie nach einem Traffic Manager-Failover ein manuelles Failback und kein automatische Failback aus.</span><span class="sxs-lookup"><span data-stu-id="52a63-479">After a Traffic Manager failover, perform manual failback, rather than automatically failing back.</span></span> <span data-ttu-id="52a63-480">Überprüfen Sie vor einem Failback, ob alle Subsysteme der Anwendung fehlerfrei sind.</span><span class="sxs-lookup"><span data-stu-id="52a63-480">Before failing back, verify that all application subsystems are healthy.</span></span>  <span data-ttu-id="52a63-481">Andernfalls könnte eine Situation eintreten, bei der die Anwendung zwischen den Rechenzentren hin und her wechselt.</span><span class="sxs-lookup"><span data-stu-id="52a63-481">Otherwise, you can create a situation where the application flips back and forth between data centers.</span></span> <span data-ttu-id="52a63-482">Weitere Informationen finden Sie unter [Ausführen von VMs in mehreren Regionen für Hochverfügbarkeit](../reference-architectures/virtual-machines-windows/multi-region-application.md).</span><span class="sxs-lookup"><span data-stu-id="52a63-482">For more information, see [Run VMs in multiple regions for high availability](../reference-architectures/virtual-machines-windows/multi-region-application.md).</span></span>

<span data-ttu-id="52a63-483">**Erstellen Sie einen Endpunkt für Integritätstests.**</span><span class="sxs-lookup"><span data-stu-id="52a63-483">**Create a health probe endpoint.**</span></span> <span data-ttu-id="52a63-484">Erstellen Sie einen benutzerdefinierten Endpunkt, der die Gesamtintegrität der Anwendung angibt.</span><span class="sxs-lookup"><span data-stu-id="52a63-484">Create a custom endpoint that reports on the overall health of the application.</span></span> <span data-ttu-id="52a63-485">Dies ermöglicht Traffic Manager, ein Failover auszuführen, wenn ein kritischer Pfad und nicht nur das Front-End ausfällt.</span><span class="sxs-lookup"><span data-stu-id="52a63-485">This enables Traffic Manager to fail over if any critical path fails, not just the front end.</span></span> <span data-ttu-id="52a63-486">Der Endpunkt sollte einen HTTP-Fehlercode zurückgeben, wenn eine kritische Abhängigkeit fehlerhaft oder nicht erreichbar ist.</span><span class="sxs-lookup"><span data-stu-id="52a63-486">The endpoint should return an HTTP error code if any critical dependency is unhealthy or unreachable.</span></span> <span data-ttu-id="52a63-487">Melden Sie jedoch keine Fehler für nicht kritische Dienste.</span><span class="sxs-lookup"><span data-stu-id="52a63-487">Don't report errors for non-critical services, however.</span></span> <span data-ttu-id="52a63-488">Andernfalls könnte der Integritätstest ein Failover auslösen, wenn es nicht erforderlich ist, und falsch positive Ergebnisse erstellen.</span><span class="sxs-lookup"><span data-stu-id="52a63-488">Otherwise, the health probe might trigger failover when it's not needed, creating false positives.</span></span> <span data-ttu-id="52a63-489">Weitere Informationen finden Sie unter [Traffic Manager-Endpunktüberwachung und -failover](/azure/traffic-manager/traffic-manager-monitoring/).</span><span class="sxs-lookup"><span data-stu-id="52a63-489">For more information, see [Traffic Manager endpoint monitoring and failover](/azure/traffic-manager/traffic-manager-monitoring/).</span></span>

### <a name="virtual-machines"></a><span data-ttu-id="52a63-490">Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="52a63-490">Virtual Machines</span></span>

<span data-ttu-id="52a63-491">**Vermeiden Sie es, eine Produktionsworkload auf einer einzigen VM auszuführen.**</span><span class="sxs-lookup"><span data-stu-id="52a63-491">**Avoid running a production workload on a single VM.**</span></span> <span data-ttu-id="52a63-492">Die Bereitstellung einer einzigen VM ist bei geplanten oder ungeplanten Wartungen nicht zuverlässig.</span><span class="sxs-lookup"><span data-stu-id="52a63-492">A single VM deployment is not resilient to planned or unplanned maintenance.</span></span> <span data-ttu-id="52a63-493">Nehmen Sie stattdessen mehrere VMs in eine Verfügbarkeitsgruppe oder eine [VM-Skalierungsgruppe](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/) auf, der sie einen Lastenausgleich vorschalten.</span><span class="sxs-lookup"><span data-stu-id="52a63-493">Instead, put multiple VMs in an availability set or [VM scale set](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/), with a load balancer in front.</span></span>

<span data-ttu-id="52a63-494">**Geben Sie bei der Bereitstellung der VM eine Verfügbarkeitsgruppe an.**</span><span class="sxs-lookup"><span data-stu-id="52a63-494">**Specify an availability set when you provision the VM.**</span></span> <span data-ttu-id="52a63-495">Derzeit gibt es keine Möglichkeit, einer Verfügbarkeitsgruppe nach dem Bereitstellen der VM eine VM hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="52a63-495">Currently, there is no way to add a VM to an availability set after the VM is provisioned.</span></span> <span data-ttu-id="52a63-496">Sie müssen beim Hinzufügen einer neuen VM zu einer vorhandenen Verfügbarkeitsgruppe eine NIC für die VM erstellen und die NIC dem Back-End-Adresspool des Lastenausgleichs hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="52a63-496">When you add a new VM to an existing availability set, make sure to create a NIC for the VM, and add the NIC to the back-end address pool on the load balancer.</span></span> <span data-ttu-id="52a63-497">Andernfalls leitet der Lastenausgleich den Netzwerkdatenverkehr nicht an die VM weiter.</span><span class="sxs-lookup"><span data-stu-id="52a63-497">Otherwise, the load balancer won't route network traffic to that VM.</span></span>

<span data-ttu-id="52a63-498">**Nehmen Sie jede Logikschicht in eine separate Verfügbarkeitsgruppe auf.**</span><span class="sxs-lookup"><span data-stu-id="52a63-498">**Put each application tier into a separate Availability Set.**</span></span> <span data-ttu-id="52a63-499">Fügen Sie in einer Anwendung mit n-Schichten VMs aus verschiedenen Schichten nicht in die gleiche Verfügbarkeitsgruppe ein.</span><span class="sxs-lookup"><span data-stu-id="52a63-499">In an N-tier application, don't put VMs from different tiers into the same availability set.</span></span> <span data-ttu-id="52a63-500">VMs in einer Verfügbarkeitsgruppe werden über Fehlerdomänen (FDs) und Updatedomänen (UD) verteilt.</span><span class="sxs-lookup"><span data-stu-id="52a63-500">VMs in an availability set are placed across fault domains (FDs) and update domains (UD).</span></span> <span data-ttu-id="52a63-501">Um den Redundanzvorteil von FDs und UDs nutzen zu können, muss jedoch jede VM in der Verfügbarkeitsgruppe die gleichen Clientanforderungen verarbeiten können.</span><span class="sxs-lookup"><span data-stu-id="52a63-501">However, to get the redundancy benefit of FDs and UDs, every VM in the availability set must be able to handle the same client requests.</span></span>

<span data-ttu-id="52a63-502">**Wählen Sie die richtige VM-Größe basierend auf den Leistungsanforderungen aus.**</span><span class="sxs-lookup"><span data-stu-id="52a63-502">**Choose the right VM size based on performance requirements.**</span></span> <span data-ttu-id="52a63-503">Beginnen Sie beim Verlagern einer vorhandenen Workload in Azure mit der VM-Größe, die Ihren lokalen Servern am ehesten entspricht.</span><span class="sxs-lookup"><span data-stu-id="52a63-503">When moving an existing workload to Azure, start with the VM size that's the closest match to your on-premises servers.</span></span> <span data-ttu-id="52a63-504">Messen Sie dann die Leistung Ihrer tatsächlichen Workload hinsichtlich CPU, Arbeitsspeicher und Datenträger-IOPS, und passen Sie die Größe bei Bedarf an.</span><span class="sxs-lookup"><span data-stu-id="52a63-504">Then measure the performance of your actual workload with respect to CPU, memory, and disk IOPS, and adjust the size if needed.</span></span> <span data-ttu-id="52a63-505">Dadurch wird sichergestellt, dass sich die Anwendung in einer Cloudumgebung wie erwartet verhält.</span><span class="sxs-lookup"><span data-stu-id="52a63-505">This helps to ensure the application behaves as expected in a cloud environment.</span></span> <span data-ttu-id="52a63-506">Wenn Sie mehrere NICs benötigen, beachten Sie zudem den NIC-Grenzwert für jede Größe.</span><span class="sxs-lookup"><span data-stu-id="52a63-506">Also, if you need multiple NICs, be aware of the NIC limit for each size.</span></span>

<span data-ttu-id="52a63-507">**Verwenden Sie Managed Disks für VHDs.**</span><span class="sxs-lookup"><span data-stu-id="52a63-507">**Use Managed Disks for VHDs.**</span></span> <span data-ttu-id="52a63-508">[Managed Disks][managed-disks] ermöglicht eine höhere Zuverlässigkeit für VMs in einer Verfügbarkeitsgruppe, da die Datenträger ausreichend voneinander isoliert sind, um Single Points of Failure zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="52a63-508">[Managed Disks][managed-disks] provide better reliability for VMs in an availability set, because the disks are sufficiently isolated from each other to avoid single points of failure.</span></span> <span data-ttu-id="52a63-509">Zudem gelten für Managed Disks keine IOPS-Grenzwerte von VHDs, die in einem Speicherkonto erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="52a63-509">Also, Managed Disks aren't subject to the IOPS limits of VHDs created in a storage account.</span></span> <span data-ttu-id="52a63-510">Weitere Informationen finden Sie unter [Verwalten der Verfügbarkeit virtueller Windows-Computer in Azure][vm-manage-availability].</span><span class="sxs-lookup"><span data-stu-id="52a63-510">For more information, see [Manage the availability of Windows virtual machines in Azure][vm-manage-availability].</span></span>

<span data-ttu-id="52a63-511">**Installieren Sie Anwendungen auf einem Datenträger für Daten und nicht auf dem Datenträger für das Betriebssystem.**</span><span class="sxs-lookup"><span data-stu-id="52a63-511">**Install applications on a data disk, not the OS disk.**</span></span> <span data-ttu-id="52a63-512">Andernfalls kann der Grenzwert für die Datenträgergröße erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-512">Otherwise, you may reach the disk size limit.</span></span>

<span data-ttu-id="52a63-513">**Verwenden Sie Azure Backup zum Sichern von VMs.**</span><span class="sxs-lookup"><span data-stu-id="52a63-513">**Use Azure Backup to back up VMs.**</span></span> <span data-ttu-id="52a63-514">Sicherungen schützen vor versehentlichen Datenverlusten.</span><span class="sxs-lookup"><span data-stu-id="52a63-514">Backups protect against accidental data loss.</span></span> <span data-ttu-id="52a63-515">Weitere Informationen finden Sie unter [Schützen von Azure-VMs mit einem Recovery Services-Tresor](/azure/backup/backup-azure-vms-first-look-arm/).</span><span class="sxs-lookup"><span data-stu-id="52a63-515">For more information, see [Protect Azure VMs with a recovery services vault](/azure/backup/backup-azure-vms-first-look-arm/).</span></span>

<span data-ttu-id="52a63-516">**Aktivieren Sie Diagnoseprotokolle**, z.B. grundlegende Integritätsmetriken, Infrastrukturprotokolle und die [Startdiagnose][boot-diagnostics].</span><span class="sxs-lookup"><span data-stu-id="52a63-516">**Enable diagnostic logs**, including basic health metrics, infrastructure logs, and [boot diagnostics][boot-diagnostics].</span></span> <span data-ttu-id="52a63-517">Startdiagnosen dienen dazu, einen Fehler beim Startvorgang zu untersuchen, wenn sich Ihre VM in einem nicht startfähigen Zustand befindet.</span><span class="sxs-lookup"><span data-stu-id="52a63-517">Boot diagnostics can help you diagnose a boot failure if your VM gets into a non-bootable state.</span></span> <span data-ttu-id="52a63-518">Weitere Informationen finden Sie unter [Übersicht über Azure-Diagnoseprotokolle][diagnostics-logs].</span><span class="sxs-lookup"><span data-stu-id="52a63-518">For more information, see [Overview of Azure Diagnostic Logs][diagnostics-logs].</span></span>

<span data-ttu-id="52a63-519">**Verwenden Sie die AzureLogCollector-Erweiterung.**</span><span class="sxs-lookup"><span data-stu-id="52a63-519">**Use the AzureLogCollector extension.**</span></span> <span data-ttu-id="52a63-520">(Nur Windows-VMs.) Diese Erweiterung aggregiert Azure Platform-Protokolle und lädt sie in Azure-Speicher hoch, ohne dass eine Remoteanmeldung des Operators auf der VM erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="52a63-520">(Windows VMs only.) This extension aggregates Azure platform logs and uploads them to Azure storage, without the operator remotely logging into the VM.</span></span> <span data-ttu-id="52a63-521">Weitere Informationen finden Sie unter [AzureLogCollector-Erweiterung](/azure/virtual-machines/virtual-machines-windows-log-collector-extension/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="52a63-521">For more information, see [AzureLogCollector Extension](/azure/virtual-machines/virtual-machines-windows-log-collector-extension/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

### <a name="virtual-network"></a><span data-ttu-id="52a63-522">Virtuelles Netzwerk</span><span class="sxs-lookup"><span data-stu-id="52a63-522">Virtual Network</span></span>

<span data-ttu-id="52a63-523">**Um öffentliche IP-Adressen einer Whitelist hinzuzufügen oder zu sperren, fügen Sie dem Subnetz eine NSG hinzu.**</span><span class="sxs-lookup"><span data-stu-id="52a63-523">**To whitelist or block public IP addresses, add an NSG to the subnet.**</span></span> <span data-ttu-id="52a63-524">Blockieren Sie den Zugriff von böswilligen Benutzern, oder lassen Sie nur Benutzer, die über Zugriffsberechtigungen verfügen, auf die Anwendung zugreifen.</span><span class="sxs-lookup"><span data-stu-id="52a63-524">Block access from malicious users, or allow access only from users who have privilege to access the application.</span></span>  

<span data-ttu-id="52a63-525">**Erstellen Sie einen benutzerdefinierten Integritätstest.**</span><span class="sxs-lookup"><span data-stu-id="52a63-525">**Create a custom health probe.**</span></span> <span data-ttu-id="52a63-526">Integritätstests durch den Lastenausgleich können für HTTP oder TCP durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="52a63-526">Load Balancer Health Probes can test either HTTP or TCP.</span></span> <span data-ttu-id="52a63-527">Wenn eine VM auf einem HTTP-Server ausgeführt wird, ist der HTTP-Test ein besserer Indikator für den Integritätsstatus als ein TCP-Test.</span><span class="sxs-lookup"><span data-stu-id="52a63-527">If a VM runs an HTTP server, the HTTP probe is a better indicator of health status than a TCP probe.</span></span> <span data-ttu-id="52a63-528">Verwenden Sie für einen HTTP-Test einen benutzerdefinierten Endpunkt, der die Gesamtintegrität der Anwendung meldet, einschließlich aller kritischen Abhängigkeiten.</span><span class="sxs-lookup"><span data-stu-id="52a63-528">For an HTTP probe, use a custom endpoint that reports the overall health of the application, including all critical dependencies.</span></span> <span data-ttu-id="52a63-529">Weitere Informationen finden Sie unter [Übersicht über Azure Load Balancer](/azure/load-balancer/load-balancer-overview/).</span><span class="sxs-lookup"><span data-stu-id="52a63-529">For more information, see [Azure Load Balancer overview](/azure/load-balancer/load-balancer-overview/).</span></span>

<span data-ttu-id="52a63-530">**Blockieren Sie den Integritätstest nicht.**</span><span class="sxs-lookup"><span data-stu-id="52a63-530">**Don't block the health probe.**</span></span> <span data-ttu-id="52a63-531">Der Integritätstests durch den Lastenausgleich wird von einer bekannten IP-Adresse (168.63.129.16) gesendet.</span><span class="sxs-lookup"><span data-stu-id="52a63-531">The Load Balancer Health probe is sent from a known IP address, 168.63.129.16.</span></span> <span data-ttu-id="52a63-532">Blockieren Sie den Datenverkehr zu oder von dieser IP-Adresse nicht in Firewallrichtlinien oder in NSG-Regeln (Netzwerksicherheitsgruppe).</span><span class="sxs-lookup"><span data-stu-id="52a63-532">Don't block traffic to or from this IP in any firewall policies or network security group (NSG) rules.</span></span> <span data-ttu-id="52a63-533">Wenn der Integritätstest blockiert wird, wird die VM vom Lastenausgleich aus der Rotation entfernt.</span><span class="sxs-lookup"><span data-stu-id="52a63-533">Blocking the health probe would cause the load balancer to remove the VM from rotation.</span></span>

<span data-ttu-id="52a63-534">**Aktivieren Sie die Protokollierung für den Lastenausgleich.**</span><span class="sxs-lookup"><span data-stu-id="52a63-534">**Enable Load Balancer logging.**</span></span> <span data-ttu-id="52a63-535">Die Protokolle zeigen, wie viele VMs am Back-End aufgrund fehlerhafter Testantworten keinen Netzwerkdatenverkehr empfangen.</span><span class="sxs-lookup"><span data-stu-id="52a63-535">The logs show how many VMs on the back-end are not receiving network traffic due to failed probe responses.</span></span> <span data-ttu-id="52a63-536">Weitere Informationen finden Sie unter [Protokollanalysen für Azure Load Balancer](/azure/load-balancer/load-balancer-monitor-log/).</span><span class="sxs-lookup"><span data-stu-id="52a63-536">For more information, see [Log analytics for Azure Load Balancer](/azure/load-balancer/load-balancer-monitor-log/).</span></span>


<!-- links -->
[app-service-autoscale]: /azure/monitoring-and-diagnostics/insights-how-to-scale/
[asynchronous-c-sharp]: /dotnet/articles/csharp/async
[availability-sets]:/azure/virtual-machines/virtual-machines-windows-manage-availability/
[azure-backup]: https://azure.microsoft.com/documentation/services/backup/
[boot-diagnostics]: https://azure.microsoft.com/blog/boot-diagnostics-for-virtual-machines-v2/
[circuit-breaker]: ../patterns/circuit-breaker.md
[cloud-service-autoscale]: /azure/cloud-services/cloud-services-how-to-scale/
[diagnostics-logs]: /azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs/
[fma]: ../resiliency/failure-mode-analysis.md
[resilient-deployment]: ../resiliency/index.md#resilient-deployment
[load-balancer]: /azure/load-balancer/load-balancer-overview/
[managed-disks]: /azure/storage/storage-managed-disks-overview
[monitoring-and-diagnostics-guidance]: ../best-practices/monitoring.md
[resource-manager]: /azure/azure-resource-manager/resource-group-overview/
[retry-pattern]: ../patterns/retry.md
[retry-service-guidance]: ../best-practices/retry-service-specific.md
[search-optimization]: /azure/search/search-performance-optimization/
[sql-backup]: /azure/sql-database/sql-database-automated-backups/
[sql-restore]: /azure/sql-database/sql-database-recovery-using-backups/
[traffic-manager]: /azure/traffic-manager/traffic-manager-overview/
[traffic-manager-routing]: /azure/traffic-manager/traffic-manager-routing-methods/
[vm-manage-availability]: /azure/virtual-machines/windows/manage-availability#use-managed-disks-for-vms-in-an-availability-set
[vmss-autoscale]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview/
