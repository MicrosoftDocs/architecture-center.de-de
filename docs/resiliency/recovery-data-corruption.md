---
title: Wiederherstellung nach Datenbeschädigung oder unbeabsichtigtem Löschen
description: Hier erfahren Sie, wie Sie nach einer Datenbeschädigung oder nach dem versehentlichen Löschen von Daten eine Wiederherstellung ausführen, ausfallsichere, hochverfügbare und fehlertolerante Anwendungen erstellen und die Notfallwiederherstellung planen.
author: MikeWasson
ms.date: 11/11/2018
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.custom: resiliency
ms.openlocfilehash: e28f26683c6d7dba196d4351ef3942830c9e7fc2
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 03/20/2019
ms.locfileid: "58242781"
---
# <a name="recover-from-data-corruption-or-accidental-deletion"></a><span data-ttu-id="0ee72-103">Wiederherstellung nach Datenbeschädigung oder unbeabsichtigtem Löschen</span><span class="sxs-lookup"><span data-stu-id="0ee72-103">Recover from data corruption or accidental deletion</span></span>

<span data-ttu-id="0ee72-104">Teil eines zuverlässigen Plans für Geschäftskontinuität sind Maßnahmen für den Fall, dass Daten beschädigt oder versehentlich gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="0ee72-104">Part of a robust business continuity plan is having a plan if your data gets corrupted or accidentally deleted.</span></span> <span data-ttu-id="0ee72-105">Im Anschluss finden Sie Informationen zur Wiederherstellung von Daten, die durch Anwendungs- oder Bedienerfehler beschädigt oder versehentlich gelöscht wurden.</span><span class="sxs-lookup"><span data-stu-id="0ee72-105">The following is information about recovery after data has been corrupted or accidentally deleted, due to application errors or operator error.</span></span>

## <a name="virtual-machines"></a><span data-ttu-id="0ee72-106">Virtual Machines</span><span class="sxs-lookup"><span data-stu-id="0ee72-106">Virtual Machines</span></span>

<span data-ttu-id="0ee72-107">Verwenden Sie [Azure Backup](/azure/backup/), um virtuelle Azure-Computer vor Anwendungsfehlern oder versehentlichem Löschen zu schützen.</span><span class="sxs-lookup"><span data-stu-id="0ee72-107">To protect Azure Virtual Machines (VMs) from application errors or accidental deletion, use [Azure Backup](/azure/backup/).</span></span> <span data-ttu-id="0ee72-108">Mit Azure Backup können Sie über mehrere VM-Datenträger hinweg konsistente Sicherungen erstellen.</span><span class="sxs-lookup"><span data-stu-id="0ee72-108">Azure Backup enables the creation of backups that are consistent across multiple VM disks.</span></span> <span data-ttu-id="0ee72-109">Darüber hinaus kann der Sicherungstresor über Regionen hinweg repliziert werden, um bei Ausfall einer Region eine Wiederherstellung zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="0ee72-109">In addition, the Backup Vault can be replicated across regions to provide recovery from region loss.</span></span>

## <a name="storage"></a><span data-ttu-id="0ee72-110">Storage</span><span class="sxs-lookup"><span data-stu-id="0ee72-110">Storage</span></span>

<span data-ttu-id="0ee72-111">Azure Storage bietet Datenresilienz durch automatisierte Replikate.</span><span class="sxs-lookup"><span data-stu-id="0ee72-111">Azure Storage provides data resiliency through automated replicas.</span></span> <span data-ttu-id="0ee72-112">Allerdings verhindert dies nicht die Beschädigung von Daten durch Anwendungscode oder Benutzer, ob versehentlich oder mit böser Absicht.</span><span class="sxs-lookup"><span data-stu-id="0ee72-112">However, this does not prevent application code or users from corrupting data, whether accidentally or maliciously.</span></span> <span data-ttu-id="0ee72-113">Um Datengenauigkeit bei Anwendungs- oder Benutzerfehlern zu gewährleisten, sind weitergehende Methoden erforderlich – beispielsweise das Kopieren der Daten an einen sekundären Speicherort mit einem Überwachungsprotokoll.</span><span class="sxs-lookup"><span data-stu-id="0ee72-113">Maintaining data fidelity in the face of application or user error requires more advanced techniques, such as copying the data to a secondary storage location with an audit log.</span></span>

- <span data-ttu-id="0ee72-114">**Blockblobs.**</span><span class="sxs-lookup"><span data-stu-id="0ee72-114">**Block blobs**.</span></span> <span data-ttu-id="0ee72-115">Erstellen Sie eine Zeitpunkt-Momentaufnahme von jedem Blockblob.</span><span class="sxs-lookup"><span data-stu-id="0ee72-115">Create a point-in-time snapshot of each block blob.</span></span> <span data-ttu-id="0ee72-116">Weitere Informationen finden Sie unter [Erstellen einer Momentaufnahme eines Blobs](/rest/api/storageservices/creating-a-snapshot-of-a-blob).</span><span class="sxs-lookup"><span data-stu-id="0ee72-116">For more information, see [Creating a Snapshot of a Blob](/rest/api/storageservices/creating-a-snapshot-of-a-blob).</span></span> <span data-ttu-id="0ee72-117">Bei jeder Momentaufnahme wird Ihnen nur die erforderliche Speicherkapazität berechnet, die Sie benötigen, um die Veränderungen innerhalb des Blobs seit der letzten Momentaufnahme zu speichern.</span><span class="sxs-lookup"><span data-stu-id="0ee72-117">For each snapshot, you are only charged for the storage required to store the differences within the blob since the last snapshot state.</span></span> <span data-ttu-id="0ee72-118">Die Momentaufnahmen sind von der Existenz des zugrunde liegenden Originalblobs abhängig, sodass ein Kopiervorgang in ein anderes Blob oder sogar in ein anderes Speicherkonto empfohlen wird.</span><span class="sxs-lookup"><span data-stu-id="0ee72-118">The snapshots are dependent on the existence of the original blob they are based on, so a copy operation to another blob or even another storage account is advisable.</span></span> <span data-ttu-id="0ee72-119">Dadurch sind die Sicherungsdaten dann ordnungsgemäß vor versehentlichem Löschen geschützt.</span><span class="sxs-lookup"><span data-stu-id="0ee72-119">This ensures that backup data is properly protected against accidental deletion.</span></span> <span data-ttu-id="0ee72-120">Verwenden Sie [AzCopy](/azure/storage/common/storage-use-azcopy) oder [Azure PowerShell](/azure/storage/common/storage-powershell-guide-full), um die Blobs in ein anderes Speicherkonto zu kopieren.</span><span class="sxs-lookup"><span data-stu-id="0ee72-120">You can use [AzCopy](/azure/storage/common/storage-use-azcopy) or [Azure PowerShell](/azure/storage/common/storage-powershell-guide-full) to copy the blobs to another storage account.</span></span>

- <span data-ttu-id="0ee72-121">**Dateien.**</span><span class="sxs-lookup"><span data-stu-id="0ee72-121">**Files**.</span></span> <span data-ttu-id="0ee72-122">Verwenden Sie [Freigabemomentaufnahmen](/azure/storage/files/storage-snapshots-files) oder AzCopy bzw. PowerShell, um die Dateien in ein anderes Speicherkonto zu kopieren.</span><span class="sxs-lookup"><span data-stu-id="0ee72-122">Use [share snapshots](/azure/storage/files/storage-snapshots-files), or use AzCopy or PowerShell to copy your files to another storage account.</span></span>

- <span data-ttu-id="0ee72-123">**Tabellen.**</span><span class="sxs-lookup"><span data-stu-id="0ee72-123">**Tables**.</span></span> <span data-ttu-id="0ee72-124">Verwenden Sie AzCopy, um die Tabellendaten in ein anderes Speicherkonto in einer anderen Region zu exportieren.</span><span class="sxs-lookup"><span data-stu-id="0ee72-124">Use AzCopy to export the table data into another storage account in another region.</span></span>

## <a name="database"></a><span data-ttu-id="0ee72-125">Datenbank</span><span class="sxs-lookup"><span data-stu-id="0ee72-125">Database</span></span>

### <a name="azure-sql-database"></a><span data-ttu-id="0ee72-126">Azure SQL-Datenbank</span><span class="sxs-lookup"><span data-stu-id="0ee72-126">Azure SQL Database</span></span>

<span data-ttu-id="0ee72-127">SQL-Datenbank führt automatisch eine Kombination aus wöchentlichen vollständigen Datenbanksicherungen, stündlichen differenziellen Datenbanksicherungen sowie Transaktionsprotokollsicherungen im Abstand von fünf bis zehn Minuten durch, um Ihr Unternehmen vor Datenverlusten zu schützen.</span><span class="sxs-lookup"><span data-stu-id="0ee72-127">SQL Database automatically performs a combination of full database backups weekly, differential database backups hourly, and transaction log backups every five - ten minutes to protect your business from data loss.</span></span> <span data-ttu-id="0ee72-128">Verwenden Sie die Point-in-Time-Wiederherstellung, um eine Datenbank zu einem früheren Zeitpunkt wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="0ee72-128">Use point-in-time restore to restore a database to an earlier time.</span></span> <span data-ttu-id="0ee72-129">Weitere Informationen finden Sie unter</span><span class="sxs-lookup"><span data-stu-id="0ee72-129">For more information, see:</span></span>

- [<span data-ttu-id="0ee72-130">Wiederherstellen einer Azure SQL-Datenbank mit automatisierten Datenbanksicherungen</span><span class="sxs-lookup"><span data-stu-id="0ee72-130">Recover an Azure SQL database using automated database backups</span></span>](/azure/sql-database/sql-database-recovery-using-backups)

- [<span data-ttu-id="0ee72-131">Übersicht über die Geschäftskontinuität mit Azure SQL-Datenbank</span><span class="sxs-lookup"><span data-stu-id="0ee72-131">Overview of business continuity with Azure SQL Database</span></span>](/azure/sql-database/sql-database-business-continuity)

### <a name="sql-server-on-vms"></a><span data-ttu-id="0ee72-132">SQL Server auf virtuellen Computern</span><span class="sxs-lookup"><span data-stu-id="0ee72-132">SQL Server on VMs</span></span>

<span data-ttu-id="0ee72-133">Für SQL Server auf virtuellen Computern gibt es zwei Optionen: herkömmliche Sicherungen und Protokollversand.</span><span class="sxs-lookup"><span data-stu-id="0ee72-133">For SQL Server running on VMs, there are two options: traditional backups and log shipping.</span></span> <span data-ttu-id="0ee72-134">Herkömmliche Sicherungen ermöglichen die Wiederherstellung auf einen bestimmten Zeitpunkt – allerdings ist der Wiederherstellungsprozess langsam.</span><span class="sxs-lookup"><span data-stu-id="0ee72-134">Traditional backups enables you to restore to a specific point in time, but the recovery process is slow.</span></span> <span data-ttu-id="0ee72-135">Um herkömmliche Sicherungen wiederherzustellen, müssen Sie mit einer vollständigen Erstsicherung beginnen und dann alle nachfolgend durchgeführten Sicherungen anwenden.</span><span class="sxs-lookup"><span data-stu-id="0ee72-135">Restoring traditional backups requires starting with an initial full backup, and then applying any backups taken after that.</span></span> <span data-ttu-id="0ee72-136">Bei der zweiten Option wird eine Protokollversandsitzung konfiguriert, um die Wiederherstellung von Protokollsicherungen zu verzögern (beispielsweise um zwei Stunden).</span><span class="sxs-lookup"><span data-stu-id="0ee72-136">The second option is to configure a log shipping session to delay the restore of log backups (for example, by two hours).</span></span> <span data-ttu-id="0ee72-137">In dem entstandenen Zeitfenster können Fehler in der primären Datenbank behoben werden.</span><span class="sxs-lookup"><span data-stu-id="0ee72-137">This provides a window to recover from errors made on the primary.</span></span>

### <a name="azure-cosmos-db"></a><span data-ttu-id="0ee72-138">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="0ee72-138">Azure Cosmos DB</span></span>

<span data-ttu-id="0ee72-139">Azure Cosmos DB erstellt in regelmäßigen Abständen automatisch Sicherungen.</span><span class="sxs-lookup"><span data-stu-id="0ee72-139">Azure Cosmos DB automatically takes backups at regular intervals.</span></span> <span data-ttu-id="0ee72-140">Sicherungskopien werden in einem anderen Speicherdienst getrennt gespeichert, und diese Sicherungen werden zum besseren Schutz vor regionalen Ausfällen global repliziert.</span><span class="sxs-lookup"><span data-stu-id="0ee72-140">Backups are stored separately in another storage service, and those backups are globally replicated for resiliency against regional disasters.</span></span> <span data-ttu-id="0ee72-141">Falls Sie Ihre Datenbank oder -sammlung versehentlich löschen, können Sie ein Supportticket anfordern oder den Azure Support bitten, die Daten aus der letzten automatischen Sicherung wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="0ee72-141">If you accidentally delete your database or collection, you can file a support ticket or call Azure support to restore the data from the last automatic backup.</span></span> <span data-ttu-id="0ee72-142">Weitere Informationen finden Sie unter [Automatische Onlinesicherung und -wiederherstellung mit Azure Cosmos DB](/azure/cosmos-db/online-backup-and-restore).</span><span class="sxs-lookup"><span data-stu-id="0ee72-142">For more information, see [Automatic online backup and restore with Azure Cosmos DB](/azure/cosmos-db/online-backup-and-restore).</span></span>

### <a name="azure-database-for-mysql-azure-database-for-postgresql"></a><span data-ttu-id="0ee72-143">Azure Database for MySQL, Azure Database for PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="0ee72-143">Azure Database for MySQL, Azure Database for PostgreSQL</span></span>

<span data-ttu-id="0ee72-144">Bei Verwendung von Azure Database for MySQL oder Azure Database for PostgreSQL erstellt der Datenbankdienst automatisch alle fünf Minuten eine Sicherung des Diensts.</span><span class="sxs-lookup"><span data-stu-id="0ee72-144">When using Azure Database for MySQL or Azure Database for PostgreSQL, the database service automatically makes a backup of the service every five minutes.</span></span> <span data-ttu-id="0ee72-145">Mithilfe dieses automatischen Sicherungsfeatures können Sie einen früheren Zustand des Servers und aller seiner Datenbanken wiederherstellen.</span><span class="sxs-lookup"><span data-stu-id="0ee72-145">Using this automatic backup feature you may restore the server and all its databases into a new server to an earlier point-in-time.</span></span> <span data-ttu-id="0ee72-146">Weitere Informationen finden Sie unter</span><span class="sxs-lookup"><span data-stu-id="0ee72-146">For more information, see:</span></span>

- [<span data-ttu-id="0ee72-147">Sichern und Wiederherstellen eines Servers in Azure Database for MySQL mit dem Azure-Portal</span><span class="sxs-lookup"><span data-stu-id="0ee72-147">How to back up and restore a server in Azure Database for MySQL by using the Azure portal</span></span>](/azure/mysql/howto-restore-server-portal)

- [<span data-ttu-id="0ee72-148">Sichern und Wiederherstellen eines Servers in Azure Database for PostgreSQL mit dem Azure-Portal</span><span class="sxs-lookup"><span data-stu-id="0ee72-148">How to backup and restore a server in Azure Database for PostgreSQL using the Azure portal</span></span>](/azure/postgresql/howto-restore-server-portal)
