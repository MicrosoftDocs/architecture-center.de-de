---
title: Entwickeln von Resilienz und Verfügbarkeit in Azure-Anwendungen
description: Integrieren von Resilienz und Verfügbarkeit in eine Azure-Anwendung
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.openlocfilehash: ee4bb5b4a85e48fe0ff017297c31823c93a48f04
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 04/17/2019
ms.locfileid: "59642866"
---
# <a name="architecting-azure-applications-for-resiliency-and-availability"></a><span data-ttu-id="f7902-103">Entwickeln von Resilienz und Verfügbarkeit in Azure-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="f7902-103">Architecting Azure applications for resiliency and availability</span></span>

<span data-ttu-id="f7902-104">Nachdem Sie die Anforderungen für Ihre Anwendung entwickelt haben, besteht der nächste Schritt darin, Resilienz und Verfügbarkeit zu integrieren.</span><span class="sxs-lookup"><span data-stu-id="f7902-104">After you've developed the requirements for your application, the next step is to build resiliency and availability into it.</span></span> <span data-ttu-id="f7902-105">Diese Qualitäten können nicht am Ende hinzugefügt werden, sondern müssen ins Design der Architektur integriert werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-105">These qualities can't be added at the end &mdash; you must design them into the architecture.</span></span>

## <a name="conduct-a-failure-mode-analysis"></a><span data-ttu-id="f7902-106">Ausführen einer Fehlermodusanalyse</span><span class="sxs-lookup"><span data-stu-id="f7902-106">Conduct a failure mode analysis</span></span>

<span data-ttu-id="f7902-107">Durch die *Fehlermodusanalyse* (FMA) wird Resilienz in ein System integriert, indem mögliche Fehlerpunkte identifiziert werden und indem festgelegt wird, wie die Anwendung auf diese Fehler reagiert.</span><span class="sxs-lookup"><span data-stu-id="f7902-107">*Failure mode analysis* (FMA) builds resiliency into a system by identifying possible failure points and defining how the application responds to those failures.</span></span> <span data-ttu-id="f7902-108">Die Fehlermodusanalyse sollte in die Planungs- und Designphasen eingebunden werden, damit die Wiederherstellung nach einem Fehler von Anfang an in das System integriert wird.</span><span class="sxs-lookup"><span data-stu-id="f7902-108">The FMA should be part of the architecture and design phases, so failure recovery is built into the system from the beginning.</span></span> <span data-ttu-id="f7902-109">Ziele von FMA:</span><span class="sxs-lookup"><span data-stu-id="f7902-109">The goals of an FMA are to:</span></span>

- <span data-ttu-id="f7902-110">Bestimmen, welche Arten von Fehlern in einer Anwendung auftreten können und wie die Anwendung diese Fehler erkennt.</span><span class="sxs-lookup"><span data-stu-id="f7902-110">Determine what types of failures an application might experience and how the application detects those failures.</span></span>
- <span data-ttu-id="f7902-111">Erfassen der möglichen Auswirkungen der einzelnen Fehlerarten und Bestimmen, wie die App reagiert.</span><span class="sxs-lookup"><span data-stu-id="f7902-111">Capture the potential effects of each type of failure and determine how the app responds.</span></span>
- <span data-ttu-id="f7902-112">Planen der Protokollierung und Überwachung des Fehlers und Identifizieren von Wiederherstellungsstrategien.</span><span class="sxs-lookup"><span data-stu-id="f7902-112">Plan for logging and monitoring the failure and identify recovery strategies.</span></span>

<span data-ttu-id="f7902-113">Hier finden Sie einige Beispiele für Fehlerzustände und Erkennungsstrategien für einen bestimmten Fehlerpunkt (Aufruf eines externen Webdiensts):</span><span class="sxs-lookup"><span data-stu-id="f7902-113">Here are some examples of failure modes and detection strategies for a specific failure point &mdash; a call to an external web service:</span></span>

| <span data-ttu-id="f7902-114">Fehlermodus</span><span class="sxs-lookup"><span data-stu-id="f7902-114">Failure mode</span></span>           | <span data-ttu-id="f7902-115">Erkennungsstrategie</span><span class="sxs-lookup"><span data-stu-id="f7902-115">Detection strategy</span></span>           |
|------------------------|------------------------------|
| <span data-ttu-id="f7902-116">Dienst nicht verfügbar</span><span class="sxs-lookup"><span data-stu-id="f7902-116">Service is unavailable</span></span> | <span data-ttu-id="f7902-117">HTTP 5xx</span><span class="sxs-lookup"><span data-stu-id="f7902-117">HTTP 5xx</span></span>                     |
| <span data-ttu-id="f7902-118">Drosselung</span><span class="sxs-lookup"><span data-stu-id="f7902-118">Throttling</span></span>             | <span data-ttu-id="f7902-119">HTTP 429 (Zu viele Anforderungen)</span><span class="sxs-lookup"><span data-stu-id="f7902-119">HTTP 429 (Too Many Requests)</span></span> |
| <span data-ttu-id="f7902-120">Authentication</span><span class="sxs-lookup"><span data-stu-id="f7902-120">Authentication</span></span>         | <span data-ttu-id="f7902-121">HTTP 401 (Nicht autorisiert)</span><span class="sxs-lookup"><span data-stu-id="f7902-121">HTTP 401 (Unauthorized)</span></span>      |
| <span data-ttu-id="f7902-122">Langsame Reaktion</span><span class="sxs-lookup"><span data-stu-id="f7902-122">Slow response</span></span>          | <span data-ttu-id="f7902-123">Timeout der Anforderung</span><span class="sxs-lookup"><span data-stu-id="f7902-123">Request times out</span></span>            |

<span data-ttu-id="f7902-124">Weitere Informationen zum FMA-Prozess mit spezifischen Empfehlungen für Azure finden Sie unter [Fehlermodusanalyse](../resiliency/failure-mode-analysis.md).</span><span class="sxs-lookup"><span data-stu-id="f7902-124">For more information about the FMA process, with specific recommendations for Azure, see [Failure mode analysis](../resiliency/failure-mode-analysis.md).</span></span>

## <a name="plan-for-redundancy"></a><span data-ttu-id="f7902-125">Planen von Redundanz</span><span class="sxs-lookup"><span data-stu-id="f7902-125">Plan for redundancy</span></span>

<span data-ttu-id="f7902-126">Der Umfang und die Auswirkungen von Fehlern variieren.</span><span class="sxs-lookup"><span data-stu-id="f7902-126">Failures vary in scope of impact.</span></span> <span data-ttu-id="f7902-127">Einige Hardwarefehler, z.B. ein ausgefallener Datenträger, wirken sich nur auf einen einzelnen Hostcomputer aus.</span><span class="sxs-lookup"><span data-stu-id="f7902-127">Some hardware failures, such as a failed disk, affect a single host machine.</span></span> <span data-ttu-id="f7902-128">Ein fehlerhafter Netzwerkswitch kann sich auf ein gesamtes Serverrack auswirken.</span><span class="sxs-lookup"><span data-stu-id="f7902-128">A failed network switch could affect an entire server rack.</span></span> <span data-ttu-id="f7902-129">Weniger häufige Fehler, z.B. ein Stromausfall, führen zu einer Unterbrechung eines gesamten Rechenzentrums.</span><span class="sxs-lookup"><span data-stu-id="f7902-129">Less common failures, such as loss of power, disrupt a whole datacenter.</span></span> <span data-ttu-id="f7902-130">In selten Fällen kommt es vor, dass eine gesamte Region nicht mehr verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="f7902-130">Rarely, an entire region becomes unavailable.</span></span>

<span data-ttu-id="f7902-131">Redundanz ist eine Möglichkeit, eine Anwendung resilient zu machen.</span><span class="sxs-lookup"><span data-stu-id="f7902-131">Redundancy is one way to make an application resilient.</span></span> <span data-ttu-id="f7902-132">Der Redundanzgrad richtet sich nach Ihren Geschäftsanforderungen – nicht für jede Anwendung ist eine regionsübergreifende Redundanz als Schutz vor einem regionalen Ausfall erforderlich.</span><span class="sxs-lookup"><span data-stu-id="f7902-132">The level of redundancy depends on your business requirements &mdash; not every application needs redundancy across regions to guard against a regional outage.</span></span> <span data-ttu-id="f7902-133">In der Regel muss ein Kompromiss zwischen höherer Redundanz und Zuverlässigkeit und einer höheren Kostensumme und Komplexität gefunden werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-133">In general, there's a tradeoff between greater redundancy and reliability versus higher costs and complexity.</span></span>

### <a name="review-azure-redundancy-features"></a><span data-ttu-id="f7902-134">Azure-Redundanzfeatures</span><span class="sxs-lookup"><span data-stu-id="f7902-134">Review Azure redundancy features</span></span>

<span data-ttu-id="f7902-135">Azure verfügt über eine Reihe von Redundanzfeatures für alle Fehlerebenen – von einem einzelnen virtuellen Computer (VM) bis hin zu einer gesamten Region.</span><span class="sxs-lookup"><span data-stu-id="f7902-135">Azure has a number of redundancy features at every level of failure, from an individual virtual machine (VM) to an entire region.</span></span>

- <span data-ttu-id="f7902-136">**Einzelne VMs** verfügen über eine von Azure bereitgestellte [Vereinbarung zum Servicelevel (SLA) bezüglich der Betriebszeit](https://azure.microsoft.com/support/legal/sla/virtual-machines).</span><span class="sxs-lookup"><span data-stu-id="f7902-136">**Single VMs** have an [uptime service level agreement (SLA)](https://azure.microsoft.com/support/legal/sla/virtual-machines) provided by Azure.</span></span> <span data-ttu-id="f7902-137">(Der virtuelle Computer muss Storage Premium für alle Betriebssystem-Datenträger und Datenträger verwenden.) Sie können zwar einen höheren SLA-Grad erzielen, indem Sie zwei oder mehr VMs ausführen, aber für einige Workloads kann eine einzelne VM zuverlässig genug sein.</span><span class="sxs-lookup"><span data-stu-id="f7902-137">(The VM must use premium storage for all operating system disks and data disks.) Although you can get a higher SLA by running two or more VMs, a single VM may be reliable enough for some workloads.</span></span> <span data-ttu-id="f7902-138">Für Produktionsworkloads empfehlen wir jedoch aus Redundanzgründen die Verwendung von mindestens zwei virtuellen Computern.</span><span class="sxs-lookup"><span data-stu-id="f7902-138">For production workloads, however, we recommend using two or more VMs for redundancy.</span></span>
- <span data-ttu-id="f7902-139">**Verfügbarkeitsgruppen** schützen vor lokalen Hardwarefehlern, z.B. ein Ausfall eines Datenträgers oder Netzwerkswitchs.</span><span class="sxs-lookup"><span data-stu-id="f7902-139">**Availability sets** protect against localized hardware failures, such as a disk or network switch failing.</span></span> <span data-ttu-id="f7902-140">VMs in einer Verfügbarkeitsgruppe sind auf bis zu drei *Fehlerdomänen* verteilt.</span><span class="sxs-lookup"><span data-stu-id="f7902-140">VMs in an availability set are distributed across up to three *fault domains*.</span></span> <span data-ttu-id="f7902-141">Eine Fehlerdomäne definiert eine Gruppe virtueller Computer, die eine Stromquelle und einen Netzwerkswitch gemeinsam nutzen.</span><span class="sxs-lookup"><span data-stu-id="f7902-141">A fault domains defines a group of VMs that share a common power source and network switch.</span></span> <span data-ttu-id="f7902-142">Wenn ein Hardwareausfall eine Fehlerdomäne betrifft, wird der Netzwerkdatenverkehr an VMs in den anderen Fehlerdomänen weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="f7902-142">If a hardware failure affects one fault domain, network traffic is routed to VMs in the other fault domains.</span></span> <span data-ttu-id="f7902-143">Weitere Informationen zu Verfügbarkeitsgruppen finden Sie unter [Verwalten der Verfügbarkeit virtueller Windows-Computer in Azure](/azure/virtual-machines/windows/manage-availability).</span><span class="sxs-lookup"><span data-stu-id="f7902-143">For more information about availability sets, see [Manage the availability of Windows virtual machines in Azure](/azure/virtual-machines/windows/manage-availability).</span></span>
- <span data-ttu-id="f7902-144">**Verfügbarkeitszonen** sind physisch getrennte Zonen in einer Azure-Region.</span><span class="sxs-lookup"><span data-stu-id="f7902-144">**Availability Zones** are physically separate zones within an Azure region.</span></span> <span data-ttu-id="f7902-145">Jede Verfügbarkeitszone verfügt über eine eigene Stromquelle, ein Netzwerk und eine Kühlung.</span><span class="sxs-lookup"><span data-stu-id="f7902-145">Each Availability Zone has a distinct power source, network, and cooling.</span></span> <span data-ttu-id="f7902-146">Die Bereitstellung von VMs über Verfügbarkeitszonen hinweg dient dem Schutz einer Anwendung vor Ausfällen, die ein gesamtes Rechenzentrum betreffen.</span><span class="sxs-lookup"><span data-stu-id="f7902-146">Deploying VMs across Availability Zones helps to protect an application against datacenter-wide failures.</span></span> <span data-ttu-id="f7902-147">Nicht alle Regionen unterstützen Verfügbarkeitszonen.</span><span class="sxs-lookup"><span data-stu-id="f7902-147">Not all regions support Availability Zones.</span></span> <span data-ttu-id="f7902-148">Eine Liste der unterstützten Regionen und Dienste finden Sie unter [Was sind Verfügbarkeitszonen in Azure?](/azure/availability-zones/az-overview)</span><span class="sxs-lookup"><span data-stu-id="f7902-148">For a list of supported regions and services, see [What are Availability Zones in Azure?](/azure/availability-zones/az-overview).</span></span>

    <span data-ttu-id="f7902-149">Wenn Sie Verfügbarkeitszonen in Ihrer Bereitstellung verwenden möchten, vergewissern Sie sich zuerst, dass Ihre Anwendungsarchitektur und Codebasis diese Konfiguration unterstützen.</span><span class="sxs-lookup"><span data-stu-id="f7902-149">If you plan to use Availability Zones in your deployment, first validate that your application architecture and codebase support this configuration.</span></span> <span data-ttu-id="f7902-150">Wenn Sie kommerzielle Software bereitstellen, wenden Sie sich an den Softwareanbieter und führen Sie angemessene Tests durch, bevor Sie in der Produktionsumgebung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="f7902-150">If you deploy commercial software, consult with the software vendor and test adequately before deploying into production.</span></span> <span data-ttu-id="f7902-151">Eine Anwendung muss während eines Ausfalls innerhalb der konfigurierten Zone einen Zustand beibehalten und Datenverluste verhindern.</span><span class="sxs-lookup"><span data-stu-id="f7902-151">An application must maintain state and prevent loss of data during an outage within the configured zone.</span></span> <span data-ttu-id="f7902-152">Die Anwendung muss die Ausführung in einer elastischen und verteilten Infrastruktur ohne hartcodierte Infrastrukturkomponenten unterstützen.</span><span class="sxs-lookup"><span data-stu-id="f7902-152">The application must support running in an elastic and distributed infrastructure with no hard-coded infrastructure components.</span></span>
- <span data-ttu-id="f7902-153">**Azure Site Recovery** repliziert virtuelle Azure-Computer in einer anderen Azure-Region, um Business Continuity- und Disaster Recovery-Anforderungen (BC und DR) zu erfüllen.</span><span class="sxs-lookup"><span data-stu-id="f7902-153">**Azure Site Recovery** replicates Azure Virtual Machines to another Azure region for business continuity (BC) and disaster recovery (DR) needs.</span></span> <span data-ttu-id="f7902-154">Sie können regelmäßige DR-Drills ausführen, um sicherzustellen, dass die Complianceanforderungen erfüllt werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-154">You can conduct periodic DR drills to ensure that you meet the compliance needs.</span></span> <span data-ttu-id="f7902-155">Der virtuelle Computer wird mit den angegebenen Einstellungen in der ausgewählten Region repliziert, sodass Sie Ihre Anwendungen bei Ausfällen in der Quellregion wiederherstellen können.</span><span class="sxs-lookup"><span data-stu-id="f7902-155">The VM is replicated with the specified settings to the selected region so you can recover your applications in the event of outages in the source region.</span></span> <span data-ttu-id="f7902-156">Weitere Informationen finden Sie unter [Einrichten der Notfallwiederherstellung in einer sekundären Azure-Region für einen virtuellen Azure-Computer](/azure/site-recovery/azure-to-azure-quickstart/).</span><span class="sxs-lookup"><span data-stu-id="f7902-156">For more information, see [Set up disaster recovery to a secondary Azure region for an Azure VM](/azure/site-recovery/azure-to-azure-quickstart/).</span></span>

    <span data-ttu-id="f7902-157">Vergewissern Sie sich während der Testphase, dass *Recovery Time Objective* (RTO) und *Recovery Point Objective* (RPO) Ihre Anforderungen erfüllen.</span><span class="sxs-lookup"><span data-stu-id="f7902-157">During testing, verify that the *recovery time objective* (RTO) and *recovery point objective* (RPO) meet your needs.</span></span> <span data-ttu-id="f7902-158">RTO ist die maximale Zeit, die eine Anwendung nach einem Vorfall nicht verfügbar ist, und RPO ist die maximale Dauer des Datenverlusts während eines Notfalls.</span><span class="sxs-lookup"><span data-stu-id="f7902-158">RTO is the maximum time an application is unavailable after an incident, and RPO is the maximum duration of data loss during a disaster.</span></span>
- <span data-ttu-id="f7902-159">**Regionspaare** werden erstellt unter Verwendung von Azure Traffic Manager erstellt, um Internetdatenverkehr auf verschiedene Regionen zu verteilen und eine Anwendung so vor einem regionalen Ausfall zu schützen.</span><span class="sxs-lookup"><span data-stu-id="f7902-159">**Paired regions** are created using Azure Traffic Manager to distribute Internet traffic to different regions, protecting an application against a regional outage.</span></span> <span data-ttu-id="f7902-160">Jede Azure-Region ist mit einer anderen Region gekoppelt.</span><span class="sxs-lookup"><span data-stu-id="f7902-160">Each Azure region is paired with another region.</span></span> <span data-ttu-id="f7902-161">Zusammen bilden diese Regionen ein [*Regionspaar*](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="f7902-161">Together, these regions form a [*regional pair*](/azure/best-practices-availability-paired-regions).</span></span> <span data-ttu-id="f7902-162">Um steuerliche und rechtliche Anforderungen an den Speicherort von Daten zu erfüllen, befinden sich die Regionen der Regionspaare immer innerhalb des gleichen geografischen Gebiets (mit Ausnahme von „Brasilien, Süden“).</span><span class="sxs-lookup"><span data-stu-id="f7902-162">To meet data residency requirements for tax and law enforcement jurisdiction purposes, regional pairs are located within the same geography (with the exception of Brazil South).</span></span>

    <span data-ttu-id="f7902-163">Um die Anwendungsresilienz zu verbessern, werden Plattformupdates (geplante Wartung) für Regionspaare von Azure so serialisiert, dass immer nur jeweils eine Region pro Paar aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="f7902-163">To improve application resiliency, Azure serializes platform updates (planned maintenance) across each region pair, so only one paired region is updated at a time.</span></span>
- <span data-ttu-id="f7902-164">Berücksichtigen Sie beim Entwerfen einer Anwendung für mehrere Regionen, dass die Netzwerklatenz für mehrere Regionen höher als innerhalb einer Region ist.</span><span class="sxs-lookup"><span data-stu-id="f7902-164">When you design a multiregion application, take into account that network latency across regions is higher than within a region.</span></span> <span data-ttu-id="f7902-165">Wenn Sie beispielsweise eine Datenbank replizieren, um das Failover zu ermöglichen, sollten Sie die synchrone Datenreplikation innerhalb einer Region und die asynchrone Datenreplikation für mehrere Regionen verwenden.</span><span class="sxs-lookup"><span data-stu-id="f7902-165">For example, if you replicate a database to enable failover, use synchronous data replication within a region but asynchronous data replication across regions.</span></span>

<span data-ttu-id="f7902-166">Die folgende Tabelle vergleicht die Redundanzfaktoren verschiedener Resilienzstrategien:</span><span class="sxs-lookup"><span data-stu-id="f7902-166">The following table compares the redundancy factors across several resiliency strategies:</span></span>

| &nbsp; | <span data-ttu-id="f7902-167">Verfügbarkeitsgruppe</span><span class="sxs-lookup"><span data-stu-id="f7902-167">Availability set</span></span> | <span data-ttu-id="f7902-168">Verfügbarkeitszone</span><span class="sxs-lookup"><span data-stu-id="f7902-168">Availability Zone</span></span> | <span data-ttu-id="f7902-169">Azure Site Recovery/Gekoppelte Region</span><span class="sxs-lookup"><span data-stu-id="f7902-169">Azure Site Recovery/Paired region</span></span> |
|--------|------------------|-------------------|-----------------------------------|
| <span data-ttu-id="f7902-170">Fehlerumfang</span><span class="sxs-lookup"><span data-stu-id="f7902-170">Scope of failure</span></span> | <span data-ttu-id="f7902-171">Rack</span><span class="sxs-lookup"><span data-stu-id="f7902-171">Rack</span></span>                  | <span data-ttu-id="f7902-172">Datacenter</span><span class="sxs-lookup"><span data-stu-id="f7902-172">Datacenter</span></span>               | <span data-ttu-id="f7902-173">Region</span><span class="sxs-lookup"><span data-stu-id="f7902-173">Region</span></span>                               |
| <span data-ttu-id="f7902-174">Routinganforderung</span><span class="sxs-lookup"><span data-stu-id="f7902-174">Request routing</span></span>  | <span data-ttu-id="f7902-175">Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="f7902-175">Azure Load Balancer</span></span>   | <span data-ttu-id="f7902-176">Zonenübergreifender Lastenausgleich</span><span class="sxs-lookup"><span data-stu-id="f7902-176">Cross-zone Load Balancer</span></span> | <span data-ttu-id="f7902-177">Azure Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="f7902-177">Azure Traffic Manager</span></span>                |
| <span data-ttu-id="f7902-178">Netzwerklatenz</span><span class="sxs-lookup"><span data-stu-id="f7902-178">Network latency</span></span>  | <span data-ttu-id="f7902-179">Sehr niedrig</span><span class="sxs-lookup"><span data-stu-id="f7902-179">Very low</span></span>              | <span data-ttu-id="f7902-180">Niedrig</span><span class="sxs-lookup"><span data-stu-id="f7902-180">Low</span></span>                      | <span data-ttu-id="f7902-181">Mittel bis hoch</span><span class="sxs-lookup"><span data-stu-id="f7902-181">Mid to high</span></span>                          |
| <span data-ttu-id="f7902-182">Virtuelles Netzwerk</span><span class="sxs-lookup"><span data-stu-id="f7902-182">Virtual network</span></span>  | <span data-ttu-id="f7902-183">Virtuelles Azure-Netzwerk</span><span class="sxs-lookup"><span data-stu-id="f7902-183">Azure Virtual Network</span></span> | <span data-ttu-id="f7902-184">Virtuelles Azure-Netzwerk</span><span class="sxs-lookup"><span data-stu-id="f7902-184">Azure Virtual Network</span></span>          | <span data-ttu-id="f7902-185">Regionsübergreifendes Peering in virtuellen Azure-Netzwerken</span><span class="sxs-lookup"><span data-stu-id="f7902-185">Cross-region Virtual Network peering</span></span> |

### <a name="complete-azure-redundancy-tasks"></a><span data-ttu-id="f7902-186">Abschließen von Azure-Redundanzaufgaben</span><span class="sxs-lookup"><span data-stu-id="f7902-186">Complete Azure redundancy tasks</span></span>

<span data-ttu-id="f7902-187">Verwenden Sie die folgenden Aufgaben, um Redundanzanforderungen zu erfüllen:</span><span class="sxs-lookup"><span data-stu-id="f7902-187">Use the following tasks to meet redundancy requirements:</span></span>

- <span data-ttu-id="f7902-188">**Stellen Sie mehrere Instanzen von Diensten bereit.**</span><span class="sxs-lookup"><span data-stu-id="f7902-188">**Deploy multiple instances of services.**</span></span> <span data-ttu-id="f7902-189">Wenn Ihre Anwendung von einer einzelnen Instanz eines Diensts abhängig ist, entsteht dadurch ein Single Point of Failure.</span><span class="sxs-lookup"><span data-stu-id="f7902-189">If your application depends on a single instance of a service, it creates a single point of failure.</span></span> <span data-ttu-id="f7902-190">Durch die Bereitstellung von mehreren Instanzen werden Resilienz und Skalierbarkeit verbessert.</span><span class="sxs-lookup"><span data-stu-id="f7902-190">Provisioning multiple instances improves both resiliency and scalability.</span></span> <span data-ttu-id="f7902-191">Wählen Sie für [Azure App Service](/azure/app-service/app-service-value-prop-what-is/) einen [App Service-Plan](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) aus, der mehrere Instanzen bietet.</span><span class="sxs-lookup"><span data-stu-id="f7902-191">For [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), select an [App Service plan](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) that offers multiple instances.</span></span> <span data-ttu-id="f7902-192">Stellen Sie für [Azure-VMs](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) sicher, dass Ihre Architektur mehr als eine VM enthält und dass jede VM zu einer [Verfügbarkeitsgruppe](/azure/virtual-machines/virtual-machines-windows-manage-availability/) gehört.</span><span class="sxs-lookup"><span data-stu-id="f7902-192">For [Azure Virtual Machines](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), ensure that your architecture has more than one VM and that each VM is included in an [availability set](/azure/virtual-machines/virtual-machines-windows-manage-availability/).</span></span>

- <span data-ttu-id="f7902-193">**Replizieren Sie virtuelle Computer mithilfe von Azure Site Recovery.**</span><span class="sxs-lookup"><span data-stu-id="f7902-193">**Replicate VMs using Azure Site Recovery.**</span></span> <span data-ttu-id="f7902-194">Wenn Sie virtuelle Azure-Computer mit [Site Recovery](/azure/site-recovery/) replizieren, werden kontinuierlich alle VM-Datenträger asynchron in der Zielregion repliziert.</span><span class="sxs-lookup"><span data-stu-id="f7902-194">When you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="f7902-195">Die Wiederherstellungspunkte werden alle paar Minuten erstellt, wodurch eine RPO von wenigen Minuten erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="f7902-195">The recovery points are created every few minutes, giving an RPO on the order of minutes.</span></span>

- <span data-ttu-id="f7902-196">**Erwägen Sie die Bereitstellung Ihrer Anwendung in mehreren Regionen.**</span><span class="sxs-lookup"><span data-stu-id="f7902-196">**Consider deploying your application across multiple regions.**</span></span> <span data-ttu-id="f7902-197">Wenn Ihre Anwendung in einer einzelnen Region bereitgestellt wird, ist Ihre Anwendung nicht mehr verfügbar, falls die gesamte Region ausfällt.</span><span class="sxs-lookup"><span data-stu-id="f7902-197">If your application is deployed to a single region, and the region becomes unavailable, your application will also be unavailable.</span></span> <span data-ttu-id="f7902-198">Dies kann unter den Bestimmungen der SLA für Ihre Anwendung nicht akzeptabel sein.</span><span class="sxs-lookup"><span data-stu-id="f7902-198">This may be unacceptable under the terms of your application's SLA.</span></span> <span data-ttu-id="f7902-199">Wenn dies der Fall ist, erwägen Sie die Bereitstellung Ihrer Anwendung und der zugehörigen Dienste in mehreren Regionen.</span><span class="sxs-lookup"><span data-stu-id="f7902-199">If so, consider deploying your application and its services across multiple regions.</span></span> <span data-ttu-id="f7902-200">Eine Bereitstellung in mehreren Regionen kann eine *Aktiv/Aktiv*- oder *Aktiv/Passiv*-Konfiguration verwenden.</span><span class="sxs-lookup"><span data-stu-id="f7902-200">A multiregion deployment can use an *active-active* or *active-passive* configuration.</span></span> <span data-ttu-id="f7902-201">Bei einer Aktiv/Aktiv-Konfiguration werden Anforderungen auf mehrere aktive Regionen verteilt.</span><span class="sxs-lookup"><span data-stu-id="f7902-201">An active-active configuration distributes requests across multiple active regions.</span></span> <span data-ttu-id="f7902-202">Bei einer Aktiv/Passiv-Konfiguration werden betriebsbereite Instanzen in der sekundären Region bereitgehalten, es wird aber kein Datenverkehr dorthin gesendet, es sei denn, in der primären Region tritt ein Fehler auf.</span><span class="sxs-lookup"><span data-stu-id="f7902-202">An active-passive configuration keeps warm instances in the secondary region, but doesn't send traffic there unless the primary region fails.</span></span> <span data-ttu-id="f7902-203">Für die Bereitstellungen in mehreren Regionen wird die Bereitstellung in Regionspaaren empfohlen, wie oben beschrieben.</span><span class="sxs-lookup"><span data-stu-id="f7902-203">For multiregion deployments, we recommend deploying to paired regions, described above.</span></span> <span data-ttu-id="f7902-204">Weitere Informationen finden Sie unter [Geschäftskontinuität und Notfallwiederherstellung: Azure-Regionspaare](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="f7902-204">For more information, see [Business continuity and disaster recovery (BCDR): Azure Paired Regions](/azure/best-practices-availability-paired-regions).</span></span>

- <span data-ttu-id="f7902-205">**Verwenden Sie Azure Traffic Manager zum Weiterleiten des Datenverkehrs für Ihre Anwendung an verschiedene Regionen.**</span><span class="sxs-lookup"><span data-stu-id="f7902-205">**Use Azure Traffic Manager to route your application's traffic to different regions.**</span></span> <span data-ttu-id="f7902-206">[Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview/) führt den Lastenausgleich auf DNS-Ebene durch und leitet den Datenverkehr an verschiedene Regionen weiter. Die Weiterleitung basiert auf der Methode für das [Datenverkehrrouting](/azure/traffic-manager/traffic-manager-routing-methods/) und der Integrität der Endpunkte Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="f7902-206">[Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview/) performs load-balancing at the DNS level and routes traffic to different regions based on the [traffic routing](/azure/traffic-manager/traffic-manager-routing-methods/) method and the health of your application's endpoints.</span></span> <span data-ttu-id="f7902-207">Ohne Traffic Manager ist Ihre Bereitstellung auf eine Region beschränkt. Dadurch wird die Skalierung eingeschränkt und die Latenz für einige Benutzer erhöht. Zudem entstehen Ausfallzeiten der Anwendung, falls in der gesamten Region der Dienst unterbrochen wird.</span><span class="sxs-lookup"><span data-stu-id="f7902-207">Without Traffic Manager, you are limited to a single region for your deployment, which constrains scale, increases latency for some users, and causes application downtime, in the case of a region-wide service disruption.</span></span>

- <span data-ttu-id="f7902-208">**Konfigurieren Sie Azure Application Gateway für die Verwendung mehrerer Instanzen.**</span><span class="sxs-lookup"><span data-stu-id="f7902-208">**Configure Azure Application Gateway to use multiple instances.**</span></span> <span data-ttu-id="f7902-209">Abhängig von den Anforderungen Ihrer Anwendung kann [Azure Application Gateway](/azure/application-gateway/application-gateway-introduction/) für die Verteilung von Anforderungen an die Dienste der Anwendung besser geeignet sein.</span><span class="sxs-lookup"><span data-stu-id="f7902-209">Depending on your application's requirements, an [Azure Application Gateway](/azure/application-gateway/application-gateway-introduction/) may be better suited to distributing requests to your application's services.</span></span> <span data-ttu-id="f7902-210">Allerdings sind einzelne Instanzen des Application Gateway-Diensts nicht durch einen SLA garantiert. Daher ist es möglich, dass bei einem Ausfall der Application Gateway-Instanz die Anwendung ausfällt.</span><span class="sxs-lookup"><span data-stu-id="f7902-210">However, single instances of the Application Gateway service are not guaranteed by an SLA, so it's possible that your application could fail if the Application Gateway instance fails.</span></span> <span data-ttu-id="f7902-211">Stellen Sie mehr als eine mittlere oder größere Instanz bereit, um die Verfügbarkeit des Diensts gemäß den Bedingungen der [SLA für Application Gateway](https://azure.microsoft.com/support/legal/sla/application-gateway/) zu gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="f7902-211">Provision more than one medium or larger instance to guarantee availability of the service under the terms of the [Application Gateway SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/).</span></span>

## <a name="design-for-scalability"></a><span data-ttu-id="f7902-212">Skalierbarkeitsorientiertes Design</span><span class="sxs-lookup"><span data-stu-id="f7902-212">Design for scalability</span></span>

<span data-ttu-id="f7902-213">*Skalierbarkeit* ist die Fähigkeit eines Systems, zunehmende Lasten zu bewältigen, und gehört zu den [Säulen der Softwarequalität](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="f7902-213">*Scalability* is the ability of a system to handle increased load and is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="f7902-214">Skalierbarkeitsaufgaben während der Phase der Architekturerstellung:</span><span class="sxs-lookup"><span data-stu-id="f7902-214">Scalability tasks during the architecting phase include:</span></span>

- <span data-ttu-id="f7902-215">**Partitionieren Sie die Workloads.**</span><span class="sxs-lookup"><span data-stu-id="f7902-215">**Partition workloads.**</span></span> <span data-ttu-id="f7902-216">Entwickeln Sie Teile des Prozesses als diskret und zerlegbar.</span><span class="sxs-lookup"><span data-stu-id="f7902-216">Design parts of the process to be discrete and decomposable.</span></span> <span data-ttu-id="f7902-217">Minimieren Sie die Größe der einzelnen Teile.</span><span class="sxs-lookup"><span data-stu-id="f7902-217">Minimize the size of each part.</span></span> <span data-ttu-id="f7902-218">Dadurch können Komponententeile auf eine Weise verteilt werden, die die Verwendung jeder Compute-Einheit maximiert.</span><span class="sxs-lookup"><span data-stu-id="f7902-218">This allows the component parts to be distributed in a way that maximizes use of each compute unit.</span></span> <span data-ttu-id="f7902-219">Es erleichtert auch die Skalierung der Anwendung, indem Sie Instanzen bestimmter Ressourcen hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="f7902-219">It also makes it easier to scale the application by adding instances of specific resources.</span></span> <span data-ttu-id="f7902-220">Erwägen Sie für komplexe Domänen die Einführung einer [Microservices-Architektur](../guide/architecture-styles/microservices.md).</span><span class="sxs-lookup"><span data-stu-id="f7902-220">For complex domains, consider adopting a [microservices architecture](../guide/architecture-styles/microservices.md).</span></span>
- <span data-ttu-id="f7902-221">**Berücksichtigen Sie Skalierung beim Entwurf.**</span><span class="sxs-lookup"><span data-stu-id="f7902-221">**Design for scaling.**</span></span> <span data-ttu-id="f7902-222">Skalierung ermöglicht es Anwendungen, auf veränderbare Last zu reagieren, indem sie die Anzahl der Instanzen der Rollen, Warteschlangen und andere Dienste erhöhen und verringern.</span><span class="sxs-lookup"><span data-stu-id="f7902-222">Scaling allows applications to react to variable load by increasing and decreasing the number of instances of roles, queues, and other services.</span></span> <span data-ttu-id="f7902-223">Die Anwendung muss jedoch zu diesem Zweck entworfen werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-223">However, the application must be designed with this in mind.</span></span> <span data-ttu-id="f7902-224">Die Anwendung und die verwendeten Dienste müssen z. B. statusfrei sein, damit Anforderungen an eine beliebige Instanz weitergeleitet werden können.</span><span class="sxs-lookup"><span data-stu-id="f7902-224">For example, the application and the services it uses must be stateless to allow requests to be routed to any instance.</span></span> <span data-ttu-id="f7902-225">Zustandslose Dienste zu verwendet, bedeutet auch, dass das Hinzufügen oder Entfernen einer Instanz keine negativen Auswirkungen auf aktuelle Benutzer hat.</span><span class="sxs-lookup"><span data-stu-id="f7902-225">Having stateless services also means that adding or removing an instance does not adversely impact current users.</span></span>
- <span data-ttu-id="f7902-226">**Planen Sie Wachstum mit Skalierungseinheiten ein.**</span><span class="sxs-lookup"><span data-stu-id="f7902-226">**Plan for growth with scale units.**</span></span> <span data-ttu-id="f7902-227">Sie sollten für jede Ressource die oberen Skalierungsgrenzen kennen und Sharding oder Zerlegung verwenden, um über diese Grenzen hinausgehen.</span><span class="sxs-lookup"><span data-stu-id="f7902-227">For each resource, know the upper scaling limits, and use sharding or decomposition to go beyond those limits.</span></span> <span data-ttu-id="f7902-228">Entwerfen Sie die Anwendung so, dass sie einfach skaliert wird, indem Sie eine oder mehrere Skalierungseinheiten hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="f7902-228">Design the application so that it's easily scaled by adding one or more scale units.</span></span> <span data-ttu-id="f7902-229">Bestimmen der Skalierungseinheiten für das System im Hinblick auf klar definierte Ressourcensätze.</span><span class="sxs-lookup"><span data-stu-id="f7902-229">Determine the scale units for the system in terms of well-defined sets of resources.</span></span> <span data-ttu-id="f7902-230">Dadurch ist die Anwendung der horizontalen Skalierung einfacher und weniger anfällig für negative Auswirkungen, die durch den Mangel an Ressourcen in einem Teil des gesamten Systems verursacht werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-230">This makes applying scale-out operations easier and less prone to negative impact caused by a lack of resources in some part of the overall system.</span></span> <span data-ttu-id="f7902-231">Zum Beispiel kann das Hinzufügen von *x* Front-End-VMs möglicherweise *y* zusätzliche Warteschlangen und *z* Speicherkonten erforderlich machen, um die zusätzliche Workload zu bewältigen.</span><span class="sxs-lookup"><span data-stu-id="f7902-231">For example, adding *X* number of front-end VMs might require *Y* number of additional queues and *Z* number of storage accounts to handle the additional workload.</span></span> <span data-ttu-id="f7902-232">Eine Skalierungseinheit kann somit aus *x* VM-Instanzen, *y* Warteschlangen und *z* Speicherkonten bestehen.</span><span class="sxs-lookup"><span data-stu-id="f7902-232">So a scale unit could consist of *X* VM instances, *Y* queues, and *Z* storage accounts.</span></span>
- <span data-ttu-id="f7902-233">**Vermeiden Sie Clientaffinität.**</span><span class="sxs-lookup"><span data-stu-id="f7902-233">**Avoid client affinity.**</span></span> <span data-ttu-id="f7902-234">Stellen Sie wenn möglich sicher, dass für die Anwendung keine Affinität erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="f7902-234">Where possible, ensure that the application doesn't require affinity.</span></span> <span data-ttu-id="f7902-235">Anforderungen können dann an eine beliebige Instanz weitergeleitet werden, und die Anzahl der Instanzen ist irrelevant.</span><span class="sxs-lookup"><span data-stu-id="f7902-235">Requests can then be routed to any instance, and the number of instances is irrelevant.</span></span> <span data-ttu-id="f7902-236">Dies verhindert auch den Aufwand für das Speichern, Abrufen und Verwalten von Zustandsinformationen für jeden einzelnen Benutzer.</span><span class="sxs-lookup"><span data-stu-id="f7902-236">This also avoids the overhead of storing, retrieving, and maintaining state information for each user.</span></span>
- <span data-ttu-id="f7902-237">**Nutzen Sie Features der automatischen Plattformskalierung.**</span><span class="sxs-lookup"><span data-stu-id="f7902-237">**Take advantage of platform autoscaling features.**</span></span> <span data-ttu-id="f7902-238">Verwenden Sie nach Möglichkeit integrierte Autoskalierungsfeatures anstelle von benutzerdefinierten Mechanismen oder Mechanismen von Drittanbietern.</span><span class="sxs-lookup"><span data-stu-id="f7902-238">Use built-in autoscaling features when possible, rather than custom or third-party mechanisms.</span></span> <span data-ttu-id="f7902-239">Verwenden Sie wo möglich geplante Skalierungsregeln, um sicherzustellen, dass die Ressourcen ohne Startverzögerung zur Verfügung stehen. Fügen Sie jedoch automatische reaktive Skalierungsregeln hinzu, um gegebenenfalls unerwartete Änderungen der Nachfrage zu bewältigen.</span><span class="sxs-lookup"><span data-stu-id="f7902-239">Use scheduled scaling rules, where possible, to ensure that resources are available without a startup delay, but add reactive autoscaling to the rules, where appropriate, to cope with unexpected changes in demand.</span></span> <span data-ttu-id="f7902-240">Weitere Informationen finden Sie im [Leitfaden für die automatische Skalierung](../best-practices/auto-scaling.md).</span><span class="sxs-lookup"><span data-stu-id="f7902-240">For more information, see [Autoscaling guidance](../best-practices/auto-scaling.md).</span></span>  

  <span data-ttu-id="f7902-241">Wenn Ihre Anwendung nicht so konfiguriert ist, dass sie beim Anstieg der Last automatisch horizontal hochskaliert wird, ist es möglich, dass Dienste der Anwendung fehlschlagen, wenn zu viele Benutzeranforderungen auftreten.</span><span class="sxs-lookup"><span data-stu-id="f7902-241">If your application isn't configured to scale out automatically as load increases, it's possible that your application's services will fail if they become saturated with user requests.</span></span> <span data-ttu-id="f7902-242">Weitere Informationen finden Sie in den folgenden Artikeln:</span><span class="sxs-lookup"><span data-stu-id="f7902-242">For more information, see the following articles:</span></span>

  - <span data-ttu-id="f7902-243">Allgemeines: [Checkliste für Skalierbarkeit](../checklist/scalability.md)</span><span class="sxs-lookup"><span data-stu-id="f7902-243">General: [Scalability checklist](../checklist/scalability.md)</span></span>
  - <span data-ttu-id="f7902-244">Azure App Service: [Manuelles oder automatisches Skalieren der Instanzenzahl](/azure/monitoring-and-diagnostics/insights-how-to-scale/)</span><span class="sxs-lookup"><span data-stu-id="f7902-244">Azure App Service: [Scale instance count manually or automatically](/azure/monitoring-and-diagnostics/insights-how-to-scale/)</span></span>
  - <span data-ttu-id="f7902-245">Cloud Services: [Automatisches Skalieren eines Clouddiensts](/azure/cloud-services/cloud-services-how-to-scale/)</span><span class="sxs-lookup"><span data-stu-id="f7902-245">Cloud Services: [How to autoscale a Cloud Service](/azure/cloud-services/cloud-services-how-to-scale/)</span></span>
  - <span data-ttu-id="f7902-246">Virtuelle Computer: [Automatische Skalierung und Skalierungsgruppen für virtuelle Computer](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview/)</span><span class="sxs-lookup"><span data-stu-id="f7902-246">Virtual machines: [Automatic scaling and virtual machine scale sets](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview/)</span></span>

- <span data-ttu-id="f7902-247">**Offload-intensive CPU/IO-Vorgänge als Hintergrundaufgaben.**</span><span class="sxs-lookup"><span data-stu-id="f7902-247">**Offload intensive CPU/IO tasks as background tasks.**</span></span> <span data-ttu-id="f7902-248">Lagern Sie die Verarbeitung für diese Anforderung in einer separaten Aufgabe aus, wenn erwartet wird, dass eine Anforderung an einen Dienst lange Zeit für die Ausführung benötigt oder beträchtliche Ressourcen absorbiert.</span><span class="sxs-lookup"><span data-stu-id="f7902-248">If a request to a service is expected to take a long time to run or may absorb considerable resources, offload the processing to a separate task.</span></span> <span data-ttu-id="f7902-249">Verwenden Sie zum Ausführen dieser Aufgaben Hintergrundaufträge.</span><span class="sxs-lookup"><span data-stu-id="f7902-249">Use background jobs to execute these tasks.</span></span> <span data-ttu-id="f7902-250">Dadurch kann den Dienst weiterhin Anforderungen erhalten und reaktionsfähig bleiben.</span><span class="sxs-lookup"><span data-stu-id="f7902-250">This strategy enables the service to continue receiving further requests and to remain responsive.</span></span> <span data-ttu-id="f7902-251">Weitere Informationen finden Sie unter [Leitfaden für Hintergrundaufträge](../best-practices/background-jobs.md).</span><span class="sxs-lookup"><span data-stu-id="f7902-251">For more information, see [Background jobs guidance](../best-practices/background-jobs.md).</span></span>
- <span data-ttu-id="f7902-252">**Verteilen Sie die Workload für Hintergrundaufgaben.**</span><span class="sxs-lookup"><span data-stu-id="f7902-252">**Distribute the workload for background tasks.**</span></span> <span data-ttu-id="f7902-253">Wenn es viele Hintergrundaufgaben gibt oder die Aufgaben beträchtliche Zeit oder Ressourcen erfordern, können Sie die Arbeit auf mehrere Compute-Einheiten verteilen.</span><span class="sxs-lookup"><span data-stu-id="f7902-253">If there are many background tasks or if the tasks require considerable time or resources, spread the work across multiple compute units.</span></span> <span data-ttu-id="f7902-254">Eine mögliche Lösung ist das [Muster „Konkurrierende Consumer“](../patterns/competing-consumers.md).</span><span class="sxs-lookup"><span data-stu-id="f7902-254">For one possible solution, see the [Competing Consumers pattern](../patterns/competing-consumers.md).</span></span>
- <span data-ttu-id="f7902-255">**Erwägen Sie den Übergang zu einer *Shared-Nothing*-Architektur** (Architektur ohne gemeinsam genutzte Inhalte).</span><span class="sxs-lookup"><span data-stu-id="f7902-255">**Consider moving toward a *shared-nothing* architecture.**</span></span> <span data-ttu-id="f7902-256">Diese Architektur verwendet unabhängige, eigenständige Knoten, die keine einzelnen Konfliktpunkt haben (z. B. gemeinsame Dienste oder Speicher).</span><span class="sxs-lookup"><span data-stu-id="f7902-256">This architecture uses independent, self-sufficient nodes that have no single point of contention (such as shared services or storage).</span></span> <span data-ttu-id="f7902-257">Theoretisch kann ein solches System fast unbegrenzt skaliert werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-257">In theory, such a system can scale almost indefinitely.</span></span> <span data-ttu-id="f7902-258">Während ein vollständiger Ansatz ohne gemeinsam genutzte Inhalte im Allgemeinen nicht geeignet ist, bietet er Möglichkeiten für Entwürfe mit besserer Skalierbarkeit.</span><span class="sxs-lookup"><span data-stu-id="f7902-258">Although a fully shared-nothing approach is usually not practical, it may provide opportunities to design for better scalability.</span></span> <span data-ttu-id="f7902-259">Gute Beispiele für den Übergang zu einer Architektur ohne gemeinsam genutzte Inhalte sind Datenpartitionierung und die Vermeidung der Verwendung von serverseitigem Sitzungsstatus und Clientaffinität.</span><span class="sxs-lookup"><span data-stu-id="f7902-259">Good examples of moving toward a shared-nothing architecture include partitioning data and avoiding the use of server-side session state and client affinity.</span></span>
- <span data-ttu-id="f7902-260">**Entwerfen Sie die Speicheranforderungen Ihrer Anwendung so, dass sie innerhalb der Skalierbarkeits- und Leistungsziele für Azure Storage liegen.**</span><span class="sxs-lookup"><span data-stu-id="f7902-260">**Design your application's storage requirements to fall within Azure Storage scalability and performance targets.**</span></span> <span data-ttu-id="f7902-261">Azure Storage ist für die Verwendung innerhalb vordefinierter Skalierbarkeits- und Leistungsziele konzipiert. Entwerfen Sie Ihre Anwendung also für die Speichernutzung innerhalb dieser Ziele.</span><span class="sxs-lookup"><span data-stu-id="f7902-261">Azure Storage is designed to function within predefined scalability and performance targets, so design your application to use storage within those targets.</span></span> <span data-ttu-id="f7902-262">Wenn Sie diese Ziele überschreiten, wird für Ihre Anwendung der Speicher eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="f7902-262">If you exceed these targets, your application will experience storage throttling.</span></span> <span data-ttu-id="f7902-263">Um diese zu vermeiden, stellen Sie zusätzliche Speicherkonten bereit.</span><span class="sxs-lookup"><span data-stu-id="f7902-263">To avoid throttling, provision additional storage accounts.</span></span> <span data-ttu-id="f7902-264">Wenn Sie den Grenzwert für Speicherkonten erreichen, stellen Sie zusätzliche Azure-Abonnements für zusätzliche Speicherkonten bereit.</span><span class="sxs-lookup"><span data-stu-id="f7902-264">If you run up against the storage account limit, provision additional Azure subscriptions and then provision additional storage accounts there.</span></span> <span data-ttu-id="f7902-265">Weitere Informationen finden Sie unter [Skalierbarkeits- und Leistungsziele für Azure Storage](/azure/storage/storage-scalability-targets/).</span><span class="sxs-lookup"><span data-stu-id="f7902-265">For more information, see [Azure Storage scalability and performance targets](/azure/storage/storage-scalability-targets/).</span></span>
- <span data-ttu-id="f7902-266">**Wählen Sie die richtige VM-Größe für Ihre Anwendung aus.**</span><span class="sxs-lookup"><span data-stu-id="f7902-266">**Select the right VM size for your application.**</span></span> <span data-ttu-id="f7902-267">Messen Sie die tatsächlichen Werte für CPU, Arbeitsspeicher, Datenträger und E/A Ihrer VMs in der Produktion, und stellen Sie sicher, dass die ausgewählte VM-Größe ausreichend ist.</span><span class="sxs-lookup"><span data-stu-id="f7902-267">Measure the actual CPU, memory, disk, and I/O of your VMs in production, and verify that the VM size you've selected is sufficient.</span></span> <span data-ttu-id="f7902-268">Falls nicht, können in Ihrer Anwendung Kapazitätsprobleme auftreten, wenn die VMs ihre Grenzwerte erreichen.</span><span class="sxs-lookup"><span data-stu-id="f7902-268">If not, your application may experience capacity issues as the VMs approach their limits.</span></span> <span data-ttu-id="f7902-269">VM-Größen werden ausführlich unter [Größen für virtuelle Computer in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) beschrieben.</span><span class="sxs-lookup"><span data-stu-id="f7902-269">VM sizes are described in detail in [Sizes for virtual machines in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

## <a name="determine-subscription-and-service-requirements"></a><span data-ttu-id="f7902-270">Bestimmen der Abonnement- und Dienstanforderungen</span><span class="sxs-lookup"><span data-stu-id="f7902-270">Determine subscription and service requirements</span></span>

<span data-ttu-id="f7902-271">Wählen Sie das richtige Abonnement und die geeigneten Dienstfeatures für Ihre App aus, indem Sie diese Aufgaben durcharbeiten:</span><span class="sxs-lookup"><span data-stu-id="f7902-271">Choose the right subscription and service features for your app by working through these tasks:</span></span>

- <span data-ttu-id="f7902-272">**Auswerten der Anforderungen im Hinblick auf [Einschränkungen von Azure-Abonnements und -Diensten](/azure/azure-subscription-service-limits/).**</span><span class="sxs-lookup"><span data-stu-id="f7902-272">**Evaluate requirements against [Azure subscription and service limits](/azure/azure-subscription-service-limits/).**</span></span> <span data-ttu-id="f7902-273">Bei *Azure-Abonnements* gelten Grenzwerte für bestimmte Ressourcentypen. Hierzu zählt beispielsweise die Anzahl von Ressourcengruppen, Kernen und Speicherkonten.</span><span class="sxs-lookup"><span data-stu-id="f7902-273">*Azure subscriptions* have limits on certain resource types, such as number of resource groups, cores, and storage accounts.</span></span> <span data-ttu-id="f7902-274">Wenn mit den Anforderungen Ihrer Anwendung Grenzwerte des Azure-Abonnements überschritten werden, erstellen Sie ein weiteres Azure-Abonnement für zusätzliche Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="f7902-274">If your application requirements exceed Azure subscription limits, create another Azure subscription and provision sufficient resources there.</span></span> <span data-ttu-id="f7902-275">Für einzelne Azure-Dienste gelten Nutzungsgrenzwerte, beispielsweise Grenzwerte für Speicher, Durchsatz, die Anzahl der Verbindungen, Anforderungen pro Sekunde und weitere Metriken.</span><span class="sxs-lookup"><span data-stu-id="f7902-275">Individual Azure services have consumption limits &mdash; for example, limits on storage, throughput, number of connections, requests per second, and other metrics.</span></span> <span data-ttu-id="f7902-276">Ihre Anwendung schlägt fehl, wenn sie versucht, Ressourcen außerhalb dieser Grenzen zu nutzen, was zu Dienstdrosselung und möglichen Ausfallzeiten für betroffene Benutzer führt.</span><span class="sxs-lookup"><span data-stu-id="f7902-276">Your application will fail if it attempts to use resources beyond these limits, resulting in service throttling and possible downtime for affected users.</span></span> <span data-ttu-id="f7902-277">Abhängig vom spezifischen Dienst und den Anforderungen Ihrer Anwendung können Sie diese Grenzwerte häufig durch zentrales Hochskalieren (z.B. die Auswahl eines anderen Tarifs) oder horizontales Skalieren (z.B. Hinzufügen neuer Instanzen) vermeiden.</span><span class="sxs-lookup"><span data-stu-id="f7902-277">Depending on the specific service and your application requirements, you can often avoid these limits by scaling up (for example, choosing another pricing tier) or scaling out (such as adding new instances).</span></span>
- <span data-ttu-id="f7902-278">**Bestimmen Sie, wie viele Speicherkonten, die Sie benötigen.**</span><span class="sxs-lookup"><span data-stu-id="f7902-278">**Determine how many storage accounts you need.**</span></span> <span data-ttu-id="f7902-279">Azure erlaubt eine bestimmte Anzahl von Speicherkonten pro Abonnement.</span><span class="sxs-lookup"><span data-stu-id="f7902-279">Azure allows a specific number of storage accounts per subscription.</span></span> <span data-ttu-id="f7902-280">Weitere Informationen finden Sie unter [Grenzwerte für Azure-Abonnements, -Dienste und -Kontingente sowie allgemeine Beschränkungen](/azure/azure-subscription-service-limits/#storage-limits).</span><span class="sxs-lookup"><span data-stu-id="f7902-280">For more information, see [Azure subscription and service limits, quotas, and constraints](/azure/azure-subscription-service-limits/#storage-limits).</span></span>
- <span data-ttu-id="f7902-281">**Wählen Sie die richtige Dienstebene für Azure SQL-Datenbank aus.**</span><span class="sxs-lookup"><span data-stu-id="f7902-281">**Select the right service tier for Azure SQL Database.**</span></span> <span data-ttu-id="f7902-282">Wenn Ihre Anwendung Azure SQL-Datenbank verwendet, wählen Sie die geeignete Dienstebene aus.</span><span class="sxs-lookup"><span data-stu-id="f7902-282">If your application uses Azure SQL Database, select the appropriate service tier.</span></span> <span data-ttu-id="f7902-283">Wenn die Ebene die Anforderungen Ihrer Anwendung an die Datenbanktransaktionseinheiten (DTU) nicht verarbeiten kann, wird die Datenverwendung eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="f7902-283">If the tier cannot handle your application's database transaction unit (DTU) requirements, your data use will be throttled.</span></span> <span data-ttu-id="f7902-284">Weitere Informationen zur Wahl des korrekten Dienstplans finden Sie unter [SQL-Datenbankoptionen und -leistung: Grundlegendes zum Angebot in den einzelnen Tarifen](/azure/sql-database/sql-database-service-tiers/).</span><span class="sxs-lookup"><span data-stu-id="f7902-284">For more information on selecting the correct service plan, see [SQL Database options and performance: Understand what's available in each service tier](/azure/sql-database/sql-database-service-tiers/).</span></span>
- <span data-ttu-id="f7902-285">**Stellen Sie ausreichend Anforderungseinheiten (RUs) in Azure Cosmos DB bereit**.</span><span class="sxs-lookup"><span data-stu-id="f7902-285">**Provision sufficient request units (RUs) in Azure Cosmos DB**.</span></span> <span data-ttu-id="f7902-286">Bei Azure Cosmos DB zahlen Sie für den bereitgestellten Durchsatz und den verwendeten Speicher auf Stundenbasis.</span><span class="sxs-lookup"><span data-stu-id="f7902-286">With Azure Cosmos DB, you pay for the throughput you provision and the storage you consume on an hourly basis.</span></span> <span data-ttu-id="f7902-287">Die Kosten für alle Datenbankvorgänge werden als RUs normalisiert, was Systemressourcen wie CPU, IOPS-Wert und Arbeitsspeicher abstrahiert.</span><span class="sxs-lookup"><span data-stu-id="f7902-287">The cost of all database operations is normalized as RUs, which abstracts the system resources such as CPU, IOPS, and memory.</span></span> <span data-ttu-id="f7902-288">Weitere Informationen finden Sie unter [Anforderungseinheiten in Azure Cosmos DB](/azure/cosmos-db/request-units).</span><span class="sxs-lookup"><span data-stu-id="f7902-288">For more information, see [Request Units in Azure Cosmos DB](/azure/cosmos-db/request-units).</span></span>

## <a name="load-balance-as-needed"></a><span data-ttu-id="f7902-289">Lastenausgleich nach Bedarf</span><span class="sxs-lookup"><span data-stu-id="f7902-289">Load-balance as needed</span></span>

<span data-ttu-id="f7902-290">Ein ordnungsgemäßer Lastenausgleich ermöglicht Ihnen, die Verfügbarkeitsanforderungen zu erfüllen und die mit der Verfügbarkeit verbundenen Kosten zu minimieren.</span><span class="sxs-lookup"><span data-stu-id="f7902-290">Proper load-balancing allows you to meet availability requirements and to minimize costs associated with availability.</span></span>

- <span data-ttu-id="f7902-291">**Verwenden Sie den Lastenausgleich, um Anforderungen zu verteilen.**</span><span class="sxs-lookup"><span data-stu-id="f7902-291">**Use load-balancing to distribute requests.**</span></span> <span data-ttu-id="f7902-292">Mit dem Lastenausgleich werden die Anforderungen Ihrer Anwendung auf fehlerfreie Dienstinstanzen verteilt, indem fehlerhafte Instanzen aus der Rotation entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-292">Load-balancing distributes your application's requests to healthy service instances by removing unhealthy instances from rotation.</span></span> <span data-ttu-id="f7902-293">Wenn der Dienst Azure App Service oder Azure Cloud Services verwendet, erfolgt bereits ein Lastenausgleich.</span><span class="sxs-lookup"><span data-stu-id="f7902-293">If your service uses Azure App Service or Azure Cloud Services, it's already load-balanced for you.</span></span> <span data-ttu-id="f7902-294">Wenn Ihre Anwendung allerdings Azure-VMs verwendet, müssen Sie einen Lastenausgleich bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="f7902-294">However, if your application uses Azure VMs, you need to provision a load-balancer.</span></span> <span data-ttu-id="f7902-295">Weitere Informationen finden Sie unter [Was ist Azure Load Balancer?](/azure/load-balancer/load-balancer-overview/)</span><span class="sxs-lookup"><span data-stu-id="f7902-295">For more information, see [What is Azure Load Balancer?](/azure/load-balancer/load-balancer-overview/)</span></span>

  <span data-ttu-id="f7902-296">Sie können Azure Load Balancer für Folgendes verwenden:</span><span class="sxs-lookup"><span data-stu-id="f7902-296">You can use Azure Load Balancer to:</span></span>

  - <span data-ttu-id="f7902-297">Führen Sie einen Lastenausgleich für den eingehenden Internetdatenverkehr für virtuelle Computer aus.</span><span class="sxs-lookup"><span data-stu-id="f7902-297">Load-balance incoming Internet traffic to your VMs.</span></span> <span data-ttu-id="f7902-298">Diese Konfiguration wird als [*öffentlicher Load Balancer*](/azure/load-balancer/load-balancer-overview#publicloadbalancer) bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="f7902-298">This configuration is known as a [*public Load Balancer*](/azure/load-balancer/load-balancer-overview#publicloadbalancer).</span></span>
  - <span data-ttu-id="f7902-299">Ausführen eines Lastenausgleichs des Datenverkehrs für mehrere VMs in einem virtuellen Netzwerk.</span><span class="sxs-lookup"><span data-stu-id="f7902-299">Load-balance traffic across VMs inside a virtual network.</span></span> <span data-ttu-id="f7902-300">Sie können ein Load Balancer-Front-End in einem Hybridszenario auch aus einem lokalen Netzwerk erreichen.</span><span class="sxs-lookup"><span data-stu-id="f7902-300">You can also reach a Load Balancer front end from an on-premises network in a hybrid scenario.</span></span> <span data-ttu-id="f7902-301">In beiden Szenarien wird eine Konfiguration verwendet, die als [*interner Load Balancer*](/azure/load-balancer/load-balancer-overview#internalloadbalancer) bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="f7902-301">Both scenarios use a configuration that is known as an [*internal Load Balancer*](/azure/load-balancer/load-balancer-overview#internalloadbalancer).</span></span>
  - <span data-ttu-id="f7902-302">Der Port leitet den Datenverkehr an einen aufgeschlüsselten Port auf bestimmten virtuellen Computern mit Regeln für die Netzwerkadressenübersetzung für eingehenden Datenverkehr weiter.</span><span class="sxs-lookup"><span data-stu-id="f7902-302">Port forward traffic to an itemized port on specific VMs with inbound network address translation (NAT) rules.</span></span>
  - <span data-ttu-id="f7902-303">Stellen Sie [ausgehende Verbindungen](/azure/load-balancer/load-balancer-outbound-connections) für virtuelle Computer in Ihrem virtuellen Netzwerk durch Verwenden eines öffentlichen Load Balancers bereit.</span><span class="sxs-lookup"><span data-stu-id="f7902-303">Provide [outbound connectivity](/azure/load-balancer/load-balancer-outbound-connections) for VMs inside your virtual network by using a public Load Balancer.</span></span>

- <span data-ttu-id="f7902-304">**Führen Sie einen Lastenausgleich über Regionen mit einem Traffic Manager aus, z.B. Azure Traffic Manager.**</span><span class="sxs-lookup"><span data-stu-id="f7902-304">**Balance loads across regions with a traffic manager, such as Azure Traffic Manager.**</span></span> <span data-ttu-id="f7902-305">Für den Lastenausgleich des Datenverkehrs über mehrere Regionen hinweg ist eine Lösung für die Datenverkehrsverwaltung erforderlich. Azure stellt dazu [Traffic Manager](https://azure.microsoft.com/services/traffic-manager/) bereit.</span><span class="sxs-lookup"><span data-stu-id="f7902-305">To load-balance traffic across regions requires a traffic management solution, and Azure provides [Traffic Manager](https://azure.microsoft.com/services/traffic-manager/).</span></span> <span data-ttu-id="f7902-306">Sie können auch Drittanbieterdienste nutzen, die ähnliche Funktionen für die Verwaltung des Datenverkehrs bieten.</span><span class="sxs-lookup"><span data-stu-id="f7902-306">You can also take advantage of third-party services that provide similar traffic-management capabilities.</span></span>

## <a name="implement-resiliency-strategies"></a><span data-ttu-id="f7902-307">Implementieren von Resilienzstrategien</span><span class="sxs-lookup"><span data-stu-id="f7902-307">Implement resiliency strategies</span></span>

<span data-ttu-id="f7902-308">In diesem Abschnitt werden einige häufig verwendete Resilienzstrategien beschrieben.</span><span class="sxs-lookup"><span data-stu-id="f7902-308">This section describes some common resiliency strategies.</span></span> <span data-ttu-id="f7902-309">Die meisten dieser Strategien sind nicht auf eine bestimmte Technologie beschränkt.</span><span class="sxs-lookup"><span data-stu-id="f7902-309">Most of these strategies are not limited to a particular technology.</span></span> <span data-ttu-id="f7902-310">In den Beschreibungen sind jeweils die grundlegenden Ideen jedes Verfahrens mit Links zu weiteren Informationen zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="f7902-310">The descriptions summarize the general idea behind each technique and include links to further reading.</span></span>

- <span data-ttu-id="f7902-311">**Implementieren Sie ggf. Resilienzmuster** für Remotevorgänge.</span><span class="sxs-lookup"><span data-stu-id="f7902-311">**Implement resiliency patterns** for remote operations, where appropriate.</span></span> <span data-ttu-id="f7902-312">Wenn Ihre Anwendung von der Kommunikation zwischen Remotediensten abhängig ist, folgen Sie den [Entwurfsmustern](../patterns/category/resiliency.md) für den Umgang mit vorübergehenden Fehlern.</span><span class="sxs-lookup"><span data-stu-id="f7902-312">If your application depends on communication between remote services, follow [design patterns](../patterns/category/resiliency.md) for dealing with transient failures.</span></span>

- <span data-ttu-id="f7902-313">**Wiederholen des Vorgangs bei vorübergehenden Fehlern.**</span><span class="sxs-lookup"><span data-stu-id="f7902-313">**Retry transient failures.**</span></span> <span data-ttu-id="f7902-314">Diese können durch eine kurze Trennung der Netzwerkverbindung, einen Verlust der Verbindung zur Datenbank oder eine Zeitüberschreitung bei zu hoher Auslastung eines Diensts verursacht werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-314">These can be caused by momentary loss of network connectivity, a dropped database connection, or a timeout when a service is busy.</span></span> <span data-ttu-id="f7902-315">Häufig kann ein vorübergehender Fehler gelöst werden, indem versucht wird, die Anforderung erneut zu senden.</span><span class="sxs-lookup"><span data-stu-id="f7902-315">Often, a transient failure can be resolved by retrying the request.</span></span>

  - <span data-ttu-id="f7902-316">Für viele Azure-Dienste werden vom Client-SDK (Software Development Kit) automatische Wiederholungen so implementiert, dass dies für den Aufrufer transparent ist.</span><span class="sxs-lookup"><span data-stu-id="f7902-316">For many Azure services, the client software development kit (SDK) implements automatic retries in a way that is transparent to the caller.</span></span> <span data-ttu-id="f7902-317">Informationen hierzu finden Sie unter [Wiederholungsanleitung für bestimmte Dienste](../best-practices/retry-service-specific.md).</span><span class="sxs-lookup"><span data-stu-id="f7902-317">See [Retry guidance for specific services](../best-practices/retry-service-specific.md).</span></span>
  - <span data-ttu-id="f7902-318">Oder implementieren Sie das [Wiederholungsmuster](../patterns/retry.md), um der Anwendung zu ermöglichen, erwartete, vorübergehende Fehler beim Versuch, sich mit einem Dienst oder einer Netzwerkressource zu verbinden, transparent zu handhaben.</span><span class="sxs-lookup"><span data-stu-id="f7902-318">Or implement the [Retry pattern](../patterns/retry.md) to help the application handle anticipated, temporary failures transparently when it tries to connect to a service or network resource.</span></span>

- <span data-ttu-id="f7902-319">**Verwenden Sie einen Schutzschalter**, um Fehler zu behandeln, für deren Behebung eine variable Zeitspanne benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="f7902-319">**Use a circuit breaker** to handle faults that might take a variable amount of time to fix.</span></span> <span data-ttu-id="f7902-320">Mit einem [Schutzschaltermuster](../patterns/circuit-breaker.md) kann verhindert werden, dass von einer Anwendung wiederholt versucht wird, einen Vorgang auszuführen, der mit hoher Wahrscheinlichkeit fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="f7902-320">The [Circuit Breaker pattern](../patterns/circuit-breaker.md) can prevent an application from repeatedly trying an operation that is likely to fail.</span></span> <span data-ttu-id="f7902-321">Der Schutzschalter umschließt Aufrufe an einen Dienst und verfolgt die Anzahl kürzlich aufgetretener Fehler nach.</span><span class="sxs-lookup"><span data-stu-id="f7902-321">The circuit breaker wraps calls to a service and tracks the number of recent failures.</span></span> <span data-ttu-id="f7902-322">Überschreitet die Fehleranzahl einen Schwellenwert, gibt der Schutzschalter einen Fehlercode zurück, ohne den Dienst aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="f7902-322">If the failure count exceeds a threshold, the circuit breaker starts returning an error code without calling the service.</span></span> <span data-ttu-id="f7902-323">Dies gibt dem Dienst Zeit zur Wiederherstellung und hilft, kaskadierende Ausfälle zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="f7902-323">This gives the service time to recover and helps avoid cascading failures.</span></span>
- <span data-ttu-id="f7902-324">**Isolieren Sie kritische Ressourcen.**</span><span class="sxs-lookup"><span data-stu-id="f7902-324">**Isolate critical resources.**</span></span> <span data-ttu-id="f7902-325">Fehler in einem Subsystem können ggf. zu kaskadierenden Fehlern werden und Fehler in anderen Teilen der Anwendung verursachen.</span><span class="sxs-lookup"><span data-stu-id="f7902-325">Failures in one subsystem can sometimes cascade, resulting in failures in other parts of the application.</span></span> <span data-ttu-id="f7902-326">Dies kann passieren, wenn ein Fehler dazu führt, dass einige Ressourcen, z.B. Threads oder Sockets, nicht freigegeben werden und die Ressourcen erschöpft sind.</span><span class="sxs-lookup"><span data-stu-id="f7902-326">This can happen if a failure prevents resources such as threads or sockets from being freed, leading to resource exhaustion.</span></span> <span data-ttu-id="f7902-327">Um dies zu vermeiden, können Sie ein System in isolierte Gruppen partitionieren, damit ein Ausfall in einer Partition nicht zum Ausfall des gesamten Systems führt.</span><span class="sxs-lookup"><span data-stu-id="f7902-327">To avoid this, you can partition a system into isolated groups so that a failure in one partition does not bring down the entire system.</span></span>

    <span data-ttu-id="f7902-328">Hier sind einige Beispiele für diese Technik, die manchmal als [Bulkhead-Muster](../patterns/bulkhead.md) bezeichnet wird:</span><span class="sxs-lookup"><span data-stu-id="f7902-328">Here are some examples of this technique, which is sometimes called the [Bulkhead pattern](../patterns/bulkhead.md):</span></span>

  - <span data-ttu-id="f7902-329">Partitionieren Sie eine Datenbank (z.B. nach Mandant), und weisen Sie einen separaten Pool mit Webserverinstanzen für jede Partition zu.</span><span class="sxs-lookup"><span data-stu-id="f7902-329">Partition a database (for example, by tenant), and assign a separate pool of web server instances for each partition.</span></span>
  - <span data-ttu-id="f7902-330">Verwenden Sie separate Threadpools, um Aufrufe von unterschiedlichen Diensten zu isolieren.</span><span class="sxs-lookup"><span data-stu-id="f7902-330">Use separate thread pools to isolate calls to different services.</span></span> <span data-ttu-id="f7902-331">Auf diese Weise werden kaskadierende Fehler verhindert, wenn einer der Dienste ausfällt.</span><span class="sxs-lookup"><span data-stu-id="f7902-331">This helps to prevent cascading failures if one of the services fails.</span></span> <span data-ttu-id="f7902-332">Ein Beispiel finden Sie in der [Hystrix-Bibliothek](https://medium.com/netflix-techblog/introducing-hystrix-for-resiliency-engineering-13531c1ab362) von Netflix.</span><span class="sxs-lookup"><span data-stu-id="f7902-332">For an example, see the Netflix [Hystrix library](https://medium.com/netflix-techblog/introducing-hystrix-for-resiliency-engineering-13531c1ab362).</span></span>
  - <span data-ttu-id="f7902-333">Verwenden Sie [Container](https://en.wikipedia.org/wiki/Operating-system-level_virtualization), um die Ressourcen zu begrenzen, die für ein bestimmtes Subsystem verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="f7902-333">Use [containers](https://en.wikipedia.org/wiki/Operating-system-level_virtualization) to limit the resources available to a particular subsystem.</span></span>

      ![Diagramm des Bulkhead-Musters](_images/bulkhead.png)

- <span data-ttu-id="f7902-335">**Wenden Sie [*ausgleichende Transaktionen*](../patterns/compensating-transaction.md)** an.</span><span class="sxs-lookup"><span data-stu-id="f7902-335">**Apply [*compensating transactions*](../patterns/compensating-transaction.md)**.</span></span> <span data-ttu-id="f7902-336">Mit einer ausgleichenden Transaktion werden die Auswirkungen einer anderen abgeschlossenen Transaktion rückgängig gemacht.</span><span class="sxs-lookup"><span data-stu-id="f7902-336">A compensating transaction is a transaction that undoes the effects of another completed transaction.</span></span> <span data-ttu-id="f7902-337">In einem verteilten System kann es schwierig sein, eine hohe Transaktionskonsistenz zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="f7902-337">In a distributed system, it can be difficult to achieve strong transactional consistency.</span></span> <span data-ttu-id="f7902-338">Ausgleichende Transaktionen helfen, Konsistenz zu erreichen, indem eine Reihe von kleineren einzelnen Transaktionen verwendet wird, die in jedem Schritt rückgängig gemacht werden können.</span><span class="sxs-lookup"><span data-stu-id="f7902-338">Compensating transactions help to achieve consistency by using a series of smaller, individual transactions that can be undone at each step.</span></span> <span data-ttu-id="f7902-339">Beim Buchen einer Reise kann ein Kunde beispielsweise einen Mietwagen, ein Hotelzimmer und einen Flug reservieren.</span><span class="sxs-lookup"><span data-stu-id="f7902-339">For example, to book a trip, a customer might reserve a car, a hotel room, and a flight.</span></span> <span data-ttu-id="f7902-340">Wenn einer dieser Schritte nicht erfolgreich ist, schlägt der gesamte Vorgang fehl.</span><span class="sxs-lookup"><span data-stu-id="f7902-340">If one of these steps fails, the entire operation fails.</span></span> <span data-ttu-id="f7902-341">Anstatt eine einzelne verteilte Transaktion für den gesamten Vorgang zu verwenden, können Sie für jeden Schritt eine ausgleichende Transaktion definieren.</span><span class="sxs-lookup"><span data-stu-id="f7902-341">Instead of trying to use a single distributed transaction for the entire operation, you can define a compensating transaction for each step.</span></span>
- <span data-ttu-id="f7902-342">**Implementieren Sie nach Möglichkeit asynchrone Vorgänge.**</span><span class="sxs-lookup"><span data-stu-id="f7902-342">**Implement asynchronous operations, whenever possible.**</span></span> <span data-ttu-id="f7902-343">Synchrone Vorgänge können zu einer Monopolisierung von Ressourcen führen und andere Vorgänge blockieren, während der Aufrufer auf den Abschluss des Vorgangs wartet.</span><span class="sxs-lookup"><span data-stu-id="f7902-343">Synchronous operations can monopolize resources and block other operations while the caller waits for the process to complete.</span></span> <span data-ttu-id="f7902-344">Entwerfen Sie die einzelnen Teile der Anwendung so, dass nach Möglichkeit asynchrone Vorgänge genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-344">Design each part of your application to allow for asynchronous operations, whenever possible.</span></span> <span data-ttu-id="f7902-345">Weitere Informationen zum Implementieren der asynchronen Programmierung in C\# finden Sie unter [Asynchrone Programmierung](/dotnet/articles/csharp/async).</span><span class="sxs-lookup"><span data-stu-id="f7902-345">For more information on how to implement asynchronous programming in C\#, see [Asynchronous Programming](/dotnet/articles/csharp/async).</span></span>

## <a name="ensure-that-availability-meets-slas"></a><span data-ttu-id="f7902-346">Sicherstellen, dass Verfügbarkeit die SLAs erfüllt</span><span class="sxs-lookup"><span data-stu-id="f7902-346">Ensure that availability meets SLAs</span></span>

<span data-ttu-id="f7902-347">*Verfügbarkeit* ist der Zeitanteil, in dem ein System funktioniert und erreichbar ist. Sie gehört zu den [Säulen der Softwarequalität](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="f7902-347">*Availability* is the proportion of time that a system is functional and working, and it is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="f7902-348">Verwenden Sie die Aufgaben in diesem Abschnitt, um Ihre Anwendungsarchitektur vom Standpunkt der Verfügbarkeit zu überprüfen und sicherzustellen, dass die Verfügbarkeit Ihre SLAs erfüllt.</span><span class="sxs-lookup"><span data-stu-id="f7902-348">Use the tasks in this section to review your application architecture from an availability standpoint to make sure that your availability meets your SLAs.</span></span>

- <span data-ttu-id="f7902-349">**Vermeiden Sie alle einzelnen Fehlerquellen.**</span><span class="sxs-lookup"><span data-stu-id="f7902-349">**Avoid any single point of failure.**</span></span> <span data-ttu-id="f7902-350"> Alle Komponenten, Dienste, Ressourcen und Serverinstanzen sollten in mehreren Instanzen bereitgestellt werden, um zu verhindern, dass sich eine einzelne Fehlerquelle auf die Verfügbarkeit auswirkt.</span><span class="sxs-lookup"><span data-stu-id="f7902-350">All components, services, resources, and compute instances should be deployed as multiple instances to prevent a single point of failure from affecting availability.</span></span> <span data-ttu-id="f7902-351">Authentifizierungsmechanismen können auch ein Single Point of Failure sein.</span><span class="sxs-lookup"><span data-stu-id="f7902-351">Authentication mechanisms can also be a single point of failure.</span></span> <span data-ttu-id="f7902-352">Entwerfen Sie die Anwendung so, dass sie für die Verwendung mehrerer Instanzen konfiguriert werden kann, automatisch Fehler ermittelt und die Anforderungen bei einem Ausfall an einwandfreie Instanzen weiterleitet, wenn die Plattform dies nicht automatisch tut.</span><span class="sxs-lookup"><span data-stu-id="f7902-352">Design the application to be configurable to use multiple instances and to automatically detect failures and redirect requests to non-failed instances, if the platform doesn't do this automatically.</span></span>
- <span data-ttu-id="f7902-353">**Teilen Sie Workloads nach Servicelevelziel auf.**</span><span class="sxs-lookup"><span data-stu-id="f7902-353">**Decompose workloads by service-level objective.**</span></span> <span data-ttu-id="f7902-354"> Wenn ein Dienst wichtige und weniger wichtige Workloads umfasst, verwalten Sie sie unterschiedlich, und legen Sie die Dienstfunktionen und die Anzahl von Instanzen entsprechend den jeweiligen Anforderungen an die Verfügbarkeit fest.</span><span class="sxs-lookup"><span data-stu-id="f7902-354">If a service is composed of critical and less-critical workloads, manage them differently and specify the service features and number of instances to meet their availability requirements.</span></span>
- <span data-ttu-id="f7902-355">**Minimieren und erkennen Sie Abhängigkeiten des Dienstes.**</span><span class="sxs-lookup"><span data-stu-id="f7902-355">**Minimize and understand service dependencies.**</span></span> <span data-ttu-id="f7902-356">Minimieren Sie die Anzahl der verwendeten unterschiedlichen Dienste, wenn möglich.</span><span class="sxs-lookup"><span data-stu-id="f7902-356">Minimize the number of different services used, where possible.</span></span> <span data-ttu-id="f7902-357">Stellen Sie sicher, dass Sie alle im System vorhandenen Feature- und Dienstabhängigkeiten verstehen.</span><span class="sxs-lookup"><span data-stu-id="f7902-357">Ensure that you understand all the feature and service dependencies that exist in the system.</span></span> <span data-ttu-id="f7902-358">Insbesondere sollten Sie die Gesamtauswirkungen von Fehlern oder Leistungseinbußen in jeder Abhängigkeit verstehen.</span><span class="sxs-lookup"><span data-stu-id="f7902-358">In particular, understand the overall impact of failure or reduced performance in each dependency.</span></span>
- <span data-ttu-id="f7902-359">**Entwerfen Sie Aufgaben und Nachrichten möglichst so, dass sie *idempotent* sind.**</span><span class="sxs-lookup"><span data-stu-id="f7902-359">**Design tasks and messages to be *idempotent*, where possible.**</span></span> <span data-ttu-id="f7902-360">Ein Vorgang ist idempotent, wenn er mehrere Male wiederholt werden kann und das gleiche Ergebnis erzielt.</span><span class="sxs-lookup"><span data-stu-id="f7902-360">An operation is idempotent if it can be repeated multiple times and produce the same result.</span></span> <span data-ttu-id="f7902-361">Dies kann sicherstellen, dass doppelte Anforderungen keine Probleme verursachen.</span><span class="sxs-lookup"><span data-stu-id="f7902-361">This can ensure that duplicated requests don't cause problems.</span></span> <span data-ttu-id="f7902-362">Nachrichtenconsumer und die Vorgänge, die sie ausführen, müssen idempotent sein, damit die Wiederholung eines zuvor ausgeführten Vorgangs nicht zu ungültigen Ergebnissen führt.</span><span class="sxs-lookup"><span data-stu-id="f7902-362">Message consumers and the operations they carry out should be idempotent so that repeating a previously executed operation does not render the results invalid.</span></span> <span data-ttu-id="f7902-363">Dies kann bedeuten, dass doppelte Nachrichten erkannt werden müssen oder dass die Konsistenz durch einen optimistischen Konfliktlösungsansatz gewährleistet sein muss.</span><span class="sxs-lookup"><span data-stu-id="f7902-363">This may mean detecting duplicated messages or ensuring consistency by using an optimistic approach to handling conflicts.</span></span>
- <span data-ttu-id="f7902-364">**Konfigurieren Sie Anforderungstimeouts.**</span><span class="sxs-lookup"><span data-stu-id="f7902-364">**Configure request timeouts.**</span></span> <span data-ttu-id="f7902-365">Dienste und Ressourcen können möglicherweise nicht mehr verfügbar sein, sodass bei Anforderungen Fehler auftreten.</span><span class="sxs-lookup"><span data-stu-id="f7902-365">Services and resources may become unavailable, causing requests to fail.</span></span> <span data-ttu-id="f7902-366">Stellen Sie sicher, dass Sie Timeouts festlegen, die für den jeweiligen Dienst oder die Ressource und für den Client geeignet sind, der auf diese zugreift.</span><span class="sxs-lookup"><span data-stu-id="f7902-366">Ensure that the timeouts you apply are appropriate for each service or resource and for the client that is accessing them.</span></span> <span data-ttu-id="f7902-367">In einigen Fällen können Sie je nach Kontext und weiteren Aktionen, die der Client ausführt, ein längeres Zeitlimit für eine bestimmte Clientinstanz festlegen.</span><span class="sxs-lookup"><span data-stu-id="f7902-367">In some cases, you might allow a longer timeout for a particular instance of a client, depending on the context and other actions that the client is performing.</span></span> <span data-ttu-id="f7902-368">Kurze Timeouts können zu übermäßig vielen Wiederholungsvorgängen bei Diensten und Ressourcen mit höherer Latenz führen.</span><span class="sxs-lookup"><span data-stu-id="f7902-368">Short timeouts may cause excessive retry operations for services and resources that have considerable latency.</span></span> <span data-ttu-id="f7902-369">Lange Timeouts können zu einer Blockade führen, wenn sich eine große Anzahl von Anforderungen in der Warteschlange befindet und darauf wartet, dass ein Dienst oder eine Ressource reagiert.</span><span class="sxs-lookup"><span data-stu-id="f7902-369">Long timeouts can cause blocking, if a large number of requests are queued, waiting for a service or resource to respond.</span></span>
- <span data-ttu-id="f7902-370">**Verwenden Sie einen Nachrichtenmakler, der für wichtige Transaktionen Hochverfügbarkeit implementiert.**</span><span class="sxs-lookup"><span data-stu-id="f7902-370">**Use a message broker that implements high availability for critical transactions.**</span></span> <span data-ttu-id="f7902-371">Viele Cloudanwendungen verwenden Messaging, um asynchrone Aufgaben auszulösen.</span><span class="sxs-lookup"><span data-stu-id="f7902-371">Many cloud applications use messaging to trigger asynchronous tasks.</span></span> <span data-ttu-id="f7902-372">Um die Nachrichtenübermittlung zu gewährleisten, sollte das Messaging-System Hochverfügbarkeit bieten.</span><span class="sxs-lookup"><span data-stu-id="f7902-372">To guarantee delivery of messages, the messaging system should provide high availability.</span></span> <span data-ttu-id="f7902-373">[Azure Service Bus-Messaging](/azure/service-bus-messaging) implementiert *mindestens einmal* Semantik, was bedeutet, dass eine Nachricht garantiert mindestens einmal zugestellt wird.</span><span class="sxs-lookup"><span data-stu-id="f7902-373">[Azure Service Bus messaging](/azure/service-bus-messaging) implements *at least once* semantics, which means that a message is guaranteed to be delivered at least once.</span></span> <span data-ttu-id="f7902-374">Unter bestimmten Umständen können doppelte Nachrichten zugestellt werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-374">Duplicate messages may be delivered under certain circumstances.</span></span> <span data-ttu-id="f7902-375">Wenn die Nachrichtenverarbeitung idempotent ist (siehe vorheriger Punkt), sollte die wiederholte Übermittlung kein Problem darstellen.</span><span class="sxs-lookup"><span data-stu-id="f7902-375">If message processing is idempotent (see the previous item), repeated delivery should not be a problem.</span></span>
- <span data-ttu-id="f7902-376">**Drosseln von Benutzern mit hohem Volumen.**</span><span class="sxs-lookup"><span data-stu-id="f7902-376">**Throttle high-volume users.**</span></span> <span data-ttu-id="f7902-377">Es kann vorkommen, dass eine geringe Zahl von Benutzern für die Erzeugung sehr hoher Lasten verantwortlich ist.</span><span class="sxs-lookup"><span data-stu-id="f7902-377">Sometimes, a small number of users creates excessive load.</span></span> <span data-ttu-id="f7902-378">Dies kann negative Auswirkungen auf andere Benutzer haben und die Gesamtverfügbarkeit Ihrer Anwendung reduzieren.</span><span class="sxs-lookup"><span data-stu-id="f7902-378">This can have an impact on other users and can reduce the overall availability of your application.</span></span> <span data-ttu-id="f7902-379">Wenn von einem einzelnen Client übermäßig viele Anforderungen ausgehen, kann die Anwendung den Client ggf. für einen bestimmten Zeitraum drosseln.</span><span class="sxs-lookup"><span data-stu-id="f7902-379">When a single client makes an excessive number of requests, the application might throttle the client for a certain period.</span></span> <span data-ttu-id="f7902-380">Während des Drosselungszeitraums verweigert die Anwendung einige oder alle Anforderungen dieses Clients.</span><span class="sxs-lookup"><span data-stu-id="f7902-380">During the throttling period, the application refuses some or all of the requests from that client.</span></span> <span data-ttu-id="f7902-381">Der Schwellenwert für die Drosselung richtet sich oft nach der Dienstebene des Kunden.</span><span class="sxs-lookup"><span data-stu-id="f7902-381">The threshold for throttling often depends on the customer's service tier.</span></span> <span data-ttu-id="f7902-382">Weitere Informationen finden Sie unter [Drosselungsmuster](../patterns/throttling.md).</span><span class="sxs-lookup"><span data-stu-id="f7902-382">For more information, see [Throttling pattern](../patterns/throttling.md).</span></span>

    <span data-ttu-id="f7902-383">Die Drosselung muss nicht bedeuten, dass der Client in böser Absicht gehandelt hat, sondern nur, dass das Dienstkontingent überschritten wurde.</span><span class="sxs-lookup"><span data-stu-id="f7902-383">Throttling does not imply that the client was necessarily acting maliciously &mdash; only that it exceeded its service quota.</span></span> <span data-ttu-id="f7902-384">In einigen Fällen kann es vorkommen, dass ein Consumer das Kontingent ständig überschreitet oder sich auf andere Weise unangemessen verhält.</span><span class="sxs-lookup"><span data-stu-id="f7902-384">In some cases, a consumer might consistently exceed their quota or otherwise behave badly.</span></span> <span data-ttu-id="f7902-385">Sie können dann weitere Maßnahmen treffen und den Benutzer blockieren.</span><span class="sxs-lookup"><span data-stu-id="f7902-385">In that case, you might go further and block the user.</span></span> <span data-ttu-id="f7902-386">Normalerweise wird hierzu ein API-Schlüssel oder ein IP-Adressbereich blockiert.</span><span class="sxs-lookup"><span data-stu-id="f7902-386">Typically, this is done by blocking an API key or an IP address range.</span></span>
- <span data-ttu-id="f7902-387">**Entwerfen Sie Anwendungen, die ihre Anforderungen ordnungsgemäß herabstufen.**</span><span class="sxs-lookup"><span data-stu-id="f7902-387">**Design applications to gracefully degrade.**</span></span> <span data-ttu-id="f7902-388">Die Auslastung einer Anwendung kann die Kapazität von einem oder mehreren Teilen überschreiten und zu verringerter Verfügbarkeit und fehlgeschlagenen Verbindungen führen.</span><span class="sxs-lookup"><span data-stu-id="f7902-388">The load on an application may exceed the capacity of one or more parts, causing reduced availability and failed connections.</span></span> <span data-ttu-id="f7902-389">Dieses Problem lässt sich durch Skalierung entschärfen, wobei jedoch eine durch andere Faktoren wie z.B. die Ressourcenverfügbarkeit oder Kosten bedingte Grenze erreicht werden kann.</span><span class="sxs-lookup"><span data-stu-id="f7902-389">Scaling can mitigate this problem, but it may reach a limit imposed by other factors, such as resource availability or cost.</span></span> <span data-ttu-id="f7902-390">Wenn eine Anwendung ein Ressourcenlimit erreicht, müssen entsprechende Maßnahmen ergriffen werden, damit der Benutzer möglichst wenig beeinträchtigt wird.</span><span class="sxs-lookup"><span data-stu-id="f7902-390">When an application reaches a resource limit, it should take appropriate action to minimize the impact for the user.</span></span> <span data-ttu-id="f7902-391">Wenn beispielsweise in einem E-Commerce-System das Subsystem zur Auftragsverarbeitung stark ausgelastet oder ausgefallen ist, kann es vorübergehend deaktiviert werden, während andere Funktionen wie das Durchsuchen des Produktkatalogs ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="f7902-391">For example, in an e-commerce system, if the order-processing subsystem is under strain or fails, it can be temporarily disabled while allowing other functionality, such as browsing the product catalog.</span></span> <span data-ttu-id="f7902-392">Es kann zweckmäßig sein, die Anforderungen, die an ein ausgefallenes Subsystem gesendet werden, aufzuschieben, z. B. indem zugelassen wird, dass die Kunden Bestellungen absenden, diese jedoch für die spätere Verarbeitung gespeichert werden, wenn das Subsystem für Bestellungen wieder verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="f7902-392">It might be appropriate to postpone requests to a failing subsystem &mdash; for example, still enabling customers to submit orders but saving them for later processing, when the orders subsystem is available again.</span></span>
- <span data-ttu-id="f7902-393">**Verarbeiten Sie schnelle Änderungen der Auslastung ordnungsgemäß.**</span><span class="sxs-lookup"><span data-stu-id="f7902-393">**Gracefully handle rapid burst events.**</span></span> <span data-ttu-id="f7902-394">Die meisten Anwendungen müssen im Laufe der Zeit unterschiedlich starke Auslastungen handhaben können.</span><span class="sxs-lookup"><span data-stu-id="f7902-394">Most applications need to handle varying workloads over time.</span></span> <span data-ttu-id="f7902-395">Die automatische Skalierung kann bei der Bewältigung der Last hilfreich sein, es kann jedoch einige Zeit dauern, bis weitere Instanzen online geschaltet sind und Anforderungen verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="f7902-395">Autoscaling can help to handle the load, but it may take some time for additional instances to come online and handle requests.</span></span> <span data-ttu-id="f7902-396">Um zu verhindern, dass die Anwendung durch einen Anstieg der Aktivität überfordert wird, entwerfen Sie sie so, dass Anforderungen an die verwendeten Dienste in Warteschlangen eingefügt werden und dass die Anwendung ordnungsgemäß herabgestuft wird, wenn die Warteschlangen ihre Kapazitätsgrenze fast erreicht haben.</span><span class="sxs-lookup"><span data-stu-id="f7902-396">To prevent bursts of activity from overwhelming the application, design it to queue requests to the services it uses and to degrade gracefully when queues are near capacity.</span></span> <span data-ttu-id="f7902-397">Stellen Sie sicher, dass unter normalen Bedingungen ausreichend Leistung und Kapazität zur Verfügung steht, um die Warteschlangen zu leeren und die ausstehenden Anforderungen zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="f7902-397">Ensure there is sufficient performance and capacity available under non-burst conditions to drain the queues and handle outstanding requests.</span></span> <span data-ttu-id="f7902-398">Weitere Informationen finden Sie unter [Warteschlangenbasiertes Lastenausgleichsmuster](../patterns/queue-based-load-leveling.md).</span><span class="sxs-lookup"><span data-stu-id="f7902-398">For more information, see the [Queue-Based Load Leveling pattern](../patterns/queue-based-load-leveling.md).</span></span>
- <span data-ttu-id="f7902-399">**Erstellen oder nutzen Sie mehrere Komponenten.**</span><span class="sxs-lookup"><span data-stu-id="f7902-399">**Compose or fail back to multiple components.**</span></span> <span data-ttu-id="f7902-400">Entwerfen Sie die Anwendungen möglichst so, dass sie mehrere Instanzen nutzen, ohne den Betrieb und die vorhandenen Verbindungen zu beeinträchtigen.</span><span class="sxs-lookup"><span data-stu-id="f7902-400">Design applications to use multiple instances without affecting operation and existing connections, where possible.</span></span> <span data-ttu-id="f7902-401">Um die Verfügbarkeit zu maximieren, verwenden Sie mehrere Instanzen, teilen Sie die Anforderungen zwischen diesen Instanzen auf, erkennen Sie ausgefallene Instanzen, und vermeiden Sie das Senden von Anforderungen an ausgefallene Instanzen.</span><span class="sxs-lookup"><span data-stu-id="f7902-401">To maximize availability, use multiple instances and distribute requests between them, and detect and avoid sending requests to failed instances.</span></span>
- <span data-ttu-id="f7902-402">**Weichen Sie auf einen anderen Dienst oder Workflow aus.**</span><span class="sxs-lookup"><span data-stu-id="f7902-402">**Fail back to a different service or workflow.**</span></span> <span data-ttu-id="f7902-403">Wenn z.B. beim Schreiben in die SQL-Datenbank ein Fehler auftritt, speichern Sie die Daten temporär im Blobspeicher oder in Redis Cache.</span><span class="sxs-lookup"><span data-stu-id="f7902-403">For example, if writing to SQL Database fails, temporarily store data in Blob storage or Redis Cache.</span></span> <span data-ttu-id="f7902-404">Stellen Sie eine Möglichkeit bereit, die Schreibvorgänge in die SQL-Datenbank zu wiederholen, wenn der Dienst wieder verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="f7902-404">Provide a way to replay the writes to SQL Database when the service becomes available.</span></span> <span data-ttu-id="f7902-405">In einigen Fällen kann für einen fehlgeschlagenen Vorgang eine alternative Aktion vorhanden sein, die das weitere Funktionieren der Anwendung ermöglicht, selbst wenn eine Komponente oder ein Dienst ausfällt.</span><span class="sxs-lookup"><span data-stu-id="f7902-405">In some cases, a failed operation may have an alternative action that allows the application to continue to work, even when a component or service fails.</span></span> <span data-ttu-id="f7902-406">Wenn möglich, erkennen Sie Fehler, und leiten Sie Anforderungen an andere Dienste weiter, wenn der primäre Dienst offline ist.</span><span class="sxs-lookup"><span data-stu-id="f7902-406">If possible, detect failures and redirect requests to other services while the primary service is offline.</span></span>
- <span data-ttu-id="f7902-407">**Verwenden eines Belastungsausgleichs zum Ausgleichen von Datenverkehrsspitzen.**</span><span class="sxs-lookup"><span data-stu-id="f7902-407">**Use load leveling to smooth out spikes in traffic.**</span></span> <span data-ttu-id="f7902-408">Für Anwendungen kann es zu plötzlichen Datenverkehrsspitzen kommen, die von Diensten auf dem Back-End nicht mehr bewältigt werden können.</span><span class="sxs-lookup"><span data-stu-id="f7902-408">Applications may experience sudden spikes in traffic, which can overwhelm services on the back end.</span></span> <span data-ttu-id="f7902-409">Kann ein Back-End-Dienst nicht schnell genug auf Anforderungen reagieren, kann es zu einem Rückstau der ausstehenden Anforderungen kommen, oder die Anwendung kann vom Dienst gedrosselt werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-409">If a back-end service cannot respond to requests quickly enough, the pending requests may accumulate or the service may throttle the application.</span></span> <span data-ttu-id="f7902-410">Sie können eine Warteschlange als Puffer verwenden, um dies zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="f7902-410">To avoid this, you can use a queue as a buffer.</span></span> <span data-ttu-id="f7902-411">Wenn ein neues Arbeitselement vorhanden ist, reiht die Anwendung ein Arbeitselement für die asynchrone Ausführung in die Warteschlange ein, anstatt sofort den Back-End-Dienst aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="f7902-411">When there is a new work item, instead of calling the back-end service immediately, the application queues a work item to run asynchronously.</span></span> <span data-ttu-id="f7902-412">Die Warteschlange fungiert als Puffer, um Lastspitzen zu glätten.</span><span class="sxs-lookup"><span data-stu-id="f7902-412">The queue acts as a buffer that smooths out peaks in the load.</span></span> <span data-ttu-id="f7902-413">Weitere Informationen finden Sie unter [Warteschlangenbasiertes Belastungsausgleichsmuster](../patterns/queue-based-load-leveling.md).</span><span class="sxs-lookup"><span data-stu-id="f7902-413">For more information, see [Queue-Based Load Leveling pattern](../patterns/queue-based-load-leveling.md).</span></span>

## <a name="manage-your-data"></a><span data-ttu-id="f7902-414">Verwalten Ihrer Daten</span><span class="sxs-lookup"><span data-stu-id="f7902-414">Manage your data</span></span>

<span data-ttu-id="f7902-415">Wie Sie Ihre Daten verwalten, steht in direktem Zusammenhang mit der Verfügbarkeit Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="f7902-415">How you manage your data plays directly into the availability of your application.</span></span> <span data-ttu-id="f7902-416">Die Aufgaben in diesem Abschnitt können Ihnen helfen, einen Plan für die Verwaltung zur Gewährleistung der Verfügbarkeit zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="f7902-416">The tasks in this section can help you create a management plan to help ensure availability.</span></span>

- <span data-ttu-id="f7902-417">**Replizieren Sie Daten, und entwickeln Sie ein Verständnis der Replikationsmethoden für die Datenspeicher Ihrer Anwendung.**</span><span class="sxs-lookup"><span data-stu-id="f7902-417">**Replicate data and understand the replication methods for your application's data stores.**</span></span> <span data-ttu-id="f7902-418">Das Replizieren von Daten ist eine allgemeine Strategie zum Verarbeiten von nicht vorübergehenden Fehlern in einem Datenspeicher.</span><span class="sxs-lookup"><span data-stu-id="f7902-418">Replicating data is a general strategy for handling non-transient failures in a data store.</span></span> <span data-ttu-id="f7902-419">Berücksichtigen Sie sowohl Lese- als auch Schreibpfade.</span><span class="sxs-lookup"><span data-stu-id="f7902-419">Consider both the read and write paths.</span></span> <span data-ttu-id="f7902-420">Je nach Speichertechnologie sind ggf. mehrere beschreibbare Replikate oder ein einzelnes beschreibbares Replikat und mehrere schreibgeschützte Replikate vorhanden.</span><span class="sxs-lookup"><span data-stu-id="f7902-420">Depending on the storage technology, you might have multiple writable replicas or you might have a single writable replica and multiple read-only replicas.</span></span> <span data-ttu-id="f7902-421">Zur Maximierung der Verfügbarkeit können Replikate in mehreren Regionen angeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-421">To maximize availability, replicas can be placed in multiple regions.</span></span> <span data-ttu-id="f7902-422">Mit diesem Ansatz wird jedoch die Wartezeit beim Replizieren der Daten erhöht.</span><span class="sxs-lookup"><span data-stu-id="f7902-422">However, this approach increases the latency when replicating the data.</span></span> <span data-ttu-id="f7902-423">Normalerweise wird das regionsübergreifende Replizieren asynchron durchgeführt. Dies ist mit einem Modell der letztlichen Konsistenz und potenziellem Datenverlust bei einem Ausfall eines Replikats verbunden.</span><span class="sxs-lookup"><span data-stu-id="f7902-423">Typically, replicating across regions is done asynchronously, which implies an eventual consistency model and potential data loss if a replica fails.</span></span>  

  <span data-ttu-id="f7902-424">Sie können mithilfe von [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) virtuelle Azure-Computer aus einer Region in einer andere replizieren.</span><span class="sxs-lookup"><span data-stu-id="f7902-424">You can use [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) to replicate Azure Virtual Machines from one region to another.</span></span> <span data-ttu-id="f7902-425">Site Recovery repliziert Daten fortlaufend in der Zielregion.</span><span class="sxs-lookup"><span data-stu-id="f7902-425">Site Recovery replicates data continuously to the target region.</span></span> <span data-ttu-id="f7902-426">Bei einem Ausfall am primären Standort können Sie ein Failover auf einen sekundären Standort ausführen.</span><span class="sxs-lookup"><span data-stu-id="f7902-426">When an outage occurs at your primary site, you fail over to a secondary location.</span></span>

- <span data-ttu-id="f7902-427">**Stellen Sie sicher, dass kein einzelnes Benutzerkonto Zugriff auf Produktions- und Sicherungsdaten hat.**</span><span class="sxs-lookup"><span data-stu-id="f7902-427">**Ensure that no single user account has access to both production and backup data.**</span></span> <span data-ttu-id="f7902-428">Die Datensicherungen sind gefährdet, wenn ein einzelnes Benutzerkonto über die Berechtigung zum Schreiben in Produktions- und Sicherungsquellen verfügt.</span><span class="sxs-lookup"><span data-stu-id="f7902-428">Your data backups are compromised if one single user account has permission to write to both production and backup sources.</span></span> <span data-ttu-id="f7902-429">Ein böswilliger Benutzer könnte absichtlich alle Daten löschen, einem normalen Benutzer könnte dies versehentlich passieren.</span><span class="sxs-lookup"><span data-stu-id="f7902-429">A malicious user could purposely delete all your data, and a regular user could accidentally delete it.</span></span> <span data-ttu-id="f7902-430">Entwerfen Sie Ihre Anwendung so, dass die Berechtigungen für jedes Benutzerkonto eingeschränkt sind.</span><span class="sxs-lookup"><span data-stu-id="f7902-430">Design your application to limit the permissions of each user account.</span></span> <span data-ttu-id="f7902-431">Gewähren Sie nur den Benutzern Schreibzugriff, die diesen benötigen, und gewähren Sie den Zugriff entweder auf die Produktionsversion oder auf die Sicherung, aber nicht auf beides.</span><span class="sxs-lookup"><span data-stu-id="f7902-431">Only grant write access to users who require it, and grant access to either production or backup, but not both.</span></span>
- <span data-ttu-id="f7902-432">**Dokumentieren und testen Sie die Failover- und Failbackprozesse für Ihre Datenspeicher.**</span><span class="sxs-lookup"><span data-stu-id="f7902-432">**Document and test your data store failover and failback process.**</span></span> <span data-ttu-id="f7902-433">Bei einem schwerwiegenden Ausfall des Datenspeichers muss ein menschlicher Operator einer Reihe von dokumentierten Anweisungen folgen, um ein Failover auf einen neuen Datenspeicher auszuführen.</span><span class="sxs-lookup"><span data-stu-id="f7902-433">If a data store fails catastrophically, a human operator must follow a set of documented instructions to fail over to a new data store.</span></span> <span data-ttu-id="f7902-434">Wenn die dokumentierten Schritte Fehler aufweisen, kann ein Operator sie nicht erfolgreich befolgen und kein Failover für die Ressource ausführen.</span><span class="sxs-lookup"><span data-stu-id="f7902-434">If the documented steps have errors, an operator won't be able to successfully follow them and to fail over the resource.</span></span> <span data-ttu-id="f7902-435">Testen Sie die Schritte der Anweisung regelmäßig, um sicherzustellen, dass ein Operator, der der Dokumentation folgt, erfolgreich ein Failover und ein Failback der Datenquelle ausführen kann.</span><span class="sxs-lookup"><span data-stu-id="f7902-435">Regularly test the instruction steps to verify that an operator who follows the documentation can successfully fail over and fail back.</span></span>
- <span data-ttu-id="f7902-436">**Sichern Sie Ihre Daten, und überprüfen Sie die Datensicherungen.**</span><span class="sxs-lookup"><span data-stu-id="f7902-436">**Back up your data and validate your data backups.**</span></span> <span data-ttu-id="f7902-437">Führen Sie regelmäßig ein Skript aus, um Datenintegrität, Schema und Abfragen zu überprüfen und sicherzustellen, dass die Sicherungsdaten Ihren Erwartungen entsprechen.</span><span class="sxs-lookup"><span data-stu-id="f7902-437">Regularly run a script to validate data integrity, schema, and queries to ensure that backup data is what you expect.</span></span> <span data-ttu-id="f7902-438">Protokollieren und melden Sie Inkonsistenzen, damit der Sicherungsdienst repariert werden kann.</span><span class="sxs-lookup"><span data-stu-id="f7902-438">Log and report any inconsistencies so the backup service can be repaired.</span></span>
- <span data-ttu-id="f7902-439">**Verwenden Sie regelmäßige Sicherungen und die Zeitpunktwiederherstellung**.</span><span class="sxs-lookup"><span data-stu-id="f7902-439">**Use periodic backup and point-in-time restore.**</span></span> <span data-ttu-id="f7902-440">Sichern Sie Daten, die nicht an anderer Stelle gespeichert werden, regelmäßig und automatisch.</span><span class="sxs-lookup"><span data-stu-id="f7902-440">Regularly and automatically back up data that is not preserved elsewhere.</span></span> <span data-ttu-id="f7902-441">Überprüfen Sie, ob Sie sowohl die Daten als auch die Anwendung selbst zuverlässig wiederherstellen können, wenn ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="f7902-441">Verify that you can reliably restore both the data and the application itself if failure occurs.</span></span> <span data-ttu-id="f7902-442">Stellen Sie sicher, dass Sicherungen Ihrer RPO entsprechen.</span><span class="sxs-lookup"><span data-stu-id="f7902-442">Ensure that backups meet your RPO.</span></span> <span data-ttu-id="f7902-443">Datenreplikation ist kein Sicherungsfeature, da menschliche Fehler oder böswillige Eingriffe Daten über alle Replikate hinweg beschädigen können.</span><span class="sxs-lookup"><span data-stu-id="f7902-443">Data replication isn't a backup feature, because human error or malicious operations can corrupt data across all the replicas.</span></span> <span data-ttu-id="f7902-444">Der Sicherungsvorgang muss sicher sein, sodass die Daten während der Übertragung und Speicherung geschützt sind.</span><span class="sxs-lookup"><span data-stu-id="f7902-444">The backup process must be secure to protect the data in transit and in storage.</span></span> <span data-ttu-id="f7902-445">Datenbanken können in der Regel mithilfe von Transaktionsprotokollen in einem Zustand wiederhergestellt werden, den sie zu einem früheren Zeitpunkt hatten.</span><span class="sxs-lookup"><span data-stu-id="f7902-445">Databases can usually be recovered to a previous point in time by using transaction logs.</span></span> <span data-ttu-id="f7902-446">Weitere Informationen finden Sie unter [Wiederherstellung nach Datenbeschädigung oder unbeabsichtigtem Löschen](../resiliency/recovery-data-corruption.md).</span><span class="sxs-lookup"><span data-stu-id="f7902-446">For more information, see [Recover from data corruption or accidental deletion](../resiliency/recovery-data-corruption.md).</span></span>
- <span data-ttu-id="f7902-447">**Erwägen Sie die Verwendung eines geografisch redundanten Speicherkontos.**</span><span class="sxs-lookup"><span data-stu-id="f7902-447">**Consider using a geo-redundant storage account.**</span></span> <span data-ttu-id="f7902-448">Daten, die in einem Azure-Speicherkonto gespeichert sind, werden immer lokal repliziert.</span><span class="sxs-lookup"><span data-stu-id="f7902-448">Data stored in an Azure Storage account is always replicated locally.</span></span> <span data-ttu-id="f7902-449">Bei der Bereitstellung eines Speicherkontos können Sie jedoch aus mehreren Replikationsstrategien auswählen.</span><span class="sxs-lookup"><span data-stu-id="f7902-449">However, there are multiple replication strategies to choose from when a storage account is provisioned.</span></span> <span data-ttu-id="f7902-450">Um Ihre Anwendungsdaten für den seltenen Fall zu schützen, dass eine vollständige Region nicht mehr verfügbar ist, wählen Sie einen [georedundanten Speicher mit Lesezugriff (RA-GRS) in Azure ](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage)aus.</span><span class="sxs-lookup"><span data-stu-id="f7902-450">To protect your application data against the rare case when an entire region becomes unavailable, select [Azure Read-Access Geo-Redundant Storage (RA-GRS)](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage).</span></span>  

    > [!NOTE]
    > <span data-ttu-id="f7902-451">Verlassen Sie sich für VMs nicht auf die RA-GRS-Replikation, um die VM-Datenträger (VHD-Dateien) wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="f7902-451">For VMs, do not rely on RA-GRS replication to restore the VM disks (VHD files).</span></span> <span data-ttu-id="f7902-452">Verwenden Sie stattdessen [Azure Backup](/azure/backup).</span><span class="sxs-lookup"><span data-stu-id="f7902-452">Instead, use [Azure Backup](/azure/backup).</span></span>

- <span data-ttu-id="f7902-453">**Erwägen Sie die Bereitstellung von Verweisdaten in mehreren Regionen.**</span><span class="sxs-lookup"><span data-stu-id="f7902-453">**Consider deploying reference data to multiple regions.**</span></span> <span data-ttu-id="f7902-454">Verweisdaten sind schreibgeschützte Daten, die die Anwendungsfunktionalität unterstützen.</span><span class="sxs-lookup"><span data-stu-id="f7902-454">Reference data is read-only data that supports application functionality.</span></span> <span data-ttu-id="f7902-455">Sie ändern sich normalerweise nur selten.</span><span class="sxs-lookup"><span data-stu-id="f7902-455">It typically doesn't change often.</span></span> <span data-ttu-id="f7902-456">Die Wiederherstellung aus einer Sicherung stellt zwar eine Möglichkeit zum Behandeln von regionsweiten Dienstunterbrechungen dar, die RTO ist jedoch relativ lang.</span><span class="sxs-lookup"><span data-stu-id="f7902-456">Although restoring from backup is one way to handle region-wide service disruptions, the RTO is relatively long.</span></span> <span data-ttu-id="f7902-457">Wenn Sie die Anwendung in einer sekundären Region bereitstellen, gibt es einige Strategien, die RTO für Verweisdaten zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="f7902-457">When you deploy the application to a secondary region, some strategies can improve the RTO for reference data.</span></span>

    <span data-ttu-id="f7902-458">Da Verweisdaten nur selten geändert werden, können Sie die RTO verbessern, indem Sie eine dauerhafte Kopie in der sekundären Region verwalten.</span><span class="sxs-lookup"><span data-stu-id="f7902-458">Because reference data changes infrequently, you can improve the RTO by maintaining a permanent copy in the secondary region.</span></span> <span data-ttu-id="f7902-459">Dadurch wird der Zeitaufwand für die Wiederherstellung von Sicherungen nach einem Notfall beseitigt.</span><span class="sxs-lookup"><span data-stu-id="f7902-459">This eliminates the time required to restore backups after a disaster.</span></span> <span data-ttu-id="f7902-460">Um die Anforderungen der Notfallwiederherstellung in mehreren Regionen zu erfüllen, müssen Sie die Anwendung und die Verweisdaten zusammen in mehreren Regionen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="f7902-460">To meet the multiple-region disaster recovery requirements, you must deploy the application and the reference data together in multiple regions.</span></span>

- <span data-ttu-id="f7902-461">**Verwenden Sie optimistische Parallelität und letztendliche Konsistenz.**</span><span class="sxs-lookup"><span data-stu-id="f7902-461">**Use optimistic concurrency and eventual consistency.**</span></span> <span data-ttu-id="f7902-462">Transaktionen, die den Zugriff auf Ressourcen durch Sperren (*pessimistische Parallelität*) blockieren, können die Leistung beeinträchtigen und die Verfügbarkeit reduzieren.</span><span class="sxs-lookup"><span data-stu-id="f7902-462">Transactions that block access to resources through locking (*pessimistic concurrency*) can cause poor performance and reduce availability.</span></span> <span data-ttu-id="f7902-463">Diese Probleme können insbesondere in verteilten Systemen akut werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-463">These problems can become especially acute in distributed systems.</span></span> <span data-ttu-id="f7902-464">In vielen Fällen lässt sich die Wahrscheinlichkeit, dass miteinander in Konflikt stehende Aktualisierungen auftreten, durch sorgfältige Planung und Techniken, wie z. B. die Partitionierung, minimieren.</span><span class="sxs-lookup"><span data-stu-id="f7902-464">In many cases, careful design and techniques, such as partitioning, can minimize the chances of conflicting updates occurring.</span></span> <span data-ttu-id="f7902-465">Wenn Daten repliziert oder aus einem separat aktualisierten Speicher gelesen werden, sind die Daten erst zum Schluss konsistent.</span><span class="sxs-lookup"><span data-stu-id="f7902-465">If data is replicated or read from a separately updated store, the data will only be eventually consistent.</span></span> <span data-ttu-id="f7902-466">Die Vorteile überwiegen aber in der Regel gegenüber den Auswirkungen, die die Verwendung von Transaktionen zur Gewährleistung der sofortigen Konsistenz auf die Verfügbarkeit haben.</span><span class="sxs-lookup"><span data-stu-id="f7902-466">But the advantages usually outweigh the impact on availability of using transactions to ensure immediate consistency.</span></span>
- <span data-ttu-id="f7902-467">**Nutzen Sie die aktive Georeplikation für die SQL-Datenbank, um Änderungen an einer sekundären Datenbank zu replizieren.**</span><span class="sxs-lookup"><span data-stu-id="f7902-467">**Use active geo-replication for SQL Database to replicate changes to a secondary database.**</span></span> <span data-ttu-id="f7902-468">Mit der aktiven Georeplikation für die SQL-Datenbank werden Datenbankänderungen automatisch in sekundären Datenbanken in derselben Region oder einer anderen Region repliziert.</span><span class="sxs-lookup"><span data-stu-id="f7902-468">Active geo-replication for SQL Database automatically replicates database changes to secondary databases in the same region or a different region.</span></span> <span data-ttu-id="f7902-469">Weitere Informationen finden Sie unter [Erstellen und Verwenden der aktiven Georeplikation](/azure/sql-database/sql-database-active-geo-replication).</span><span class="sxs-lookup"><span data-stu-id="f7902-469">For more information, see [Creating and using active geo-replication](/azure/sql-database/sql-database-active-geo-replication).</span></span>

  <span data-ttu-id="f7902-470">Alternativ können Sie einen manuelleren Ansatz wählen, indem Sie den Befehl **DATABASE COPY** verwenden, um eine Sicherungskopie der Datenbank mit Transaktionskonsistenz zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="f7902-470">Alternatively, you can take a more manual approach by using the **DATABASE COPY** command to create a backup copy of the database with transactional consistency.</span></span> <span data-ttu-id="f7902-471">Sie können auch den Import-/Export-Dienst von Azure SQL-Datenbank nutzen, der den Export von Datenbanken in BACPAC-Dateien (komprimierte Dateien, die Ihr Datenbankschema und die dazugehörigen Daten enthalten) unterstützt, die in Azure Blob Storage gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="f7902-471">You can also use the import/export service of Azure SQL Database, which supports exporting databases to BACPAC files (compressed files containing your database schema and associated data) that are stored in Azure Blob storage.</span></span> <span data-ttu-id="f7902-472">Azure Storage erstellt zwei Replikate der Sicherungsdatei in einer Region.</span><span class="sxs-lookup"><span data-stu-id="f7902-472">Azure Storage creates two replicas of the backup file in the same region.</span></span> <span data-ttu-id="f7902-473">Jedoch bestimmt die Häufigkeit des Sicherungsvorgangs Ihre RPO, also den Umfang an Daten, die Sie bei einem Notfall verlieren können.</span><span class="sxs-lookup"><span data-stu-id="f7902-473">However, the frequency of the backup process determines your RPO, which is the amount of data you might lose in disaster scenarios.</span></span> <span data-ttu-id="f7902-474">Wenn Sie Daten beispielsweise einmal pro Stunde sichern und ein Notfall zwei Minuten vor der Sicherung auftritt, verlieren Sie die Daten der letzten 58 Minuten.</span><span class="sxs-lookup"><span data-stu-id="f7902-474">For example, if you back up data every hour, and a disaster occurs two minutes before the backup, you will lose 58 minutes of data.</span></span> <span data-ttu-id="f7902-475">Darüber hinaus sollten Sie zum Schutz vor einer regionsweiten Dienstunterbrechung die BACPAC-Dateien in eine alternative Region kopieren.</span><span class="sxs-lookup"><span data-stu-id="f7902-475">Also, to protect against a region-wide service disruption, you should copy the BACPAC files to an alternate region.</span></span> <span data-ttu-id="f7902-476">Weitere Informationen finden Sie unter [Übersicht über die Geschäftskontinuität mit Azure SQL-Datenbank](/azure/sql-database/sql-database-business-continuity).</span><span class="sxs-lookup"><span data-stu-id="f7902-476">For more information, see [Overview of business continuity with Azure SQL Database](/azure/sql-database/sql-database-business-continuity).</span></span>

- <span data-ttu-id="f7902-477">**Verwenden Sie Geosicherungen für SQL Data Warehouse.**</span><span class="sxs-lookup"><span data-stu-id="f7902-477">**Use geo-backups for SQL Data Warehouse.**</span></span> <span data-ttu-id="f7902-478">Verwenden Sie für SQL Data Warehouse [Geosicherungen](/azure/sql-data-warehouse/backup-and-restore), um zur Notfallwiederherstellung die Wiederherstellung in einer gekoppelten Region durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="f7902-478">For SQL Data Warehouse, use [geo-backups](/azure/sql-data-warehouse/backup-and-restore) to restore to a paired region for disaster recovery.</span></span> <span data-ttu-id="f7902-479">Diese Sicherungen werden alle 24 Stunden erstellt und können innerhalb von 20 Minuten in der gekoppelten Region wiederhergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-479">These backups are taken every 24 hours and can be restored within 20 minutes in the paired region.</span></span> <span data-ttu-id="f7902-480">Dieses Feature ist standardmäßig für alle SQL Data Warehouse-Instanzen aktiviert.</span><span class="sxs-lookup"><span data-stu-id="f7902-480">This feature is on by default for all SQL Data Warehouse instances.</span></span> <span data-ttu-id="f7902-481">Weitere Informationen zum Wiederherstellen Ihres Data Warehouse finden Sie unter [Wiederherstellen von einer geografischen Azure-Region aus mithilfe von PowerShell](/azure/sql-data-warehouse/sql-data-warehouse-restore).</span><span class="sxs-lookup"><span data-stu-id="f7902-481">For more information on how to restore your data warehouse, see [Restore from an Azure geographical region using PowerShell.](/azure/sql-data-warehouse/sql-data-warehouse-restore)</span></span>

- <span data-ttu-id="f7902-482">**Replizieren Sie VM-Datenträger mithilfe von Azure Site Recovery.**</span><span class="sxs-lookup"><span data-stu-id="f7902-482">**Replicate VM disks using Azure Site Recovery.**</span></span> <span data-ttu-id="f7902-483">Wenn Sie virtuelle Azure-Computer mit [Site Recovery](/azure/site-recovery/) replizieren, werden kontinuierlich alle VM-Datenträger asynchron in der Zielregion repliziert.</span><span class="sxs-lookup"><span data-stu-id="f7902-483">When you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="f7902-484">Die Wiederherstellungspunkte werden im Abstand von wenigen Minuten erstellt.</span><span class="sxs-lookup"><span data-stu-id="f7902-484">The recovery points are created every few minutes.</span></span> <span data-ttu-id="f7902-485">Dadurch erzielen Sie einen RPO-Wert von wenigen Minuten.</span><span class="sxs-lookup"><span data-stu-id="f7902-485">This gives you an RPO on the order of minutes.</span></span>
- <span data-ttu-id="f7902-486">**Sichern Sie SQL Server auf virtuellen Computern, oder konfigurieren Sie eine Sitzung für den Protokollversand.**</span><span class="sxs-lookup"><span data-stu-id="f7902-486">**Back up SQL Server running on VMs or configure a log-shipping session.**</span></span> <span data-ttu-id="f7902-487">Für SQL Server auf virtuellen Computern gibt es zwei Optionen: herkömmliche Sicherungen und Protokollversand.</span><span class="sxs-lookup"><span data-stu-id="f7902-487">For SQL Server running on VMs, there are two options: traditional backups and log shipping.</span></span> <span data-ttu-id="f7902-488">Herkömmliche Sicherungen ermöglichen die Wiederherstellung auf einen bestimmten Zeitpunkt – allerdings ist der Wiederherstellungsprozess langsam.</span><span class="sxs-lookup"><span data-stu-id="f7902-488">Traditional backups enable you to restore to a specific point in time, but the recovery process is slow.</span></span> <span data-ttu-id="f7902-489">Um herkömmliche Sicherungen wiederherzustellen, müssen Sie mit einer vollständigen Erstsicherung beginnen und dann alle nachfolgend durchgeführten Sicherungen anwenden.</span><span class="sxs-lookup"><span data-stu-id="f7902-489">Restoring traditional backups requires that you start with an initial full backup and then apply any backups taken after that.</span></span> <span data-ttu-id="f7902-490">Bei der zweiten Option wird eine Protokollversandsitzung konfiguriert, um die Wiederherstellung von Protokollsicherungen zu verzögern (beispielsweise um zwei Stunden).</span><span class="sxs-lookup"><span data-stu-id="f7902-490">The second option is to configure a log-shipping session to delay the restore of log backups (for example, by two hours).</span></span> <span data-ttu-id="f7902-491">In dem entstandenen Zeitfenster können Fehler in der primären Datenbank behoben werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-491">This provides a window to recover from errors made on the primary.</span></span>
- <span data-ttu-id="f7902-492">**Verwenden Sie einen benutzerdefinierten Prozess oder ein Drittanbietertool für die Azure Storage-Sicherung.**</span><span class="sxs-lookup"><span data-stu-id="f7902-492">**Use a custom process or third-party tool for Azure Storage backup.**</span></span> <span data-ttu-id="f7902-493">Für Azure Storage können Sie einen eigenen benutzerdefinierten Sicherungsprozess entwickeln. Sie können aber auch ein Sicherungstool von Drittanbietern verwenden.</span><span class="sxs-lookup"><span data-stu-id="f7902-493">For Azure Storage, you can develop a custom backup process or use a third-party backup tool.</span></span> <span data-ttu-id="f7902-494">In den meisten Anwendungsentwürfen liegt zusätzliche Komplexität vor, in denen Speicherressourcen aufeinander verweisen.</span><span class="sxs-lookup"><span data-stu-id="f7902-494">Most application designs have additional complexities, in which storage resources reference each other.</span></span> <span data-ttu-id="f7902-495">Stellen Sie sich beispielsweise eine SQL-Datenbank vor, die über eine Spalte mit einem Link zu einem Blob in Azure Storage verfügt.</span><span class="sxs-lookup"><span data-stu-id="f7902-495">For example, consider a SQL database with a column that links to a blob in Azure Storage.</span></span> <span data-ttu-id="f7902-496">Wenn die Sicherungen nicht gleichzeitig erfolgen, enthält die Datenbank möglicherweise einen Zeiger auf ein Blob, das vor dem Ausfall nicht gesichert wurde.</span><span class="sxs-lookup"><span data-stu-id="f7902-496">If the backups do not happen simultaneously, the database might have a pointer to a blob that was not backed up before the failure.</span></span> <span data-ttu-id="f7902-497">Die Anwendung oder der Notfallwiederherstellungsplan muss Prozesse implementieren, damit diese Inkonsistenz nach einer Wiederherstellung behandelt wird.</span><span class="sxs-lookup"><span data-stu-id="f7902-497">The application or disaster recovery plan must implement processes to handle this inconsistency after a recovery.</span></span>
- <span data-ttu-id="f7902-498">**Verwenden Sie für andere Datenplattformen, die auf VMs gehostet werden, die nativen Funktionen für Momentaufnahmen oder Replikation.**</span><span class="sxs-lookup"><span data-stu-id="f7902-498">**Use the native replication or snapshot capabilities for other data platforms hosted on VMs.**</span></span> <span data-ttu-id="f7902-499">Andere Datenplattformen, wie Elasticsearch oder MongoDB, verfügen über eigene Funktionen, und es gelten eigene Überlegungen für die Erstellung eines integrierten Sicherungs- und Wiederherstellungsprozesses.</span><span class="sxs-lookup"><span data-stu-id="f7902-499">Other data platforms, such as Elasticsearch or MongoDB, have their own capabilities and considerations when creating an integrated backup and restore process.</span></span> <span data-ttu-id="f7902-500">Für diese Datenplattformen wird allgemein empfohlen, alle nativen oder verfügbaren integrationsbasierten Funktionen für Replikation oder Momentaufnahmen zu nutzen.</span><span class="sxs-lookup"><span data-stu-id="f7902-500">For these data platforms, the general recommendation is to use any native or available integration-based replication or snapshot capabilities.</span></span> <span data-ttu-id="f7902-501">Wenn diese Funktionen nicht vorhanden oder nicht geeignet sind, sollten Sie in Erwägung ziehen, Azure Backup oder Datenträger-Momentaufnahmen zu verwenden, um eine zeitpunktbezogene Kopie von Anwendungsdaten zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="f7902-501">If those capabilities don't exist or aren't suitable, consider using Azure Backup or disk snapshots to create a point-in-time copy of application data.</span></span> <span data-ttu-id="f7902-502">Auf alle Fälle ist es wichtig zu bestimmen, wie konsistente Sicherungen erreicht werden können. Dies gilt insbesondere, wenn Anwendungsdaten sich in mehreren Dateisystemen befinden oder wenn mehrere Laufwerke zu einem einzigen Dateisystem zusammengefasst sind.</span><span class="sxs-lookup"><span data-stu-id="f7902-502">In all cases, it's important to determine how to achieve consistent backups, especially when application data spans multiple files systems or multiple drives are combined into a single file system.</span></span>
- <span data-ttu-id="f7902-503">**Untersuchen Sie die Replikationsmethoden für die Datenquellen Ihrer Anwendung.**</span><span class="sxs-lookup"><span data-stu-id="f7902-503">**Understand the replication methods for your application's data sources.**</span></span> <span data-ttu-id="f7902-504">Ihre Anwendungsdaten werden in unterschiedlichen Datenquellen gespeichert und weisen unterschiedliche Anforderungen an die Verfügbarkeit auf.</span><span class="sxs-lookup"><span data-stu-id="f7902-504">Your application data will be stored in different data sources and will have varied availability requirements.</span></span> <span data-ttu-id="f7902-505">Bewerten Sie die Replikationsmethoden für jeden Typ von Datenspeicher in Azure, beispielsweise die [Azure Storage-Redundanz](/azure/storage/storage-redundancy/) und die [aktive Georeplikation in Azure SQL-Datenbank](/azure/sql-database/sql-database-geo-replication-overview/), um sicherzustellen, dass die Datenanforderungen Ihrer Anwendung erfüllt werden.</span><span class="sxs-lookup"><span data-stu-id="f7902-505">Evaluate the replication methods for each type of data storage in Azure, including [Azure Storage redundancy](/azure/storage/storage-redundancy/) and [SQL Database active geo-replication](/azure/sql-database/sql-database-geo-replication-overview/) to ensure that your application's data requirements are satisfied.</span></span> <span data-ttu-id="f7902-506">Falls Sie virtuelle Azure-Computer mit [Site Recovery](/azure/site-recovery/) replizieren, werden kontinuierlich alle VM-Datenträger asynchron in der Zielregion repliziert.</span><span class="sxs-lookup"><span data-stu-id="f7902-506">If you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="f7902-507">Die Wiederherstellungspunkte werden im Abstand von wenigen Minuten erstellt.</span><span class="sxs-lookup"><span data-stu-id="f7902-507">The recovery points are created every few minutes.</span></span>
- <span data-ttu-id="f7902-508">**Richten Sie Datenstrategien für die Notfallwiederherstellung ein.**</span><span class="sxs-lookup"><span data-stu-id="f7902-508">**Establish data strategies for disaster recovery.**</span></span> <span data-ttu-id="f7902-509">Der richtige Umgang mit Daten ist ein anspruchsvoller Aspekt jedes Plans für die Notfallwiederherstellung.</span><span class="sxs-lookup"><span data-stu-id="f7902-509">Proper data handling is a challenging aspect of any disaster recovery plan.</span></span> <span data-ttu-id="f7902-510">Während des Wiederherstellungsprozesses benötigt die Wiederherstellung von Daten in der Regel die meiste Zeit.</span><span class="sxs-lookup"><span data-stu-id="f7902-510">During the recovery process, data restoration typically takes the most time.</span></span> <span data-ttu-id="f7902-511">Verschiedene Optionen für die Einschränkung von Funktionalität führen zu schwierigen Herausforderungen für die Datenwiederherstellung und die Konsistenz.</span><span class="sxs-lookup"><span data-stu-id="f7902-511">Different choices for reducing functionality result in difficult challenges for data recovery and consistency.</span></span>

## <a name="next-steps"></a><span data-ttu-id="f7902-512">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="f7902-512">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="f7902-513">Test auf Resilienz und Verfügbarkeit</span><span class="sxs-lookup"><span data-stu-id="f7902-513">Test for resiliency and availability</span></span>](./testing.md)
