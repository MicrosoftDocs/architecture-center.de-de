---
title: Testen von Azure-Anwendungen auf Resilienz und Verfügbarkeit
description: Ansätze zum Testen der Zuverlässigkeit von Anwendungen in Azure
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.openlocfilehash: cf33a859540810279b1cb85be5a6fb2ebe4500dc
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 04/17/2019
ms.locfileid: "59642861"
---
# <a name="testing-azure-applications-for-resiliency-and-availability"></a><span data-ttu-id="40f13-103">Testen von Azure-Anwendungen auf Resilienz und Verfügbarkeit</span><span class="sxs-lookup"><span data-stu-id="40f13-103">Testing Azure applications for resiliency and availability</span></span>

<span data-ttu-id="40f13-104">Um die Resilienz zu testen, sollten Sie überprüfen, wie sich die End-to-End-Workload unter zeitweiligen Fehlerbedingungen verhält.</span><span class="sxs-lookup"><span data-stu-id="40f13-104">To test resiliency, you should verify how the end-to-end workload performs under intermittent failure conditions.</span></span>

<span data-ttu-id="40f13-105">Führen Sie Tests in der Produktion mithilfe von synthetischen und echten Benutzerdaten aus.</span><span class="sxs-lookup"><span data-stu-id="40f13-105">Run tests in production using both synthetic and real user data.</span></span> <span data-ttu-id="40f13-106">Test und Produktion sind selten identisch, daher ist es wichtig, Ihre Anwendung mithilfe einer [Blau/Grün](https://martinfowler.com/bliki/BlueGreenDeployment.html)- oder einer [Canary](https://martinfowler.com/bliki/CanaryRelease.html)-Bereitstellung in der Produktion zu testen.</span><span class="sxs-lookup"><span data-stu-id="40f13-106">Test and production are rarely identical, so it's important to validate your application in production using a [blue-green](https://martinfowler.com/bliki/BlueGreenDeployment.html) or [canary deployment](https://martinfowler.com/bliki/CanaryRelease.html).</span></span> <span data-ttu-id="40f13-107">Auf diese Weise testen Sie die Anwendung unter realen Bedingungen und können daher sicher sein, dass sie bei der vollständigen Bereitstellung erwartungsgemäß funktioniert.</span><span class="sxs-lookup"><span data-stu-id="40f13-107">This way, you're testing the application under real conditions, so you can be sure that it will function as expected when fully deployed.</span></span>

<span data-ttu-id="40f13-108">Schließen Sie dies in Ihren Testplan ein:</span><span class="sxs-lookup"><span data-stu-id="40f13-108">As part of your test plan, include:</span></span>

- <span data-ttu-id="40f13-109">Automatisierte Tests vor der Bereitstellung</span><span class="sxs-lookup"><span data-stu-id="40f13-109">Automated predeployment testing</span></span>
- <span data-ttu-id="40f13-110">Fault Injection-Tests</span><span class="sxs-lookup"><span data-stu-id="40f13-110">Fault injection testing</span></span>
- <span data-ttu-id="40f13-111">Lastspitzentests</span><span class="sxs-lookup"><span data-stu-id="40f13-111">Peak load testing</span></span>
- <span data-ttu-id="40f13-112">Tests der Notfallwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="40f13-112">Disaster recovery testing</span></span>
- <span data-ttu-id="40f13-113">Tests von Drittanbieterdiensten</span><span class="sxs-lookup"><span data-stu-id="40f13-113">Third-party service testing</span></span>

<span data-ttu-id="40f13-114">Der Testvorgang ist ein iterativer Prozess.</span><span class="sxs-lookup"><span data-stu-id="40f13-114">Testing is an iterative process.</span></span> <span data-ttu-id="40f13-115">Testen Sie die Anwendung, messen Sie das Ergebnis, analysieren und beheben Sie alle aufgetretenen Fehler, und wiederholen Sie den Vorgang.</span><span class="sxs-lookup"><span data-stu-id="40f13-115">Test the application, measure the outcome, analyze and address any failures that result, and repeat the process.</span></span>

## <a name="perform-fault-injection-testing"></a><span data-ttu-id="40f13-116">Durchführen von Fault-Injection-Tests</span><span class="sxs-lookup"><span data-stu-id="40f13-116">Perform fault injection testing</span></span>

<span data-ttu-id="40f13-117">Überprüfen Sie die Resilienz des Systems bei Fehlern mithilfe von Fault Injection, indem Sie entweder echte Fehler auslösen oder diese simulieren.</span><span class="sxs-lookup"><span data-stu-id="40f13-117">For fault injection testing, check the resiliency of the system during failures, either by triggering actual failures or by simulating them.</span></span> <span data-ttu-id="40f13-118">Hier sind einige Strategien für das Hervorrufen von Fehlern:</span><span class="sxs-lookup"><span data-stu-id="40f13-118">Here are some strategies to induce failures:</span></span>

- <span data-ttu-id="40f13-119">Herunterfahren von virtuellen Computerinstanzen</span><span class="sxs-lookup"><span data-stu-id="40f13-119">Shut down virtual machine (VM) instances.</span></span>
- <span data-ttu-id="40f13-120">Absturz von Prozessen</span><span class="sxs-lookup"><span data-stu-id="40f13-120">Crash processes.</span></span>
- <span data-ttu-id="40f13-121">Ablauf von Zertifikaten</span><span class="sxs-lookup"><span data-stu-id="40f13-121">Expire certificates.</span></span>
- <span data-ttu-id="40f13-122">Ändern von Zugriffsschlüsseln</span><span class="sxs-lookup"><span data-stu-id="40f13-122">Change access keys.</span></span>
- <span data-ttu-id="40f13-123">Herunterfahren des DNS-Diensts auf Domänencontrollern</span><span class="sxs-lookup"><span data-stu-id="40f13-123">Shut down the DNS service on domain controllers.</span></span>
- <span data-ttu-id="40f13-124">Begrenzen von verfügbaren Systemressourcen, z.B. RAM oder Anzahl von Threads</span><span class="sxs-lookup"><span data-stu-id="40f13-124">Limit available system resources, such as RAM or number of threads.</span></span>
- <span data-ttu-id="40f13-125">Aufheben der Bereitstellung von Datenträgern</span><span class="sxs-lookup"><span data-stu-id="40f13-125">Unmount disks.</span></span>
- <span data-ttu-id="40f13-126">Erneutes Bereitstellen eines virtuellen Computers</span><span class="sxs-lookup"><span data-stu-id="40f13-126">Redeploy a VM.</span></span>

<span data-ttu-id="40f13-127">Ihr Testplan sollte über allgemeine Fehlerszenarien hinaus mögliche Ausfallpunkte umfassen, die während der Entwurfsphase erkannt wurden:</span><span class="sxs-lookup"><span data-stu-id="40f13-127">Your test plan should incorporate possible failure points identified during the design phase, in addition to common failure scenarios:</span></span>

- <span data-ttu-id="40f13-128">Testen Sie Ihre Anwendung in einer Umgebung, die der Produktionsumgebung so ähnlich wie möglich ist</span><span class="sxs-lookup"><span data-stu-id="40f13-128">Test your application in an environment as close to production as possible.</span></span>
- <span data-ttu-id="40f13-129">Testen Sie Fehler in Kombination</span><span class="sxs-lookup"><span data-stu-id="40f13-129">Test failures in combination.</span></span>
- <span data-ttu-id="40f13-130">Messen Sie die Wiederherstellungszeiten, und stellen Sie sicher, dass Ihre geschäftlichen Anforderungen erfüllt werden</span><span class="sxs-lookup"><span data-stu-id="40f13-130">Measure the recovery times, and be sure that your business requirements are met.</span></span>
- <span data-ttu-id="40f13-131">Vergewissern Sie sich, dass es nicht zu kaskadierenden Fehlern kommt und dass diese isoliert behandelt werden</span><span class="sxs-lookup"><span data-stu-id="40f13-131">Verify that failures don't cascade and are handled in an isolated way.</span></span>

<span data-ttu-id="40f13-132">Weitere Informationen zu Fehlerszenarien finden Sie unter [Failure and disaster recovery for Azure applications](./disaster-recovery.md) (Wiederherstellung bei einem Fehler oder Notfall für Azure-Anwendungen).</span><span class="sxs-lookup"><span data-stu-id="40f13-132">For more information about failure scenarios, see [Failure and disaster recovery for Azure applications](./disaster-recovery.md).</span></span>

## <a name="test-under-peak-loads"></a><span data-ttu-id="40f13-133">Testen unter Lastspitzen</span><span class="sxs-lookup"><span data-stu-id="40f13-133">Test under peak loads</span></span>

<span data-ttu-id="40f13-134">Auslastungstests sind sehr wichtig zur Identifizierung von Fehlern, die nur bei hoher Auslastung auftreten, z.B. eine Überlastung der Back-End-Datenbank oder eine Drosselung des Diensts.</span><span class="sxs-lookup"><span data-stu-id="40f13-134">Load testing is crucial for identifying failures that only happen under load, such as the back-end database being overwhelmed or service throttling.</span></span> <span data-ttu-id="40f13-135">Führen Sie Tests für Lastspitzen und einen vorhersehbaren Anstieg der Spitzenauslastung durch, indem Sie Produktionsdaten oder synthetische Daten verwenden, die den Produktionsdaten möglichst genau ähneln.</span><span class="sxs-lookup"><span data-stu-id="40f13-135">Test for peak load and anticipated increase in peak load, using production data or synthetic data that is as close to production data as possible.</span></span> <span data-ttu-id="40f13-136">Hierbei soll ermittelt werden, wie sich die Anwendung unter realen Bedingungen verhält.</span><span class="sxs-lookup"><span data-stu-id="40f13-136">Your goal is to see how the application behaves under real-world conditions.</span></span>

## <a name="conduct-disaster-recovery-drills"></a><span data-ttu-id="40f13-137">Durchführen von Übungen zur Notfallwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="40f13-137">Conduct disaster recovery drills</span></span>

<span data-ttu-id="40f13-138">Gehen Sie von einem guten Plan für die Notfallwiederherstellung aus, und testen Sie ihn regelmäßig, um sicherzustellen, dass er funktioniert.</span><span class="sxs-lookup"><span data-stu-id="40f13-138">Start with a good disaster recovery plan, and test it periodically to make sure it works.</span></span>

<span data-ttu-id="40f13-139">Für virtuelle Azure-Computer können Sie ohne Beeinträchtigung von Produktionsanwendungen oder laufenden Replikationen [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) zum Replizieren sowie zum Ausführen von [Notfallwiederherstellungsübungen](/azure/site-recovery/azure-to-azure-tutorial-dr-drill/) verwenden.</span><span class="sxs-lookup"><span data-stu-id="40f13-139">For Azure Virtual Machines, you can use [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) to replicate and perform [disaster recovery drills](/azure/site-recovery/azure-to-azure-tutorial-dr-drill/) without impacting production applications or ongoing replication.</span></span>

### <a name="failover-and-failback-testing"></a><span data-ttu-id="40f13-140">Failover- und Failbacktests</span><span class="sxs-lookup"><span data-stu-id="40f13-140">Failover and failback testing</span></span>

<span data-ttu-id="40f13-141">Testen Sie Failover und Failback, um zu überprüfen, ob die abhängigen Dienste Ihrer Anwendung während der Notfallwiederherstellung in synchronisierter Weise wieder zur Verfügung gestellt werden.</span><span class="sxs-lookup"><span data-stu-id="40f13-141">Test failover and failback to verify that your application's dependent services come back up in a synchronized manner during disaster recovery.</span></span> <span data-ttu-id="40f13-142">Änderungen an Systemen und Vorgängen können die Failover- und Fallback-Funktionen beeinträchtigen, die Auswirkungen werden aber möglicherweise erst dann erkannt, wenn das System ausfällt oder überlastet wird.</span><span class="sxs-lookup"><span data-stu-id="40f13-142">Changes to systems and operations may affect failover and failback functions, but the impact may not be detected until the main system fails or becomes overloaded.</span></span> <span data-ttu-id="40f13-143">Testen Sie die Failoverfunktionen *bevor* sie benötigt werden, um ein Liveproblem zu kompensieren.</span><span class="sxs-lookup"><span data-stu-id="40f13-143">Test failover capabilities *before* they are required to compensate for a live problem.</span></span> <span data-ttu-id="40f13-144">Achten Sie außerdem darauf, dass Failover und Failback von abhängigen Diensten in der richtigen Reihenfolge erfolgen.</span><span class="sxs-lookup"><span data-stu-id="40f13-144">Also be sure that dependent services fail over and fail back in the correct order.</span></span>

<span data-ttu-id="40f13-145">Wenn Sie virtuelle Computer mit [Azure Site Recovery](/azure/site-recovery/) replizieren, führen Sie immer wieder Wiederherstellungsübungen in Form eines Testfailovers durch, um Ihre Replikationsstrategie zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="40f13-145">If you are using [Azure Site Recovery](/azure/site-recovery/) to replicate VMs, run disaster recovery drills periodically by doing test failovers to validate your replication strategy.</span></span> <span data-ttu-id="40f13-146">Ein Testfailover hat keinerlei Auswirkungen auf die laufende VM-Replikation oder Ihre Produktionsumgebung.</span><span class="sxs-lookup"><span data-stu-id="40f13-146">A test failover does not affect the ongoing VM replication or your production environment.</span></span> <span data-ttu-id="40f13-147">Weitere Informationen finden Sie unter [Durchführen eines Notfallwiederherstellungsverfahrens in Azure](/azure/site-recovery/site-recovery-test-failover-to-azure).</span><span class="sxs-lookup"><span data-stu-id="40f13-147">For more information, see [Run a disaster recovery drill to Azure](/azure/site-recovery/site-recovery-test-failover-to-azure).</span></span>

### <a name="simulation-testing"></a><span data-ttu-id="40f13-148">Simulationstests</span><span class="sxs-lookup"><span data-stu-id="40f13-148">Simulation testing</span></span>

<span data-ttu-id="40f13-149">Bei Simulationstests werden kleine, aus der Realität entnommene Situationen erstellt.</span><span class="sxs-lookup"><span data-stu-id="40f13-149">Simulation testing involves creating small, real-life situations.</span></span> <span data-ttu-id="40f13-150">Simulationen führen die Wirksamkeit der Lösungen im Wiederherstellungsplan vor Augen und lassen alle Probleme hervortreten, die nicht angemessen berücksichtigt wurden.</span><span class="sxs-lookup"><span data-stu-id="40f13-150">Simulations demonstrate the effectiveness of the solutions in the recovery plan and highlight any issues that weren't adequately addressed.</span></span>

<span data-ttu-id="40f13-151">Folgen Sie beim Durchführen von Simulationstests bewährten Methoden:</span><span class="sxs-lookup"><span data-stu-id="40f13-151">As you perform simulation testing, follow best practices:</span></span>

- <span data-ttu-id="40f13-152">Führen Sie Simulationen in einer Weise durch, die den tatsächlichen Geschäftsbetrieb nicht stört, sich aber wie eine echte Situation anfühlt.</span><span class="sxs-lookup"><span data-stu-id="40f13-152">Conduct simulations in a manner that doesn't disrupt actual business but feels like a real situation.</span></span>
- <span data-ttu-id="40f13-153">Achten Sie darauf, dass sie simulierten Szenarien vollständig kontrollierbar sind.</span><span class="sxs-lookup"><span data-stu-id="40f13-153">Make sure that simulated scenarios are completely controllable.</span></span> <span data-ttu-id="40f13-154">Selbst wenn der Wiederherstellungsplan fehlzuschlagen scheint, können Sie den Normalzustand wiederherstellen, ohne dass Schäden entstehen.</span><span class="sxs-lookup"><span data-stu-id="40f13-154">If the recovery plan seems to be failing, you can restore the situation back to normal without causing damage.</span></span>
- <span data-ttu-id="40f13-155">Informieren Sie das Management über Art und Zeitpunkt der durchzuführenden Simulationsübungen.</span><span class="sxs-lookup"><span data-stu-id="40f13-155">Inform management about when and how the simulation exercises will be conducted.</span></span> <span data-ttu-id="40f13-156">Ihr Plan muss den Zeitrahmen und die Ressourcen, die während der Simulation betroffen sind, detailliert beschreiben.</span><span class="sxs-lookup"><span data-stu-id="40f13-156">Your plan should detail the time frame and the resources affected during the simulation.</span></span>

## <a name="test-health-probes-for-load-balancers-and-traffic-managers"></a><span data-ttu-id="40f13-157">Testen von Integritätstest für Load Balancer und Traffic Manager</span><span class="sxs-lookup"><span data-stu-id="40f13-157">Test health probes for load balancers and traffic managers</span></span>

<span data-ttu-id="40f13-158">Konfigurieren und testen Sie Integritätstest für Ihre Lastenausgleichsmodule und Traffic Manager.</span><span class="sxs-lookup"><span data-stu-id="40f13-158">Configure and test health probes for your load balancers and traffic managers.</span></span> <span data-ttu-id="40f13-159">Stellen Sie sicher, dass Ihr Integritätsendpunkt die kritischen Teile des Systems überprüft und in geeigneter Weise reagiert.</span><span class="sxs-lookup"><span data-stu-id="40f13-159">Ensure that your health endpoint checks the critical parts of the system and responds appropriately.</span></span>

- <span data-ttu-id="40f13-160">Bei [Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview/) bestimmt der Integritätstest, ob ein Failover auf eine andere Region erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="40f13-160">For [Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview/), the health probe determines whether to fail over to another region.</span></span> <span data-ttu-id="40f13-161">Ihr Integritätsendpunkt sollten alle kritischen Abhängigkeiten überprüfen, die innerhalb der gleichen Region bereitgestellt sind.</span><span class="sxs-lookup"><span data-stu-id="40f13-161">Your health endpoint should check any critical dependencies that are deployed within the same region.</span></span>
- <span data-ttu-id="40f13-162">Bei [Azure Load Balancer](/azure/load-balancer/load-balancer-overview/) bestimmt der Integritätstest, ob eine VM aus der Rotation entfernt werden soll.</span><span class="sxs-lookup"><span data-stu-id="40f13-162">For [Azure Load Balancer](/azure/load-balancer/load-balancer-overview/), the health probe determines whether to remove a VM from rotation.</span></span> <span data-ttu-id="40f13-163">Der Integritätsendpunkt sollte die Integrität der VM melden.</span><span class="sxs-lookup"><span data-stu-id="40f13-163">The health endpoint should report the health of the VM.</span></span> <span data-ttu-id="40f13-164">Nehmen Sie keine weiteren Schichten oder externen Dienste auf.</span><span class="sxs-lookup"><span data-stu-id="40f13-164">Don't include other tiers or external services.</span></span> <span data-ttu-id="40f13-165">Andernfalls verursacht ein Fehler, der außerhalb der VM auftritt, dass der Lastenausgleich die VM aus der Rotation entfernt.</span><span class="sxs-lookup"><span data-stu-id="40f13-165">Otherwise, a failure that occurs outside the VM will cause the load balancer to remove the VM from rotation.</span></span>

<span data-ttu-id="40f13-166">Eine Anleitung für die Implementierung der Integritätsüberwachung in Ihrer Anwendung finden Sie unter [Muster für Überwachung der Integrität von Endpunkten](../patterns/health-endpoint-monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="40f13-166">For guidance on implementing health monitoring in your application, see [Health Endpoint Monitoring pattern](../patterns/health-endpoint-monitoring.md).</span></span>

## <a name="test-monitoring-systems"></a><span data-ttu-id="40f13-167">Testen der Überwachungssysteme</span><span class="sxs-lookup"><span data-stu-id="40f13-167">Test monitoring systems</span></span>

<span data-ttu-id="40f13-168">Nehmen Sie Überwachungssysteme in Ihren Testplan auf.</span><span class="sxs-lookup"><span data-stu-id="40f13-168">Include monitoring systems in your test plan.</span></span> <span data-ttu-id="40f13-169">Automatisierte Failover- und Failbacksysteme hängen von der korrekten Funktion von Überwachung und Instrumentierung ab.</span><span class="sxs-lookup"><span data-stu-id="40f13-169">Automated failover and failback systems depend on the correct functioning of monitoring and instrumentation.</span></span> <span data-ttu-id="40f13-170">Dashboards zur Visualisierung von System- und Operatorwarnungen zur Integrität sind ebenfalls auf genaue Überwachung und Instrumentierung angewiesen.</span><span class="sxs-lookup"><span data-stu-id="40f13-170">Dashboards to visualize system health and operator alerts also depend on having accurate monitoring and instrumentation.</span></span> <span data-ttu-id="40f13-171">Wenn diese Elemente ausfallen, wichtige Informationen fehlen oder falsche Daten liefern, kann ein Operator möglicherweise nicht erkennen, dass das System instabil oder fehlerhaft ist.</span><span class="sxs-lookup"><span data-stu-id="40f13-171">If these elements fail, miss critical information, or report inaccurate data, an operator might not realize that the system is unhealthy or failing.</span></span>

## <a name="include-third-party-services-in-test-scenarios"></a><span data-ttu-id="40f13-172">Einbeziehen von Drittanbieterdiensten in Testszenarien</span><span class="sxs-lookup"><span data-stu-id="40f13-172">Include third-party services in test scenarios</span></span>

<span data-ttu-id="40f13-173">Wenn Ihre Anwendung Abhängigkeiten von den Diensten von Drittanbietern aufweist, identifizieren Sie, wo und wie Fehler in diesen Diensten auftreten können und welche Auswirkungen diese Fehler auf die Anwendung haben.</span><span class="sxs-lookup"><span data-stu-id="40f13-173">If your application has dependencies on third-party services, identify where and how these services can fail and what effect those failures will have on your application.</span></span> <span data-ttu-id="40f13-174">Bedenken Sie das SLA (Service-Level Agreement) für den Drittanbieterdienst und seine möglichen Auswirkungen auf Ihren Plan zur Notfallwiederherstellung.</span><span class="sxs-lookup"><span data-stu-id="40f13-174">Keep in mind the service-level agreement (SLA) for the third-party service and the effect it might have on your disaster recovery plan.</span></span>

<span data-ttu-id="40f13-175">Der Dienst eines Drittanbieters stellt möglicherweise keine Überwachungs- und Diagnosefunktionen zur Verfügung. Daher ist es wichtig, dass Ihre Aufrufe dieser Dienste protokolliert werden und über einen eindeutigen Bezeichner mit der Integritäts- und Diagnoseprotokollierung Ihrer Anwendung korreliert werden.</span><span class="sxs-lookup"><span data-stu-id="40f13-175">A third-party service might not provide monitoring and diagnostics capabilities, so it's important to log your invocations of them and to correlate them with your application's health and diagnostic logging using a unique identifier.</span></span> <span data-ttu-id="40f13-176">Weitere Informationen zu bewährten Verfahren für Überwachung und Diagnose finden Sie unter [Anleitung zur Überwachung und Diagnose](../best-practices/monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="40f13-176">For more information on proven practices for monitoring and diagnostics, see [Monitoring and diagnostics guidance](../best-practices/monitoring.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="40f13-177">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="40f13-177">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="40f13-178">Bereitstellen für hohe Resilienz und Verfügbarkeit</span><span class="sxs-lookup"><span data-stu-id="40f13-178">Deploy for resiliency and availability</span></span>](./deploy.md)
