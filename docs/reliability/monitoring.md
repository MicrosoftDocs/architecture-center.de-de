---
title: Überwachen der Anwendungsintegrität für Zuverlässigkeit in Azure
description: Verwenden der Überwachung zur Verbesserung der Zuverlässigkeit von Anwendungen in Azure
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.openlocfilehash: 46f9f3fb623a2facf4b9f9c6ec57376ae59e41dc
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 04/17/2019
ms.locfileid: "59642867"
---
# <a name="monitoring-application-health-for-reliability-in-azure"></a><span data-ttu-id="0de3c-103">Überwachen der Anwendungsintegrität für Zuverlässigkeit in Azure</span><span class="sxs-lookup"><span data-stu-id="0de3c-103">Monitoring application health for reliability in Azure</span></span>

<span data-ttu-id="0de3c-104">Die Überwachung und die Diagnose sind für die Resilienz von entscheidender Bedeutung.</span><span class="sxs-lookup"><span data-stu-id="0de3c-104">Monitoring and diagnostics are crucial for resiliency.</span></span> <span data-ttu-id="0de3c-105">Wenn ein Fehler auftritt, müssen Sie wissen, *dass*, *wann* und *warum* etwas fehlgeschlagen ist.</span><span class="sxs-lookup"><span data-stu-id="0de3c-105">If something fails, you need to know *that* it failed, *when* it failed &mdash; and *why*.</span></span>

<span data-ttu-id="0de3c-106">*Überwachung* ist nicht dasselbe wie *Fehlererkennung*.</span><span class="sxs-lookup"><span data-stu-id="0de3c-106">*Monitoring* is not the same as *failure detection*.</span></span> <span data-ttu-id="0de3c-107">Es kann beispielsweise sein, dass Ihre Anwendung einen vorübergehenden Fehler erkennt und einen Wiederholungsversuch durchführt, ohne dass es zu Ausfallzeit kommt.</span><span class="sxs-lookup"><span data-stu-id="0de3c-107">For example, your application might detect a transient error and retry, avoiding downtime.</span></span> <span data-ttu-id="0de3c-108">Es sollte aber auch der Wiederholungsvorgang protokolliert werden, damit Sie die Fehlerrate überwachen können, um ein Gesamtbild der Anwendungsintegrität zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="0de3c-108">But it should also log the retry operation so that you can monitor the error rate to get an overall picture of application health.</span></span>

<span data-ttu-id="0de3c-109">Sie können sich den Überwachungs- und Diagnoseprozess als Pipeline mit vier einzelnen Phasen vorstellen: Instrumentierung, Sammlung und Speicherung, Analyse und Diagnose sowie Visualisierung und Warnungen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-109">Think of the monitoring and diagnostics process as a pipeline with four distinct stages: Instrumentation, collection and storage, analysis and diagnosis, and visualization and alerts.</span></span>

## <a name="instrumentation"></a><span data-ttu-id="0de3c-110">Instrumentierung</span><span class="sxs-lookup"><span data-stu-id="0de3c-110">Instrumentation</span></span>

<span data-ttu-id="0de3c-111">Es ist nicht praktikabel, die Anwendung direkt zu überwachen, daher ist die Instrumentierung der Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="0de3c-111">It's not practical to monitor your application directly, so instrumentation is key.</span></span> <span data-ttu-id="0de3c-112">Ein großes verteiltes System kann auf Dutzenden von virtuellen Computern (VMs) ausgeführt werden, die im Laufe der Zeit hinzugefügt und entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="0de3c-112">A large-scale distributed system might run on dozens of virtual machines (VMs), which are added and removed over time.</span></span> <span data-ttu-id="0de3c-113">Auch kann eine Cloudanwendung eine Reihe von Datenspeichern verwenden, und eine einzelne Benutzeraktion kann mehrere Subsysteme umfassen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-113">Likewise, a cloud application might use a number of data stores and a single user action might span multiple subsystems.</span></span>

<span data-ttu-id="0de3c-114">Stellen Sie die umfangreiche Instrumentation bereit:</span><span class="sxs-lookup"><span data-stu-id="0de3c-114">Provide rich instrumentation:</span></span>

- <span data-ttu-id="0de3c-115">Stellen Sie für Fehler, die wahrscheinlich, aber noch nicht aufgetreten sind, ausreichend Daten bereit, um die Ursache zu ermitteln, das Problem zu entschärfen und sicherzustellen, dass das System verfügbar bleibt.</span><span class="sxs-lookup"><span data-stu-id="0de3c-115">For failures that are likely but have not yet occurred, provide enough data to determine the cause, mitigate the situation, and ensure that the system remains available.</span></span>
- <span data-ttu-id="0de3c-116">Für bereits aufgetretene Fehler sollte die Anwendung eine geeignete Fehlermeldung an den Benutzer zurückgeben und versuchen, die Ausführung trotz eingeschränkter Funktionalität fortzusetzen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-116">For failures that have already occurred, the application should return an appropriate error message to the user but should attempt to continue running, albeit with reduced functionality.</span></span>

<span data-ttu-id="0de3c-117">Überwachungssysteme sollten umfassende Details erfassen, damit Anwendungen effizient wiederhergestellt werden können und Designer und Entwickler das System bei Bedarf so anpassen können, dass sich die Situation nicht wiederholt.</span><span class="sxs-lookup"><span data-stu-id="0de3c-117">Monitoring systems should capture comprehensive details so that applications can be restored efficiently and, if necessary, designers and developers can modify the system to prevent the situation from recurring.</span></span>

<span data-ttu-id="0de3c-118">Die Rohdaten für die Überwachung können aus einer Vielzahl von Quellen stammen, einschließlich:</span><span class="sxs-lookup"><span data-stu-id="0de3c-118">The raw data for monitoring can come from a variety of sources, including:</span></span>

- <span data-ttu-id="0de3c-119">Anwendungsprotokolle, wie die vom [Azure Application Insights](/azure/azure-monitor/app/app-insights-overview)-Dienst generierten Protokolle.</span><span class="sxs-lookup"><span data-stu-id="0de3c-119">Application logs, such as those produced by the [Azure Application Insights](/azure/azure-monitor/app/app-insights-overview) service.</span></span>
- <span data-ttu-id="0de3c-120">Betriebssystemleistungsmetriken, die von [Azure-Überwachungs-Agents](/azure/azure-monitor/platform/agents-overview) erfasst werden.</span><span class="sxs-lookup"><span data-stu-id="0de3c-120">Operating system performance metrics collected by [Azure monitoring agents](/azure/azure-monitor/platform/agents-overview).</span></span>
- <span data-ttu-id="0de3c-121">[Azure-Ressourcen](/azure/azure-monitor/platform/metrics-supported), z.B. von Azure Monitor erfasste Metriken.</span><span class="sxs-lookup"><span data-stu-id="0de3c-121">[Azure resources](/azure/azure-monitor/platform/metrics-supported), including metrics collected by Azure Monitor.</span></span>
- <span data-ttu-id="0de3c-122">[Azure Service Health](/azure/service-health/service-health-overview), das ein Dashboard bereitstellt, mit dem Sie aktive Ereignisse nachverfolgen können.</span><span class="sxs-lookup"><span data-stu-id="0de3c-122">[Azure Service Health](/azure/service-health/service-health-overview), which offers a dashboard to help you track active events.</span></span>
- <span data-ttu-id="0de3c-123">In die Azure-Plattform integrierte [Azure AD-Protokolle](/azure/active-directory/reports-monitoring/howto-integrate-activity-logs-with-log-analytics) .</span><span class="sxs-lookup"><span data-stu-id="0de3c-123">[Azure AD logs](/azure/active-directory/reports-monitoring/howto-integrate-activity-logs-with-log-analytics) built into the Azure platform.</span></span>

<span data-ttu-id="0de3c-124">Die meisten Azure-Dienste verfügen über Metriken und Diagnosen, die Sie konfigurieren können, um die Ursache von Problemen zu analysieren und zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="0de3c-124">Most Azure services have metrics and diagnostics that you can configure to analyze and determine the cause of problems.</span></span> <span data-ttu-id="0de3c-125">Weitere Informationen finden Sie unter [Von Azure Monitor gesammelte Überwachungsdaten](/azure/azure-monitor/platform/data-collection).</span><span class="sxs-lookup"><span data-stu-id="0de3c-125">To learn more, see [Monitoring data collected by Azure Monitor](/azure/azure-monitor/platform/data-collection).</span></span>

## <a name="collection-and-storage"></a><span data-ttu-id="0de3c-126">Sammlung und Speicherung</span><span class="sxs-lookup"><span data-stu-id="0de3c-126">Collection and storage</span></span>

<span data-ttu-id="0de3c-127">Rohdaten der Instrumentierung können an verschiedenen Orten und in unterschiedlichen Formaten gespeichert werden, z.B.:</span><span class="sxs-lookup"><span data-stu-id="0de3c-127">Raw instrumentation data can be held in various locations and formats, including:</span></span>

- <span data-ttu-id="0de3c-128">Anwendungsnachverfolgungsprotokolle</span><span class="sxs-lookup"><span data-stu-id="0de3c-128">Application trace logs</span></span>
- <span data-ttu-id="0de3c-129">IIS-Protokolle</span><span class="sxs-lookup"><span data-stu-id="0de3c-129">IIS logs</span></span>
- <span data-ttu-id="0de3c-130">Leistungsindikatoren</span><span class="sxs-lookup"><span data-stu-id="0de3c-130">Performance counters</span></span>

<span data-ttu-id="0de3c-131">Diese unterschiedlichen Quellen werden gesammelt, zusammengefasst und in zuverlässige Datenspeicher in Azure eingefügt, z.B. Application Insights, Azure Monitor-Metriken, Service Health, Speicherkonten und Azure Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="0de3c-131">These disparate sources are collected, consolidated, and placed in reliable data stores in Azure, such as Application Insights, Azure Monitor metrics, Service Health, storage accounts, and Azure Log Analytics.</span></span>

## <a name="analysis-and-diagnosis"></a><span data-ttu-id="0de3c-132">Analyse und Diagnose</span><span class="sxs-lookup"><span data-stu-id="0de3c-132">Analysis and diagnosis</span></span>

<span data-ttu-id="0de3c-133">Analysieren Sie die in diesen Datenspeichern zusammengefassten Daten, um Probleme zu beheben und eine Gesamtansicht der Anwendungsintegrität bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-133">Analyze data consolidated in these data stores to troubleshoot issues and gain an overall view of application health.</span></span> <span data-ttu-id="0de3c-134">Im Allgemeinen können Sie die Daten in Application Insights and Log Analytics mit Hilfe von Kusto-Abfragen [suchen und analysieren](/azure/azure-monitor/log-query/log-query-overview) oder vorkonfigurierte Diagramme mithilfe von  [Verwaltungslösungen](/azure/azure-monitor/insights/solutions-inventory) anzeigen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-134">Generally, you can [search for and analyze](/azure/azure-monitor/log-query/log-query-overview) the data in Application Insights and Log Analytics using Kusto queries or view preconfigured graphs using [management solutions](/azure/azure-monitor/insights/solutions-inventory).</span></span> <span data-ttu-id="0de3c-135">Alternativ können Sie Azure Advisor verwenden, um Empfehlungen anzuzeigen, bei denen der Schwerpunkt auf [Resilienz](/azure/advisor/advisor-high-availability-recommendations) und [Leistung](/azure/advisor/advisor-performance-recommendations) liegt.</span><span class="sxs-lookup"><span data-stu-id="0de3c-135">Or use Azure Advisor to view recommendations with a focus on [resiliency](/azure/advisor/advisor-high-availability-recommendations) and [performance](/azure/advisor/advisor-performance-recommendations).</span></span>

## <a name="visualization-and-alerts"></a><span data-ttu-id="0de3c-136">Visualisierung und Warnungen</span><span class="sxs-lookup"><span data-stu-id="0de3c-136">Visualization and alerts</span></span>

<span data-ttu-id="0de3c-137">Präsentieren Sie Telemetriedaten in einem Format, anhand dessen der Operator Probleme oder Trends einfach und schnell erkennen kann, z.B. in Form eines Dashboards oder einer E-Mail-Benachrichtigung.</span><span class="sxs-lookup"><span data-stu-id="0de3c-137">Present telemetry data in a format that makes it easy for an operator to notice problems or trends quickly, such as a dashboard or email alert.</span></span>

<span data-ttu-id="0de3c-138">Rufen Sie mithilfe von  [Azure-Dashboards](/azure/azure-portal/azure-portal-dashboards) eine vollständige Stapelansicht des Anwendungszustands ab, um eine konsolidierte Ansicht der Überwachungsdiagramme aus Application Insights, Log Analytics, Azure Monitor-Metriken und Service Health zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-138">Get a full-stack view of application state by using [Azure dashboards](/azure/azure-portal/azure-portal-dashboards) to create a consolidated view of monitoring graphs from Application Insights, Log Analytics, Azure Monitor metrics, and Service Health.</span></span> <span data-ttu-id="0de3c-139">Und verwenden Sie  [Azure Monitor-Warnungen](/azure/azure-monitor/platform/alerts-overview), um Benachrichtigungen über Service Health, Ressourcenintegrität, Azure Monitor-Metriken, Protokolle in Log Analytics und Application Insights zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-139">And use [Azure Monitor alerts](/azure/azure-monitor/platform/alerts-overview) to create notifications on Service Health, resource health, Azure Monitor metrics, logs in Log Analytics, and Application Insights.</span></span>

<span data-ttu-id="0de3c-140">Weitere Informationen zu Überwachung und Diagnose finden Sie unter [Überwachung und Diagnose](../best-practices/monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="0de3c-140">For more information about monitoring and diagnostics, see [Monitoring and diagnostics](../best-practices/monitoring.md).</span></span>

## <a name="health-probes-and-check-functions"></a><span data-ttu-id="0de3c-141">Integritätstests und Überprüfungsfunktionen</span><span class="sxs-lookup"><span data-stu-id="0de3c-141">Health probes and check functions</span></span>

<span data-ttu-id="0de3c-142">Eine Beeinträchtigung der Integrität und Leistung einer Anwendung kann über längere Zeit unbemerkt bleiben, bis ein Fehler in der Anwendung auftritt.</span><span class="sxs-lookup"><span data-stu-id="0de3c-142">The health and performance of an application can degrade over time, and degradation might not be noticeable until the application fails.</span></span>

<span data-ttu-id="0de3c-143">Implementieren Sie Prüfpunkte oder Überprüfungsfunktionen, und führen Sie diese regelmäßig von außerhalb der Anwendung aus.</span><span class="sxs-lookup"><span data-stu-id="0de3c-143">Implement probes or check functions, and run them regularly from outside the application.</span></span> <span data-ttu-id="0de3c-144">Diese Überprüfungen können ganz einfach sein, z.B. das Messen der Antwortzeit für die Anwendung als Ganzes, für einzelne Teile der Anwendung, für bestimmte, von der Anwendung verwendete Dienste oder für einzelne Komponenten.</span><span class="sxs-lookup"><span data-stu-id="0de3c-144">These checks can be as simple as measuring response time for the application as a whole, for individual parts of the application, for specific services that the application uses, or for separate components.</span></span>

<span data-ttu-id="0de3c-145">Überprüfungsfunktionen können Prozesse ausführen, um sicherzustellen, dass sie gültige Ergebnisse erzeugen, die Latenzzeit messen und die Verfügbarkeit überprüfen sowie Informationen aus dem System extrahieren.</span><span class="sxs-lookup"><span data-stu-id="0de3c-145">Check functions can run processes to ensure that they produce valid results, measure latency and check availability, and extract information from the system.</span></span>

## <a name="long-running-workflow-failures"></a><span data-ttu-id="0de3c-146">Fehler in zeitintensiven Workflows</span><span class="sxs-lookup"><span data-stu-id="0de3c-146">Long-running workflow failures</span></span>

<span data-ttu-id="0de3c-147">Zeitintensive Workflows umfassen häufig mehrere Schritte, die jeweils unabhängig voneinander sein sollten.</span><span class="sxs-lookup"><span data-stu-id="0de3c-147">Long-running workflows often include multiple steps, each of which should be independent.</span></span>

<span data-ttu-id="0de3c-148">Verfolgen Sie den Fortschritt zeitintensiver Prozesse, und um das Risiko zu minimieren, dass der gesamte Workflow rückgängig gemacht werden muss oder mehrere ausgleichende Transaktionen ausgeführt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-148">Track the progress of long-running processes to minimize the likelihood that the entire workflow will need to be rolled back or that multiple compensating transactions will need to be executed.</span></span>

>[!TIP]
> <span data-ttu-id="0de3c-149">Überwachen und verwalten Sie den Status von zeitintensiven Workflows, indem Sie ein Muster wie das [Scheduler-Agent-Supervisor](../patterns/scheduler-agent-supervisor.md)-Muster implementieren.</span><span class="sxs-lookup"><span data-stu-id="0de3c-149">Monitor and manage the progress of long-running workflows by implementing a pattern such as [Scheduler Agent Supervisor](../patterns/scheduler-agent-supervisor.md).</span></span>

## <a name="application-logs"></a><span data-ttu-id="0de3c-150">Anwendungsprotokolle</span><span class="sxs-lookup"><span data-stu-id="0de3c-150">Application logs</span></span>

<span data-ttu-id="0de3c-151">Anwendungsprotokolle sind eine wichtige Quelle für Diagnosedaten.</span><span class="sxs-lookup"><span data-stu-id="0de3c-151">Application logs are an important source of diagnostics data.</span></span> <span data-ttu-id="0de3c-152">Um einen Einblick zu erhalten, wenn es am nötigsten ist, befolgen Sie die bewährten Methoden für die Anwendungsprotokollierung.</span><span class="sxs-lookup"><span data-stu-id="0de3c-152">To gain insight when you need it most, follow best practices for application logging.</span></span>

### <a name="log-data-in-the-production-environment"></a><span data-ttu-id="0de3c-153">Protokollieren von Daten in der Produktionsumgebung</span><span class="sxs-lookup"><span data-stu-id="0de3c-153">Log data in the production environment</span></span>

<span data-ttu-id="0de3c-154">Erfassen Sie zuverlässige Telemetriedaten, während die Anwendung in der Produktionsumgebung ausgeführt wird, damit Sie über ausreichende Informationen verfügen, um die Ursache von Problemen im Produktionsstatus zu diagnostizieren.</span><span class="sxs-lookup"><span data-stu-id="0de3c-154">Capture robust telemetry data while the application is running in the production environment, so you have sufficient information to diagnose the cause of issues in the production state.</span></span>

### <a name="log-events-at-service-boundaries"></a><span data-ttu-id="0de3c-155">Protokollieren von Ereignissen an Dienstgrenzen</span><span class="sxs-lookup"><span data-stu-id="0de3c-155">Log events at service boundaries</span></span>

<span data-ttu-id="0de3c-156">Binden Sie eine Korrelations-ID ein, die über Dienstgrenzen hinweg gilt.</span><span class="sxs-lookup"><span data-stu-id="0de3c-156">Include a correlation ID that flows across service boundaries.</span></span> <span data-ttu-id="0de3c-157">Wenn eine Transaktion mehrere Dienste durchläuft und einer davon ausfällt, können Sie anhand der Korrelations-ID Anforderungen über Ihre Anwendung hinweg verfolgen und ermitteln, warum es zum Transaktionsfehler gekommen ist.</span><span class="sxs-lookup"><span data-stu-id="0de3c-157">If a transaction flows through multiple services and one of them fails, the correlation ID helps you track requests across your application and pinpoints why the transaction failed.</span></span>

### <a name="use-semantic-structured-logging"></a><span data-ttu-id="0de3c-158">Verwenden der semantischen (strukturierten) Protokollierung</span><span class="sxs-lookup"><span data-stu-id="0de3c-158">Use semantic (structured) logging</span></span>

<span data-ttu-id="0de3c-159">Strukturierte Protokolle erleichtern die Automatisierung des Verbrauchs und der Analyse von Protokolldaten, was besonders wichtig auf Cloudebene ist.</span><span class="sxs-lookup"><span data-stu-id="0de3c-159">With structured logs, it's easier to automate the consumption and analysis of the log data, which is especially important at cloud scale.</span></span> <span data-ttu-id="0de3c-160">Im Allgemeinen wird empfohlen, Azure-Ressourcenmetriken und Diagnosedaten in einem Log Analytics-Arbeitsbereich und nicht in einem Speicherkonto zu speichern.</span><span class="sxs-lookup"><span data-stu-id="0de3c-160">Generally, we recommend storing Azure resources metrics and diagnostics data in a Log Analytics workspace rather than in a storage account.</span></span> <span data-ttu-id="0de3c-161">Auf diese Weise können Sie die gewünschten Daten mit Kusto-Abfragen schnell und in einem strukturierten Format abrufen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-161">This way, you can use Kusto queries to obtain the data you want quickly and in a structured format.</span></span> <span data-ttu-id="0de3c-162">Sie können auch Azure Monitor-APIs und Azure Log Analytics-APIs verwenden.</span><span class="sxs-lookup"><span data-stu-id="0de3c-162">You can also use Azure Monitor APIs and Azure Log Analytics APIs.</span></span>

### <a name="use-asynchronous-logging"></a><span data-ttu-id="0de3c-163">Verwenden der asynchronen Protokollierung</span><span class="sxs-lookup"><span data-stu-id="0de3c-163">Use asynchronous logging</span></span>

<span data-ttu-id="0de3c-164">Synchrone Protokollierungsvorgänge blockieren manchmal Ihren Anwendungscode und führen zu Sicherungsanforderungen beim Schreiben von Protokollen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-164">Synchronous logging operations sometimes block your application code, causing requests to back up as logs are written.</span></span> <span data-ttu-id="0de3c-165">Verwenden Sie die asynchrone Protokollierung, um die Verfügbarkeit während der Anwendungsprotokollierung aufrecht zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="0de3c-165">Use asynchronous logging to preserve availability during application logging.</span></span>

### <a name="separate-application-logging-from-auditing"></a><span data-ttu-id="0de3c-166">Trennen der Anwendungsprotokollierung von der Überwachung</span><span class="sxs-lookup"><span data-stu-id="0de3c-166">Separate application logging from auditing</span></span>

<span data-ttu-id="0de3c-167">Überwachungsdatensätze werden üblicherweise aufgrund von Compliance- oder regulatorischen Anforderungen gepflegt und müssen vollständig sein.</span><span class="sxs-lookup"><span data-stu-id="0de3c-167">Audit records are commonly maintained for compliance or regulatory requirements and must be complete.</span></span> <span data-ttu-id="0de3c-168">Um abgebrochene Transaktionen zu vermeiden, verwalten Sie Überwachungsprotokolle getrennt von Diagnoseprotokollen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-168">To avoid dropped transactions, maintain audit logs separately from diagnostic logs.</span></span>

## <a name="remote-call-statistics"></a><span data-ttu-id="0de3c-169">Statistiken zu Remoteaufrufen</span><span class="sxs-lookup"><span data-stu-id="0de3c-169">Remote call statistics</span></span>

<span data-ttu-id="0de3c-170">Sie sollten Statistiken zu Remoteaufrufen in Echtzeit nachverfolgen und melden und eine einfache Möglichkeit bieten, diese Informationen zu überprüfen, damit das Betriebsteam über unmittelbare Einblicke in die Integrität Ihrer Anwendung verfügt.</span><span class="sxs-lookup"><span data-stu-id="0de3c-170">Track and report remote call statistics in real time and provide an easy way to review this information, so the operations team has an instantaneous view into the health of your application.</span></span> <span data-ttu-id="0de3c-171">Fassen Sie Metriken zu Remoteaufrufen wie Latenz, Durchsatz und Fehler in den 99 und 95 Quantilen zusammen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-171">Summarize remote call metrics, such as latency, throughput, and errors in the 99 and 95 percentiles.</span></span>

## <a name="transient-exceptions-and-retries"></a><span data-ttu-id="0de3c-172">Vorübergehende Ausnahmen und Wiederholungen</span><span class="sxs-lookup"><span data-stu-id="0de3c-172">Transient exceptions and retries</span></span>

<span data-ttu-id="0de3c-173">Verfolgen Sie die Anzahl der vorübergehenden Ausnahmen und Wiederholungen im Zeitverlauf, um Probleme oder Ausfälle in der Wiederholungslogik Ihrer Anwendung aufzudecken.</span><span class="sxs-lookup"><span data-stu-id="0de3c-173">Track the number of transient exceptions and retries over time to uncover issues or failures in your application's retry logic.</span></span> <span data-ttu-id="0de3c-174">Ein Trend zunehmender Ausnahmen im Zeitverlauf weist darauf hin, dass der Dienst möglicherweise ein Problem hat und ausfallen kann.</span><span class="sxs-lookup"><span data-stu-id="0de3c-174">A trend of increasing exceptions over time may indicate that the service is having an issue and may fail.</span></span> <span data-ttu-id="0de3c-175">Weitere Informationen finden Sie unter [Anleitung zu dienstspezifischen Wiederholungsmechanismen](../best-practices/retry-service-specific.md).</span><span class="sxs-lookup"><span data-stu-id="0de3c-175">For more information, see [Retry service specific guidance](../best-practices/retry-service-specific.md).</span></span>

## <a name="early-warning-system"></a><span data-ttu-id="0de3c-176">Frühwarnsystem</span><span class="sxs-lookup"><span data-stu-id="0de3c-176">Early warning system</span></span>

<span data-ttu-id="0de3c-177">Überwachen Sie Ihre Anwendung auf Warnsignale, die möglicherweise proaktive Eingriffe nötig machen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-177">Monitor your application for warning signs that might require proactive intervention.</span></span> <span data-ttu-id="0de3c-178">Tools, die die allgemeine Integrität der Anwendung und ihrer Abhängigkeiten bewerten, helfen Ihnen, schnell zu erkennen, wenn ein System oder seine Komponenten plötzlich nicht mehr verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="0de3c-178">Tools that assess the overall health of the application and its dependencies help you to recognize quickly when a system or its components suddenly become unavailable.</span></span> <span data-ttu-id="0de3c-179">Verwenden Sie diese Tools, um ein Frühwarnsystem zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="0de3c-179">Use them to implement an early warning system.</span></span>

1. <span data-ttu-id="0de3c-180">Identifizieren Sie Key Performance Indicators für die Integrität Ihrer Anwendung, z.B. vorübergehende Ausnahmen und Latenz von Remoteaufrufen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-180">Identify the key performance indicators of your application's health, such as transient exceptions and remote call latency.</span></span>
1. <span data-ttu-id="0de3c-181">Legen Sie Schwellenwerte auf Ebenen fest, auf denen Probleme identifiziert werden, bevor sie kritisch werden und eine Wiederherstellung erfordern.</span><span class="sxs-lookup"><span data-stu-id="0de3c-181">Set thresholds at levels that identify issues before they become critical and require a recovery response.</span></span>
1. <span data-ttu-id="0de3c-182">Senden Sie eine Warnung an Operatoren, wenn der Schwellenwert erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="0de3c-182">Send an alert to operations when the threshold value is reached.</span></span>

<span data-ttu-id="0de3c-183">Ziehen Sie die Verwendung von [Microsoft System Center 2016](https://www.microsoft.com/cloud-platform/system-center) oder Drittanbietertools in Betracht, um Überwachungsfunktionen bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-183">Consider [Microsoft System Center 2016](https://www.microsoft.com/cloud-platform/system-center) or third-party tools to provide monitoring capabilities.</span></span> <span data-ttu-id="0de3c-184">Die meisten Überwachungslösungen verfolgen wichtige Leistungsindikatoren und die Verfügbarkeit von Diensten.</span><span class="sxs-lookup"><span data-stu-id="0de3c-184">Most monitoring solutions track key performance counters and service availability.</span></span> <span data-ttu-id="0de3c-185">[Azure Resource Health](/azure/service-health/resource-health-checks-resource-types) stellt einige integrierte Integritätsstatusüberprüfungen bereit, die dabei helfen können, die Drosselung von Azure-Diensten zu diagnostizieren.</span><span class="sxs-lookup"><span data-stu-id="0de3c-185">[Azure resource health](/azure/service-health/resource-health-checks-resource-types) provides some built-in health status checks, which can help diagnose throttling of Azure services.</span></span>

## <a name="subscription-and-service-limitations"></a><span data-ttu-id="0de3c-186">Abonnements und Diensteinschränkungen</span><span class="sxs-lookup"><span data-stu-id="0de3c-186">Subscription and service limitations</span></span>

<span data-ttu-id="0de3c-187">Bei Azure-Abonnements gelten Grenzwerte für bestimmte Ressourcentypen. Hierzu zählt beispielsweise die Anzahl von Ressourcengruppen, Kernen und Speicherkonten.</span><span class="sxs-lookup"><span data-stu-id="0de3c-187">Azure subscriptions have limits on certain resource types, such as number of resource groups, cores, and storage accounts.</span></span> <span data-ttu-id="0de3c-188">Um sicherzustellen, dass Ihre Anwendung die Einschränkungen für Azure-Abonnements nicht überschreitet, erstellen Sie Warnungen, die für Dienste ausgelöst werden, deren Grenzen und Kontingente demnächst erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="0de3c-188">To ensure that your application doesn't run up against Azure subscription limits, create alerts that poll for services nearing their limits and quotas.</span></span>

<span data-ttu-id="0de3c-189">Erstellen Sie dabei Warnungen für die folgenden Abonnementgrenzen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-189">Address the following subscription limits with alerts.</span></span>

### <a name="individual-services"></a><span data-ttu-id="0de3c-190">Einzelne Dienste</span><span class="sxs-lookup"><span data-stu-id="0de3c-190">Individual services</span></span>

<span data-ttu-id="0de3c-191">Für einzelne Azure-Dienste gelten Nutzungsgrenzwerte für Speicher, Durchsatz, die Anzahl der Verbindungen, Anforderungen pro Sekunde und weitere Metriken.</span><span class="sxs-lookup"><span data-stu-id="0de3c-191">Individual Azure services have consumption limits on storage, throughput, number of connections, requests per second, and other metrics.</span></span> <span data-ttu-id="0de3c-192">Ihre Anwendung schlägt fehl, wenn sie versucht, Ressourcen außerhalb dieser Grenzen zu nutzen, was zu Dienstdrosselung und möglichen Ausfallzeiten führt.</span><span class="sxs-lookup"><span data-stu-id="0de3c-192">Your application will fail if it attempts to use resources beyond these limits, resulting in service throttling and possible downtime.</span></span>

<span data-ttu-id="0de3c-193">Abhängig vom spezifischen Dienst und den Anforderungen Ihrer Anwendung können Sie häufig durch zentrales Hochskalieren (z.B. die Auswahl eines anderen Tarifs) oder horizontales Skalieren (Hinzufügen neuer Instanzen) unterhalb dieser Grenzwerte bleiben.</span><span class="sxs-lookup"><span data-stu-id="0de3c-193">Depending on the specific service and your application requirements, you can often stay under these limits by scaling up (choosing another pricing tier, for example) or scaling out (adding new instances).</span></span>

### <a name="azure-storage-scalability-and-performance-targets"></a><span data-ttu-id="0de3c-194">Skalierbarkeits- und Leistungsziele für Azure Storage</span><span class="sxs-lookup"><span data-stu-id="0de3c-194">Azure storage scalability and performance targets</span></span>

<span data-ttu-id="0de3c-195">Azure erlaubt eine maximale Anzahl von Speicherkonten pro Abonnement.</span><span class="sxs-lookup"><span data-stu-id="0de3c-195">Azure allows a maximum number of storage accounts per subscription.</span></span> <span data-ttu-id="0de3c-196">Wenn Ihre Anwendung mehr Speicherkonten erfordert, als derzeit in Ihrem Abonnement verfügbar sind, müssen Sie ein neues Abonnement mit zusätzlichen Speicherkonten erstellen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-196">If your application requires more storage accounts than are currently available in your subscription, create a new subscription with additional storage accounts.</span></span> <span data-ttu-id="0de3c-197">Weitere Informationen finden Sie unter [Grenzwerte für Azure-Abonnements, -Dienste und -Kontingente sowie allgemeine Beschränkungen](/azure/azure-subscription-service-limits/#storage-limits).</span><span class="sxs-lookup"><span data-stu-id="0de3c-197">For more information, see [Azure subscription and service limits, quotas, and constraints](/azure/azure-subscription-service-limits/#storage-limits).</span></span>

<span data-ttu-id="0de3c-198">Wenn Sie diese Skalierbarkeits- und Leistungsziele für Azure Storage überschreiten, wird für Ihre Anwendung der Speicher eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="0de3c-198">If you exceed Azure storage scalability and performance targets, your application will experience storage throttling.</span></span> <span data-ttu-id="0de3c-199">Weitere Informationen finden Sie unter [Skalierbarkeits- und Leistungsziele für Azure Storage](/azure/storage/storage-scalability-targets/).</span><span class="sxs-lookup"><span data-stu-id="0de3c-199">For more information, see [Azure Storage scalability and performance targets](/azure/storage/storage-scalability-targets/).</span></span>

### <a name="scalability-targets-for-virtual-machine-disks"></a><span data-ttu-id="0de3c-200">Skalierbarkeitsziele für Festplatten virtueller Computer</span><span class="sxs-lookup"><span data-stu-id="0de3c-200">Scalability targets for virtual machine disks</span></span>

<span data-ttu-id="0de3c-201">Eine Azure-IaaS-VM (Infrastructure-as-a-Service) unterstützt das Anfügen von mehreren Datenträgern. Dies ist abhängig von verschiedenen Faktoren wie der VM-Größe und des Speicherkontotyps.</span><span class="sxs-lookup"><span data-stu-id="0de3c-201">An Azure infrastructure as a service (IaaS) VM supports attaching a number of data disks, depending on several factors, including the VM size and the type of storage account.</span></span> <span data-ttu-id="0de3c-202">Wenn Ihre Anwendung die Skalierbarkeitsziele für VM-Datenträger überschreitet, stellen Sie zusätzliche Speicherkonten für die VM-Datenträger bereit.</span><span class="sxs-lookup"><span data-stu-id="0de3c-202">If your application exceeds the scalability targets for virtual machine disks, provision additional storage accounts and create the virtual machine disks there.</span></span> <span data-ttu-id="0de3c-203">Weitere Informationen finden Sie unter [Skalierbarkeits- und Leistungsziele für Azure Storage](/azure/storage/storage-scalability-targets/#scalability-targets-for-virtual-machine-disks).</span><span class="sxs-lookup"><span data-stu-id="0de3c-203">For more information, see [Azure Storage scalability and performance targets](/azure/storage/storage-scalability-targets/#scalability-targets-for-virtual-machine-disks).</span></span>

### <a name="vm-size"></a><span data-ttu-id="0de3c-204">Größe des virtuellen Computers</span><span class="sxs-lookup"><span data-stu-id="0de3c-204">VM size</span></span>

<span data-ttu-id="0de3c-205">Wenn die tatsächlichen Werte von CPU, Arbeitsspeicher, Datenträger und E/A Ihrer VMs sich den Grenzen der VM-Größe nähern, kann es in Ihrer Anwendung zu Kapazitätsproblemen kommen.</span><span class="sxs-lookup"><span data-stu-id="0de3c-205">If the actual CPU, memory, disk, and I/O of your VMs approach the limits of the VM size, your application may experience capacity issues.</span></span> <span data-ttu-id="0de3c-206">Um die Probleme zu beheben, erhöhen Sie die VM-Größe.</span><span class="sxs-lookup"><span data-stu-id="0de3c-206">To correct the issues, increase the VM size.</span></span> <span data-ttu-id="0de3c-207">VM-Größen werden unter [Größen für virtuelle Computer in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) beschrieben.</span><span class="sxs-lookup"><span data-stu-id="0de3c-207">VM sizes are described in [Sizes for virtual machines in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="0de3c-208">Wenn Ihre Workload im Zeitverlauf schwankt, sollten Sie die Verwendung von VM-Skalierungsgruppen in Betracht ziehen, um die Anzahl der VM-Instanzen automatisch zu skalieren.</span><span class="sxs-lookup"><span data-stu-id="0de3c-208">If your workload fluctuates over time, consider using virtual machine scale sets to automatically scale the number of VM instances.</span></span> <span data-ttu-id="0de3c-209">Andernfalls müssen Sie die VM-Anzahl manuell erhöhen oder verringern.</span><span class="sxs-lookup"><span data-stu-id="0de3c-209">Otherwise, you need to manually increase or decrease the number of VMs.</span></span> <span data-ttu-id="0de3c-210">Weitere Informationen finden Sie unter [Übersicht über VM-Skalierungsgruppen](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/).</span><span class="sxs-lookup"><span data-stu-id="0de3c-210">For more information, see the [virtual machine scale sets overview](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/).</span></span>

### <a name="azure-sql-database"></a><span data-ttu-id="0de3c-211">Azure SQL-Datenbank</span><span class="sxs-lookup"><span data-stu-id="0de3c-211">Azure SQL Database</span></span>

<span data-ttu-id="0de3c-212">Wenn Ihre Azure SQL-Datenbankebene die Anforderungen Ihrer Anwendung an die Datenbanktransaktionseinheiten (DTU) nicht verarbeiten kann, wird die Datenverwendung eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="0de3c-212">If your Azure SQL Database tier isn't adequate to handle your application's Database Transaction Unit (DTU) requirements, your data use will be throttled.</span></span> <span data-ttu-id="0de3c-213">Weitere Informationen zur Auswahl des korrekten Dienstplans finden Sie unter [Azure SQL-Datenbankkaufmodelle](/azure/sql-database/sql-database-service-tiers/).</span><span class="sxs-lookup"><span data-stu-id="0de3c-213">For more information on selecting the correct service plan, see [Azure SQL Database purchasing models](/azure/sql-database/sql-database-service-tiers/).</span></span>

## <a name="third-party-services"></a><span data-ttu-id="0de3c-214">Dienste von Drittanbietern</span><span class="sxs-lookup"><span data-stu-id="0de3c-214">Third-party services</span></span>

<span data-ttu-id="0de3c-215">Wenn Ihre Anwendung Abhängigkeiten von den Diensten von Drittanbietern aufweist, identifizieren Sie, wie Fehler in diesen Diensten auftreten können und welche Auswirkungen diese Fehler auf die Anwendung haben.</span><span class="sxs-lookup"><span data-stu-id="0de3c-215">If your application has dependencies on third-party services, identify how these services can fail and what effect failures will have on your application.</span></span>

<span data-ttu-id="0de3c-216">Der Dienst eines Drittanbieters weist möglicherweise keine Überwachungs- und Diagnosefunktionen auf.</span><span class="sxs-lookup"><span data-stu-id="0de3c-216">A third-party service might not include monitoring and diagnostics.</span></span> <span data-ttu-id="0de3c-217">Protokollieren Sie Aufrufe an diese Dienste, und korrelieren Sie sie unter Verwendung eines eindeutigen Bezeichners mit der Integrität und der Diagnoseprotokollierung Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="0de3c-217">Log calls to these services and correlate them with your application's health and diagnostic logging using a unique identifier.</span></span> <span data-ttu-id="0de3c-218">Weitere Informationen zu bewährten Verfahren für Überwachung und Diagnose finden Sie unter [Anleitung zur Überwachung und Diagnose](../best-practices/monitoring.md).</span><span class="sxs-lookup"><span data-stu-id="0de3c-218">For more information on proven practices for monitoring and diagnostics, see [Monitoring and diagnostics guidance](../best-practices/monitoring.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="0de3c-219">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="0de3c-219">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="0de3c-220">Planen der Wiederherstellung im Notfall</span><span class="sxs-lookup"><span data-stu-id="0de3c-220">Plan for disaster recovery</span></span>](./disaster-recovery.md)
