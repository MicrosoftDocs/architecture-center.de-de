---
title: 'Governance-Entwurfshandbuch: Neue Entwicklung in Azure für mehrere Teams'
description: Enthält eine Anleitung zum Konfigurieren von Azure-Governance-Kontrollen für mehrere Teams, mehrere Workloads und mehrere Umgebungen.
author: petertay
ms.openlocfilehash: 05f1f9bb24af4f4da55b15c1aca2c71bc0b65411
ms.sourcegitcommit: b3d74d8a89b2224fc796ce0e89cea447af43a0d4
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 06/11/2018
ms.locfileid: "35291159"
---
# <a name="governance-design-guide-new-development-in-azure-for-multiple-teams"></a><span data-ttu-id="e3fe2-103">Governance-Entwurfshandbuch: Neue Entwicklung in Azure für mehrere Teams</span><span class="sxs-lookup"><span data-stu-id="e3fe2-103">Governance design guide: new development in Azure for multiple teams</span></span>

<span data-ttu-id="e3fe2-104">Der Zweck dieser Anleitung besteht darin, dass Sie sich mit dem Prozess für das Entwerfen eines Modells zur Ressourcenkontrolle (Governance) in Azure vertraut machen können.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-104">The goal of this guidance is to help you learn the process for designing a resource governance model in Azure.</span></span>  <span data-ttu-id="e3fe2-105">Wir sehen uns eine Reihe von hypothetischen Governance-Anforderungen an und gehen dann mehrere Beispielimplementierungen durch, die diese Anforderungen erfüllen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-105">We'll look at a set of hypothetical governance requirements, then go through several example implementations that satisfy those requirements.</span></span> 

<span data-ttu-id="e3fe2-106">Hierfür bestehen die folgenden Anforderungen:</span><span class="sxs-lookup"><span data-stu-id="e3fe2-106">Our requirements are:</span></span>
* <span data-ttu-id="e3fe2-107">Identitätsverwaltung für mehrere Teams mit verschiedenen Anforderungen an den Ressourcenzugriff in Azure.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-107">Identity management for multiple teams with different resource access requirements in Azure.</span></span> <span data-ttu-id="e3fe2-108">Im System für die Identitätsverwaltung wird die Identität der folgenden Benutzer gespeichert:</span><span class="sxs-lookup"><span data-stu-id="e3fe2-108">The identity management system stores the identity of the following users:</span></span>
  1. <span data-ttu-id="e3fe2-109">Die Person in unserer Organisation, die für den Besitz von **Abonnements** verantwortlich ist.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-109">The individual in our organization responsible for ownership of **subscriptions**.</span></span>
  2. <span data-ttu-id="e3fe2-110">Die Person in unserer Organisation, die für die **Ressourcen der freigegebenen Infrastruktur** verantwortlich ist, über die für unser lokales Netzwerk eine Verbindung mit einem virtuellen Azure-Netzwerk hergestellt wird.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-110">The individual in our organization responsible for the **shared infrastructure resources** used to connect our on-premises network to an Azure virtual network.</span></span> 
  3. <span data-ttu-id="e3fe2-111">Zwei Personen unserer Organisation, die für die Verwaltung einer **Workload** verantwortlich sind.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-111">Two individuals in our organization responsible for managing a **workload**.</span></span> 
* <span data-ttu-id="e3fe2-112">Unterstützung für mehrere **Umgebungen**.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-112">Support for multiple **environments**.</span></span> <span data-ttu-id="e3fe2-113">Wie bereits beschrieben, ist eine Umgebung eine logische Gruppierung von Ressourcen mit ähnlichen Verwaltungs- und Sicherheitsanforderungen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-113">As you learned earlier, an environment is a logical grouping of resources with similar management and security requirements.</span></span> <span data-ttu-id="e3fe2-114">Hier sind drei Umgebungen erforderlich:</span><span class="sxs-lookup"><span data-stu-id="e3fe2-114">We require three environments:</span></span>
  1. <span data-ttu-id="e3fe2-115">Eine **Umgebung mit freigegebener Infrastruktur** mit Ressourcen, die von Workloads in anderen Umgebungen freigegeben werden.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-115">A **shared infrastructure environment** that includes resources shared by workloads in other environments.</span></span> <span data-ttu-id="e3fe2-116">Beispiel: Ein virtuelles Netzwerk mit einem Gatewaysubnetz, das die Konnektivität für die lokale Umgebung bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-116">For example, a virtual network with a gateway subnet that provides connectivity to on-premises.</span></span>
  2. <span data-ttu-id="e3fe2-117">Eine **Produktionsumgebung** mit den restriktivsten Sicherheitsrichtlinien.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-117">A **production environment** with the most restrictive security policies.</span></span> <span data-ttu-id="e3fe2-118">Sie kann interne oder externe Workloads umfassen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-118">May include internal or external facing workloads.</span></span>
  3. <span data-ttu-id="e3fe2-119">Eine **Entwicklungsumgebung** für Proof-of-Concept- und Testarbeiten.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-119">A **development environment** for proof-of-concept and testing work.</span></span> <span data-ttu-id="e3fe2-120">Diese Umgebung verfügt über Richtlinien für die Bereiche Sicherheit, Konformität und Kosten, die sich von den Richtlinien in der Produktionsumgebung unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-120">This environment has security, compliance, and cost policies that differ from those in the production environment.</span></span>
* <span data-ttu-id="e3fe2-121">Ein **Berechtigungsmodell der geringsten Berechtigung**, bei dem Benutzer standardmäßig nicht über Berechtigungen verfügen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-121">A **permissions model of least privilege** in which users have no permissions by default.</span></span> <span data-ttu-id="e3fe2-122">Das Modell muss Folgendes unterstützen:</span><span class="sxs-lookup"><span data-stu-id="e3fe2-122">The model must support the following:</span></span>
  * <span data-ttu-id="e3fe2-123">Einen einzelnen vertrauenswürdigen Benutzer im Abonnementbereich mit Berechtigung zum Zuweisen von Ressourcenzugriffsrechten.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-123">A single trusted user at the subscription scope with permission to assign resource access rights.</span></span>
  * <span data-ttu-id="e3fe2-124">Für jeden Workloadbesitzer wird der Zugriff auf Ressourcen standardmäßig erst einmal verweigert.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-124">Each workload owner is denied access to resources by default.</span></span> <span data-ttu-id="e3fe2-125">Ressourcenzugriffsrechte werden explizit jeweils vom alleinigen vertrauenswürdigen Benutzer des Abonnementbereichs gewährt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-125">Resource access rights are granted explicitly by the single trusted user at the subscription scope.</span></span>
  * <span data-ttu-id="e3fe2-126">Der Verwaltungszugriff für die Ressourcen der freigegebenen Infrastruktur ist auf den Besitzer der freigegebenen Infrastruktur beschränkt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-126">Management access for the shared infrastructure resources limited to the shared infrastructure owner.</span></span>  
  * <span data-ttu-id="e3fe2-127">Der Verwaltungszugriff für jede Workload ist jeweils auf den Workloadbesitzer beschränkt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-127">Management access for each workload restricted to the workload owner.</span></span>
  * <span data-ttu-id="e3fe2-128">Ausschließliche Verwendung von [integrierten RBAC-Rollen][rbac-built-in-roles].</span><span class="sxs-lookup"><span data-stu-id="e3fe2-128">Use of [built-in RBAC roles][rbac-built-in-roles] only.</span></span> <span data-ttu-id="e3fe2-129">Keine benutzerdefinierten RBAC-Rollen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-129">No custom RBAC roles.</span></span>
* <span data-ttu-id="e3fe2-130">Nachverfolgung von Kosten nach Name des Workloadbesitzers, Umgebung oder beidem.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-130">Cost tracking by workload owner name, environment, or both.</span></span> 

## <a name="identity-management"></a><span data-ttu-id="e3fe2-131">Identitätsverwaltung</span><span class="sxs-lookup"><span data-stu-id="e3fe2-131">Identity management</span></span>

<span data-ttu-id="e3fe2-132">Bevor wir die Identitätsverwaltung für unser Governance-Modell entwerfen können, ist es wichtig, die vier damit verbundenen Hauptbereiche zu verstehen:</span><span class="sxs-lookup"><span data-stu-id="e3fe2-132">Before we can design identity management for our governance model, it's important to understand the four major areas it encompasses:</span></span>

* <span data-ttu-id="e3fe2-133">Verwaltung: Die Prozesse und Tools zum Erstellen, Bearbeiten und Löschen der Benutzeridentität.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-133">Administration: the processes and tools for creating, editing, and deleting user identity.</span></span>
* <span data-ttu-id="e3fe2-134">Authentifizierung: Die Überprüfung der Benutzeridentität durch das Verifizieren der Anmeldeinformationen, z.B. Benutzername und Kennwort.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-134">Authentication: verifying user identity by validating credentials, such as a user name and password.</span></span>
* <span data-ttu-id="e3fe2-135">Autorisierung: Die Ermittlung, auf welche Ressourcen ein authentifizierter Benutzer zugreifen darf oder für welche Vorgänge die Berechtigung zur Durchführung vorliegt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-135">Authorization: determining which resources an authenticated user is allowed to access or what operations they have permission to perform.</span></span>
* <span data-ttu-id="e3fe2-136">Überwachung: Regelmäßige Überprüfung von Protokollen und anderen Informationen, um Sicherheitsprobleme in Bezug auf die Benutzeridentität zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-136">Auditing: periodically reviewing logs and other information to discover security issues related to user identity.</span></span> <span data-ttu-id="e3fe2-137">Hierzu gehören das Überprüfen von verdächtigen Nutzungsmustern, das regelmäßige Überprüfen von Benutzerberechtigungen, um deren Richtigkeit sicherzustellen, und andere Funktionen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-137">This includes reviewing suspicious usage patterns, periodically reviewing user permissions to verify they are accurate, and other functions.</span></span>

<span data-ttu-id="e3fe2-138">Für Azure gilt in Bezug auf die Identität nur ein Dienst als vertrauenswürdig: Azure Active Directory (AAD).</span><span class="sxs-lookup"><span data-stu-id="e3fe2-138">There is only one service trusted by Azure for identity, and that is Azure Active Directory (AD).</span></span> <span data-ttu-id="e3fe2-139">Wir fügen Azure AD Benutzer hinzu und verwenden diese für alle oben aufgeführten Funktionen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-139">We'll be adding users to Azure AD and using it for all of the functions listed above.</span></span> <span data-ttu-id="e3fe2-140">Bevor wir uns die Vorgehensweise zur Konfiguration von Azure AD ansehen, sollten Sie mit den privilegierten Konten vertraut sein, die zum Verwalten des Zugriffs auf diese Dienste verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-140">But before we look at how we'll configure Azure AD, it's important to understand the privileged accounts that are used to manage access to these services.</span></span>

<span data-ttu-id="e3fe2-141">Wenn sich Ihre Organisation für ein Azure-Konto registriert hat, wurden mindestens ein Azure-**Kontobesitzer** und ein Azure AD-**Mandant** erstellt, falls für Ihre Organisation zur Nutzung von anderen Microsoft-Diensten, z.B. Office 365, nicht bereits ein Azure AD-Mandant zugeordnet war.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-141">When your organization signed up for an Azure account, at least one Azure **account owner** was assigned and an Azure AD **tenant** was created if there was not already an Azure AD tenant associated with your organization's use of other Microsoft services such as Office 365.</span></span> <span data-ttu-id="e3fe2-142">Ein **globaler Administrator** mit vollständigen Berechtigungen auf dem Azure AD-Mandanten wurde während der Erstellung zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-142">A **global administrator** with full permissions on the Azure AD tenant was associated when it was created.</span></span> 

<span data-ttu-id="e3fe2-143">Sowohl die Benutzeridentität des Azure-Kontobesitzers als auch des globalen Azure AD-Administrators wird in einem hochgradig sicheren Identitätssystem gespeichert, das von Microsoft verwaltet wird.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-143">Both of the Azure Account Owner and Azure AD global administrator user identities are stored in a highly secure identity system that is managed by Microsoft.</span></span> <span data-ttu-id="e3fe2-144">Der Azure-Kontobesitzer ist dazu berechtigt, Abonnements zu erstellen, zu aktualisieren und zu löschen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-144">The Azure Account Owner is authorized to create, update, and delete subscriptions.</span></span> <span data-ttu-id="e3fe2-145">Der globale Azure AD-Administrator ist zur Durchführung von vielen Aktionen in Azure AD berechtigt, aber in diesem Entwurfshandbuch konzentrieren wir uns auf das Erstellen und Löschen der Benutzeridentität.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-145">The Azure AD global administrator is authorized to perform many actions in Azure AD, but for this design guide we'll focus on the creation and deletion of user identity.</span></span> 

> [!NOTE]
> <span data-ttu-id="e3fe2-146">Unter Umständen verfügt Ihre Organisation bereits über einen Azure AD-Mandanten, falls Ihrem Konto eine vorhandene Office 365- oder Intune-Lizenz zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-146">Your organization may already have an existing Azure AD tenant if there's an existing Office 365 or Intune license associated with your account.</span></span>

<span data-ttu-id="e3fe2-147">Der Azure-Kontobesitzer verfügt über die Berechtigung zum Erstellen, Aktualisieren und Löschen von Abonnements:</span><span class="sxs-lookup"><span data-stu-id="e3fe2-147">The Azure Account Owner has permission to create, update, and delete subscriptions:</span></span> 

<span data-ttu-id="e3fe2-148">![Azure-Konto mit Azure-Konto-Manager und globalem Azure AD-Administrator](../_images/governance-3-0.png)
*Abbildung 1: Azure-Konto mit einem Azure-Konto-Manager und globalem Azure AD-Administrator*</span><span class="sxs-lookup"><span data-stu-id="e3fe2-148">![Azure account with Azure Account Manager and Azure AD global admin](../_images/governance-3-0.png)
*Figure 1. An Azure account with an Account Manager and Azure AD Global Administrator.*</span></span>

<span data-ttu-id="e3fe2-149">Der globale Azure AD-**Administrator** verfügt über die Berechtigung zum Erstellen von Benutzerkonten:</span><span class="sxs-lookup"><span data-stu-id="e3fe2-149">The Azure AD **global administrator** has permission to create user accounts:</span></span>  

<span data-ttu-id="e3fe2-150">![Azure-Konto mit Azure-Konto-Manager und globalem Azure AD-Administrator](../_images/governance-3-0a.png)
*Abbildung 2: Der globale Azure AD-Administrator erstellt die erforderlichen Benutzerkonten im Mandanten.*</span><span class="sxs-lookup"><span data-stu-id="e3fe2-150">![Azure account with Azure Account Manager and Azure AD global admin](../_images/governance-3-0a.png)
*Figure 2. The Azure AD Global Administrator creates the required user accounts in the tenant.*</span></span>

<span data-ttu-id="e3fe2-151">Die ersten beiden Konten, **App1-Workloadbesitzer** und **App2-Workloadbesitzer**, sind jeweils einer Person in unserer Organisation zugeordnet, die für die Verwaltung einer Workload verantwortlich ist.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-151">The first two accounts, **App1 Workload Owner** and **App2 Workload Owner** are each associated with an individual in our organization responsible for managing a workload.</span></span> <span data-ttu-id="e3fe2-152">Das Konto für den **Netzwerkbetrieb** befindet sich im Besitz der Person, die für die Ressourcen der freigegebenen Infrastruktur verantwortlich ist.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-152">The **network operations** account is owned by the individual that is responsible for the shared infrastructure resources.</span></span> <span data-ttu-id="e3fe2-153">Das Konto für den **Abonnementbesitzer** ist der Person zugeordnet, die für den Besitz von Abonnements verantwortlich ist.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-153">Finally, the **subscription owner** account is associated with the individual responsible for ownership of subscriptions.</span></span>

## <a name="resource-access-permissions-model-of-least-privilege"></a><span data-ttu-id="e3fe2-154">Ressourcenzugriff-Berechtigungsmodell der geringsten Berechtigung</span><span class="sxs-lookup"><span data-stu-id="e3fe2-154">Resource access permissions model of least privilege</span></span>

<span data-ttu-id="e3fe2-155">Nachdem wir nun unser Identitätssystem und die Benutzerkonten erstellt haben, muss die Entscheidung getroffen werden, wie die Rollen der rollenbasierten Zugriffssteuerung (Role-Based Access Control, RBAC) auf die einzelnen Konten angewendet werden, um ein Berechtigungsmodell der geringsten Berechtigung zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-155">Now that we have our identity management system and user accounts created, we have to decide how we'll apply role-based access control (RBAC) roles to each account to support a permissions model of least privilege.</span></span>

<span data-ttu-id="e3fe2-156">Die andere Anforderung besteht darin, dass die Ressourcen, die den einzelnen Workloads zugeordnet sind, voneinander isoliert werden, sodass kein Workloadbesitzer über Verwaltungszugriff auf andere Workloads verfügt, die sich nicht in seinem Besitz befinden.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-156">Our other requirement is for the resources associated with each workload be isolated from one another such that no one workload owner has management access to any other workload they do not own.</span></span> <span data-ttu-id="e3fe2-157">Es besteht die Anforderung, dass dieses Modell nur mit [integrierten RBAC-Rollen für Azure][rbac-built-in-roles] implementiert werden darf.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-157">We have a requirement to implement this model using only [built-in roles for Azure RBAC][rbac-built-in-roles].</span></span>

<span data-ttu-id="e3fe2-158">Jede RBAC-Rolle wird in Azure in einem von drei Bereichen angewendet: **Abonnement**, **Ressourcengruppe** und dann für eine einzelne **Ressource**.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-158">Each RBAC role is applied at one of three scopes in Azure: **subscription**, **resource group**, then an individual **resource**.</span></span> <span data-ttu-id="e3fe2-159">Rollen werden an untergeordnete Bereiche vererbt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-159">Roles are inherited at lower scopes.</span></span> <span data-ttu-id="e3fe2-160">Wenn ein Benutzer beispielsweise auf Abonnementebene der [integrierten Rolle „Besitzer“][rbac-built-in-owner] zugewiesen ist, wird diese Rolle dem Benutzer auch auf Ebene der Ressourcengruppe und der einzelnen Ressource zugewiesen, sofern dies nicht außer Kraft gesetzt wird.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-160">For example, if a user is assigned the [built-in owner role][rbac-built-in-owner] at the subscription level, that role is also assigned to that user at the resource group and individual resource level unless it's overridden.</span></span>

<span data-ttu-id="e3fe2-161">Zum Erstellen eines Modells für den Zugriff mit der geringsten Berechtigung müssen wir entscheiden, welche Aktionen ein bestimmter Typ von Benutzer für diese drei Bereiche jeweils durchführen darf.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-161">Therefore, to create a model of least privilege access we have to decide the actions a particular type of user is allowed to take at each of these three scopes.</span></span> <span data-ttu-id="e3fe2-162">Es besteht beispielsweise die Anforderung, dass ein Workloadbesitzer nur über die Berechtigung zum Verwalten des Zugriffs auf die Ressourcen verfügen darf, die seiner Workload zugeordnet sind, und nicht für andere Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-162">For example, our requirement is for a workload owner to have permission to manage access to only the resources associated with their workload and no others.</span></span> <span data-ttu-id="e3fe2-163">Wenn wir die [integrierte Rolle „Besitzer“][rbac-built-in-owner] im Abonnementbereich zuweisen, verfügt jeder Workloadbesitzer über Verwaltungszugriff auf alle Workloads.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-163">If we were to assign the [built-in owner role][rbac-built-in-owner] at the subscription scope, each workload owner would have management access to all workloads.</span></span>

<span data-ttu-id="e3fe2-164">Wir sehen uns zwei Beispiele für Berechtigungsmodelle an, um dieses Konzept etwas besser zu verstehen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-164">Let's take a look at two example permission models to understand this concept a little better.</span></span> <span data-ttu-id="e3fe2-165">Im ersten Beispiel wird in unserem Modell in Bezug auf die Erstellung von Ressourcengruppen nur der Dienstadministrator als vertrauenswürdig angesehen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-165">In the first example, our model trusts only the service administrator to create resource groups.</span></span> <span data-ttu-id="e3fe2-166">Im zweiten Beispiel wird in unserem Modell jedem Workloadbesitzer im Abonnementbereich die integrierte Rolle „Besitzer“ zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-166">In the second example, our model assigns the built-in owner role to each workload owner at the subscription scope.</span></span> 

<span data-ttu-id="e3fe2-167">In beiden Beispielen wird ein Dienstadministrator des Abonnements der [integrierte Rolle „Besitzer“][rbac-built-in-owner] im Abonnementbereich zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-167">In both examples, we have a subscription service administrator that is assigned the [built-in owner role][rbac-built-in-owner] at the subscription scope.</span></span> <span data-ttu-id="e3fe2-168">Wir erinnern uns, dass mit der [integrierte Rolle „Besitzer“][rbac-built-in-owner] alle Berechtigungen gewährt werden, einschließlich des Zugriffs auf Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-168">Recall that the [built-in owner role][rbac-built-in-owner] grants all permissions including the management of access to resources.</span></span>
<span data-ttu-id="e3fe2-169">![Dienstadministrator des Abonnements mit Rolle „Besitzer“](../_images/governance-2-1.png)
*Abbildung 3: Ein Abonnement mit einem Dienstadministrator, dem die integrierte Rolle „Besitzer“ zugewiesen ist.*</span><span class="sxs-lookup"><span data-stu-id="e3fe2-169">![subscription service administrator with owner role](../_images/governance-2-1.png)
*Figure 3. A subscription with a service administrator assigned the built-in owner role.*</span></span> 

1. <span data-ttu-id="e3fe2-170">In unserem ersten Beispiel verfügt **Workloadbesitzer A** über keine Berechtigungen für den Abonnementbereich. Er besitzt standardmäßig keine Verwaltungsrechte für den Ressourcenzugriff.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-170">In our first example, we have **workload owner A** with no permissions at the subscription scope - they have no resource access management rights by default.</span></span> <span data-ttu-id="e3fe2-171">Dieser Benutzer möchte die Ressourcen für seine Workload bereitstellen und verwalten.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-171">This user wants to deploy and manage the resources for their workload.</span></span> <span data-ttu-id="e3fe2-172">Er muss sich an den **Dienstadministrator** wenden, um die Erstellung einer Ressourcengruppe anzufordern.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-172">They must contact the **service administrator** to request creation of a resource group.</span></span>
<span data-ttu-id="e3fe2-173">![Workloadbesitzer fordert Erstellung von Ressourcengruppe A an](../_images/governance-2-2.png)</span><span class="sxs-lookup"><span data-stu-id="e3fe2-173">![workload owner requests creation of resource group A](../_images/governance-2-2.png)</span></span>  

2. <span data-ttu-id="e3fe2-174">Der **Dienstadministrator** prüft die Anforderung und erstellt die **Ressourcengruppe A**. **Workloadbesitzer A** verfügt an diesem Punkt immer noch nicht über Berechtigungen zur Durchführung von Aktionen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-174">The **service administrator** reviews their request and creates **resource group A**. At this point, **workload owner A** still doesn't have permission to do anything.</span></span>
<span data-ttu-id="e3fe2-175">![Dienstadministrator erstellt Ressourcengruppe A](../_images/governance-2-3.png)</span><span class="sxs-lookup"><span data-stu-id="e3fe2-175">![service administrator creates resource group A](../_images/governance-2-3.png)</span></span>

3. <span data-ttu-id="e3fe2-176">Der **Dienstadministrator** fügt **Workloadbesitzer A** der **Ressourcengruppe A** hinzu und weist die [integrierte Rolle „Mitwirkender“](/azure/role-based-access-control/built-in-roles#contributor) zu.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-176">The **service administrator** adds **workload owner A** to **resource group A** and assigns the [built-in contributor role](/azure/role-based-access-control/built-in-roles#contributor).</span></span> <span data-ttu-id="e3fe2-177">Mit der Rolle „Mitwirkender“ werden alle Berechtigungen für **Ressourcengruppe A** gewährt, mit Ausnahme der Berechtigung für die Verwaltung des Zugriffs.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-177">The contributor role grants all permissions on **resource group A** except managing access permission.</span></span>
<span data-ttu-id="e3fe2-178">![Dienstadministrator fügt Workloadbesitzer A der Ressourcengruppe A hinzu](../_images/governance-2-4.png)</span><span class="sxs-lookup"><span data-stu-id="e3fe2-178">![service administrator adds workload owner a to resource group a](../_images/governance-2-4.png)</span></span>

4. <span data-ttu-id="e3fe2-179">Angenommen, für **Workloadbesitzer A** besteht die Anforderung, dass zwei Teammitglieder im Rahmen der Kapazitätsplanung für die Workload die Daten zur Überwachung der CPU und des Netzwerkdatenverkehrs anzeigen müssen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-179">Let's assume that **Workload owner A** has a requirement for a pair of team members to view the CPU and network traffic monitoring data as part of capacity planning for the workload.</span></span> <span data-ttu-id="e3fe2-180">Da **Workloadbesitzer A** die Rolle „Mitwirkender“ zugewiesen wurde, verfügt er nicht über die Berechtigung zum Hinzufügen eines Benutzers zu **Ressourcengruppe A**. Er muss diese Anforderung an den **Dienstadministrator** senden.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-180">Because **workload owner A** is assigned the contributor role, they do not have permission to add a user to **resource group A**. They must send this request to the **service administrator**.</span></span>
<span data-ttu-id="e3fe2-181">![Workloadbesitzer fordert an, dass Mitwirkende der Workload der Ressourcengruppe hinzugefügt werden](../_images/governance-2-5.png)</span><span class="sxs-lookup"><span data-stu-id="e3fe2-181">![workload owner requests workload contributors be added to resource group](../_images/governance-2-5.png)</span></span>

5. <span data-ttu-id="e3fe2-182">Der **Dienstadministrator** überprüft die Anforderung und fügt **Ressourcengruppe A** die beiden **Mitwirkenden der Workload** hinzu. Da für keinen dieser beiden Benutzer eine Berechtigung zum Verwalten von Ressourcen erforderlich ist, wird ihnen die [integrierte Rolle „Leser“](/azure/role-based-access-control/built-in-roles#contributor) zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-182">The **service administrator** reviews the request, and adds the two **workload contributor** users to **resource group A**. Neither of these two users require permission to manage resources, so they are assigned the [built-in reader role](/azure/role-based-access-control/built-in-roles#contributor).</span></span> 
<span data-ttu-id="e3fe2-183">![Dienstadministrator fügt Mitwirkende der Workload der Ressourcengruppe A hinzu](../_images/governance-2-6.png)</span><span class="sxs-lookup"><span data-stu-id="e3fe2-183">![service administrator adds workload contributors to resource group A](../_images/governance-2-6.png)</span></span>

6. <span data-ttu-id="e3fe2-184">Als Nächstes benötigt **Workloadbesitzer B** außerdem eine Ressourcengruppe für die Ressourcen der Workload.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-184">Next, **workload owner B** also requires a resource group to contain the resources for their workload.</span></span> <span data-ttu-id="e3fe2-185">Wie bei **Workloadbesitzer A** auch, verfügt **Workloadbesitzer B** anfänglich nicht über die Berechtigung zur Durchführung einer Aktion im Abonnementbereich, sodass er eine Anforderung an den **Dienstadministrator** senden muss.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-185">As with **workload owner A**, **workload owner B** initially does not have permission to take any action at the subscription scope so they must send a request to the **service administrator**.</span></span> 
<span data-ttu-id="e3fe2-186">![Workloadbesitzer B fordert die Erstellung von Ressourcengruppe B an](../_images/governance-2-7.png)</span><span class="sxs-lookup"><span data-stu-id="e3fe2-186">![workload owner B requests creation of resource group B](../_images/governance-2-7.png)</span></span>

7. <span data-ttu-id="e3fe2-187">Der **Dienstadministrator** prüft die Anforderung und erstellt **Ressourcengruppe B**. ![Dienstadministrator erstellt Ressourcengruppe B](../_images/governance-2-8.png)</span><span class="sxs-lookup"><span data-stu-id="e3fe2-187">The **service administrator** reviews the request and creates **resource group B**. ![Service Administrator creates resource group B](../_images/governance-2-8.png)</span></span>

8. <span data-ttu-id="e3fe2-188">Der **Dienstadministrator** fügt dann **Workloadbesitzer B** der **Ressourcengruppe B** hinzu und weist die [integrierte Rolle „Mitwirkender“](https://docs.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#contributor) zu.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-188">The **service administrator** then adds **workload owner B** to **resource group B** and assigns the [built-in contributor role](https://docs.microsoft.com/en-us/azure/role-based-access-control/built-in-roles#contributor).</span></span> 
<span data-ttu-id="e3fe2-189">![Dienstadministrator fügt Workloadbesitzer B der Ressourcengruppe B hinzu](../_images/governance-2-9.png)</span><span class="sxs-lookup"><span data-stu-id="e3fe2-189">![Service Administrator adds Workload Owner B to resource group B](../_images/governance-2-9.png)</span></span>

<span data-ttu-id="e3fe2-190">An diesem Punkt ist jeder Workloadbesitzer in seiner eigenen Ressourcengruppe isoliert.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-190">At this point, each of the workload owners is isolated in their own resource group.</span></span> <span data-ttu-id="e3fe2-191">Kein Workloadbesitzer oder dessen Teammitglieder verfügen über Verwaltungszugriff auf die Ressourcen in einer anderen Ressourcengruppe.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-191">None of the workload owners or their team members have management access to the resources in any other resource group.</span></span> 

<span data-ttu-id="e3fe2-192">![Abonnement mit Ressourcengruppen A und B](../_images/governance-2-10.png)
*Abbildung 4: Ein Abonnement mit zwei Workloadbesitzern, isoliert in ihrer eigenen Ressourcengruppe*</span><span class="sxs-lookup"><span data-stu-id="e3fe2-192">![subscription with resource groups A and B](../_images/governance-2-10.png)
*Figure 4. A subscription with two workload owners isolated with their own resource group.*</span></span>

<span data-ttu-id="e3fe2-193">Dieses Modell ist ein Modell der geringsten Berechtigung: Jedem Benutzer wird jeweils die richtige Berechtigung für den richtigen Ressourcenverwaltungsbereich zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-193">This model is a least privilege model - each user is assigned the correct permission at the correct resource management scope.</span></span>

<span data-ttu-id="e3fe2-194">Bedenken Sie aber, dass jede Aufgabe in diesem Beispiel vom **Dienstadministrator** durchgeführt wurde.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-194">However, consider that every task in this example was performed by the **service administrator**.</span></span> <span data-ttu-id="e3fe2-195">Dies ist zwar nur ein einfaches Beispiel, und es scheint kein Problem darzustellen, da es nur um zwei Workloadbesitzer geht. Es ist aber leicht vorstellbar, welche Probleme sich für eine große Organisation ergeben können.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-195">While this is a simple example and may not appear to be an issue because there were only two workload owners, it's easy to imagine the types of issues that would result for a large organization.</span></span> <span data-ttu-id="e3fe2-196">Beim **Dienstadministrator** können beispielsweise Engpässe auftreten, wenn sich eine große Zahl von Anforderungen staut und es zu Verzögerungen kommt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-196">For example, the **service administrator** can become a bottleneck with a large backlog of requests that result in delays.</span></span>  

<span data-ttu-id="e3fe2-197">Wir sehen uns nun das zweite Beispiel an, bei dem die Anzahl von Aufgaben reduziert wird, die vom **Dienstadministrator** durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-197">Let's take a look at second example that reduces the number of tasks performed by the **service administrator**.</span></span> 

1. <span data-ttu-id="e3fe2-198">Bei diesem Modell wird **Workloadbesitzer A** die [integrierte Rolle „Besitzer“][rbac-built-in-owner] für den Abonnementbereich zugewiesen, damit er seine eigene Ressourcengruppe erstellen kann: **Ressourcengruppe A**. ![Dienstadministrator fügt Workloadbesitzer A dem Abonnement hinzu](../_images/governance-2-11.png)</span><span class="sxs-lookup"><span data-stu-id="e3fe2-198">In this model, **workload owner A** is assigned the [built-in owner role][rbac-built-in-owner] at the subscription scope, enabling them to create their own resource group: **resource group A**. ![Service Administrator adds Workload Owner A to subscription](../_images/governance-2-11.png)</span></span>

2. <span data-ttu-id="e3fe2-199">Beim Erstellen von **Ressourcengruppe A** wird **Workloadbesitzer A** standardmäßig hinzugefügt und erbt die [integrierte Rolle „Besitzer“][rbac-built-in-owner] vom Abonnementbereich.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-199">When **resource group A** is created, **workload owner A** is added by default and inherits the [built-in owner][rbac-built-in-owner] role from the subscription scope.</span></span>
<span data-ttu-id="e3fe2-200">![Workloadbesitzer A erstellt Ressourcengruppe A](../_images/governance-2-12.png)</span><span class="sxs-lookup"><span data-stu-id="e3fe2-200">![Workload Owner A creates resource group A](../_images/governance-2-12.png)</span></span>

3. <span data-ttu-id="e3fe2-201">Mit der [integrierten Rolle „Besitzer“][rbac-built-in-owner] wird **Workloadbesitzer A** die Berechtigung zum Verwalten des Zugriffs auf die Ressourcengruppe gewährt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-201">The [built-in owner role][rbac-built-in-owner] grants **workload owner A** permission to manage access to the resource group.</span></span> <span data-ttu-id="e3fe2-202">**Workloadbesitzer A** fügt zwei **Mitwirkende für die Workload** hinzu und weist ihnen jeweils die [integrierte Rolle „Leser“][rbac-built-in-owner] zu.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-202">**Workload owner A** adds two **workload contributors** and assigns the [built-in reader role][rbac-built-in-owner] to each of them.</span></span> 
<span data-ttu-id="e3fe2-203">![Workloadbesitzer A fügt Mitwirkende der Workload hinzu](../_images/governance-2-13.png)</span><span class="sxs-lookup"><span data-stu-id="e3fe2-203">![Workload Owner A adds Workload Contributors](../_images/governance-2-13.png)</span></span>

4. <span data-ttu-id="e3fe2-204">Nun fügt der **Dienstadministrator** den **Workloadbesitzer B** dem Abonnement mit der integrierten Rolle „Besitzer“ hinzu.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-204">**Service administrator** now adds **workload owner B** to the subscription with the built-in owner role.</span></span> 
<span data-ttu-id="e3fe2-205">![Dienstadministrator fügt Workloadbesitzer B dem Abonnement hinzu](../_images/governance-2-14.png)</span><span class="sxs-lookup"><span data-stu-id="e3fe2-205">![Service Administrator adds Workload Owners B to subscription](../_images/governance-2-14.png)</span></span>

5. <span data-ttu-id="e3fe2-206">**Workloadbesitzer B** erstellt die **Ressourcengruppe B** und wird standardmäßig hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-206">**Workload owner B** creates **resource group B** and is added by default.</span></span> <span data-ttu-id="e3fe2-207">**Workloadbesitzer B** erbt wieder die integrierte Rolle „Besitzer“ aus dem Abonnementbereich.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-207">Again, **workload owner B** inherits the built-in owner role from the subscription scope.</span></span>
<span data-ttu-id="e3fe2-208">![Workloadbesitzer B erstellt Ressourcengruppe B](../_images/governance-2-15.png)</span><span class="sxs-lookup"><span data-stu-id="e3fe2-208">![Workload Owner B creates resource group B](../_images/governance-2-15.png)</span></span>

<span data-ttu-id="e3fe2-209">Beachten Sie bei diesem Modell Folgendes: Der **Dienstadministrator** hat weniger Aktionen als im ersten Beispiel durchgeführt, da der Verwaltungszugriff an die einzelnen Workloadbesitzer delegiert wurde.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-209">Note that in this model, the **service administrator** performed fewer actions than they did in the first example due to the delegation of management access to each of the individual workload owners.</span></span>

<span data-ttu-id="e3fe2-210">![Abonnement mit Ressourcengruppen A und B](../_images/governance-2-16.png)
*Abbildung 5: Ein Abonnement mit einem Dienstadministrator und zwei Workloadbesitzern, denen jeweils die integrierte Rolle „Besitzer“ zugewiesen ist*</span><span class="sxs-lookup"><span data-stu-id="e3fe2-210">![subscription with resource groups A and B](../_images/governance-2-16.png)
*Figure 5. A subscription with a service administrator and two workload owners, all assigned the built-in owner role.*</span></span>

<span data-ttu-id="e3fe2-211">Da aber sowohl **Workloadbesitzer A** als auch **Workloadbesitzer B** im Abonnementbereich der integrierten Rolle „Besitzer“ zugewiesen ist, haben sie jeweils die integrierte Rolle „Besitzer“ für die Ressourcengruppe des anderen geerbt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-211">However, because both **workload owner A** and **workload owner B** are assigned the built-in owner role at the subscription scope, they have each inherited the built-in owner role for each other's resource group.</span></span> <span data-ttu-id="e3fe2-212">Sie haben also nicht nur Vollzugriff auf die Ressourcen des anderen, sondern können auch den Verwaltungszugriff auf die Ressourcengruppen des jeweils anderen delegieren.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-212">This means that not only do they have full access to one another's resources, they are also able to delegate management access to each other's resource groups.</span></span> <span data-ttu-id="e3fe2-213">Beispiel: **Workloadbesitzer B** verfügt über Rechte zum Hinzufügen von anderen Benutzern zu **Ressourcengruppe A** und kann diesen Benutzern beliebige Rollen zuweisen, einschließlich der integrierten Rolle „Besitzer“.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-213">For example, **workload owner B** has rights to add any other user to **resource group A** and can assign any role to them, including the built-in owner role.</span></span>

<span data-ttu-id="e3fe2-214">Wenn wir die Beispiele jeweils mit unseren Anforderungen vergleichen, sehen wir, dass bei beiden Beispielen ein einzelner vertrauenswürdiger Benutzer im Abonnementbereich mit der Berechtigung zum Gewähren von Ressourcenzugriffsrechten für die beiden Workloadbesitzer unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-214">If we compare each example to our requirements, we see that both examples support a single trusted user at the subscription scope with permission to grant resource access rights to our two workload owners.</span></span> <span data-ttu-id="e3fe2-215">Standardmäßig hatten die beiden Workloadbesitzer keinen Zugriff auf die Ressourcenverwaltung und mussten den **Dienstadministrator** bitten, ihnen explizit Berechtigungen zuzuweisen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-215">Each of the two workload owners did not have access to resource management by default and required the **service administrator** to explicitly assign permissions to them.</span></span> <span data-ttu-id="e3fe2-216">Aber nur im ersten Beispiel wird die Anforderung unterstützt, dass die den Workloads zugeordneten Ressourcen voneinander isoliert sind, damit kein Workloadbesitzer Zugriff auf die Ressourcen anderer Workloads hat.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-216">However, only the first example supports the requirement that the resources associated with each workload are isolated from one another such that no workload owner has access to the resources of any other workload.</span></span>

## <a name="resource-management-model"></a><span data-ttu-id="e3fe2-217">Ressourcenverwaltungsmodell</span><span class="sxs-lookup"><span data-stu-id="e3fe2-217">Resource management model</span></span>

<span data-ttu-id="e3fe2-218">Nachdem wir nun ein Berechtigungsmodell der geringsten Berechtigung entworfen haben, werfen wir einen Blick auf einige praktische Anwendungen dieser Governance-Modelle.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-218">Now that we've designed a permissions model of least privilege, let's move on to take a look at some practical applications of these governance models.</span></span> <span data-ttu-id="e3fe2-219">Gemäß unseren Anforderungen müssen wir die folgenden drei Umgebungen unterstützen:</span><span class="sxs-lookup"><span data-stu-id="e3fe2-219">Recall from our requirements that we must support the following three environments:</span></span>
1. <span data-ttu-id="e3fe2-220">**Freigegebene Infrastruktur:** Eine Gruppe von Ressourcen, die von allen Workloads genutzt wird.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-220">**Shared infrastructure:** a single group of resources shared by all workloads.</span></span> <span data-ttu-id="e3fe2-221">Beispiele für diese Ressourcen sind Netzwerkgateways, Firewalls und Sicherheitsdienste.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-221">These are resources such as network gateways, firewalls, and security services.</span></span>  
2. <span data-ttu-id="e3fe2-222">**Entwicklung:** Mehrere Gruppen von Ressourcen, die für mehrere, nicht für die Produktion bereite Workloads stehen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-222">**Development:** multiple groups of resources representing multiple non-production ready workloads.</span></span> <span data-ttu-id="e3fe2-223">Diese Ressourcen werden für Proof-of-Concept, Testing und andere Entwickleraktivitäten verwendet.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-223">These resources are used for proof-of-concept, testing, and other developer activities.</span></span> <span data-ttu-id="e3fe2-224">Für diese Ressourcen kann ggf. ein weniger striktes Governance-Modell gelten, um die Flexibilität für Entwickler zu erhöhen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-224">These resources may have a more relaxed governance model because to allow for increased developer agility.</span></span>
3. <span data-ttu-id="e3fe2-225">**Produktion:** Mehrere Gruppen mit Ressourcen, die für mehrere Produktionsworkloads stehen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-225">**Production:** multiple groups of resources representing multiple production workloads.</span></span> <span data-ttu-id="e3fe2-226">Diese Ressourcen werden verwendet, um die Anwendungselemente für den privaten und öffentlichen Bereich zu hosten.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-226">These resources are used to host the private and public facing application artifacts.</span></span> <span data-ttu-id="e3fe2-227">Diese Ressourcen verfügen normalerweise über die striktesten Governance- und Sicherheitsmodelle, um die Ressourcen, den Anwendungscode und die Daten vor unberechtigtem Zugriff zu schützen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-227">These resources typically have the tightest governance and security models to protect the resources, application code, and data from unauthorized access.</span></span>

<span data-ttu-id="e3fe2-228">Für jede dieser drei Umgebungen besteht die Anforderung zum Nachverfolgen der Kostendaten nach **Workloadbesitzer**, **Umgebung** oder beidem.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-228">For each of these three environments, we have a requirement to track cost data by **workload owner**, **environment**, or both.</span></span> <span data-ttu-id="e3fe2-229">Wir möchten also die laufenden Kosten unserer **freigegebenen Infrastruktur**, die in den Umgebungen für die **Entwicklung** und **Produktion** anfallenden Kosten für Personen und dann die Gesamtkosten für die **Entwicklung** und die **Produktion** ermitteln.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-229">That is, we want to know the ongoing cost of our **shared infrastructure**, the costs incurred by individuals in both the **development** and **production** environments, and finally the overall cost of **development** and **production**.</span></span> 

<span data-ttu-id="e3fe2-230">Sie haben bereits erfahren, dass diese Ressourcen in zwei Ebenen unterteilt sind: **Abonnement** und **Ressourcengruppe**.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-230">You have already learned that resources are scoped to two levels: **subscription** and **resource group**.</span></span> <span data-ttu-id="e3fe2-231">Als Erstes muss die Entscheidung getroffen werden, wie unsere Umgebungen nach **Abonnement** organisiert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-231">Therefore, our first decision is how to organize our environments by **subscription**.</span></span> <span data-ttu-id="e3fe2-232">Es gibt nur zwei Möglichkeiten: ein einzelnes Abonnement oder mehrere Abonnements.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-232">There are only two possibilities: a single subscription, or, multiple subscriptions.</span></span> 

<span data-ttu-id="e3fe2-233">Bevor wir uns mit Beispielen zu diesen einzelnen Modellen beschäftigen, sehen wir uns die Verwaltungsstruktur für Abonnements in Azure an.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-233">Before we look at examples of each of these models, let's review the management structure for subscriptions in Azure.</span></span> 

<span data-ttu-id="e3fe2-234">Sie kennen die Anforderungen und wissen, dass in unserer Organisation eine Person für Abonnements verantwortlich ist und dass dieser Benutzer über das Konto **Abonnementbesitzer** in unserem Azure AD-Mandanten verfügt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-234">Recall from our requirements that we have an individual in our organization that is responsible for subscriptions, and this user owns the **subscription owner** account in our Azure AD tenant.</span></span> <span data-ttu-id="e3fe2-235">Dieses Konto verfügt aber nicht über die Berechtigung zum Erstellen von Abonnements.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-235">However, this account does not have permission to create subscriptions.</span></span> <span data-ttu-id="e3fe2-236">Nur der **Azure-Kontobesitzer** hat diese Berechtigung: ![](../_images/governance-3-0b.png)
*Abbildung 6: Ein Azure-Kontobesitzer erstellt ein Abonnement.*</span><span class="sxs-lookup"><span data-stu-id="e3fe2-236">Only the **Azure Account Owner** has permission to do this: ![](../_images/governance-3-0b.png)
*Figure 6. An Azure Account Owner creates a subscription.*</span></span>

<span data-ttu-id="e3fe2-237">Nachdem das Abonnement erstellt wurde, kann der **Azure-Kontobesitzer** das Konto **Abonnementbesitzer** dem Abonnement mit der Rolle **Besitzer** hinzufügen:</span><span class="sxs-lookup"><span data-stu-id="e3fe2-237">Once the subscription has been created, the **Azure Account Owner** can add the **subscription owner** account to the subscription with the **owner** role:</span></span>

<span data-ttu-id="e3fe2-238">![](../_images/governance-3-0c.png)
*Abbildung 7: Der Azure-Kontobesitzer fügt das Benutzerkonto **Abonnementbesitzer** dem Abonnement mit der Rolle **Besitzer** hinzu.*</span><span class="sxs-lookup"><span data-stu-id="e3fe2-238">![](../_images/governance-3-0c.png)
*Figure 7. The Azure Account Owner adds the **subscription owner** user account to the subscription with the **owner** role.*</span></span>

<span data-ttu-id="e3fe2-239">Der **Abonnementbesitzer** kann jetzt **Ressourcengruppen** erstellen und die Ressourcenzugriffsverwaltung delegieren.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-239">The **subscription owner** can now create **resource groups** and delegate resource access management.</span></span>

<span data-ttu-id="e3fe2-240">Zuerst sehen wir uns ein Beispiel für ein Ressourcenverwaltungsmodell an, bei dem nur ein Abonnement verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-240">First let's look at an example resource management model using a single subscription.</span></span> <span data-ttu-id="e3fe2-241">Als Erstes muss die Entscheidung getroffen werden, wie Ressourcengruppen nach den drei Umgebungen ausgerichtet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-241">Our first decision is how to align resource groups to the three environments.</span></span> <span data-ttu-id="e3fe2-242">Es gibt zwei Möglichkeiten:</span><span class="sxs-lookup"><span data-stu-id="e3fe2-242">We have two options:</span></span>
1. <span data-ttu-id="e3fe2-243">Ausrichten jeder Umgebung auf eine bestimmte Ressourcengruppe.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-243">Align each environment to a single resource group.</span></span> <span data-ttu-id="e3fe2-244">Alle Ressourcen der freigegebenen Infrastruktur werden für eine Ressourcengruppe der **freigegebenen Infrastruktur** bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-244">All shared infrastructure resources are deployed to a single **shared infrastructure** resource group.</span></span> <span data-ttu-id="e3fe2-245">Alle Ressourcen, die Entwicklungsworkloads zugeordnet sind, werden für eine Ressourcengruppe für die **Entwicklung** bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-245">All resources associated with development workloads are deployed to a single **development** resource group.</span></span> <span data-ttu-id="e3fe2-246">Alle Ressourcen, die Produktionsworkloads zugeordnet sind, werden für eine Ressourcengruppe für die **Produktion** bereitgestellt (Umgebung für die **Produktion**).</span><span class="sxs-lookup"><span data-stu-id="e3fe2-246">All resources associated with production workloads are deployed into a single **production** resource group for the **production** environment.</span></span> 
2. <span data-ttu-id="e3fe2-247">Ausrichten von Workloads auf eine separate Ressourcengruppe, indem eine Benennungskonvention und Tags verwendet werden, um Ressourcengruppen den drei einzelnen Umgebungen zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-247">Align workloads with a separate resource group, using a naming convention and tags to align resource groups with each of the three environments.</span></span>  

<span data-ttu-id="e3fe2-248">Wir beginnen, indem wir die erste Option auswerten.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-248">Let's begin by evaluating the first option.</span></span> <span data-ttu-id="e3fe2-249">Wir verwenden das Berechtigungsmodell, das im vorherigen Abschnitt beschrieben wurde, mit nur einem Dienstadministrator für das Abonnement, der Ressourcengruppen erstellt und ihnen Benutzer hinzufügt. Diese Benutzer verfügen entweder über die integrierte Rolle **Mitwirkender** oder **Leser**.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-249">We'll be using the permissions model that we discussed in the previous section, with a single subscription service administrator that creates resource groups and adds users to them with either the built-in **contributor** or **reader** role.</span></span> 

1. <span data-ttu-id="e3fe2-250">Die erste bereitgestellte Ressourcengruppe steht für die Umgebung **Freigegebene Infrastruktur**.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-250">The first resource group deployed represents the **shared infrastructure** environment.</span></span> <span data-ttu-id="e3fe2-251">Der **Abonnementbesitzer** erstellt eine Ressourcengruppe für die Ressourcen der freigegebenen Infrastruktur mit dem Namen **netops-shared-rg**.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-251">The **subscription owner** creates a resource group for the shared infrastructure resources named **netops-shared-rg**.</span></span> 
![](../_images/governance-3-0d.png)
2. <span data-ttu-id="e3fe2-252">Der **Abonnementbesitzer** fügt das Konto des Benutzers für den **Netzwerkbetrieb** der Ressourcengruppe hinzu und weist die Rolle **Mitwirkender** zu.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-252">The **subscription owner** adds the **network operations user** account to the resource group and assigns the **contributor** role.</span></span> 
![](../_images/governance-3-0e.png)
3. <span data-ttu-id="e3fe2-253">Der Benutzer für den **Netzwerkbetrieb** erstellt ein [VPN-Gateway](/azure/vpn-gateway/vpn-gateway-about-vpngateways) und konfiguriert es so, dass eine Verbindung mit dem lokalen VPN-Gerät hergestellt werden kann.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-253">The **network operations user** creates a [VPN gateway](/azure/vpn-gateway/vpn-gateway-about-vpngateways) and configures it to connect to the on-premises VPN appliance.</span></span> <span data-ttu-id="e3fe2-254">Der Benutzer für den **Netzwerkbetrieb** wendet auch ein [Tag](/azure/azure-resource-manager/resource-group-using-tags)-Paar auf die Ressourcen an: *environment:shared* und *managedBy:netOps*.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-254">The **network operations** user also applies a pair of [tags](/azure/azure-resource-manager/resource-group-using-tags) to each of the resources: *environment:shared* and *managedBy:netOps*.</span></span> <span data-ttu-id="e3fe2-255">Wenn der **Dienstadministrator für das Abonnement** einen Kostenbericht exportiert, werden die Kosten nach diesen Tags ausgerichtet.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-255">When the **subscription service administrator** exports a cost report, costs will be aligned with each of these tags.</span></span> <span data-ttu-id="e3fe2-256">Dies ermöglicht es dem **Dienstadministrator für das Abonnement**, Kosten über das Tag *environment* und das Tag *managedBy* zu verteilen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-256">This allows the **subscription service administrator** to pivot costs using the *environment* tag and the *managedBy* tag.</span></span> <span data-ttu-id="e3fe2-257">Beachten Sie den Zähler für die **Ressourcengrenzwerte** oben rechts in der Abbildung.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-257">Notice the **resource limits** counter at the top right-hand side of the figure.</span></span> <span data-ttu-id="e3fe2-258">Jedes Azure-Abonnement verfügt über [Diensteinschränkungen](/azure/azure-subscription-service-limits), und damit Sie die Auswirkungen dieser Einschränkungen besser verstehen, behalten wir hier für jedes Abonnement den Grenzwert für virtuelle Netzwerke im Auge.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-258">Each Azure subscription has [service limits](/azure/azure-subscription-service-limits), and to help you understand the effect of these limits we'll follow the virtual network limit for each subscription.</span></span> <span data-ttu-id="e3fe2-259">Der Standardgrenzwert beträgt 50 virtuelle Netzwerke pro Abonnement, und nachdem das erste virtuelle Netzwerk bereitgestellt wurde, sind jetzt noch 49 verfügbar.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-259">There is a default limit of 50 virtual networks per subscription, and after the first virtual network is deployed there are now 49 available.</span></span>
![](../_images/governance-3-1.png)
4. <span data-ttu-id="e3fe2-260">Zwei weitere Ressourcengruppen werden bereitgestellt. Die erste hat den Namen *prod-rg*.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-260">Two more resource groups are deployed, the first is named *prod-rg*.</span></span> <span data-ttu-id="e3fe2-261">Diese Ressourcengruppe ist auf die Umgebung für die **Produktion** ausgerichtet.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-261">This resource group is aligned with the **production** environment.</span></span> <span data-ttu-id="e3fe2-262">Die zweite Ressourcengruppe hat den Namen *dev-rg* und ist auf die Umgebung für die **Entwicklung** ausgerichtet.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-262">The second is named *dev-rg* and is aligned with the **development** environment.</span></span> <span data-ttu-id="e3fe2-263">Alle Ressourcen, die Produktionsworkloads zugeordnet sind, werden in der Umgebung für die **Produktion** bereitgestellt, und alle Ressourcen, die Entwicklungsworkloads zugeordnet sind, werden in der Umgebung für die **Entwicklung** bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-263">All resources associated with production workloads are deployed to the **production** environment and all resources associated with development workloads are deployed to the **development** environment.</span></span> <span data-ttu-id="e3fe2-264">In diesem Beispiel stellen wir nur jeweils zwei Workloads für diese beiden Umgebungen bereit, sodass die Diensteinschränkungen für Azure-Abonnements hier nicht berührt werden.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-264">In this example we'll only deploy two workloads to each of these two environments so we won't encounter any Azure subscription service limits.</span></span> <span data-ttu-id="e3fe2-265">Es sollte aber berücksichtigt werden, dass für jede Ressourcengruppe ein Grenzwert von 800 Ressourcen pro Ressourcengruppe gilt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-265">However, it's important to consider that each resource group has a limit of 800 resources per resource group.</span></span> <span data-ttu-id="e3fe2-266">Wenn wir den Ressourcengruppen weitere Workloads hinzufügen, ist es also möglich, dass dieser Grenzwert erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-266">Therefore, if we keep adding workloads to each resource group it is possible that this limit will be reached.</span></span> 
![](../_images/governance-3-2.png)
5. <span data-ttu-id="e3fe2-267">Der erste **Workloadbesitzer** sendet eine Anforderung an den **Dienstadministrator des Abonnements** und wird den einzelnen Ressourcengruppen der Umgebung für die **Entwicklung** und **Produktion** mit der Rolle **Mitwirkender** hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-267">The first **workload owner** sends a request to the **subscription service administrator** and is added to each of the **development** and **production** environment resource groups with the **contributor** role.</span></span> <span data-ttu-id="e3fe2-268">Wie bereits beschrieben, kann der Benutzer mit der Rolle **Mitwirkender** alle Vorgänge durchführen, mit Ausnahme der Zuweisung einer Rolle zu einem anderen Benutzer.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-268">As you learned earlier, the **contributor** role allows the user to perform any operation other than assigning a role to another user.</span></span> <span data-ttu-id="e3fe2-269">Der erste **Workloadbesitzer** kann jetzt die Ressourcen erstellen, die seiner Workload zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-269">The first **workload owner** can now create the resources associated with their workload.</span></span>
![](../_images/governance-3-3.png)
6. <span data-ttu-id="e3fe2-270">Der erste **Workloadbesitzer** erstellt ein virtuelles Netzwerk in den beiden Ressourcengruppen mit jeweils einem VM-Paar.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-270">The first **workload owner** creates a virtual network in each of the two resource groups with a pair of virtual machines in each.</span></span> <span data-ttu-id="e3fe2-271">Der erste **Workloadbesitzer** wendet die Tags *environment* und *managedBy* auf alle Ressourcen an.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-271">The first **workload owner** applies the *environment* and *managedBy* tags to all resources.</span></span> <span data-ttu-id="e3fe2-272">Beachten Sie, dass laut Zähler für die Diensteinschränkung in Azure jetzt noch 47 weitere virtuelle Netzwerke zulässig sind.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-272">Note that the Azure service limit counter is now at 47 virtual networks remaining.</span></span>
![](../_images/governance-3-4.png)
7. <span data-ttu-id="e3fe2-273">Die einzelnen virtuellen Netzwerke verfügen nach der Erstellung nicht über eine Verbindung mit der lokalen Umgebung.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-273">Each of the virtual networks does not have connectivity to on-premises when they are created.</span></span> <span data-ttu-id="e3fe2-274">Bei diesem Architekturtyp muss für jedes virtuelle Netzwerk ein Peering mit dem *hub-vnet* der Umgebung **Freigegebene Infrastruktur** eingerichtet werden.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-274">In this type of architecture, each virtual network must be peered to the *hub-vnet* in the **shared infrastructure** environment.</span></span> <span data-ttu-id="e3fe2-275">Beim VNet-Peering wird eine Verbindung zwischen zwei separaten virtuellen Netzwerken hergestellt, sodass dazwischen Netzwerkdatenverkehr fließen kann.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-275">Virtual network peering creates a connection between two separate virtual networks and allows network traffic to travel between them.</span></span> <span data-ttu-id="e3fe2-276">Beachten Sie, dass das VNet-Peering nicht automatisch transitiv ist.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-276">Note that virtual network peering is not inherently transitive.</span></span> <span data-ttu-id="e3fe2-277">Ein Peering muss jeweils in beiden virtuellen Netzwerken angegeben werden, für die die Verbindung hergestellt wird. Falls nur für eines der virtuellen Netzwerke ein Peering angegeben ist, ist die Verbindung unvollständig.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-277">A peering must be specified in each of the two virtual networks that are connected, and if only one of the virtual networks specifies a peering the connection is incomplete.</span></span> <span data-ttu-id="e3fe2-278">Um diesen Effekt darzustellen, gibt der erste **Workloadbesitzer** ein Peering zwischen **prod-vnet** und **hub-vnet** an.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-278">To illustrate the effect of this, the first **workload owner** specifies a peering between **prod-vnet** and **hub-vnet**.</span></span> <span data-ttu-id="e3fe2-279">Das erste Peering wird erstellt, aber es fließt kein Datenverkehr, da das entsprechende Peering von **hub-vnet** zu **prod-vnet** noch nicht angegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-279">The first peering is created, but no traffic flows because the complementary peering from **hub-vnet** to **prod-vnet** has not yet been specified.</span></span> <span data-ttu-id="e3fe2-280">Der erste **Workloadbesitzer** wendet sich an den Benutzer für den **Netzwerkbetrieb** und fordert das Gegenstück für die Peeringverbindung an.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-280">The first **workload owner** contacts the **network operations** user and requests this complementary peering connection.</span></span>
![](../_images/governance-3-5.png)
8. <span data-ttu-id="e3fe2-281">Der Benutzer für den **Netzwerkbetrieb** überprüft die Anforderung, genehmigt sie und gibt dann das Peering in den Einstellungen für das **hub-vnet** an.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-281">The **network operations** user reviews the request, approves it, then specifies the peering in the settings for the **hub-vnet**.</span></span> <span data-ttu-id="e3fe2-282">Die Erstellung der Peeringverbindung ist jetzt abgeschlossen, und der Netzwerkdatenverkehr fließt zwischen den beiden virtuellen Netzwerken.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-282">The peering connection is now complete and network traffic flows between the two virtual networks.</span></span>
![](../_images/governance-3-6.png)
9. <span data-ttu-id="e3fe2-283">Nun sendet ein zweiter **Workloadbesitzer** eine Anforderung an den **Dienstadministrator des Abonnements** und wird den vorhandenen Ressourcengruppen der Umgebungen für die **Produktion** und **Entwicklung** mit der Rolle **Mitwirkender** hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-283">Now, a second **workload owner** sends a request to the **subscription service administrator** and is added to the existing **production** and **development** environment resource groups with the **contributor** role.</span></span> <span data-ttu-id="e3fe2-284">Der zweite **Workloadbesitzer** verfügt in allen Ressourcengruppen jeweils über dieselben Berechtigungen für alle Ressourcen wie der erste **Workloadbesitzer**.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-284">The second **workload owner** has the same permissions on all resources as the first **workload owner** in each resource group.</span></span> 
![](../_images/governance-3-7.png)
10. <span data-ttu-id="e3fe2-285">Der zweite **Workloadbesitzer** erstellt ein Subnetz im virtuellen Netzwerk **prod-vnet** und fügt dann zwei virtuelle Computer hinzu.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-285">The second **workload owner** creates a subnet in the **prod-vnet** virtual network, then adds two virtual machines.</span></span> <span data-ttu-id="e3fe2-286">Der zweite **Workloadbesitzer** wendet die Tags *environment* und *managedBy* auf die einzelnen Ressourcen an.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-286">The second **workload owner** applies the *environment* and *managedBy* tags to each resource.</span></span>
![](../_images/governance-3-8.png) 

<span data-ttu-id="e3fe2-287">Mit diesem Beispiel für ein Ressourcenverwaltungsmodell können wir unsere Ressourcen in den drei erforderlichen Umgebungen verwalten.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-287">This example resource management model enables us to manage our resources in the three required environments.</span></span> <span data-ttu-id="e3fe2-288">Unsere Ressourcen der freigegebenen Infrastruktur sind geschützt, da unter dem Abonnement nur ein Benutzer vorhanden ist, der über die Berechtigung zum Zugreifen auf diese Ressourcen verfügt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-288">Our shared infrastructure resources are protected because there's only a single user in the subscription with permission to access those resources.</span></span> <span data-ttu-id="e3fe2-289">Jeder Workloadbesitzer kann die Ressourcen der freigegebenen Infrastruktur nutzen, ohne Berechtigungen für die eigentlichen freigegebenen Ressourcen haben zu müssen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-289">Each of our workload owners is able to utilize the share infrastructure resources without having any permissions on the actual shared resources themselves.</span></span> <span data-ttu-id="e3fe2-290">Dieses Verwaltungsmodell verstößt gegen die Anforderung in Bezug auf die Isolation von Workloads: Jeder der beiden **Workloadbesitzer** kann auf die Ressourcen der Workload des anderen zugreifen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-290">This management model fails our requirement for workload isolation - each of the two **workload owners** are able to access the resources of the other's workload.</span></span> 

<span data-ttu-id="e3fe2-291">Für dieses Modell muss noch ein weiterer wichtiger Aspekt berücksichtigt werden, der ggf. nicht auf den ersten Blick erkennbar ist.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-291">There's another important consideration with this model that may not be immediately obvious.</span></span> <span data-ttu-id="e3fe2-292">In unserem Beispiel war es der **App1-Workloadbesitzer**, der die VNet-Peeringverbindung mit **hub-vnet** angefordert hat, um die Konnektivität für die lokale Umgebung bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-292">In our example, it was **app1 workload owner** that requested the network peering connection with the **hub-vnet** to provide connectivity to on-premises.</span></span> <span data-ttu-id="e3fe2-293">Der Benutzer für den **Netzwerkbetrieb** hat diese Anforderung basierend auf den Ressourcen ausgewertet, die mit dieser Workload bereitgestellt wurden.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-293">The **network operations** user evaluated that request based on the resources deployed with that workload.</span></span> <span data-ttu-id="e3fe2-294">Als der **Abonnementbesitzer** den **App2-Workloadbesitzer** mit der Rolle **Mitwirkender** hinzugefügt hat, hat dieser Benutzer über Verwaltungszugriffsrechte für alle Ressourcen in der Ressourcengruppe **prod-rg** verfügt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-294">When the **subscription owner** added **app2 workload owner** with the **contributor** role, that user had management access rights to all resources in the **prod-rg** resource group.</span></span> 

![](../_images/governance-3-10.png)

<span data-ttu-id="e3fe2-295">Dies bedeutet, dass der **App2-Workloadbesitzer** dazu berechtigt war, sein eigenes Subnetz mit virtuellen Computern im virtuellen Netzwerk **prod-vnet** bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-295">This means **app2 workload owner** had permission to deploy their own subnet with virtual machines in the **prod-vnet** virtual network.</span></span> <span data-ttu-id="e3fe2-296">Standardmäßig haben diese virtuellen Computer jetzt Zugriff auf das lokale Netzwerk.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-296">By default, those virtual machines now have access to the on-premises network.</span></span> <span data-ttu-id="e3fe2-297">Der Benutzer für den **Netzwerkbetrieb** ist nicht über diese Computer informiert und hat deren Konnektivität für die lokale Umgebung nicht genehmigt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-297">The **network operations** user is not aware of those machines and did not approve their connectivity to on-premises.</span></span>

<span data-ttu-id="e3fe2-298">Als Nächstes sehen wir uns ein einzelnes Abonnement mit mehreren Ressourcengruppen für unterschiedliche Umgebungen und Workloads an.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-298">Next, let's look at a single subscription with multiple resources groups for different environments and workloads.</span></span> <span data-ttu-id="e3fe2-299">Beachten Sie, dass die Ressourcen für die einzelnen Umgebungen im vorherigen Beispiel leicht identifizierbar waren, da sie sich in derselben Ressourcengruppe befunden haben.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-299">Note that in the previous example, the resources for each environment were easily identifiable because they were in the same resource group.</span></span> <span data-ttu-id="e3fe2-300">Nachdem diese Gruppierung nun nicht mehr vorhanden ist, müssen wir eine Namenskonvention für Ressourcengruppen nutzen, um diese Funktionalität bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-300">Now that we no longer have that grouping, we will have to rely on a resource group naming convention to provide that functionality.</span></span> 

1. <span data-ttu-id="e3fe2-301">Unsere Ressourcen für die **freigegebene Infrastruktur** verfügen bei diesem Modell weiterhin über eine separate Ressourcengruppe. Dies bleibt also unverändert.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-301">Our **shared infrastructure** resources will still have a separate resource group in this model, so that remains the same.</span></span> <span data-ttu-id="e3fe2-302">Für jede Workload sind zwei Ressourcengruppen erforderlich: jeweils eine für die Umgebung für die **Entwicklung** und die **Produktion**.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-302">Each workload requires two resource groups - one for each of the **development** and **production** environments.</span></span> <span data-ttu-id="e3fe2-303">Für die erste Workload erstellt der **Abonnementbesitzer** zwei Ressourcengruppen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-303">For the first workload, the **subscription owner** creates two resource groups.</span></span> <span data-ttu-id="e3fe2-304">Die erste hat den Namen **app1-prod-rg**, und die zweite hat den Namen **app1-dev-rg**.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-304">The first is named **app1-prod-rg** and the second one is named **app1-dev-rg**.</span></span> <span data-ttu-id="e3fe2-305">Wie bereits beschrieben, wird für die Ressourcen mit dieser Namenskonvention angegeben, dass sie der ersten Workload **app1** und entweder der Umgebung **dev** (Entwicklung) oder **prod** (Produktion) zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-305">As discussed earlier, this naming convention identifies the resources as being associated with the first workload, **app1**, and either the **dev** or **prod** environment.</span></span> <span data-ttu-id="e3fe2-306">Der *Abonnementbesitzer* fügt den **App1-Workloadbesitzer** der Ressourcengruppe mit der Rolle **Mitwirkender** hinzu.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-306">Again, the *subscription* owner adds **app1 workload owner** to the resource group with the **contributor** role.</span></span>
![](../_images/governance-3-12.png)
2. <span data-ttu-id="e3fe2-307">Ähnlich wie im ersten Beispiel stellt der **App1-Workloadbesitzer** ein virtuelles Netzwerk mit dem Namen **app1-prod-vnet** in der Umgebung für die **Produktion** und ein weiteres mit dem Namen **app1-dev-vnet** in der Umgebung für die **Entwicklung** bereit.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-307">Similar to the first example, **app1 workload owner** deploys a virtual network named **app1-prod-vnet** to the **production** environment, and another named **app1-dev-vnet** to the **development** environment.</span></span> <span data-ttu-id="e3fe2-308">Der **App1-Workloadbesitzer** sendet eine Anforderung an den Benutzer für den **Netzwerkbetrieb**, um eine Peeringverbindung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-308">Again, **app1 workload owner** sends a request to the **network operations** user to create a peering connection.</span></span> <span data-ttu-id="e3fe2-309">Beachten Sie Folgendes: Der **App1-Workloadbesitzer** fügt die gleichen Tags wie im ersten Beispiel hinzu, und der Grenzwertzähler wurde auf 47 virtuelle Netzwerke verringert, die für das Abonnement verbleiben.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-309">Note that **app1 workload owner** adds the same tags as in the first example, and the limit counter has been decremented to 47 virtual networks remaining in the subscription.</span></span>
![](../_images/governance-3-13.png)
3. <span data-ttu-id="e3fe2-310">Der **Abonnementbesitzer** erstellt jetzt zwei Ressourcengruppen für den **App2-Workloadbesitzer**.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-310">The **subscription owner** now creates two resource groups for **app2 workload owner**.</span></span> <span data-ttu-id="e3fe2-311">Es werden die gleichen Konventionen wie für den **App1-Workloadbesitzer** befolgt, und die Ressourcengruppen erhalten die Namen **app2-prod-rg** und **app2-dev-rg**.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-311">Following the same conventions as for **app1 workload owner**, the resource groups are named **app2-prod-rg** and **app2-dev-rg**.</span></span> <span data-ttu-id="e3fe2-312">Der **Abonnementbesitzer** fügt den **App2-Workloadbesitzer** den einzelnen Ressourcengruppen mit der Rolle **Mitwirkender** hinzu.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-312">The **subscription owner** adds **app2 workload owner** to each of the resource groups with the **contributor** role.</span></span>
![](../_images/governance-3-14.png)
4. <span data-ttu-id="e3fe2-313">Der *App2-Workloadbesitzer* stellt virtuelle Netzwerke und virtuelle Computer für die Ressourcengruppen mit den gleichen Namenskonventionen bereit.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-313">*App2 workload owner* deploys virtual networks and virtual machines to the resource groups with the same naming conventions.</span></span> <span data-ttu-id="e3fe2-314">Tags werden hinzugefügt, und der Grenzwertzähler wurde auf 45 virtuelle Netzwerke verringert, die für das *Abonnement* verbleiben.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-314">Tags are added and the limit counter has been decremented to 45 virtual networks remaining in the *subscription*.</span></span>
![](../_images/governance-3-15.png)
5. <span data-ttu-id="e3fe2-315">Der *App2-Workloadbesitzer* sendet eine Anforderung an den Benutzer für den *Netzwerkbetrieb*, um für *app2-prod-vnet* das Peering mit *hub-vnet* herzustellen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-315">*App2 workload owner* sends a request to the *network operations* user to peer the *app2-prod-vnet* with the *hub-vnet*.</span></span> <span data-ttu-id="e3fe2-316">Der Benutzer für den *Netzwerkbetrieb* erstellt die Peeringverbindung.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-316">The *network operations* user creates the peering connection.</span></span>
![](../_images/governance-3-16.png)

<span data-ttu-id="e3fe2-317">Das sich ergebende Verwaltungsmodell ähnelt dem Modell aus dem ersten Beispiel, aber es gibt auch einige wichtige Unterschiede:</span><span class="sxs-lookup"><span data-stu-id="e3fe2-317">The resulting management model is similar to the first example, with several key differences:</span></span>
* <span data-ttu-id="e3fe2-318">Jede der beiden Workloads ist nach Workload und Umgebung isoliert.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-318">Each of the two workloads is isolated by workload and by environment.</span></span>
* <span data-ttu-id="e3fe2-319">Bei diesem Modell sind zwei virtuelle Netzwerke mehr als beim ersten Beispielmodell erforderlich.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-319">This model required two more virtual networks than the first example model.</span></span> <span data-ttu-id="e3fe2-320">Wenn nur zwei Workloads verwendet werden, ist dies kein wichtiger Unterschied, aber der theoretische Grenzwert für die Anzahl von Workloads für dieses Modell ist 24.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-320">While this is not an important distinction with only two workloads, the theoretical limit on the number of workloads for this model is 24.</span></span> 
* <span data-ttu-id="e3fe2-321">Ressourcen werden nicht mehr für jede Umgebung in einer einzelnen Ressourcengruppe gruppiert.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-321">Resources are no longer grouped in a single resource group for each environment.</span></span> <span data-ttu-id="e3fe2-322">Zum Gruppieren von Ressourcen müssen Sie mit den Namenskonventionen vertraut sein, die für die einzelnen Umgebungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-322">Grouping resources requires an understanding of the naming conventions used for each environment.</span></span> 
* <span data-ttu-id="e3fe2-323">Jede VNet-Peeringverbindung wurde überprüft und vom Benutzer für den *Netzwerkbetrieb* genehmigt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-323">Each of the peered virtual network connections was reviewed and approved by the *network operations* user.</span></span>

<span data-ttu-id="e3fe2-324">Wir sehen uns jetzt ein Modell für die Ressourcenverwaltung an, bei dem mehrere Abonnements verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-324">Now let's look at a resource management model using multiple subscriptions.</span></span> <span data-ttu-id="e3fe2-325">Bei diesem Modell richten wir die drei Umgebungen jeweils auf ein separates Abonnement aus: ein Abonnement vom Typ **Gemeinsame Dienste**, ein Abonnement für die **Produktion** und ein Abonnement für die **Entwicklung**.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-325">In this model, we'll align each of the three environments to a separate subscription: a **shared services** subscription, **production** subscription, and finally a **development** subscription.</span></span> <span data-ttu-id="e3fe2-326">Für dieses Modell müssen ähnliche Aspekte wie für ein Modell mit nur einem Abonnement berücksichtigt werden, und wir müssen die Entscheidung treffen, wie Ressourcengruppen auf Workloads ausgerichtet werden.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-326">The considerations for this model are similar to a model using a single subscription in that we have to decide how to align resource groups to workloads.</span></span> <span data-ttu-id="e3fe2-327">Wir haben bereits ermittelt, dass die Anforderung zur Isolation von Workloads durch die Erstellung einer Ressourcengruppe für jede Workload erfüllt wird. Daher verwenden wir dieses Modell auch in diesem Beispiel.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-327">We've already determined that creating a resource group for each workload satisfies our workload isolation requirement, so we'll stick with that model in this example.</span></span>

1. <span data-ttu-id="e3fe2-328">Bei diesem Modell gibt es drei *Abonnements*: *Freigegebene Infrastruktur*, *Produktion* und *Entwicklung*.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-328">In this model, there are three *subscriptions*: *shared infrastructure*, *production*, and *development*.</span></span> <span data-ttu-id="e3fe2-329">Für diese drei Abonnements ist jeweils ein *Abonnementbesitzer* erforderlich, und in unserem einfachen Beispiel verwenden wir für alle drei das gleiche Benutzerkonto.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-329">Each of these three subscriptions requires a *subscription owner*, and in our simple example we'll use the same user account for all three.</span></span> <span data-ttu-id="e3fe2-330">Die Ressourcen für *Freigegebene Infrastruktur* werden auf ähnliche Weise wie in den ersten beiden Beispielen weiter oben verwaltet. Die erste Workload wird der Ressourcengruppe *app1-rg* in der Umgebung *Produktion* und der Ressourcengruppe gleichen Namens in der Umgebung *Entwicklung* zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-330">The *shared infrastructure* resources are managed similarly to the first two examples above, and the first workload is associated with the *app1-rg* in the *production* environment and the same-named resource group in the *development* environment.</span></span> <span data-ttu-id="e3fe2-331">Der *App1-Workloadbesitzer* wird den Ressourcengruppen jeweils mit der Rolle *Mitwirkender* hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-331">The *app1 workload owner* is added to each of the resource group with the *contributor* role.</span></span> 
![](../_images/governance-3-17.png)
2. <span data-ttu-id="e3fe2-332">Wie in den obigen Beispielen auch, erstellt der *App1-Workloadbesitzer* die Ressourcen und fordert die Peeringverbindung mit dem virtuellen Netzwerk *Freigegebene Infrastruktur* an.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-332">As with the earlier examples, *app1 workload owner* creates the resources and requests the peering connection with the *shared infrastructure* virtual network.</span></span> <span data-ttu-id="e3fe2-333">Der *App1-Workloadbesitzer* fügt nur das Tag *managedBy* hinzu, da das Tag *environment* nicht mehr benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-333">*App1 workload owner* adds only the *managedBy* tag because there is no longer a need for the *environment* tag.</span></span> <span data-ttu-id="e3fe2-334">Die Ressourcen für die einzelnen Umgebungen sind jetzt also unter demselben Abonnement (*subscription*) gruppiert, und das Tag *environment* ist überflüssig.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-334">That is, resources are for each environment are now grouped in the same *subscription* and the *environment* tag is redundant.</span></span> <span data-ttu-id="e3fe2-335">Der Grenzwertzähler wird auf 49 verbleibende virtuelle Netzwerke verringert.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-335">The limit counter is decremented to 49 virtual networks remaining.</span></span>
![](../_images/governance-3-18.png)
3. <span data-ttu-id="e3fe2-336">Abschließend wiederholt der *Abonnementbesitzer* den Prozess für die zweite Workload und fügt die Ressourcengruppen mit dem *App2-Workloadbesitzer* in der Rolle „Mitwirkender“ hinzu.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-336">Finally, the *subscription owner* repeats the process for the second workload, adding the resource groups with the *app2 workload owner* in the \*contributor role.</span></span> <span data-ttu-id="e3fe2-337">Der Grenzwertzähler für die einzelnen Umgebungsabonnements wird auf 48 verbleibende virtuelle Netzwerke verringert.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-337">The limit counter for each of the environment subscriptions is decremented to 48 virtual networks remaining.</span></span> 

<span data-ttu-id="e3fe2-338">Für dieses Verwaltungsmodell gelten die Vorteile des zweiten oben angeführten Beispiels.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-338">This management model has the benefits of the second example above.</span></span> <span data-ttu-id="e3fe2-339">Der entscheidende Unterschied besteht aber darin, dass Grenzwerte hier keine so große Rolle spielen, da sie auf zwei *Abonnements* verteilt sind.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-339">However, the key difference is that limits are less of an issue due to the fact that they are spread over two *subscriptions*.</span></span> <span data-ttu-id="e3fe2-340">Der Nachteil ist, dass die über Tags nachverfolgten Kostendaten für alle drei *Abonnements* aggregiert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-340">The drawback is that the cost data tracked by tags must be aggregated across all three *subscriptions*.</span></span> 

<span data-ttu-id="e3fe2-341">Sie können die Wahl zwischen diesen beiden Beispielmodellen für die Ressourcenverwaltung also abhängig davon treffen, welche Anforderungen bei Ihnen Priorität haben.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-341">Therefore, you can select any of these two examples resource management models depending on the priority of your requirements.</span></span> <span data-ttu-id="e3fe2-342">Wenn Sie der Meinung sind, dass Ihre Organisation die Dienstgrenzwerte für ein einzelnes Abonnement nicht erreicht, können Sie ein einzelnes Abonnement mit mehreren Ressourcengruppen verwenden.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-342">If you anticipate that your organization will not reach the service limits for a single subscription, you can use a single subscription with multiple resource groups.</span></span> <span data-ttu-id="e3fe2-343">Falls für Ihre Organisation dagegen viele Workloads zu erwarten sind, sind mehrere Abonnements für die einzelnen Umgebungen unter Umständen besser geeignet.</span><span class="sxs-lookup"><span data-stu-id="e3fe2-343">Conversely, if your organization anticipates many workloads, multiple subscriptions for each environment may be better.</span></span>

<!-- ## Summary



## Next steps -->


<!-- links -->

[rbac-built-in-owner]: /azure/role-based-access-control/built-in-roles#owner
[rbac-built-in-roles]: /azure/role-based-access-control/built-in-roles
